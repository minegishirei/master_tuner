/*!

=========================================================
* Vue Notus - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/vue-notus
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/vue-notus/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(self["webpackChunkvue_notus"]=self["webpackChunkvue_notus"]||[]).push([[998],{7211:function(t,e,i){"use strict";function n(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function s(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function r(t){var e=s(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function o(t){var e=s(t).Element;return t instanceof e||t instanceof Element}function a(t){var e=s(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function l(t){if("undefined"===typeof ShadowRoot)return!1;var e=s(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function h(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function u(t){return t!==s(t)&&a(t)?h(t):r(t)}function c(t){return t?(t.nodeName||"").toLowerCase():null}function d(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}function f(t){return n(d(t)).left+r(t).scrollLeft}function m(t){return s(t).getComputedStyle(t)}function g(t){var e=m(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function p(t,e,i){void 0===i&&(i=!1);var s=d(e),r=n(t),o=a(e),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==c(e)||g(s))&&(l=u(e)),a(e)?(h=n(e),h.x+=e.clientLeft,h.y+=e.clientTop):s&&(h.x=f(s))),{x:r.left+l.scrollLeft-h.x,y:r.top+l.scrollTop-h.y,width:r.width,height:r.height}}function y(t){var e=n(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function _(t){return"html"===c(t)?t:t.assignedSlot||t.parentNode||(l(t)?t.host:null)||d(t)}function v(t){return["html","body","#document"].indexOf(c(t))>=0?t.ownerDocument.body:a(t)&&g(t)?t:v(_(t))}function b(t,e){var i;void 0===e&&(e=[]);var n=v(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=s(n),a=r?[o].concat(o.visualViewport||[],g(n)?n:[]):n,l=e.concat(a);return r?l:l.concat(b(_(a)))}function x(t){return["table","td","th"].indexOf(c(t))>=0}function M(t){return a(t)&&"fixed"!==m(t).position?t.offsetParent:null}function w(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),i=_(t);while(a(i)&&["html","body"].indexOf(c(i))<0){var n=m(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}function k(t){var e=s(t),i=M(t);while(i&&x(i)&&"static"===m(i).position)i=M(i);return i&&("html"===c(i)||"body"===c(i)&&"static"===m(i).position)?e:i||w(t)||e}i.d(e,{fi:function(){return se}});var L="top",S="bottom",T="right",D="left",P="auto",Y=[L,S,T,D],C="start",N="end",A="clippingParents",O="viewport",F="popper",R="reference",E=Y.reduce((function(t,e){return t.concat([e+"-"+C,e+"-"+N])}),[]),I=[].concat(Y,[P]).reduce((function(t,e){return t.concat([e,e+"-"+C,e+"-"+N])}),[]),j="beforeRead",H="read",B="afterRead",z="beforeMain",V="main",W="afterMain",G="beforeWrite",U="write",K="afterWrite",X=[j,H,B,z,V,W,G,U,K];function q(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name);var r=[].concat(t.requires||[],t.requiresIfExists||[]);r.forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||s(t)})),n}function J(t){var e=q(t);return X.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}function $(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}function Z(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var Q={placement:"bottom",modifiers:[],strategy:"absolute"};function tt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function et(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,r=void 0===s?Q:s;return function(t,e,i){void 0===i&&(i=r);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Q,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],l=!1,h={state:s,setOptions:function(i){c(),s.options=Object.assign({},r,s.options,i),s.scrollParents={reference:o(t)?b(t):t.contextElement?b(t.contextElement):[],popper:b(e)};var a=J(Z([].concat(n,s.options.modifiers)));return s.orderedModifiers=a.filter((function(t){return t.enabled})),u(),h.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,i=t.popper;if(tt(e,i)){s.rects={reference:p(e,k(i),"fixed"===s.options.strategy),popper:y(i)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var r=s.orderedModifiers[n],o=r.fn,a=r.options,u=void 0===a?{}:a,c=r.name;"function"===typeof o&&(s=o({state:s,options:u,name:c,instance:h})||s)}else s.reset=!1,n=-1}}},update:$((function(){return new Promise((function(t){h.forceUpdate(),t(s)}))})),destroy:function(){c(),l=!0}};if(!tt(t,e))return h;function u(){s.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"===typeof r){var o=r({state:s,name:e,instance:h,options:n}),l=function(){};a.push(o||l)}}))}function c(){a.forEach((function(t){return t()})),a=[]}return h.setOptions(i).then((function(t){!l&&i.onFirstUpdate&&i.onFirstUpdate(t)})),h}}var it={passive:!0};function nt(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,a=n.resize,l=void 0===a||a,h=s(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach((function(t){t.addEventListener("scroll",i.update,it)})),l&&h.addEventListener("resize",i.update,it),function(){o&&u.forEach((function(t){t.removeEventListener("scroll",i.update,it)})),l&&h.removeEventListener("resize",i.update,it)}}var st={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nt,data:{}};function rt(t){return t.split("-")[0]}function ot(t){return t.split("-")[1]}function at(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function lt(t){var e,i=t.reference,n=t.element,s=t.placement,r=s?rt(s):null,o=s?ot(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case L:e={x:a,y:i.y-n.height};break;case S:e={x:a,y:i.y+i.height};break;case T:e={x:i.x+i.width,y:l};break;case D:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var h=r?at(r):null;if(null!=h){var u="y"===h?"height":"width";switch(o){case C:e[h]=e[h]-(i[u]/2-n[u]/2);break;case N:e[h]=e[h]+(i[u]/2-n[u]/2);break;default:}}return e}function ht(t){var e=t.state,i=t.name;e.modifiersData[i]=lt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ut={name:"popperOffsets",enabled:!0,phase:"read",fn:ht,data:{}},ct=Math.max,dt=Math.min,ft=Math.round,mt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gt(t){var e=t.x,i=t.y,n=window,s=n.devicePixelRatio||1;return{x:ft(ft(e*s)/s)||0,y:ft(ft(i*s)/s)||0}}function pt(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.offsets,a=t.position,l=t.gpuAcceleration,h=t.adaptive,u=t.roundOffsets,c=!0===u?gt(o):"function"===typeof u?u(o):o,f=c.x,g=void 0===f?0:f,p=c.y,y=void 0===p?0:p,_=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),b=D,x=L,M=window;if(h){var w=k(i),P="clientHeight",Y="clientWidth";w===s(i)&&(w=d(i),"static"!==m(w).position&&(P="scrollHeight",Y="scrollWidth")),r===L&&(x=S,y-=w[P]-n.height,y*=l?1:-1),r===D&&(b=T,g-=w[Y]-n.width,g*=l?1:-1)}var C,N=Object.assign({position:a},h&&mt);return l?Object.assign({},N,(C={},C[x]=v?"0":"",C[b]=_?"0":"",C.transform=(M.devicePixelRatio||1)<2?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",C)):Object.assign({},N,(e={},e[x]=v?y+"px":"",e[b]=_?g+"px":"",e.transform="",e))}function yt(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,o=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,h={placement:rt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,pt(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,pt(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var _t={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yt,data:{}};function vt(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];a(s)&&c(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))}function bt(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],s=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]),o=r.reduce((function(t,e){return t[e]="",t}),{});a(n)&&c(n)&&(Object.assign(n.style,o),Object.keys(s).forEach((function(t){n.removeAttribute(t)})))}))}}var xt={name:"applyStyles",enabled:!0,phase:"write",fn:vt,effect:bt,requires:["computeStyles"]};function Mt(t,e,i){var n=rt(t),s=[D,L].indexOf(n)>=0?-1:1,r="function"===typeof i?i(Object.assign({},e,{placement:t})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[D,T].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function wt(t){var e=t.state,i=t.options,n=t.name,s=i.offset,r=void 0===s?[0,0]:s,o=I.reduce((function(t,i){return t[i]=Mt(i,e.rects,r),t}),{}),a=o[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[n]=o}var kt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wt},Lt={left:"right",right:"left",bottom:"top",top:"bottom"};function St(t){return t.replace(/left|right|bottom|top/g,(function(t){return Lt[t]}))}var Tt={start:"end",end:"start"};function Dt(t){return t.replace(/start|end/g,(function(t){return Tt[t]}))}function Pt(t){var e=s(t),i=d(t),n=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,l=n.offsetTop)),{width:r,height:o,x:a+f(t),y:l}}function Yt(t){var e,i=d(t),n=r(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=ct(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=ct(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+f(t),h=-n.scrollTop;return"rtl"===m(s||i).direction&&(l+=ct(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:a,x:l,y:h}}function Ct(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&l(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Nt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function At(t){var e=n(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Ot(t,e){return e===O?Nt(Pt(t)):a(e)?At(e):Nt(Yt(d(t)))}function Ft(t){var e=b(_(t)),i=["absolute","fixed"].indexOf(m(t).position)>=0,n=i&&a(t)?k(t):t;return o(n)?e.filter((function(t){return o(t)&&Ct(t,n)&&"body"!==c(t)})):[]}function Rt(t,e,i){var n="clippingParents"===e?Ft(t):[].concat(e),s=[].concat(n,[i]),r=s[0],o=s.reduce((function(e,i){var n=Ot(t,i);return e.top=ct(n.top,e.top),e.right=dt(n.right,e.right),e.bottom=dt(n.bottom,e.bottom),e.left=ct(n.left,e.left),e}),Ot(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Et(){return{top:0,right:0,bottom:0,left:0}}function It(t){return Object.assign({},Et(),t)}function jt(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function Ht(t,e){void 0===e&&(e={});var i=e,s=i.placement,r=void 0===s?t.placement:s,a=i.boundary,l=void 0===a?A:a,h=i.rootBoundary,u=void 0===h?O:h,c=i.elementContext,f=void 0===c?F:c,m=i.altBoundary,g=void 0!==m&&m,p=i.padding,y=void 0===p?0:p,_=It("number"!==typeof y?y:jt(y,Y)),v=f===F?R:F,b=t.elements.reference,x=t.rects.popper,M=t.elements[g?v:f],w=Rt(o(M)?M:M.contextElement||d(t.elements.popper),l,u),k=n(b),D=lt({reference:k,element:x,strategy:"absolute",placement:r}),P=Nt(Object.assign({},x,D)),C=f===F?P:k,N={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},E=t.modifiersData.offset;if(f===F&&E){var I=E[r];Object.keys(N).forEach((function(t){var e=[T,S].indexOf(t)>=0?1:-1,i=[L,S].indexOf(t)>=0?"y":"x";N[t]+=I[i]*e}))}return N}function Bt(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,h=void 0===l?I:l,u=ot(n),c=u?a?E:E.filter((function(t){return ot(t)===u})):Y,d=c.filter((function(t){return h.indexOf(t)>=0}));0===d.length&&(d=c);var f=d.reduce((function(e,i){return e[i]=Ht(t,{placement:i,boundary:s,rootBoundary:r,padding:o})[rt(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}function zt(t){if(rt(t)===P)return[];var e=St(t);return[Dt(t),e,Dt(e)]}function Vt(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,r=void 0===s||s,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,h=i.padding,u=i.boundary,c=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,m=void 0===f||f,g=i.allowedAutoPlacements,p=e.options.placement,y=rt(p),_=y===p,v=l||(_||!m?[St(p)]:zt(p)),b=[p].concat(v).reduce((function(t,i){return t.concat(rt(i)===P?Bt(e,{placement:i,boundary:u,rootBoundary:c,padding:h,flipVariations:m,allowedAutoPlacements:g}):i)}),[]),x=e.rects.reference,M=e.rects.popper,w=new Map,k=!0,Y=b[0],N=0;N<b.length;N++){var A=b[N],O=rt(A),F=ot(A)===C,R=[L,S].indexOf(O)>=0,E=R?"width":"height",I=Ht(e,{placement:A,boundary:u,rootBoundary:c,altBoundary:d,padding:h}),j=R?F?T:D:F?S:L;x[E]>M[E]&&(j=St(j));var H=St(j),B=[];if(r&&B.push(I[O]<=0),a&&B.push(I[j]<=0,I[H]<=0),B.every((function(t){return t}))){Y=A,k=!1;break}w.set(A,B)}if(k)for(var z=m?3:1,V=function(t){var e=b.find((function(e){var i=w.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return Y=e,"break"},W=z;W>0;W--){var G=V(W);if("break"===G)break}e.placement!==Y&&(e.modifiersData[n]._skip=!0,e.placement=Y,e.reset=!0)}}var Wt={name:"flip",enabled:!0,phase:"main",fn:Vt,requiresIfExists:["offset"],data:{_skip:!1}};function Gt(t){return"x"===t?"y":"x"}function Ut(t,e,i){return ct(t,dt(e,i))}function Kt(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,r=void 0===s||s,o=i.altAxis,a=void 0!==o&&o,l=i.boundary,h=i.rootBoundary,u=i.altBoundary,c=i.padding,d=i.tether,f=void 0===d||d,m=i.tetherOffset,g=void 0===m?0:m,p=Ht(e,{boundary:l,rootBoundary:h,padding:c,altBoundary:u}),_=rt(e.placement),v=ot(e.placement),b=!v,x=at(_),M=Gt(x),w=e.modifiersData.popperOffsets,P=e.rects.reference,Y=e.rects.popper,N="function"===typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,A={x:0,y:0};if(w){if(r||a){var O="y"===x?L:D,F="y"===x?S:T,R="y"===x?"height":"width",E=w[x],I=w[x]+p[O],j=w[x]-p[F],H=f?-Y[R]/2:0,B=v===C?P[R]:Y[R],z=v===C?-Y[R]:-P[R],V=e.elements.arrow,W=f&&V?y(V):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Et(),U=G[O],K=G[F],X=Ut(0,P[R],W[R]),q=b?P[R]/2-H-X-U-N:B-X-U-N,J=b?-P[R]/2+H+X+K+N:z+X+K+N,$=e.elements.arrow&&k(e.elements.arrow),Z=$?"y"===x?$.clientTop||0:$.clientLeft||0:0,Q=e.modifiersData.offset?e.modifiersData.offset[e.placement][x]:0,tt=w[x]+q-Q-Z,et=w[x]+J-Q;if(r){var it=Ut(f?dt(I,tt):I,E,f?ct(j,et):j);w[x]=it,A[x]=it-E}if(a){var nt="x"===x?L:D,st="x"===x?S:T,lt=w[M],ht=lt+p[nt],ut=lt-p[st],ft=Ut(f?dt(ht,tt):ht,lt,f?ct(ut,et):ut);w[M]=ft,A[M]=ft-lt}}e.modifiersData[n]=A}}var Xt={name:"preventOverflow",enabled:!0,phase:"main",fn:Kt,requiresIfExists:["offset"]},qt=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,It("number"!==typeof t?t:jt(t,Y))};function Jt(t){var e,i=t.state,n=t.name,s=t.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=rt(i.placement),l=at(a),h=[D,T].indexOf(a)>=0,u=h?"height":"width";if(r&&o){var c=qt(s.padding,i),d=y(r),f="y"===l?L:D,m="y"===l?S:T,g=i.rects.reference[u]+i.rects.reference[l]-o[l]-i.rects.popper[u],p=o[l]-i.rects.reference[l],_=k(r),v=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,b=g/2-p/2,x=c[f],M=v-d[u]-c[m],w=v/2-d[u]/2+b,P=Ut(x,w,M),Y=l;i.modifiersData[n]=(e={},e[Y]=P,e.centerOffset=P-w,e)}}function $t(t){var e=t.state,i=t.options,n=i.element,s=void 0===n?"[data-popper-arrow]":n;null!=s&&("string"!==typeof s||(s=e.elements.popper.querySelector(s),s))&&Ct(e.elements.popper,s)&&(e.elements.arrow=s)}var Zt={name:"arrow",enabled:!0,phase:"main",fn:Jt,effect:$t,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function te(t){return[L,T,S,D].some((function(e){return t[e]>=0}))}function ee(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=Ht(e,{elementContext:"reference"}),a=Ht(e,{altBoundary:!0}),l=Qt(o,n),h=Qt(a,s,r),u=te(l),c=te(h);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}var ie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ee},ne=[st,ut,_t,xt,kt,Wt,Xt,Zt,ie],se=et({defaultModifiers:ne})},7757:function(t,e,i){
/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
(function(e,n){t.exports=n(function(){try{return i(381)}catch(t){}}())})(0,(function(t){"use strict";function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t){return t&&t["default"]||t}t=t&&t.hasOwnProperty("default")?t["default"]:t;var n={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},s=e((function(t){var e={};for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);var s=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in s)if(s.hasOwnProperty(r)){if(!("channels"in s[r]))throw new Error("missing channels property: "+r);if(!("labels"in s[r]))throw new Error("missing channel labels property: "+r);if(s[r].labels.length!==s[r].channels)throw new Error("channel and label counts mismatch: "+r);var o=s[r].channels,a=s[r].labels;delete s[r].channels,delete s[r].labels,Object.defineProperty(s[r],"channels",{value:o}),Object.defineProperty(s[r],"labels",{value:a})}function l(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}s.rgb.hsl=function(t){var e,i,n,s=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(s,r,o),l=Math.max(s,r,o),h=l-a;return l===a?e=0:s===l?e=(r-o)/h:r===l?e=2+(o-s)/h:o===l&&(e=4+(s-r)/h),e=Math.min(60*e,360),e<0&&(e+=360),n=(a+l)/2,i=l===a?0:n<=.5?h/(l+a):h/(2-l-a),[e,100*i,100*n]},s.rgb.hsv=function(t){var e,i,n,s,r,o=t[0]/255,a=t[1]/255,l=t[2]/255,h=Math.max(o,a,l),u=h-Math.min(o,a,l),c=function(t){return(h-t)/6/u+.5};return 0===u?s=r=0:(r=u/h,e=c(o),i=c(a),n=c(l),o===h?s=n-i:a===h?s=1/3+e-n:l===h&&(s=2/3+i-e),s<0?s+=1:s>1&&(s-=1)),[360*s,100*r,100*h]},s.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2],r=s.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(i,n));return n=1-1/255*Math.max(e,Math.max(i,n)),[r,100*o,100*n]},s.rgb.cmyk=function(t){var e,i,n,s,r=t[0]/255,o=t[1]/255,a=t[2]/255;return s=Math.min(1-r,1-o,1-a),e=(1-r-s)/(1-s)||0,i=(1-o-s)/(1-s)||0,n=(1-a-s)/(1-s)||0,[100*e,100*i,100*n,100*s]},s.rgb.keyword=function(t){var i=e[t];if(i)return i;var s,r=1/0;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],h=l(t,a);h<r&&(r=h,s=o)}return s},s.keyword.rgb=function(t){return n[t]},s.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var s=.4124*e+.3576*i+.1805*n,r=.2126*e+.7152*i+.0722*n,o=.0193*e+.1192*i+.9505*n;return[100*s,100*r,100*o]},s.rgb.lab=function(t){var e,i,n,r=s.rgb.xyz(t),o=r[0],a=r[1],l=r[2];return o/=95.047,a/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*a-16,i=500*(o-a),n=200*(a-l),[e,i,n]},s.hsl.rgb=function(t){var e,i,n,s,r,o=t[0]/360,a=t[1]/100,l=t[2]/100;if(0===a)return r=255*l,[r,r,r];i=l<.5?l*(1+a):l+a-l*a,e=2*l-i,s=[0,0,0];for(var h=0;h<3;h++)n=o+1/3*-(h-1),n<0&&n++,n>1&&n--,r=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,s[h]=255*r;return s},s.hsl.hsv=function(t){var e,i,n=t[0],s=t[1]/100,r=t[2]/100,o=s,a=Math.max(r,.01);return r*=2,s*=r<=1?r:2-r,o*=a<=1?a:2-a,i=(r+s)/2,e=0===r?2*o/(a+o):2*s/(r+s),[n,100*e,100*i]},s.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,s=Math.floor(e)%6,r=e-Math.floor(e),o=255*n*(1-i),a=255*n*(1-i*r),l=255*n*(1-i*(1-r));switch(n*=255,s){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}},s.hsv.hsl=function(t){var e,i,n,s=t[0],r=t[1]/100,o=t[2]/100,a=Math.max(o,.01);return n=(2-r)*o,e=(2-r)*a,i=r*a,i/=e<=1?e:2-e,i=i||0,n/=2,[s,100*i,100*n]},s.hwb.rgb=function(t){var e,i,n,s,r,o,a,l=t[0]/360,h=t[1]/100,u=t[2]/100,c=h+u;switch(c>1&&(h/=c,u/=c),e=Math.floor(6*l),i=1-u,n=6*l-e,0!==(1&e)&&(n=1-n),s=h+n*(i-h),e){default:case 6:case 0:r=i,o=s,a=h;break;case 1:r=s,o=i,a=h;break;case 2:r=h,o=i,a=s;break;case 3:r=h,o=s,a=i;break;case 4:r=s,o=h,a=i;break;case 5:r=i,o=h,a=s;break}return[255*r,255*o,255*a]},s.cmyk.rgb=function(t){var e,i,n,s=t[0]/100,r=t[1]/100,o=t[2]/100,a=t[3]/100;return e=1-Math.min(1,s*(1-a)+a),i=1-Math.min(1,r*(1-a)+a),n=1-Math.min(1,o*(1-a)+a),[255*e,255*i,255*n]},s.xyz.rgb=function(t){var e,i,n,s=t[0]/100,r=t[1]/100,o=t[2]/100;return e=3.2406*s+-1.5372*r+-.4986*o,i=-.9689*s+1.8758*r+.0415*o,n=.0557*s+-.204*r+1.057*o,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),[255*e,255*i,255*n]},s.xyz.lab=function(t){var e,i,n,s=t[0],r=t[1],o=t[2];return s/=95.047,r/=100,o/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*r-16,i=500*(s-r),n=200*(r-o),[e,i,n]},s.lab.xyz=function(t){var e,i,n,s=t[0],r=t[1],o=t[2];i=(s+16)/116,e=r/500+i,n=i-o/200;var a=Math.pow(i,3),l=Math.pow(e,3),h=Math.pow(n,3);return i=a>.008856?a:(i-16/116)/7.787,e=l>.008856?l:(e-16/116)/7.787,n=h>.008856?h:(n-16/116)/7.787,e*=95.047,i*=100,n*=108.883,[e,i,n]},s.lab.lch=function(t){var e,i,n,s=t[0],r=t[1],o=t[2];return e=Math.atan2(o,r),i=360*e/2/Math.PI,i<0&&(i+=360),n=Math.sqrt(r*r+o*o),[s,n,i]},s.lch.lab=function(t){var e,i,n,s=t[0],r=t[1],o=t[2];return n=o/360*2*Math.PI,e=r*Math.cos(n),i=r*Math.sin(n),[s,e,i]},s.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],r=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(r=Math.round(r/50),0===r)return 30;var o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],i=t[1],n=t[2];if(e===i&&i===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var s=16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5);return s},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var i=.5*(1+~~(t>50)),n=(1&e)*i*255,s=(e>>1&1)*i*255,r=(e>>2&1)*i*255;return[n,s,r]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var i;t-=16;var n=Math.floor(t/36)/5*255,s=Math.floor((i=t%36)/6)/5*255,r=i%6/5*255;return[n,s,r]},s.rgb.hex=function(t){var e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),i=e.toString(16).toUpperCase();return"000000".substring(i.length)+i},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map((function(t){return t+t})).join(""));var n=parseInt(i,16),s=n>>16&255,r=n>>8&255,o=255&n;return[s,r,o]},s.rgb.hcg=function(t){var e,i,n=t[0]/255,s=t[1]/255,r=t[2]/255,o=Math.max(Math.max(n,s),r),a=Math.min(Math.min(n,s),r),l=o-a;return e=l<1?a/(1-l):0,i=l<=0?0:o===n?(s-r)/l%6:o===s?2+(r-n)/l:4+(n-s)/l+4,i/=6,i%=1,[360*i,100*l,100*e]},s.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1,s=0;return n=i<.5?2*e*i:2*e*(1-i),n<1&&(s=(i-.5*n)/(1-n)),[t[0],100*n,100*s]},s.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=e*i,s=0;return n<1&&(s=(i-n)/(1-n)),[t[0],100*n,100*s]},s.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];var s=[0,0,0],r=e%1*6,o=r%1,a=1-o,l=0;switch(Math.floor(r)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-i)*n,[255*(i*s[0]+l),255*(i*s[1]+l),255*(i*s[2]+l)]},s.hcg.hsv=function(t){var e=t[1]/100,i=t[2]/100,n=e+i*(1-e),s=0;return n>0&&(s=e/n),[t[0],100*s,100*n]},s.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100,n=i*(1-e)+.5*e,s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[t[0],100*s,100*n]},s.hcg.hwb=function(t){var e=t[1]/100,i=t[2]/100,n=e+i*(1-e);return[t[0],100*(n-e),100*(1-n)]},s.hwb.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1-i,s=n-e,r=0;return s<1&&(r=(n-s)/(1-s)),[t[0],100*s,100*r]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]]},s.gray.hwb=function(t){return[0,100,t[0]]},s.gray.cmyk=function(t){return[0,0,0,t[0]]},s.gray.lab=function(t){return[t[0],0,0]},s.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=(e<<16)+(e<<8)+e,n=i.toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}}));s.rgb,s.hsl,s.hsv,s.hwb,s.cmyk,s.xyz,s.lab,s.lch,s.hex,s.keyword,s.ansi16,s.ansi256,s.hcg,s.apple,s.gray;function r(){for(var t={},e=Object.keys(s),i=e.length,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}function o(t){var e=r(),i=[t];e[t].distance=0;while(i.length)for(var n=i.pop(),o=Object.keys(s[n]),a=o.length,l=0;l<a;l++){var h=o[l],u=e[h];-1===u.distance&&(u.distance=e[n].distance+1,u.parent=n,i.unshift(h))}return e}function a(t,e){return function(i){return e(t(i))}}function l(t,e){var i=[e[t].parent,t],n=s[e[t].parent][t],r=e[t].parent;while(e[r].parent)i.unshift(e[r].parent),n=a(s[e[r].parent][r],n),r=e[r].parent;return n.conversion=i,n}var h=function(t){for(var e=o(t),i={},n=Object.keys(e),s=n.length,r=0;r<s;r++){var a=n[r],h=e[a];null!==h.parent&&(i[a]=l(a,e))}return i},u={},c=Object.keys(s);function d(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function f(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var i=t(e);if("object"===typeof i)for(var n=i.length,s=0;s<n;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}c.forEach((function(t){u[t]={},Object.defineProperty(u[t],"channels",{value:s[t].channels}),Object.defineProperty(u[t],"labels",{value:s[t].labels});var e=h(t),i=Object.keys(e);i.forEach((function(i){var n=e[i];u[t][i]=f(n),u[t][i].raw=d(n)}))}));var m=u,g={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},p={getRgba:y,getHsla:_,getRgb:b,getHsl:x,getHwb:v,getAlpha:M,hexString:w,rgbString:k,rgbaString:L,percentString:S,percentaString:T,hslString:D,hslaString:P,hwbString:Y,keyword:C};function y(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,i=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/(\w+)/,o=[0,0,0],a=1,l=t.match(e),h="";if(l){l=l[1],h=l[3];for(var u=0;u<o.length;u++)o[u]=parseInt(l[u]+l[u],16);h&&(a=Math.round(parseInt(h+h,16)/255*100)/100)}else if(l=t.match(i)){h=l[2],l=l[1];for(u=0;u<o.length;u++)o[u]=parseInt(l.slice(2*u,2*u+2),16);h&&(a=Math.round(parseInt(h,16)/255*100)/100)}else if(l=t.match(n)){for(u=0;u<o.length;u++)o[u]=parseInt(l[u+1]);a=parseFloat(l[4])}else if(l=t.match(s)){for(u=0;u<o.length;u++)o[u]=Math.round(2.55*parseFloat(l[u+1]));a=parseFloat(l[4])}else if(l=t.match(r)){if("transparent"==l[1])return[0,0,0,0];if(o=g[l[1]],!o)return}for(u=0;u<o.length;u++)o[u]=N(o[u],0,255);return a=a||0==a?N(a,0,1):1,o[3]=a,o}}function _(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]),s=N(parseInt(i[1]),0,360),r=N(parseFloat(i[2]),0,100),o=N(parseFloat(i[3]),0,100),a=N(isNaN(n)?1:n,0,1);return[s,r,o,a]}}}function v(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]),s=N(parseInt(i[1]),0,360),r=N(parseFloat(i[2]),0,100),o=N(parseFloat(i[3]),0,100),a=N(isNaN(n)?1:n,0,1);return[s,r,o,a]}}}function b(t){var e=y(t);return e&&e.slice(0,3)}function x(t){var e=_(t);return e&&e.slice(0,3)}function M(t){var e=y(t);return e||(e=_(t))||(e=v(t))?e[3]:void 0}function w(t,e){e=void 0!==e&&3===t.length?e:t[3];return"#"+A(t[0])+A(t[1])+A(t[2])+(e>=0&&e<1?A(Math.round(255*e)):"")}function k(t,e){return e<1||t[3]&&t[3]<1?L(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function L(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function S(t,e){if(e<1||t[3]&&t[3]<1)return T(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+s+"%)"}function T(t,e){var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return"rgba("+i+"%, "+n+"%, "+s+"%, "+(e||t[3]||1)+")"}function D(t,e){return e<1||t[3]&&t[3]<1?P(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function P(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function Y(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function C(t){return O[t.slice(0,3)]}function N(t,e,i){return Math.min(Math.max(e,t),i)}function A(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var O={};for(var F in g)O[g[F]]=F;var R=function(t){return t instanceof R?t:this instanceof R?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"===typeof t?(e=p.getRgba(t),e?this.setValues("rgb",e):(e=p.getHsla(t))?this.setValues("hsl",e):(e=p.getHwb(t))&&this.setValues("hwb",e)):"object"===typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new R(t);var e};R.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return p.hexString(this.values.rgb)},rgbString:function(){return p.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return p.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return p.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return p.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return p.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return p.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return p.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,s=void 0===e?.5:e,r=2*s-1,o=i.alpha()-n.alpha(),a=((r*o===-1?r:(r+o)/(1+r*o))+1)/2,l=1-a;return this.rgb(a*i.red()+l*n.red(),a*i.green()+l*n.green(),a*i.blue()+l*n.blue()).alpha(i.alpha()*s+n.alpha()*(1-s))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new R,n=this.values,s=i.values;for(var r in n)n.hasOwnProperty(r)&&(t=n[r],e={}.toString.call(t),"[object Array]"===e?s[r]=t.slice(0):"[object Number]"===e?s[r]=t:console.error("unexpected color value:",t));return i}},R.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},R.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},R.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},R.prototype.setValues=function(t,e){var i,n,s=this.values,r=this.spaces,o=this.maxes,a=1;if(this.valid=!0,"alpha"===t)a=e;else if(e.length)s[t]=e.slice(0,t.length),a=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)s[t][i]=e[t.charAt(i)];a=e.a}else if(void 0!==e[r[t][0]]){var l=r[t];for(i=0;i<t.length;i++)s[t][i]=e[l[i]];a=e.alpha}if(s.alpha=Math.max(0,Math.min(1,void 0===a?s.alpha:a)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(o[t][i],s[t][i])),s[t][i]=Math.round(n);for(var h in r)h!==t&&(s[h]=m[t][h](s[t]));return!0},R.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"===typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},R.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this)},"undefined"!==typeof window&&(window.Color=R);var E=R;function I(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var j={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||"undefined"===typeof t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"===typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return"undefined"===typeof t?e:t},valueAtIndexOrDefault:function(t,e,i){return j.valueOrDefault(j.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var s,r,o;if(j.isArray(t))if(r=t.length,n)for(s=r-1;s>=0;s--)e.call(i,t[s],s);else for(s=0;s<r;s++)e.call(i,t[s],s);else if(j.isObject(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(i,t[o[s]],o[s])},arrayEquals:function(t,e){var i,n,s,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(s=t[i],r=e[i],s instanceof Array&&r instanceof Array){if(!j.arrayEquals(s,r))return!1}else if(s!==r)return!1;return!0},clone:function(t){if(j.isArray(t))return t.map(j.clone);if(j.isObject(t)){for(var e=Object.create(t),i=Object.keys(t),n=i.length,s=0;s<n;++s)e[i[s]]=j.clone(t[i[s]]);return e}return t},_merger:function(t,e,i,n){if(I(t)){var s=e[t],r=i[t];j.isObject(s)&&j.isObject(r)?j.merge(s,r,n):e[t]=j.clone(r)}},_mergerIf:function(t,e,i){if(I(t)){var n=e[t],s=i[t];j.isObject(n)&&j.isObject(s)?j.mergeIf(n,s):e.hasOwnProperty(t)||(e[t]=j.clone(s))}},merge:function(t,e,i){var n,s,r,o,a,l=j.isArray(e)?e:[e],h=l.length;if(!j.isObject(t))return t;for(i=i||{},n=i.merger||j._merger,s=0;s<h;++s)if(e=l[s],j.isObject(e))for(r=Object.keys(e),a=0,o=r.length;a<o;++a)n(r[a],t,e,i);return t},mergeIf:function(t,e){return j.merge(t,e,{merger:j._mergerIf})},extend:Object.assign||function(t){return j.merge(t,[].slice.call(arguments,1),{merger:function(t,e,i){e[t]=i[t]}})},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=j.inherits,t&&j.extend(i.prototype,t),i.__super__=e.prototype,i},_deprecated:function(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')}},H=j;j.callCallback=j.callback,j.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},j.getValueOrDefault=j.valueOrDefault,j.getValueAtIndexOrDefault=j.valueAtIndexOrDefault;var B={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-B.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*B.easeInBounce(2*t):.5*B.easeOutBounce(2*t-1)+.5}},z={effects:B};H.easingEffects=B;var V=Math.PI,W=V/180,G=2*V,U=V/2,K=V/4,X=2*V/3,q={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,s,r){if(r){var o=Math.min(r,s/2,n/2),a=e+o,l=i+o,h=e+n-o,u=i+s-o;t.moveTo(e,l),a<h&&l<u?(t.arc(a,l,o,-V,-U),t.arc(h,l,o,-U,0),t.arc(h,u,o,0,U),t.arc(a,u,o,U,V)):a<h?(t.moveTo(a,i),t.arc(h,l,o,-U,U),t.arc(a,l,o,U,V+U)):l<u?(t.arc(a,l,o,-V,0),t.arc(a,u,o,0,V)):t.arc(a,l,o,-V,V),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,n,s)},drawPoint:function(t,e,i,n,s,r){var o,a,l,h,u,c=(r||0)*W;if(e&&"object"===typeof e&&(o=e.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,s),t.rotate(c),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,s,i,0,G),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(c)*i,s-Math.cos(c)*i),c+=X,t.lineTo(n+Math.sin(c)*i,s-Math.cos(c)*i),c+=X,t.lineTo(n+Math.sin(c)*i,s-Math.cos(c)*i),t.closePath();break;case"rectRounded":u=.516*i,h=i-u,a=Math.cos(c+K)*h,l=Math.sin(c+K)*h,t.arc(n-a,s-l,u,c-V,c-U),t.arc(n+l,s-a,u,c-U,c),t.arc(n+a,s+l,u,c,c+U),t.arc(n-l,s+a,u,c+U,c+V),t.closePath();break;case"rect":if(!r){h=Math.SQRT1_2*i,t.rect(n-h,s-h,2*h,2*h);break}c+=K;case"rectRot":a=Math.cos(c)*i,l=Math.sin(c)*i,t.moveTo(n-a,s-l),t.lineTo(n+l,s-a),t.lineTo(n+a,s+l),t.lineTo(n-l,s+a),t.closePath();break;case"crossRot":c+=K;case"cross":a=Math.cos(c)*i,l=Math.sin(c)*i,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l),t.moveTo(n+l,s-a),t.lineTo(n-l,s+a);break;case"star":a=Math.cos(c)*i,l=Math.sin(c)*i,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l),t.moveTo(n+l,s-a),t.lineTo(n-l,s+a),c+=K,a=Math.cos(c)*i,l=Math.sin(c)*i,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l),t.moveTo(n+l,s-a),t.lineTo(n-l,s+a);break;case"line":a=Math.cos(c)*i,l=Math.sin(c)*i,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(c)*i,s+Math.sin(c)*i);break}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var i=1e-6;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var s=i.steppedLine;if(s){if("middle"===s){var r=(e.x+i.x)/2;t.lineTo(r,n?i.y:e.y),t.lineTo(r,n?e.y:i.y)}else"after"===s&&!n||"after"!==s&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}else i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}},J=q;H.clear=q.clear,H.drawRoundedRectangle=function(t){t.beginPath(),q.roundedRect.apply(q,arguments)};var $={_set:function(t,e){return H.merge(this[t]||(this[t]={}),e)}};$._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Z=$,Q=H.valueOrDefault;function tt(t){return!t||H.isNullOrUndef(t.size)||H.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}var et={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t},toPadding:function(t){var e,i,n,s;return H.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,s=+t.left||0):e=i=n=s=+t||0,{top:e,right:i,bottom:n,left:s,height:e+n,width:s+i}},_parseFont:function(t){var e=Z.global,i=Q(t.fontSize,e.defaultFontSize),n={family:Q(t.fontFamily,e.defaultFontFamily),lineHeight:H.options.toLineHeight(Q(t.lineHeight,e.defaultLineHeight),i),size:i,style:Q(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=tt(n),n},resolve:function(t,e,i,n){var s,r,o,a=!0;for(s=0,r=t.length;s<r;++s)if(o=t[s],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==i&&H.isArray(o)&&(o=o[i],a=!1),void 0!==o))return n&&!a&&(n.cacheable=!1),o}},it={_factorize:function(t){var e,i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e===0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort((function(t,e){return t-e})).pop(),i},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e),n=t===Math.pow(10,i);return n?i:e}},nt=it;H.log10=it.log10;var st=function(t,e){return{x:function(i){return t+t+e-i},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},rt=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},ot=function(t,e,i){return t?st(e,i):rt()},at=function(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)},lt=function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))},ht={getRtlAdapter:ot,overrideTextDirection:at,restoreTextDirection:lt},ut=H,ct=z,dt=J,ft=et,mt=nt,gt=ht;function pt(t,e,i,n){var s,r,o,a,l,h,u,c,d,f=Object.keys(i);for(s=0,r=f.length;s<r;++s)if(o=f[s],h=i[o],e.hasOwnProperty(o)||(e[o]=h),a=e[o],a!==h&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=a),l=t[o],u=typeof h,u===typeof l)if("string"===u){if(c=E(l),c.valid&&(d=E(h),d.valid)){e[o]=d.mix(c,n).rgbString();continue}}else if(ut.isFinite(l)&&ut.isFinite(h)){e[o]=l+(h-l)*n;continue}e[o]=h}}ut.easing=ct,ut.canvas=dt,ut.options=ft,ut.math=mt,ut.rtl=gt;var yt=function(t){ut.extend(this,t),this.initialize.apply(this,arguments)};ut.extend(yt.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=ut.extend({},t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,s=e._view;return i&&1!==t?(s||(s=e._view={}),n||(n=e._start={}),pt(n,s,i,t),e):(e._view=ut.extend({},i),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ut.isNumber(this._model.x)&&ut.isNumber(this._model.y)}}),yt.extend=ut.inherits;var _t=yt,vt=_t.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),bt=vt;Object.defineProperty(vt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(vt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),Z._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ut.noop,onComplete:ut.noop}});var xt={animations:[],request:null,addAnimation:function(t,e,i,n){var s,r,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,n||(t.animating=!0),s=0,r=o.length;s<r;++s)if(o[s].chart===t)return void(o[s]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=ut.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=ut.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){var t,e,i,n,s=this.animations,r=0;while(r<s.length)t=s[r],e=t.chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),ut.callback(t.render,[e,t],e),ut.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(ut.callback(t.onAnimationComplete,[t],e),e.animating=!1,s.splice(r,1)):++r}},Mt=ut.options.resolve,wt=["push","pop","shift","splice","unshift"];function kt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wt.forEach((function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),s=n.apply(this,e);return ut.each(t._chartjs.listeners,(function(t){"function"===typeof t[i]&&t[i].apply(t,e)})),s}})})))}function Lt(t,e){var i=t._chartjs;if(i){var n=i.listeners,s=n.indexOf(e);-1!==s&&n.splice(s,1),n.length>0||(wt.forEach((function(e){delete t[e]})),delete t._chartjs)}}var St=function(t,e){this.initialize(t,e)};ut.extend(St.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements(),i._type=i.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),i=t.chart,n=i.scales,s=t.getDataset(),r=i.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!s.xAxisID||(e.xAxisID=s.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!s.yAxisID||(e.yAxisID=s.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Lt(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,i=this,n=i.getMeta(),s=i.getDataset().data||[],r=n.data;for(t=0,e=s.length;t<e;++t)r[t]=r[t]||i.createMetaData(t);n.dataset=n.dataset||i.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),i=e.data||(e.data=[]);t._data!==i&&(t._data&&Lt(t._data,t),i&&Object.isExtensible(i)&&kt(i,t),t._data=i),t.resyncElements()},_configure:function(){var t=this;t._config=ut.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,i){"_meta"!==t&&"data"!==t&&ut._merger(t,e,i)}})},_update:function(t){var e=this;e._configure(),e._cachedDataOpts=null,e.update(t)},update:ut.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,s=0;s<n;++s)i[s].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},getStyle:function(t){var e,i=this,n=i.getMeta(),s=n.dataset;return i._configure(),s&&void 0===t?e=i._resolveDatasetElementOptions(s||{}):(t=t||0,e=i._resolveDataElementOptions(n.data[t]||{},t)),!1!==e.fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var i,n,s,r,o=this,a=o.chart,l=o._config,h=t.custom||{},u=a.options.elements[o.datasetElementType.prototype._type]||{},c=o._datasetElementOptions,d={},f={chart:a,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(i=0,n=c.length;i<n;++i)s=c[i],r=e?"hover"+s.charAt(0).toUpperCase()+s.slice(1):s,d[s]=Mt([h[r],l[r],u[r]],f);return d},_resolveDataElementOptions:function(t,e){var i=this,n=t&&t.custom,s=i._cachedDataOpts;if(s&&!n)return s;var r,o,a,l,h=i.chart,u=i._config,c=h.options.elements[i.dataElementType.prototype._type]||{},d=i._dataElementOptions,f={},m={chart:h,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index},g={cacheable:!n};if(n=n||{},ut.isArray(d))for(o=0,a=d.length;o<a;++o)l=d[o],f[l]=Mt([n[l],u[l],c[l]],m,e,g);else for(r=Object.keys(d),o=0,a=r.length;o<a;++o)l=r[o],f[l]=Mt([n[l],u[d[l]],u[l],c[l]],m,e,g);return g.cacheable&&(i._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){ut.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},s=t._model,r=ut.getHoverColor;t.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=Mt([n.hoverBackgroundColor,e.hoverBackgroundColor,r(s.backgroundColor)],void 0,i),s.borderColor=Mt([n.hoverBorderColor,e.hoverBorderColor,r(s.borderColor)],void 0,i),s.borderWidth=Mt([n.hoverBorderWidth,e.hoverBorderWidth,s.borderWidth],void 0,i)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,i,n,s,r,o=this.getMeta().dataset,a={};if(o){for(r=o._model,s=this._resolveDatasetElementOptions(o,!0),n=Object.keys(s),t=0,e=n.length;t<e;++t)i=n[t],a[i]=r[i],r[i]=s[i];o.$previousStyle=a}},resyncElements:function(){var t=this,e=t.getMeta(),i=t.getDataset().data,n=e.data.length,s=i.length;s<n?e.data.splice(s,n-s):s>n&&t.insertElements(n,s-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),St.extend=ut.inherits;var Tt=St,Dt=2*Math.PI;function Pt(t,e){var i=e.startAngle,n=e.endAngle,s=e.pixelMargin,r=s/e.outerRadius,o=e.x,a=e.y;t.beginPath(),t.arc(o,a,e.outerRadius,i-r,n+r),e.innerRadius>s?(r=s/e.innerRadius,t.arc(o,a,e.innerRadius-s,n+r,i-r,!0)):t.arc(o,a,s,n+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function Yt(t,e,i,n){var s,r=i.endAngle;for(n&&(i.endAngle=i.startAngle+Dt,Pt(t,i),i.endAngle=r,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=Dt,i.fullCircles--)),t.beginPath(),t.arc(i.x,i.y,i.innerRadius,i.startAngle+Dt,i.startAngle,!0),s=0;s<i.fullCircles;++s)t.stroke();for(t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.startAngle+Dt),s=0;s<i.fullCircles;++s)t.stroke()}function Ct(t,e,i){var n="inner"===e.borderAlign;n?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),i.fullCircles&&Yt(t,e,i,n),n&&Pt(t,i),t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.stroke()}Z._set("global",{elements:{arc:{backgroundColor:Z.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Nt=_t.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){var n=ut.getAngleFromPoint(i,{x:t,y:e}),s=n.angle,r=n.distance,o=i.startAngle,a=i.endAngle;while(a<o)a+=Dt;while(s>a)s-=Dt;while(s<o)s+=Dt;var l=s>=o&&s<=a,h=r>=i.innerRadius&&r<=i.outerRadius;return l&&h}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t,e=this._chart.ctx,i=this._view,n="inner"===i.borderAlign?.33:0,s={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-n,0),pixelMargin:n,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/Dt)};if(e.save(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,s.fullCircles){for(s.endAngle=s.startAngle+Dt,e.beginPath(),e.arc(s.x,s.y,s.outerRadius,s.startAngle,s.endAngle),e.arc(s.x,s.y,s.innerRadius,s.endAngle,s.startAngle,!0),e.closePath(),t=0;t<s.fullCircles;++t)e.fill();s.endAngle=s.startAngle+i.circumference%Dt}e.beginPath(),e.arc(s.x,s.y,s.outerRadius,s.startAngle,s.endAngle),e.arc(s.x,s.y,s.innerRadius,s.endAngle,s.startAngle,!0),e.closePath(),e.fill(),i.borderWidth&&Ct(e,i,s),e.restore()}}),At=ut.valueOrDefault,Ot=Z.global.defaultColor;Z._set("global",{elements:{line:{tension:.4,backgroundColor:Ot,borderWidth:3,borderColor:Ot,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Ft=_t.extend({_type:"line",draw:function(){var t,e,i,n=this,s=n._view,r=n._chart.ctx,o=s.spanGaps,a=n._children.slice(),l=Z.global,h=l.elements.line,u=-1,c=n._loop;if(a.length){if(n._loop){for(t=0;t<a.length;++t)if(e=ut.previousItem(a,t),!a[t]._view.skip&&e._view.skip){a=a.slice(t).concat(a.slice(0,t)),c=o;break}c&&a.push(a[0])}for(r.save(),r.lineCap=s.borderCapStyle||h.borderCapStyle,r.setLineDash&&r.setLineDash(s.borderDash||h.borderDash),r.lineDashOffset=At(s.borderDashOffset,h.borderDashOffset),r.lineJoin=s.borderJoinStyle||h.borderJoinStyle,r.lineWidth=At(s.borderWidth,h.borderWidth),r.strokeStyle=s.borderColor||l.defaultColor,r.beginPath(),i=a[0]._view,i.skip||(r.moveTo(i.x,i.y),u=0),t=1;t<a.length;++t)i=a[t]._view,e=-1===u?ut.previousItem(a,t):a[u],i.skip||(u!==t-1&&!o||-1===u?r.moveTo(i.x,i.y):ut.canvas.lineTo(r,e._view,i),u=t);c&&r.closePath(),r.stroke(),r.restore()}}}),Rt=ut.valueOrDefault,Et=Z.global.defaultColor;function It(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function jt(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}Z._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Et,borderColor:Et,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Ht=_t.extend({_type:"point",inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:It,inXRange:It,inYRange:jt,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,s=e.rotation,r=e.radius,o=e.x,a=e.y,l=Z.global,h=l.defaultColor;e.skip||(void 0===t||ut.canvas._isPointInArea(e,t))&&(i.strokeStyle=e.borderColor||h,i.lineWidth=Rt(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||h,ut.canvas.drawPoint(i,n,r,o,a,s))}}),Bt=Z.global.defaultColor;function zt(t){return t&&void 0!==t.width}function Vt(t){var e,i,n,s,r;return zt(t)?(r=t.width/2,e=t.x-r,i=t.x+r,n=Math.min(t.y,t.base),s=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-r,s=t.y+r),{left:e,top:n,right:i,bottom:s}}function Wt(t,e,i){return t===e?i:t===i?e:t}function Gt(t){var e=t.borderSkipped,i={};return e?(t.horizontal?t.base>t.x&&(e=Wt(e,"left","right")):t.base<t.y&&(e=Wt(e,"bottom","top")),i[e]=!0,i):i}function Ut(t,e,i){var n,s,r,o,a=t.borderWidth,l=Gt(t);return ut.isObject(a)?(n=+a.top||0,s=+a.right||0,r=+a.bottom||0,o=+a.left||0):n=s=r=o=+a||0,{t:l.top||n<0?0:n>i?i:n,r:l.right||s<0?0:s>e?e:s,b:l.bottom||r<0?0:r>i?i:r,l:l.left||o<0?0:o>e?e:o}}function Kt(t){var e=Vt(t),i=e.right-e.left,n=e.bottom-e.top,s=Ut(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+s.l,y:e.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b}}}function Xt(t,e,i){var n=null===e,s=null===i,r=!(!t||n&&s)&&Vt(t);return r&&(n||e>=r.left&&e<=r.right)&&(s||i>=r.top&&i<=r.bottom)}Z._set("global",{elements:{rectangle:{backgroundColor:Bt,borderColor:Bt,borderSkipped:"bottom",borderWidth:0}}});var qt=_t.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,i=Kt(e),n=i.outer,s=i.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===s.w&&n.h===s.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(s.x,s.y,s.w,s.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return Xt(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return zt(i)?Xt(i,t,null):Xt(i,null,e)},inXRange:function(t){return Xt(this._view,t,null)},inYRange:function(t){return Xt(this._view,null,t)},getCenterPoint:function(){var t,e,i=this._view;return zt(i)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return zt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),Jt={},$t=Nt,Zt=Ft,Qt=Ht,te=qt;Jt.Arc=$t,Jt.Line=Zt,Jt.Point=Qt,Jt.Rectangle=te;var ee=ut._deprecated,ie=ut.valueOrDefault;function ne(t,e){var i,n,s,r,o=t._length;for(s=1,r=e.length;s<r;++s)o=Math.min(o,Math.abs(e[s]-e[s-1]));for(s=0,r=t.getTicks().length;s<r;++s)n=t.getPixelForTick(s),o=s>0?Math.min(o,Math.abs(n-i)):o,i=n;return o}function se(t,e,i){var n,s,r=i.barThickness,o=e.stackCount,a=e.pixels[t],l=ut.isNullOrUndef(r)?ne(e.scale,e.pixels):-1;return ut.isNullOrUndef(r)?(n=l*i.categoryPercentage,s=i.barPercentage):(n=r*o,s=1),{chunk:n/o,ratio:s,start:a-n/2}}function re(t,e,i){var n,s,r=e.pixels,o=r[t],a=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null,h=i.categoryPercentage;return null===a&&(a=o-(null===l?e.end-e.start:l-o)),null===l&&(l=o+o-a),n=o-(o-Math.min(a,l))/2*h,s=Math.abs(l-a)/2*h,{chunk:s/e.stackCount,ratio:i.barPercentage,start:n}}Z._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Z._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var oe=Tt.extend({dataElementType:Jt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,i=this;Tt.prototype.initialize.apply(i,arguments),t=i.getMeta(),t.stack=i.getDataset().stack,t.bar=!0,e=i._getIndexScale().options,ee("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),ee("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),ee("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),ee("bar chart",i._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),ee("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,i,n=this,s=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,i=s.length;e<i;++e)n.updateElement(s[e],e,t)},updateElement:function(t,e,i){var n=this,s=n.getMeta(),r=n.getDataset(),o=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(s.xAxisID),t._yScale=n.getScaleForId(s.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:r.label,label:n.chart.data.labels[e]},ut.isArray(r.data[e])&&(t._model.borderSkipped=null),n._updateElementGeometry(t,e,i,o),t.pivot()},_updateElementGeometry:function(t,e,i,n){var s=this,r=t._model,o=s._getValueScale(),a=o.getBasePixel(),l=o.isHorizontal(),h=s._ruler||s.getRuler(),u=s.calculateBarValuePixels(s.index,e,n),c=s.calculateBarIndexPixels(s.index,e,h,n);r.horizontal=l,r.base=i?a:u.base,r.x=l?i?a:u.head:c.center,r.y=l?c.center:i?a:u.head,r.height=l?c.size:void 0,r.width=l?void 0:c.size},_getStacks:function(t){var e,i,n=this,s=n._getIndexScale(),r=s._getMatchingVisibleMetas(n._type),o=s.options.stacked,a=r.length,l=[];for(e=0;e<a;++e)if(i=r[e],(!1===o||-1===l.indexOf(i.stack)||void 0===o&&void 0===i.stack)&&l.push(i.stack),i.index===t)break;return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i=this,n=i._getIndexScale(),s=[];for(t=0,e=i.getMeta().data.length;t<e;++t)s.push(n.getPixelForValue(null,t,i.index));return{pixels:s,start:n._startPixel,end:n._endPixel,stackCount:i.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,i){var n,s,r,o,a,l,h,u=this,c=u.chart,d=u._getValueScale(),f=d.isHorizontal(),m=c.data.datasets,g=d._getMatchingVisibleMetas(u._type),p=d._parseValue(m[t].data[e]),y=i.minBarLength,_=d.options.stacked,v=u.getMeta().stack,b=void 0===p.start?0:p.max>=0&&p.min>=0?p.min:p.max,x=void 0===p.start?p.end:p.max>=0&&p.min>=0?p.max-p.min:p.min-p.max,M=g.length;if(_||void 0===_&&void 0!==v)for(n=0;n<M;++n){if(s=g[n],s.index===t)break;s.stack===v&&(h=d._parseValue(m[s.index].data[e]),r=void 0===h.start?h.end:h.min>=0&&h.max>=0?h.max:h.min,(p.min<0&&r<0||p.max>=0&&r>0)&&(b+=r))}return o=d.getPixelForValue(b),a=d.getPixelForValue(b+x),l=a-o,void 0!==y&&Math.abs(l)<y&&(l=y,a=x>=0&&!f||x<0&&f?o-y:o+y),{size:l,base:o,head:a,center:a+l/2}},calculateBarIndexPixels:function(t,e,i,n){var s=this,r="flex"===n.barThickness?re(e,i,n):se(e,i,n),o=s.getStackIndex(t,s.getMeta().stack),a=r.start+r.chunk*o+r.chunk/2,l=Math.min(ie(n.maxBarThickness,1/0),r.chunk*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}},draw:function(){var t=this,e=t.chart,i=t._getValueScale(),n=t.getMeta().data,s=t.getDataset(),r=n.length,o=0;for(ut.canvas.clipArea(e.ctx,e.chartArea);o<r;++o){var a=i._parseValue(s.data[o]);isNaN(a.min)||isNaN(a.max)||n[o].draw()}ut.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this,e=ut.extend({},Tt.prototype._resolveDataElementOptions.apply(t,arguments)),i=t._getIndexScale().options,n=t._getValueScale().options;return e.barPercentage=ie(i.barPercentage,e.barPercentage),e.barThickness=ie(i.barThickness,e.barThickness),e.categoryPercentage=ie(i.categoryPercentage,e.categoryPercentage),e.maxBarThickness=ie(i.maxBarThickness,e.maxBarThickness),e.minBarLength=ie(n.minBarLength,e.minBarLength),e}}),ae=ut.valueOrDefault,le=ut.options.resolve;Z._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var he=Tt.extend({dataElementType:Jt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,i=e.getMeta(),n=i.data;ut.each(n,(function(i,n){e.updateElement(i,n,t)}))},updateElement:function(t,e,i){var n=this,s=n.getMeta(),r=t.custom||{},o=n.getScaleForId(s.xAxisID),a=n.getScaleForId(s.yAxisID),l=n._resolveDataElementOptions(t,e),h=n.getDataset().data[e],u=n.index,c=i?o.getPixelForDecimal(.5):o.getPixelForValue("object"===typeof h?h:NaN,e,u),d=i?a.getBasePixel():a.getPixelForValue(h,e,u);t._xScale=o,t._yScale=a,t._options=l,t._datasetIndex=u,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:r.skip||isNaN(c)||isNaN(d),x:c,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options,n=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=ae(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=ae(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=ae(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(t,e){var i=this,n=i.chart,s=i.getDataset(),r=t.custom||{},o=s.data[e]||{},a=Tt.prototype._resolveDataElementOptions.apply(i,arguments),l={chart:n,dataIndex:e,dataset:s,datasetIndex:i.index};return i._cachedDataOpts===a&&(a=ut.extend({},a)),a.radius=le([r.radius,o.r,i._config.radius,n.options.elements.point.radius],l,e),a}}),ue=ut.valueOrDefault,ce=Math.PI,de=2*ce,fe=ce/2;Z._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,i,n,s,r=document.createElement("ul"),o=t.data,a=o.datasets,l=o.labels;if(r.setAttribute("class",t.id+"-legend"),a.length)for(e=0,i=a[0].data.length;e<i;++e)n=r.appendChild(document.createElement("li")),s=n.appendChild(document.createElement("span")),s.style.backgroundColor=a[0].backgroundColor[e],l[e]&&n.appendChild(document.createTextNode(l[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(i,n){var s=t.getDatasetMeta(0),r=s.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||s.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var i,n,s,r=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)s=o.getDatasetMeta(i),s.data[r]&&(s.data[r].hidden=!s.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-fe,circumference:de,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return ut.isArray(i)?(i=i.slice(),i[0]+=n):i+=n,i}}}});var me=Tt.extend({dataElementType:Jt.Arc,linkScales:ut.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e,i,n,s,r=this,o=r.chart,a=o.chartArea,l=o.options,h=1,u=1,c=0,d=0,f=r.getMeta(),m=f.data,g=l.cutoutPercentage/100||0,p=l.circumference,y=r._getRingWeight(r.index);if(p<de){var _=l.rotation%de;_+=_>=ce?-de:_<-ce?de:0;var v=_+p,b=Math.cos(_),x=Math.sin(_),M=Math.cos(v),w=Math.sin(v),k=_<=0&&v>=0||v>=de,L=_<=fe&&v>=fe||v>=de+fe,S=_===-ce||v>=ce,T=_<=-fe&&v>=-fe||v>=ce+fe,D=S?-1:Math.min(b,b*g,M,M*g),P=T?-1:Math.min(x,x*g,w,w*g),Y=k?1:Math.max(b,b*g,M,M*g),C=L?1:Math.max(x,x*g,w,w*g);h=(Y-D)/2,u=(C-P)/2,c=-(Y+D)/2,d=-(C+P)/2}for(n=0,s=m.length;n<s;++n)m[n]._options=r._resolveDataElementOptions(m[n],n);for(o.borderWidth=r.getMaxBorderWidth(),e=(a.right-a.left-o.borderWidth)/h,i=(a.bottom-a.top-o.borderWidth)/u,o.outerRadius=Math.max(Math.min(e,i)/2,0),o.innerRadius=Math.max(o.outerRadius*g,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),o.offsetX=c*o.outerRadius,o.offsetY=d*o.outerRadius,f.total=r.calculateTotal(),r.outerRadius=o.outerRadius-o.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-o.radiusLength*y,0),n=0,s=m.length;n<s;++n)r.updateElement(m[n],n,t)},updateElement:function(t,e,i){var n=this,s=n.chart,r=s.chartArea,o=s.options,a=o.animation,l=(r.left+r.right)/2,h=(r.top+r.bottom)/2,u=o.rotation,c=o.rotation,d=n.getDataset(),f=i&&a.animateRotate||t.hidden?0:n.calculateCircumference(d.data[e])*(o.circumference/de),m=i&&a.animateScale?0:n.innerRadius,g=i&&a.animateScale?0:n.outerRadius,p=t._options||{};ut.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:l+s.offsetX,y:h+s.offsetY,startAngle:u,endAngle:c,circumference:f,outerRadius:g,innerRadius:m,label:ut.valueAtIndexOrDefault(d.label,e,s.data.labels[e])}});var y=t._model;i&&a.animateRotate||(y.startAngle=0===e?o.rotation:n.getMeta().data[e-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return ut.each(i.data,(function(i,s){t=e.data[s],isNaN(t)||i.hidden||(n+=Math.abs(t))})),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?de*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,i,n,s,r,o,a,l,h=this,u=0,c=h.chart;if(!t)for(e=0,i=c.data.datasets.length;e<i;++e)if(c.isDatasetVisible(e)){n=c.getDatasetMeta(e),t=n.data,e!==h.index&&(r=n.controller);break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)s=t[e],r?(r._configure(),o=r._resolveDataElementOptions(s,e)):o=s._options,"inner"!==o.borderAlign&&(a=o.borderWidth,l=o.hoverBorderWidth,u=a>u?a:u,u=l>u?l:u);return u},setHoverStyle:function(t){var e=t._model,i=t._options,n=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=ue(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=ue(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=ue(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e},_getRingWeight:function(t){return Math.max(ue(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Z._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Z._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var ge=oe.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),pe=ut.valueOrDefault,ye=ut.options.resolve,_e=ut.canvas._isPointInArea;function ve(t,e){var i=t&&t.options.ticks||{},n=i.reverse,s=void 0===i.min?e:0,r=void 0===i.max?e:0;return{start:n?r:s,end:n?s:r}}function be(t,e,i){var n=i/2,s=ve(t,n),r=ve(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function xe(t){var e,i,n,s;return ut.isObject(t)?(e=t.top,i=t.right,n=t.bottom,s=t.left):e=i=n=s=t,{top:e,right:i,bottom:n,left:s}}Z._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Me=Tt.extend({datasetElementType:Jt.Line,dataElementType:Jt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,i,n=this,s=n.getMeta(),r=s.dataset,o=s.data||[],a=n.chart.options,l=n._config,h=n._showLine=pe(l.showLine,a.showLines);for(n._xScale=n.getScaleForId(s.xAxisID),n._yScale=n.getScaleForId(s.yAxisID),h&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=n._yScale,r._datasetIndex=n.index,r._children=o,r._model=n._resolveDatasetElementOptions(r),r.pivot()),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(h&&0!==r._model.tension&&n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n,s,r=this,o=r.getMeta(),a=t.custom||{},l=r.getDataset(),h=r.index,u=l.data[e],c=r._xScale,d=r._yScale,f=o.dataset._model,m=r._resolveDataElementOptions(t,e);n=c.getPixelForValue("object"===typeof u?u:NaN,e,h),s=i?d.getBasePixel():r.calculatePointY(u,e,h),t._xScale=c,t._yScale=d,t._options=m,t._datasetIndex=h,t._index=e,t._model={x:n,y:s,skip:a.skip||isNaN(n)||isNaN(s),radius:m.radius,pointStyle:m.pointStyle,rotation:m.rotation,backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,tension:pe(a.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:m.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,i=e._config,n=t.custom||{},s=e.chart.options,r=s.elements.line,o=Tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=pe(i.spanGaps,s.spanGaps),o.tension=pe(i.lineTension,r.tension),o.steppedLine=ye([n.steppedLine,i.steppedLine,r.stepped]),o.clip=xe(pe(i.clip,be(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,i){var n,s,r,o,a,l,h,u=this,c=u.chart,d=u._yScale,f=0,m=0;if(d.options.stacked){for(a=+d.getRightValue(t),l=c._getSortedVisibleDatasetMetas(),h=l.length,n=0;n<h;++n){if(r=l[n],r.index===i)break;s=c.data.datasets[r.index],"line"===r.type&&r.yAxisID===d.id&&(o=+d.getRightValue(s.data[e]),o<0?m+=o||0:f+=o||0)}return a<0?d.getPixelForValue(m+a):d.getPixelForValue(f+a)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,s=this,r=s.chart,o=s.getMeta(),a=o.dataset._model,l=r.chartArea,h=o.data||[];function u(t,e,i){return Math.max(Math.min(t,i),e)}if(a.spanGaps&&(h=h.filter((function(t){return!t._model.skip}))),"monotone"===a.cubicInterpolationMode)ut.splineCurveMonotone(h);else for(t=0,e=h.length;t<e;++t)i=h[t]._model,n=ut.splineCurve(ut.previousItem(h,t)._model,i,ut.nextItem(h,t)._model,a.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=h.length;t<e;++t)i=h[t]._model,_e(i,l)&&(t>0&&_e(h[t-1]._model,l)&&(i.controlPointPreviousX=u(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=u(i.controlPointPreviousY,l.top,l.bottom)),t<h.length-1&&_e(h[t+1]._model,l)&&(i.controlPointNextX=u(i.controlPointNextX,l.left,l.right),i.controlPointNextY=u(i.controlPointNextY,l.top,l.bottom)))},draw:function(){var t,e=this,i=e.chart,n=e.getMeta(),s=n.data||[],r=i.chartArea,o=i.canvas,a=0,l=s.length;for(e._showLine&&(t=n.dataset._model.clip,ut.canvas.clipArea(i.ctx,{left:!1===t.left?0:r.left-t.left,right:!1===t.right?o.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?o.height:r.bottom+t.bottom}),n.dataset.draw(),ut.canvas.unclipArea(i.ctx));a<l;++a)s[a].draw(r)},setHoverStyle:function(t){var e=t._model,i=t._options,n=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=pe(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=pe(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=pe(i.hoverBorderWidth,i.borderWidth),e.radius=pe(i.hoverRadius,i.radius)}}),we=ut.options.resolve;Z._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,i,n,s,r=document.createElement("ul"),o=t.data,a=o.datasets,l=o.labels;if(r.setAttribute("class",t.id+"-legend"),a.length)for(e=0,i=a[0].data.length;e<i;++e)n=r.appendChild(document.createElement("li")),s=n.appendChild(document.createElement("span")),s.style.backgroundColor=a[0].backgroundColor[e],l[e]&&n.appendChild(document.createTextNode(l[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(i,n){var s=t.getDatasetMeta(0),r=s.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||s.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var i,n,s,r=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)s=o.getDatasetMeta(i),s.data[r].hidden=!s.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var ke=Tt.extend({dataElementType:Jt.Arc,linkScales:ut.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n,s=this,r=s.getDataset(),o=s.getMeta(),a=s.chart.options.startAngle||0,l=s._starts=[],h=s._angles=[],u=o.data;for(s._updateRadius(),o.count=s.countVisibleElements(),e=0,i=r.data.length;e<i;e++)l[e]=a,n=s._computeAngle(e),h[e]=n,a+=n;for(e=0,i=u.length;e<i;++e)u[e]._options=s._resolveDataElementOptions(u[e],e),s.updateElement(u[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,i=e.chartArea,n=e.options,s=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(s/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this,s=n.chart,r=n.getDataset(),o=s.options,a=o.animation,l=s.scale,h=s.data.labels,u=l.xCenter,c=l.yCenter,d=o.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]),m=n._starts[e],g=m+(t.hidden?0:n._angles[e]),p=a.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]),y=t._options||{};ut.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,borderAlign:y.borderAlign,x:u,y:c,innerRadius:0,outerRadius:i?p:f,startAngle:i&&a.animateRotate?d:m,endAngle:i&&a.animateRotate?d:g,label:ut.valueAtIndexOrDefault(h,e,h[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return ut.each(e.data,(function(e,n){isNaN(t.data[n])||e.hidden||i++})),i},setHoverStyle:function(t){var e=t._model,i=t._options,n=ut.getHoverColor,s=ut.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=s(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=s(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=s(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(t){var e=this,i=this.getMeta().count,n=e.getDataset(),s=e.getMeta();if(isNaN(n.data[t])||s.data[t].hidden)return 0;var r={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return we([e.chart.options.elements.arc.angle,2*Math.PI/i],r,t)}});Z._set("pie",ut.clone(Z.doughnut)),Z._set("pie",{cutoutPercentage:0});var Le=me,Se=ut.valueOrDefault;Z._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Te=Tt.extend({datasetElementType:Jt.Line,dataElementType:Jt.Point,linkScales:ut.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n=this,s=n.getMeta(),r=s.dataset,o=s.data||[],a=n.chart.scale,l=n._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=a,r._datasetIndex=n.index,r._children=o,r._loop=!0,r._model=n._resolveDatasetElementOptions(r),r.pivot(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n=this,s=t.custom||{},r=n.getDataset(),o=n.chart.scale,a=o.getPointPositionForValue(e,r.data[e]),l=n._resolveDataElementOptions(t,e),h=n.getMeta().dataset._model,u=i?o.xCenter:a.x,c=i?o.yCenter:a.y;t._scale=o,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:u,y:c,skip:s.skip||isNaN(u)||isNaN(c),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Se(s.tension,h?h.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,i=t.chart.options,n=Tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return n.spanGaps=Se(e.spanGaps,i.spanGaps),n.tension=Se(e.lineTension,i.elements.line.tension),n},updateBezierControlPoints:function(){var t,e,i,n,s=this,r=s.getMeta(),o=s.chart.chartArea,a=r.data||[];function l(t,e,i){return Math.max(Math.min(t,i),e)}for(r.dataset._model.spanGaps&&(a=a.filter((function(t){return!t._model.skip}))),t=0,e=a.length;t<e;++t)i=a[t]._model,n=ut.splineCurve(ut.previousItem(a,t,!0)._model,i,ut.nextItem(a,t,!0)._model,i.tension),i.controlPointPreviousX=l(n.previous.x,o.left,o.right),i.controlPointPreviousY=l(n.previous.y,o.top,o.bottom),i.controlPointNextX=l(n.next.x,o.left,o.right),i.controlPointNextY=l(n.next.y,o.top,o.bottom)},setHoverStyle:function(t){var e=t._model,i=t._options,n=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Se(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Se(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Se(i.hoverBorderWidth,i.borderWidth),e.radius=Se(i.hoverRadius,i.radius)}});Z._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),Z._set("global",{datasets:{scatter:{showLine:!1}}});var De=Me,Pe={bar:oe,bubble:he,doughnut:me,horizontalBar:ge,line:Me,polarArea:ke,pie:Le,radar:Te,scatter:De};function Ye(t,e){return t.native?{x:t.x,y:t.y}:ut.getRelativePosition(t,e)}function Ce(t,e){var i,n,s,r,o,a,l=t._getSortedVisibleDatasetMetas();for(n=0,r=l.length;n<r;++n)for(i=l[n].data,s=0,o=i.length;s<o;++s)a=i[s],a._view.skip||e(a)}function Ne(t,e){var i=[];return Ce(t,(function(t){t.inRange(e.x,e.y)&&i.push(t)})),i}function Ae(t,e,i,n){var s=Number.POSITIVE_INFINITY,r=[];return Ce(t,(function(t){if(!i||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),a=n(e,o);a<s?(r=[t],s=a):a===s&&r.push(t)}})),r}function Oe(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var s=e?Math.abs(t.x-n.x):0,r=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function Fe(t,e,i){var n=Ye(e,t);i.axis=i.axis||"x";var s=Oe(i.axis),r=i.intersect?Ne(t,n):Ae(t,n,!1,s),o=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach((function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&o.push(e)})),o):[]}var Re={modes:{single:function(t,e){var i=Ye(e,t),n=[];return Ce(t,(function(t){if(t.inRange(i.x,i.y))return n.push(t),n})),n.slice(0,1)},label:Fe,index:Fe,dataset:function(t,e,i){var n=Ye(e,t);i.axis=i.axis||"xy";var s=Oe(i.axis),r=i.intersect?Ne(t,n):Ae(t,n,!1,s);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return Fe(t,e,{intersect:!1})},point:function(t,e){var i=Ye(e,t);return Ne(t,i)},nearest:function(t,e,i){var n=Ye(e,t);i.axis=i.axis||"xy";var s=Oe(i.axis);return Ae(t,n,i.intersect,s)},x:function(t,e,i){var n=Ye(e,t),s=[],r=!1;return Ce(t,(function(t){t.inXRange(n.x)&&s.push(t),t.inRange(n.x,n.y)&&(r=!0)})),i.intersect&&!r&&(s=[]),s},y:function(t,e,i){var n=Ye(e,t),s=[],r=!1;return Ce(t,(function(t){t.inYRange(n.y)&&s.push(t),t.inRange(n.x,n.y)&&(r=!0)})),i.intersect&&!r&&(s=[]),s}}},Ee=ut.extend;function Ie(t,e){return ut.where(t,(function(t){return t.pos===e}))}function je(t,e){return t.sort((function(t,i){var n=e?i:t,s=e?t:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function He(t){var e,i,n,s=[];for(e=0,i=(t||[]).length;e<i;++e)n=t[e],s.push({index:e,box:n,pos:n.position,horizontal:n.isHorizontal(),weight:n.weight});return s}function Be(t,e){var i,n,s;for(i=0,n=t.length;i<n;++i)s=t[i],s.width=s.horizontal?s.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,s.height=s.horizontal&&e.hBoxMaxHeight}function ze(t){var e=He(t),i=je(Ie(e,"left"),!0),n=je(Ie(e,"right")),s=je(Ie(e,"top"),!0),r=je(Ie(e,"bottom"));return{leftAndTop:i.concat(s),rightAndBottom:n.concat(r),chartArea:Ie(e,"chartArea"),vertical:i.concat(n),horizontal:s.concat(r)}}function Ve(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function We(t,e,i){var n,s,r=i.box,o=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?r.height:r.width,t[i.pos]+=i.size,r.getPadding){var a=r.getPadding();o.top=Math.max(o.top,a.top),o.left=Math.max(o.left,a.left),o.bottom=Math.max(o.bottom,a.bottom),o.right=Math.max(o.right,a.right)}if(n=e.outerWidth-Ve(o,t,"left","right"),s=e.outerHeight-Ve(o,t,"top","bottom"),n!==t.w||s!==t.h){t.w=n,t.h=s;var l=i.horizontal?[n,t.w]:[s,t.h];return l[0]!==l[1]&&(!isNaN(l[0])||!isNaN(l[1]))}}function Ge(t){var e=t.maxPadding;function i(i){var n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function Ue(t,e){var i=e.maxPadding;function n(t){var n={left:0,top:0,right:0,bottom:0};return t.forEach((function(t){n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function Ke(t,e,i){var n,s,r,o,a,l,h=[];for(n=0,s=t.length;n<s;++n)r=t[n],o=r.box,o.update(r.width||e.w,r.height||e.h,Ue(r.horizontal,e)),We(e,i,r)&&(l=!0,h.length&&(a=!0)),o.fullWidth||h.push(r);return a&&Ke(h,e,i)||l}function Xe(t,e,i){var n,s,r,o,a=i.padding,l=e.x,h=e.y;for(n=0,s=t.length;n<s;++n)r=t[n],o=r.box,r.horizontal?(o.left=o.fullWidth?a.left:e.left,o.right=o.fullWidth?i.outerWidth-a.right:e.left+e.w,o.top=h,o.bottom=h+o.height,o.width=o.right-o.left,h=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=h}Z._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var qe={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,s=["fullWidth","position","weight"],r=s.length,o=0;o<r;++o)n=s[o],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(t,e,i){if(t){var n=t.options.layout||{},s=ut.options.toPadding(n.padding),r=e-s.width,o=i-s.height,a=ze(t.boxes),l=a.vertical,h=a.horizontal,u=Object.freeze({outerWidth:e,outerHeight:i,padding:s,availableWidth:r,vBoxMaxWidth:r/2/l.length,hBoxMaxHeight:o/2}),c=Ee({maxPadding:Ee({},s),w:r,h:o,x:s.left,y:s.top},s);Be(l.concat(h),u),Ke(l,c,u),Ke(h,c,u)&&Ke(l,c,u),Ge(c),Xe(a.leftAndTop,c,u),c.x+=c.w,c.y+=c.h,Xe(a.rightAndBottom,c,u),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},ut.each(a.chartArea,(function(e){var i=e.box;Ee(i,t.chartArea),i.update(c.w,c.h)}))}}},Je={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},$e="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n",Ze=Object.freeze({__proto__:null,default:$e}),Qe=i(Ze),ti="$chartjs",ei="chartjs-",ii=ei+"size-monitor",ni=ei+"render-monitor",si=ei+"render-animation",ri=["animationstart","webkitAnimationStart"],oi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function ai(t,e){var i=ut.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}function li(t,e){var i=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[ti]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===s||""===s){var r=ai(t,"width");void 0!==r&&(t.width=r)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=ai(t,"height");void 0!==r&&(t.height=o)}return t}var hi=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(i){}return t}(),ui=!!hi&&{passive:!0};function ci(t,e,i){t.addEventListener(e,i,ui)}function di(t,e,i){t.removeEventListener(e,i,ui)}function fi(t,e,i,n,s){return{type:t,chart:e,native:s||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function mi(t,e){var i=oi[t.type]||t.type,n=ut.getRelativePosition(t,e);return fi(i,e,n.x,n.y,t)}function gi(t,e){var i=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,i||(i=!0,ut.requestAnimFrame.call(window,(function(){i=!1,t.apply(e,n)})))}}function pi(t){var e=document.createElement("div");return e.className=t||"",e}function yi(t){var e=1e6,i=pi(ii),n=pi(ii+"-expand"),s=pi(ii+"-shrink");n.appendChild(pi()),s.appendChild(pi()),i.appendChild(n),i.appendChild(s),i._reset=function(){n.scrollLeft=e,n.scrollTop=e,s.scrollLeft=e,s.scrollTop=e};var r=function(){i._reset(),t()};return ci(n,"scroll",r.bind(n,"expand")),ci(s,"scroll",r.bind(s,"shrink")),i}function _i(t,e){var i=t[ti]||(t[ti]={}),n=i.renderProxy=function(t){t.animationName===si&&e()};ut.each(ri,(function(e){ci(t,e,n)})),i.reflow=!!t.offsetParent,t.classList.add(ni)}function vi(t){var e=t[ti]||{},i=e.renderProxy;i&&(ut.each(ri,(function(e){di(t,e,i)})),delete e.renderProxy),t.classList.remove(ni)}function bi(t,e,i){var n=t[ti]||(t[ti]={}),s=n.resizer=yi(gi((function(){if(n.resizer){var s=i.options.maintainAspectRatio&&t.parentNode,r=s?s.clientWidth:0;e(fi("resize",i)),s&&s.clientWidth<r&&i.canvas&&e(fi("resize",i))}})));_i(t,(function(){if(n.resizer){var e=t.parentNode;e&&e!==s.parentNode&&e.insertBefore(s,e.firstChild),s._reset()}}))}function xi(t){var e=t[ti]||{},i=e.resizer;delete e.resizer,vi(t),i&&i.parentNode&&i.parentNode.removeChild(i)}function Mi(t,e){var i=t[ti]||(t[ti]={});if(!i.containsStyles){i.containsStyles=!0,e="/* Chart.js */\n"+e;var n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode(e)),t.appendChild(n)}}var wi={disableCSSInjection:!1,_enabled:"undefined"!==typeof window&&"undefined"!==typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document,i=e.host?e:document.head;Mi(i,Qe)}},acquireContext:function(t,e){"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(this._ensureLoaded(t),li(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e[ti]){var i=e[ti].initial;["height","width"].forEach((function(t){var n=i[t];ut.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)})),ut.each(i.style||{},(function(t,i){e.style[i]=t})),e.width=e.width,delete e[ti]}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var s=i[ti]||(i[ti]={}),r=s.proxies||(s.proxies={}),o=r[t.id+"_"+e]=function(e){i(mi(e,t))};ci(n,e,o)}else bi(n,i,t)},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var s=i[ti]||{},r=s.proxies||{},o=r[t.id+"_"+e];o&&di(n,e,o)}else xi(n)}};ut.addEvent=ci,ut.removeEvent=di;var ki=wi._enabled?wi:Je,Li=ut.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ki);Z._set("global",{plugins:{}});var Si={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,s,r,o,a,l=this.descriptors(t),h=l.length;for(n=0;n<h;++n)if(s=l[n],r=s.plugin,a=r[e],"function"===typeof a&&(o=[t].concat(i||[]),o.push(s.options),!1===a.apply(r,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],n=[],s=t&&t.config||{},r=s.options&&s.options.plugins||{};return this._plugins.concat(s.plugins||[]).forEach((function(t){var e=i.indexOf(t);if(-1===e){var s=t.id,o=r[s];!1!==o&&(!0===o&&(o=ut.clone(Z.global.plugins[s])),i.push(t),n.push({plugin:t,options:o||{}}))}})),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},Ti={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=ut.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?ut.merge(Object.create(null),[Z.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;i.defaults.hasOwnProperty(t)&&(i.defaults[t]=ut.extend(i.defaults[t],e))},addScalesToLayout:function(t){ut.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,qe.addBox(t,e)}))}},Di=ut.valueOrDefault,Pi=ut.rtl.getRtlAdapter;Z._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ut.noop,title:function(t,e){var i="",n=e.labels,s=n?n.length:0;if(t.length>0){var r=t[0];r.label?i=r.label:r.xLabel?i=r.xLabel:s>0&&r.index<s&&(i=n[r.index])}return i},afterTitle:ut.noop,beforeBody:ut.noop,beforeLabel:ut.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),ut.isNullOrUndef(t.value)?i+=t.yLabel:i+=t.value,i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex),n=i.data[t.index],s=n._view;return{borderColor:s.borderColor,backgroundColor:s.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ut.noop,afterBody:ut.noop,beforeFooter:ut.noop,footer:ut.noop,afterFooter:ut.noop}}});var Yi={average:function(t){if(!t.length)return!1;var e,i,n=0,s=0,r=0;for(e=0,i=t.length;e<i;++e){var o=t[e];if(o&&o.hasValue()){var a=o.tooltipPosition();n+=a.x,s+=a.y,++r}}return{x:n/r,y:s/r}},nearest:function(t,e){var i,n,s,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var h=l.getCenterPoint(),u=ut.distanceBetweenPoints(e,h);u<a&&(a=u,s=l)}}if(s){var c=s.tooltipPosition();r=c.x,o=c.y}return{x:r,y:o}}};function Ci(t,e){return e&&(ut.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ni(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ai(t){var e=t._xScale,i=t._yScale||t._scale,n=t._index,s=t._datasetIndex,r=t._chart.getDatasetMeta(s).controller,o=r._getIndexScale(),a=r._getValueScale();return{xLabel:e?e.getLabelForIndex(n,s):"",yLabel:i?i.getLabelForIndex(n,s):"",label:o?""+o.getLabelForIndex(n,s):"",value:a?""+a.getLabelForIndex(n,s):"",index:n,datasetIndex:s,x:t._model.x,y:t._model.y}}function Oi(t){var e=Z.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Di(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Di(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Di(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Di(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Di(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Di(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Di(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Di(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Di(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Fi(t,e){var i=t._chart.ctx,n=2*e.yPadding,s=0,r=e.body,o=r.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);o+=e.beforeBody.length+e.afterBody.length;var a=e.title.length,l=e.footer.length,h=e.titleFontSize,u=e.bodyFontSize,c=e.footerFontSize;n+=a*h,n+=a?(a-1)*e.titleSpacing:0,n+=a?e.titleMarginBottom:0,n+=o*u,n+=o?(o-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*c,n+=l?(l-1)*e.footerSpacing:0;var d=0,f=function(t){s=Math.max(s,i.measureText(t).width+d)};return i.font=ut.fontString(h,e._titleFontStyle,e._titleFontFamily),ut.each(e.title,f),i.font=ut.fontString(u,e._bodyFontStyle,e._bodyFontFamily),ut.each(e.beforeBody.concat(e.afterBody),f),d=e.displayColors?u+2:0,ut.each(r,(function(t){ut.each(t.before,f),ut.each(t.lines,f),ut.each(t.after,f)})),d=0,i.font=ut.fontString(c,e._footerFontStyle,e._footerFontFamily),ut.each(e.footer,f),s+=2*e.xPadding,{width:s,height:n}}function Ri(t,e){var i,n,s,r,o,a=t._model,l=t._chart,h=t._chart.chartArea,u="center",c="center";a.y<e.height?c="top":a.y>l.height-e.height&&(c="bottom");var d=(h.left+h.right)/2,f=(h.top+h.bottom)/2;"center"===c?(i=function(t){return t<=d},n=function(t){return t>d}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),s=function(t){return t+e.width+a.caretSize+a.caretPadding>l.width},r=function(t){return t-e.width-a.caretSize-a.caretPadding<0},o=function(t){return t<=f?"top":"bottom"},i(a.x)?(u="left",s(a.x)&&(u="center",c=o(a.y))):n(a.x)&&(u="right",r(a.x)&&(u="center",c=o(a.y)));var m=t._options;return{xAlign:m.xAlign?m.xAlign:u,yAlign:m.yAlign?m.yAlign:c}}function Ei(t,e,i,n){var s=t.x,r=t.y,o=t.caretSize,a=t.caretPadding,l=t.cornerRadius,h=i.xAlign,u=i.yAlign,c=o+a,d=l+a;return"right"===h?s-=e.width:"center"===h&&(s-=e.width/2,s+e.width>n.width&&(s=n.width-e.width),s<0&&(s=0)),"top"===u?r+=c:r-="bottom"===u?e.height+c:e.height/2,"center"===u?"left"===h?s+=c:"right"===h&&(s-=c):"left"===h?s-=d:"right"===h&&(s+=d),{x:s,y:r}}function Ii(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function ji(t){return Ci([],Ni(t))}var Hi=_t.extend({initialize:function(){this._model=Oi(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,i=e.callbacks,n=i.beforeTitle.apply(t,arguments),s=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),o=[];return o=Ci(o,Ni(n)),o=Ci(o,Ni(s)),o=Ci(o,Ni(r)),o},getBeforeBody:function(){return ji(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var i=this,n=i._options.callbacks,s=[];return ut.each(t,(function(t){var r={before:[],lines:[],after:[]};Ci(r.before,Ni(n.beforeLabel.call(i,t,e))),Ci(r.lines,n.label.call(i,t,e)),Ci(r.after,Ni(n.afterLabel.call(i,t,e))),s.push(r)})),s},getAfterBody:function(){return ji(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),s=e.afterFooter.apply(t,arguments),r=[];return r=Ci(r,Ni(i)),r=Ci(r,Ni(n)),r=Ci(r,Ni(s)),r},update:function(t){var e,i,n=this,s=n._options,r=n._model,o=n._model=Oi(s),a=n._active,l=n._data,h={xAlign:r.xAlign,yAlign:r.yAlign},u={x:r.x,y:r.y},c={width:r.width,height:r.height},d={x:r.caretX,y:r.caretY};if(a.length){o.opacity=1;var f=[],m=[];d=Yi[s.position].call(n,a,n._eventPosition);var g=[];for(e=0,i=a.length;e<i;++e)g.push(Ai(a[e]));s.filter&&(g=g.filter((function(t){return s.filter(t,l)}))),s.itemSort&&(g=g.sort((function(t,e){return s.itemSort(t,e,l)}))),ut.each(g,(function(t){f.push(s.callbacks.labelColor.call(n,t,n._chart)),m.push(s.callbacks.labelTextColor.call(n,t,n._chart))})),o.title=n.getTitle(g,l),o.beforeBody=n.getBeforeBody(g,l),o.body=n.getBody(g,l),o.afterBody=n.getAfterBody(g,l),o.footer=n.getFooter(g,l),o.x=d.x,o.y=d.y,o.caretPadding=s.caretPadding,o.labelColors=f,o.labelTextColors=m,o.dataPoints=g,c=Fi(this,o),h=Ri(this,c),u=Ei(o,c,h,n._chart)}else o.opacity=0;return o.xAlign=h.xAlign,o.yAlign=h.yAlign,o.x=u.x,o.y=u.y,o.width=c.width,o.height=c.height,o.caretX=d.x,o.caretY=d.y,n._model=o,t&&s.custom&&s.custom.call(n,o),n},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,s=this.getCaretPosition(t,e,n);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)},getCaretPosition:function(t,e,i){var n,s,r,o,a,l,h=i.caretSize,u=i.cornerRadius,c=i.xAlign,d=i.yAlign,f=t.x,m=t.y,g=e.width,p=e.height;if("center"===d)a=m+p/2,"left"===c?(n=f,s=n-h,r=n,o=a+h,l=a-h):(n=f+g,s=n+h,r=n,o=a-h,l=a+h);else if("left"===c?(s=f+u+h,n=s-h,r=s+h):"right"===c?(s=f+g-u-h,n=s-h,r=s+h):(s=i.caretX,n=s-h,r=s+h),"top"===d)o=m,a=o-h,l=o;else{o=m+p,a=o+h,l=o;var y=r;r=n,n=y}return{x1:n,x2:s,x3:r,y1:o,y2:a,y3:l}},drawTitle:function(t,e,i){var n,s,r,o=e.title,a=o.length;if(a){var l=Pi(e.rtl,e.x,e.width);for(t.x=Ii(e,e._titleAlign),i.textAlign=l.textAlign(e._titleAlign),i.textBaseline="middle",n=e.titleFontSize,s=e.titleSpacing,i.fillStyle=e.titleFontColor,i.font=ut.fontString(n,e._titleFontStyle,e._titleFontFamily),r=0;r<a;++r)i.fillText(o[r],l.x(t.x),t.y+n/2),t.y+=n+s,r+1===a&&(t.y+=e.titleMarginBottom-s)}},drawBody:function(t,e,i){var n,s,r,o,a,l,h,u,c=e.bodyFontSize,d=e.bodySpacing,f=e._bodyAlign,m=e.body,g=e.displayColors,p=0,y=g?Ii(e,"left"):0,_=Pi(e.rtl,e.x,e.width),v=function(e){i.fillText(e,_.x(t.x+p),t.y+c/2),t.y+=c+d},b=_.textAlign(f);for(i.textAlign=f,i.textBaseline="middle",i.font=ut.fontString(c,e._bodyFontStyle,e._bodyFontFamily),t.x=Ii(e,b),i.fillStyle=e.bodyFontColor,ut.each(e.beforeBody,v),p=g&&"right"!==b?"center"===f?c/2+1:c+2:0,a=0,h=m.length;a<h;++a){for(n=m[a],s=e.labelTextColors[a],r=e.labelColors[a],i.fillStyle=s,ut.each(n.before,v),o=n.lines,l=0,u=o.length;l<u;++l){if(g){var x=_.x(y);i.fillStyle=e.legendColorBackground,i.fillRect(_.leftForLtr(x,c),t.y,c,c),i.lineWidth=1,i.strokeStyle=r.borderColor,i.strokeRect(_.leftForLtr(x,c),t.y,c,c),i.fillStyle=r.backgroundColor,i.fillRect(_.leftForLtr(_.xPlus(x,1),c-2),t.y+1,c-2,c-2),i.fillStyle=s}v(o[l])}ut.each(n.after,v)}p=0,ut.each(e.afterBody,v),t.y-=d},drawFooter:function(t,e,i){var n,s,r=e.footer,o=r.length;if(o){var a=Pi(e.rtl,e.x,e.width);for(t.x=Ii(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=a.textAlign(e._footerAlign),i.textBaseline="middle",n=e.footerFontSize,i.fillStyle=e.footerFontColor,i.font=ut.fontString(n,e._footerFontStyle,e._footerFontFamily),s=0;s<o;++s)i.fillText(r[s],a.x(t.x),t.y+n/2),t.y+=n+e.footerSpacing}},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var s=e.xAlign,r=e.yAlign,o=t.x,a=t.y,l=n.width,h=n.height,u=e.cornerRadius;i.beginPath(),i.moveTo(o+u,a),"top"===r&&this.drawCaret(t,n),i.lineTo(o+l-u,a),i.quadraticCurveTo(o+l,a,o+l,a+u),"center"===r&&"right"===s&&this.drawCaret(t,n),i.lineTo(o+l,a+h-u),i.quadraticCurveTo(o+l,a+h,o+l-u,a+h),"bottom"===r&&this.drawCaret(t,n),i.lineTo(o+u,a+h),i.quadraticCurveTo(o,a+h,o,a+h-u),"center"===r&&"left"===s&&this.drawCaret(t,n),i.lineTo(o,a+u),i.quadraticCurveTo(o,a,o+u,a),i.closePath(),i.fill(),e.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},s=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(t.save(),t.globalAlpha=s,this.drawBackground(n,e,t,i),n.y+=e.yPadding,ut.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),ut.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e=this,i=e._options,n=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:(e._active=e._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&e._active.reverse()),n=!ut.arrayEquals(e._active,e._lastActive),n&&(e._lastActive=e._active,(i.enabled||i.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}}),Bi=Yi,zi=Hi;zi.positioners=Bi;var Vi=ut.valueOrDefault;function Wi(){return ut.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var s,r,o,a=i[t].length;for(e[t]||(e[t]=[]),s=0;s<a;++s)o=i[t][s],r=Vi(o.type,"xAxes"===t?"category":"linear"),s>=e[t].length&&e[t].push({}),!e[t][s].type||o.type&&o.type!==e[t][s].type?ut.merge(e[t][s],[Ti.getScaleDefaults(r),o]):ut.merge(e[t][s],o)}else ut._merger(t,e,i,n)}})}function Gi(){return ut.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){var s=e[t]||Object.create(null),r=i[t];"scales"===t?e[t]=Wi(s,r):"scale"===t?e[t]=ut.merge(s,[Ti.getScaleDefaults(r.type),r]):ut._merger(t,e,i,n)}})}function Ui(t){t=t||Object.create(null);var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Gi(Z.global,Z[t.type],t.options||{}),t}function Ki(t){var e=t.options;ut.each(t.scales,(function(e){qe.removeBox(t,e)})),e=Gi(Z.global,Z[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Xi(t,e,i){var n,s=function(t){return t.id===n};do{n=e+i++}while(ut.findIndex(t,s)>=0);return n}function qi(t){return"top"===t||"bottom"===t}function Ji(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}Z._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var $i=function(t,e){return this.construct(t,e),this};ut.extend($i.prototype,{construct:function(t,e){var i=this;e=Ui(e);var n=Li.acquireContext(t,e),s=n&&n.canvas,r=s&&s.height,o=s&&s.width;i.id=ut.uid(),i.ctx=n,i.canvas=s,i.config=e,i.width=o,i.height=r,i.aspectRatio=r?o/r:null,i.options=e.options,i._bufferedRender=!1,i._layers=[],i.chart=i,i.controller=i,$i.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),n&&s?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Si.notify(t,"beforeInit"),ut.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),Si.notify(t,"afterInit"),t},clear:function(){return ut.canvas.clear(this),this},stop:function(){return xt.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,s=i.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(ut.getMaximumWidth(n))),o=Math.max(0,Math.floor(s?r/s:ut.getMaximumHeight(n)));if((e.width!==r||e.height!==o)&&(n.width=e.width=r,n.height=e.height=o,n.style.width=r+"px",n.style.height=o+"px",ut.retinaScale(e,i.devicePixelRatio),!t)){var a={width:r,height:o};Si.notify(e,"resize",[a]),i.onResize&&i.onResize(e,a),e.stop(),e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;ut.each(e.xAxes,(function(t,i){t.id||(t.id=Xi(e.xAxes,"x-axis-",i))})),ut.each(e.yAxes,(function(t,i){t.id||(t.id=Xi(e.yAxes,"y-axis-",i))})),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},n=[],s=Object.keys(i).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ut.each(n,(function(e){var n=e.options,r=n.id,o=Vi(n.type,e.dtype);qi(n.position)!==qi(e.dposition)&&(n.position=e.dposition),s[r]=!0;var a=null;if(r in i&&i[r].type===o)a=i[r],a.options=n,a.ctx=t.ctx,a.chart=t;else{var l=Ti.getScaleConstructor(o);if(!l)return;a=new l({id:r,type:o,options:n,ctx:t.ctx,chart:t}),i[a.id]=a}a.mergeTicksOptions(),e.isDefault&&(t.scale=a)})),ut.each(s,(function(t,e){t||delete i[e]})),t.scales=i,Ti.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,i=this,n=[],s=i.data.datasets;for(t=0,e=s.length;t<e;t++){var r=s[t],o=i.getDatasetMeta(t),a=r.type||i.config.type;if(o.type&&o.type!==a&&(i.destroyDatasetMeta(t),o=i.getDatasetMeta(t)),o.type=a,o.order=r.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var l=Pe[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(i,t),n.push(o.controller)}}return n},resetElements:function(){var t=this;ut.each(t.data.datasets,(function(e,i){t.getDatasetMeta(i).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,i,n=this;if(t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]}),Ki(n),Si._invalidate(n),!1!==Si.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var s=n.buildOrUpdateControllers();for(e=0,i=n.data.datasets.length;e<i;e++)n.getDatasetMeta(e).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&ut.each(s,(function(t){t.reset()})),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],Si.notify(n,"afterUpdate"),n._layers.sort(Ji("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){var t=this;!1!==Si.notify(t,"beforeLayout")&&(qe.update(this,this.width,this.height),t._layers=[],ut.each(t.boxes,(function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())}),t),t._layers.forEach((function(t,e){t._idx=e})),Si.notify(t,"afterScaleUpdate"),Si.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==Si.notify(t,"beforeDatasetsUpdate")){for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);Si.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,i=e.getDatasetMeta(t),n={meta:i,index:t};!1!==Si.notify(e,"beforeDatasetUpdate",[n])&&(i.controller._update(),Si.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]});var i=e.options.animation,n=Vi(t.duration,i&&i.duration),s=t.lazy;if(!1!==Si.notify(e,"beforeRender")){var r=function(t){Si.notify(e,"afterRender"),ut.callback(i&&i.onComplete,[t],e)};if(i&&n){var o=new bt({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=ut.easing.effects[e.easing],n=e.currentStep,s=n/e.numSteps;t.draw(i(s),s,n)},onAnimationProgress:i.onProgress,onAnimationComplete:r});xt.addAnimation(e,o,n,s)}else e.draw(),r(new bt({numSteps:0,chart:e}));return e}},draw:function(t){var e,i,n=this;if(n.clear(),ut.isNullOrUndef(t)&&(t=1),n.transition(t),!(n.width<=0||n.height<=0)&&!1!==Si.notify(n,"beforeDraw",[t])){for(i=n._layers,e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(n.chartArea);for(n.drawDatasets(t);e<i.length;++e)i[e].draw(n.chartArea);n._drawTooltip(t),Si.notify(n,"afterDraw",[t])}},transition:function(t){for(var e=this,i=0,n=(e.data.datasets||[]).length;i<n;++i)e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,i,n=this,s=n.data.datasets||[],r=[];for(e=0,i=s.length;e<i;++e)t&&!n.isDatasetVisible(e)||r.push(n.getDatasetMeta(e));return r.sort(Ji("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,i,n=this;if(!1!==Si.notify(n,"beforeDatasetsDraw",[t])){for(e=n._getSortedVisibleDatasetMetas(),i=e.length-1;i>=0;--i)n.drawDataset(e[i],t);Si.notify(n,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this,n={meta:t,index:t.index,easingValue:e};!1!==Si.notify(i,"beforeDatasetDraw",[n])&&(t.controller.draw(e),Si.notify(i,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this,i=e.tooltip,n={tooltip:i,easingValue:t};!1!==Si.notify(e,"beforeTooltipDraw",[n])&&(i.draw(),Si.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Re.modes.single(this,t)},getElementsAtEvent:function(t){return Re.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Re.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=Re.modes[e];return"function"===typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return Re.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,i=e.data.datasets[t];i._meta||(i._meta={});var n=i._meta[e.id];return n||(n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"===typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),ut.canvas.clear(i),Li.releaseContext(i.ctx),i.canvas=null,i.ctx=null),Si.notify(i,"destroy"),delete $i.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new zi({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};ut.each(t.options.events,(function(n){Li.addEventListener(t,n,i),e[n]=i})),t.options.responsive&&(i=function(){t.resize()},Li.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,ut.each(e,(function(e,i){Li.removeEventListener(t,i,e)})))},updateHoverStyle:function(t,e,i){var n,s,r,o=i?"set":"remove";for(s=0,r=t.length;s<r;++s)n=t[s],n&&this.getDatasetMeta(n._datasetIndex).controller[o+"HoverStyle"](n);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==Si.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),Si.notify(e,"afterEvent",[t]);var s=e._bufferedRequest;return s?e.render(s):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,i=e.options||{},n=i.hover,s=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),ut.callback(i.onHover||i.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),s=!ut.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,s}}),$i.instances={};var Zi=$i;$i.Controller=$i,$i.types={},ut.configMerge=Gi,ut.scaleMerge=Wi;var Qi=function(){function t(t,e,i){var n;return"string"===typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function e(t){return void 0!==t&&null!==t&&"none"!==t}function i(i,n,s){var r=document.defaultView,o=ut._getParentNode(i),a=r.getComputedStyle(i)[n],l=r.getComputedStyle(o)[n],h=e(a),u=e(l),c=Number.POSITIVE_INFINITY;return h||u?Math.min(h?t(a,i,s):c,u?t(l,o,s):c):"none"}ut.where=function(t,e){if(ut.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return ut.each(t,(function(t){e(t)&&i.push(t)})),i},ut.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,s=t.length;n<s;++n)if(e.call(i,t[n],n,t))return n;return-1},ut.findNextWhere=function(t,e,i){ut.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var s=t[n];if(e(s))return s}},ut.findPreviousWhere=function(t,e,i){ut.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var s=t[n];if(e(s))return s}},ut.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ut.almostEquals=function(t,e,i){return Math.abs(t-e)<i},ut.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&i+e>=t},ut.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},ut.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},ut.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},ut.toRadians=function(t){return t*(Math.PI/180)},ut.toDegrees=function(t){return t*(180/Math.PI)},ut._decimalPlaces=function(t){if(ut.isFinite(t)){var e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}},ut.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,s=Math.sqrt(i*i+n*n),r=Math.atan2(n,i);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:s}},ut.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},ut.aliasPixel=function(t){return t%2===0?0:.5},ut._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio,s=i/2;return Math.round((e-s)*n)/n+s},ut.splineCurve=function(t,e,i,n){var s=t.skip?e:t,r=e,o=i.skip?e:i,a=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)),l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),h=a/(a+l),u=l/(a+l);h=isNaN(h)?0:h,u=isNaN(u)?0:u;var c=n*h,d=n*u;return{previous:{x:r.x-c*(o.x-s.x),y:r.y-c*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}},ut.EPSILON=Number.EPSILON||1e-14,ut.splineCurveMonotone=function(t){var e,i,n,s,r,o,a,l,h,u=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),c=u.length;for(e=0;e<c;++e)if(n=u[e],!n.model.skip){if(i=e>0?u[e-1]:null,s=e<c-1?u[e+1]:null,s&&!s.model.skip){var d=s.model.x-n.model.x;n.deltaK=0!==d?(s.model.y-n.model.y)/d:0}!i||i.model.skip?n.mK=n.deltaK:!s||s.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}for(e=0;e<c-1;++e)n=u[e],s=u[e+1],n.model.skip||s.model.skip||(ut.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=s.mK=0:(r=n.mK/n.deltaK,o=s.mK/n.deltaK,l=Math.pow(r,2)+Math.pow(o,2),l<=9||(a=3/Math.sqrt(l),n.mK=r*a*n.deltaK,s.mK=o*a*n.deltaK)));for(e=0;e<c;++e)n=u[e],n.model.skip||(i=e>0?u[e-1]:null,s=e<c-1?u[e+1]:null,i&&!i.model.skip&&(h=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-h,n.model.controlPointPreviousY=n.model.y-h*n.mK),s&&!s.model.skip&&(h=(s.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+h,n.model.controlPointNextY=n.model.y+h*n.mK))},ut.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},ut.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},ut.niceNum=function(t,e){var i,n=Math.floor(ut.log10(t)),s=t/Math.pow(10,n);return i=e?s<1.5?1:s<3?2:s<7?5:10:s<=1?1:s<=2?2:s<=5?5:10,i*Math.pow(10,n)},ut.requestAnimFrame=function(){return"undefined"===typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),ut.getRelativePosition=function(t,e){var i,n,s=t.originalEvent||t,r=t.target||t.srcElement,o=r.getBoundingClientRect(),a=s.touches;a&&a.length>0?(i=a[0].clientX,n=a[0].clientY):(i=s.clientX,n=s.clientY);var l=parseFloat(ut.getStyle(r,"padding-left")),h=parseFloat(ut.getStyle(r,"padding-top")),u=parseFloat(ut.getStyle(r,"padding-right")),c=parseFloat(ut.getStyle(r,"padding-bottom")),d=o.right-o.left-l-u,f=o.bottom-o.top-h-c;return i=Math.round((i-o.left-l)/d*r.width/e.currentDevicePixelRatio),n=Math.round((n-o.top-h)/f*r.height/e.currentDevicePixelRatio),{x:i,y:n}},ut.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},ut.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},ut._calculatePadding=function(t,e,i){return e=ut.getStyle(t,e),e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)},ut._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},ut.getMaximumWidth=function(t){var e=ut._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,n=ut._calculatePadding(e,"padding-left",i),s=ut._calculatePadding(e,"padding-right",i),r=i-n-s,o=ut.getConstraintWidth(t);return isNaN(o)?r:Math.min(r,o)},ut.getMaximumHeight=function(t){var e=ut._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,n=ut._calculatePadding(e,"padding-top",i),s=ut._calculatePadding(e,"padding-bottom",i),r=i-n-s,o=ut.getConstraintHeight(t);return isNaN(o)?r:Math.min(r,o)},ut.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},ut.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1;if(1!==i){var n=t.canvas,s=t.height,r=t.width;n.height=s*i,n.width=r*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=s+"px",n.style.width=r+"px")}},ut.fontString=function(t,e,i){return e+" "+t+"px "+i},ut.longestText=function(t,e,i,n){n=n||{};var s=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},r=n.garbageCollect=[],n.font=e),t.font=e;var o,a,l,h,u,c=0,d=i.length;for(o=0;o<d;o++)if(h=i[o],void 0!==h&&null!==h&&!0!==ut.isArray(h))c=ut.measureText(t,s,r,c,h);else if(ut.isArray(h))for(a=0,l=h.length;a<l;a++)u=h[a],void 0===u||null===u||ut.isArray(u)||(c=ut.measureText(t,s,r,c,u));var f=r.length/2;if(f>i.length){for(o=0;o<f;o++)delete s[r[o]];r.splice(0,f)}return c},ut.measureText=function(t,e,i,n,s){var r=e[s];return r||(r=e[s]=t.measureText(s).width,i.push(s)),r>n&&(n=r),n},ut.numberOfLabelLines=function(t){var e=1;return ut.each(t,(function(t){ut.isArray(t)&&t.length>e&&(e=t.length)})),e},ut.color=E?function(t){return t instanceof CanvasGradient&&(t=Z.global.defaultColor),E(t)}:function(t){return console.error("Color.js not found!"),t},ut.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:ut.color(t).saturate(.5).darken(.1).rgbString()}};function tn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function en(t){this.options=t||{}}ut.extend(en.prototype,{formats:tn,parse:tn,format:tn,add:tn,diff:tn,startOf:tn,endOf:tn,_create:function(t){return t}}),en.override=function(t){ut.extend(en.prototype,t)};var nn=en,sn={_date:nn},rn={formatters:{values:function(t){return ut.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var s=ut.log10(Math.abs(n)),r="";if(0!==t){var o=Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]));if(o<1e-4){var a=ut.log10(Math.abs(t)),l=Math.floor(a)-Math.floor(s);l=Math.max(Math.min(l,20),0),r=t.toExponential(l)}else{var h=-1*Math.floor(s);h=Math.max(Math.min(h,20),0),r=t.toFixed(h)}}else r="0";return r},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(ut.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}},on=ut.isArray,an=ut.isNullOrUndef,ln=ut.valueOrDefault,hn=ut.valueAtIndexOrDefault;function un(t,e){for(var i=[],n=t.length/e,s=0,r=t.length;s<r;s+=n)i.push(t[Math.floor(s)]);return i}function cn(t,e,i){var n,s=t.getTicks().length,r=Math.min(e,s-1),o=t.getPixelForTick(r),a=t._startPixel,l=t._endPixel,h=1e-6;if(!(i&&(n=1===s?Math.max(o-a,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(r-1))/2,o+=r<e?n:-n,o<a-h||o>l+h)))return o}function dn(t,e){ut.each(t,(function(t){var i,n=t.gc,s=n.length/2;if(s>e){for(i=0;i<s;++i)delete t.data[n[i]];n.splice(0,s)}}))}function fn(t,e,i,n){var s,r,o,a,l,h,u,c,d,f,m,g,p,y=i.length,_=[],v=[],b=[],x=0,M=0;for(s=0;s<y;++s){if(a=i[s].label,l=i[s].major?e.major:e.minor,t.font=h=l.string,u=n[h]=n[h]||{data:{},gc:[]},c=l.lineHeight,d=f=0,an(a)||on(a)){if(on(a))for(r=0,o=a.length;r<o;++r)m=a[r],an(m)||on(m)||(d=ut.measureText(t,u.data,u.gc,d,m),f+=c)}else d=ut.measureText(t,u.data,u.gc,d,a),f=c;_.push(d),v.push(f),b.push(c/2),x=Math.max(d,x),M=Math.max(f,M)}function w(t){return{width:_[t]||0,height:v[t]||0,offset:b[t]||0}}return dn(n,y),g=_.indexOf(x),p=v.indexOf(M),{first:w(0),last:w(y-1),widest:w(g),highest:w(p)}}function mn(t){return t.drawTicks?t.tickMarkLength:0}function gn(t){var e,i;return t.display?(e=ut.options._parseFont(t),i=ut.options.toPadding(t.padding),e.lineHeight+i.height):0}function pn(t,e){return ut.extend(ut.options._parseFont({fontFamily:ln(e.fontFamily,t.fontFamily),fontSize:ln(e.fontSize,t.fontSize),fontStyle:ln(e.fontStyle,t.fontStyle),lineHeight:ln(e.lineHeight,t.lineHeight)}),{color:ut.options.resolve([e.fontColor,t.fontColor,Z.global.defaultFontColor])})}function yn(t){var e=pn(t,t.minor),i=t.major.enabled?pn(t,t.major):e;return{minor:e,major:i}}function _n(t){var e,i,n,s=[];for(i=0,n=t.length;i<n;++i)e=t[i],"undefined"!==typeof e._index&&s.push(e);return s}function vn(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}function bn(t,e,i,n){var s,r,o,a,l=vn(t),h=(e.length-1)/n;if(!l)return Math.max(h,1);for(s=ut.math._factorize(l),o=0,a=s.length-1;o<a;o++)if(r=s[o],r>h)return r;return Math.max(h,1)}function xn(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}function Mn(t,e,i){var n,s,r=0,o=e[0];for(i=Math.ceil(i),n=0;n<t.length;n++)s=t[n],n===o?(s._index=n,r++,o=e[r*i]):delete s.label}function wn(t,e,i,n){var s,r,o,a,l=ln(i,0),h=Math.min(ln(n,t.length),t.length),u=0;e=Math.ceil(e),n&&(s=n-i,e=s/Math.floor(s/e)),a=l;while(a<0)u++,a=Math.round(l+u*e);for(r=Math.max(l,0);r<h;r++)o=t[r],r===a?(o._index=r,u++,a=Math.round(l+u*e)):delete o.label}Z._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:rn.formatters.values,minor:{},major:{}}});var kn=_t.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){ut.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,s,r,o,a,l=this,h=l.options.ticks,u=h.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=ut.extend({left:0,right:0,top:0,bottom:0},i),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],o=l.afterBuildTicks(o)||o,(!o||!o.length)&&l.ticks)for(o=[],n=0,s=l.ticks.length;n<s;++n)o.push({value:l.ticks[n],major:!1});return l._ticks=o,a=u<o.length,r=l._convertTicksToLabels(a?un(o,u):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=h.display&&(h.autoSkip||"auto"===h.source)?l._autoSkip(o):o,a&&(r=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=r,l.afterUpdate(),l.minSize},_configure:function(){var t,e,i=this,n=i.options.ticks.reverse;i.isHorizontal()?(t=i.left,e=i.right):(t=i.top,e=i.bottom,n=!n),i._startPixel=t,i._endPixel=e,i._reversePixels=n,i._length=e-t},afterUpdate:function(){ut.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ut.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){ut.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ut.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ut.noop,afterDataLimits:function(){ut.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ut.callback(this.options.beforeBuildTicks,[this])},buildTicks:ut.noop,afterBuildTicks:function(t){var e=this;return on(t)&&t.length?ut.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=ut.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){ut.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){ut.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ut.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,i,n,s,r,o,a=this,l=a.options,h=l.ticks,u=a.getTicks().length,c=h.minRotation||0,d=h.maxRotation,f=c;!a._isVisible()||!h.display||c>=d||u<=1||!a.isHorizontal()?a.labelRotation=c:(t=a._getLabelSizes(),e=t.widest.width,i=t.highest.height-t.highest.offset,n=Math.min(a.maxWidth,a.chart.width-e),s=l.offset?a.maxWidth/u:n/(u-1),e+6>s&&(s=n/(u-(l.offset?.5:1)),r=a.maxHeight-mn(l.gridLines)-h.padding-gn(l.scaleLabel),o=Math.sqrt(e*e+i*i),f=ut.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/s,1)),Math.asin(Math.min(r/o,1))-Math.asin(i/o))),f=Math.max(c,Math.min(d,f))),a.labelRotation=f)},afterCalculateTickRotation:function(){ut.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ut.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=t.chart,n=t.options,s=n.ticks,r=n.scaleLabel,o=n.gridLines,a=t._isVisible(),l="bottom"===n.position,h=t.isHorizontal();if(h?e.width=t.maxWidth:a&&(e.width=mn(o)+gn(r)),h?a&&(e.height=mn(o)+gn(r)):e.height=t.maxHeight,s.display&&a){var u=yn(s),c=t._getLabelSizes(),d=c.first,f=c.last,m=c.widest,g=c.highest,p=.4*u.minor.lineHeight,y=s.padding;if(h){var _=0!==t.labelRotation,v=ut.toRadians(t.labelRotation),b=Math.cos(v),x=Math.sin(v),M=x*m.width+b*(g.height-(_?g.offset:0))+(_?0:p);e.height=Math.min(t.maxHeight,e.height+M+y);var w,k,L=t.getPixelForTick(0)-t.left,S=t.right-t.getPixelForTick(t.getTicks().length-1);_?(w=l?b*d.width+x*d.offset:x*(d.height-d.offset),k=l?x*(f.height-f.offset):b*f.width+x*f.offset):(w=d.width/2,k=f.width/2),t.paddingLeft=Math.max((w-L)*t.width/(t.width-L),0)+3,t.paddingRight=Math.max((k-S)*t.width/(t.width-S),0)+3}else{var T=s.mirror?0:m.width+y+p;e.width=Math.min(t.maxWidth,e.width+T),t.paddingTop=d.height/2,t.paddingBottom=f.height/2}}t.handleMargins(),h?(t.width=t._length=i.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){ut.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(an(t))return NaN;if(("number"===typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,i,n,s=this;for(s.ticks=t.map((function(t){return t.value})),s.beforeTickToLabelConversion(),e=s.convertTicksToLabels(t)||s.ticks,s.afterTickToLabelConversion(),i=0,n=t.length;i<n;++i)t[i].label=e[i];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=fn(t.ctx,yn(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,i,n,s;return on(t)?(e=+this.getRightValue(t[0]),i=+this.getRightValue(t[1]),n=Math.min(e,i),s=Math.max(e,i)):(t=+this.getRightValue(t),e=void 0,i=t,n=t,s=t),{min:n,max:s,start:e,end:i}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:ut.noop,getPixelForValue:ut.noop,getValueForPixel:ut.noop,getPixelForTick:function(t){var e=this,i=e.options.offset,n=e._ticks.length,s=1/Math.max(n-(i?0:1),1);return t<0||t>n-1?null:e.getPixelForDecimal(t*s+(i?s/2:0))},getPixelForDecimal:function(t){var e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,n,s,r=this,o=r.options.ticks,a=r._length,l=o.maxTicksLimit||a/r._tickSize()+1,h=o.major.enabled?xn(t):[],u=h.length,c=h[0],d=h[u-1];if(u>l)return Mn(t,h,u/l),_n(t);if(n=bn(h,t,a,l),u>0){for(e=0,i=u-1;e<i;e++)wn(t,n,h[e],h[e+1]);return s=u>1?(d-c)/(u-1):null,wn(t,n,ut.isNullOrUndef(s)?0:c-s,c),wn(t,n,d,ut.isNullOrUndef(s)?t.length:d+s),_n(t)}return wn(t,n),_n(t)},_tickSize:function(){var t=this,e=t.options.ticks,i=ut.toRadians(t.labelRotation),n=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),r=t._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return t.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s},_isVisible:function(){var t,e,i,n=this,s=n.chart,r=n.options.display;if("auto"!==r)return!!r;for(t=0,e=s.data.datasets.length;t<e;++t)if(s.isDatasetVisible(t)&&(i=s.getDatasetMeta(t),i.xAxisID===n.id||i.yAxisID===n.id))return!0;return!1},_computeGridLineItems:function(t){var e,i,n,s,r,o,a,l,h,u,c,d,f,m,g,p,y,_=this,v=_.chart,b=_.options,x=b.gridLines,M=b.position,w=x.offsetGridLines,k=_.isHorizontal(),L=_._ticksToDraw,S=L.length+(w?1:0),T=mn(x),D=[],P=x.drawBorder?hn(x.lineWidth,0,0):0,Y=P/2,C=ut._alignPixel,N=function(t){return C(v,t,P)};for("top"===M?(e=N(_.bottom),a=_.bottom-T,h=e-Y,c=N(t.top)+Y,f=t.bottom):"bottom"===M?(e=N(_.top),c=t.top,f=N(t.bottom)-Y,a=e+Y,h=_.top+T):"left"===M?(e=N(_.right),o=_.right-T,l=e-Y,u=N(t.left)+Y,d=t.right):(e=N(_.left),u=t.left,d=N(t.right)-Y,o=e+Y,l=_.left+T),i=0;i<S;++i)n=L[i]||{},an(n.label)&&i<L.length||(i===_.zeroLineIndex&&b.offset===w?(m=x.zeroLineWidth,g=x.zeroLineColor,p=x.zeroLineBorderDash||[],y=x.zeroLineBorderDashOffset||0):(m=hn(x.lineWidth,i,1),g=hn(x.color,i,"rgba(0,0,0,0.1)"),p=x.borderDash||[],y=x.borderDashOffset||0),s=cn(_,n._index||i,w),void 0!==s&&(r=C(v,s,m),k?o=l=u=d=r:a=h=c=f=r,D.push({tx1:o,ty1:a,tx2:l,ty2:h,x1:u,y1:c,x2:d,y2:f,width:m,color:g,borderDash:p,borderDashOffset:y})));return D.ticksLength=S,D.borderValue=e,D},_computeLabelItems:function(){var t,e,i,n,s,r,o,a,l,h,u,c,d=this,f=d.options,m=f.ticks,g=f.position,p=m.mirror,y=d.isHorizontal(),_=d._ticksToDraw,v=yn(m),b=m.padding,x=mn(f.gridLines),M=-ut.toRadians(d.labelRotation),w=[];for("top"===g?(r=d.bottom-x-b,o=M?"left":"center"):"bottom"===g?(r=d.top+x+b,o=M?"right":"center"):"left"===g?(s=d.right-(p?0:x)-b,o=p?"left":"right"):(s=d.left+(p?0:x)+b,o=p?"right":"left"),t=0,e=_.length;t<e;++t)i=_[t],n=i.label,an(n)||(a=d.getPixelForTick(i._index||t)+m.labelOffset,l=i.major?v.major:v.minor,h=l.lineHeight,u=on(n)?n.length:1,y?(s=a,c="top"===g?((M?1:.5)-u)*h:(M?0:.5)*h):(r=a,c=(1-u)*h/2),w.push({x:s,y:r,rotation:M,label:n,font:l,textOffset:c,textAlign:o}));return w},_drawGrid:function(t){var e=this,i=e.options.gridLines;if(i.display){var n,s,r,o,a,l=e.ctx,h=e.chart,u=ut._alignPixel,c=i.drawBorder?hn(i.lineWidth,0,0):0,d=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,o=d.length;r<o;++r)a=d[r],n=a.width,s=a.color,n&&s&&(l.save(),l.lineWidth=n,l.strokeStyle=s,l.setLineDash&&(l.setLineDash(a.borderDash),l.lineDashOffset=a.borderDashOffset),l.beginPath(),i.drawTicks&&(l.moveTo(a.tx1,a.ty1),l.lineTo(a.tx2,a.ty2)),i.drawOnChartArea&&(l.moveTo(a.x1,a.y1),l.lineTo(a.x2,a.y2)),l.stroke(),l.restore());if(c){var f,m,g,p,y=c,_=hn(i.lineWidth,d.ticksLength-1,1),v=d.borderValue;e.isHorizontal()?(f=u(h,e.left,y)-y/2,m=u(h,e.right,_)+_/2,g=p=v):(g=u(h,e.top,y)-y/2,p=u(h,e.bottom,_)+_/2,f=m=v),l.lineWidth=c,l.strokeStyle=hn(i.color,0),l.beginPath(),l.moveTo(f,g),l.lineTo(m,p),l.stroke()}}},_drawLabels:function(){var t=this,e=t.options.ticks;if(e.display){var i,n,s,r,o,a,l,h,u=t.ctx,c=t._labelItems||(t._labelItems=t._computeLabelItems());for(i=0,s=c.length;i<s;++i){if(o=c[i],a=o.font,u.save(),u.translate(o.x,o.y),u.rotate(o.rotation),u.font=a.string,u.fillStyle=a.color,u.textBaseline="middle",u.textAlign=o.textAlign,l=o.label,h=o.textOffset,on(l))for(n=0,r=l.length;n<r;++n)u.fillText(""+l[n],0,h),h+=a.lineHeight;else u.fillText(l,0,h);u.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,i=t.options,n=i.scaleLabel;if(n.display){var s,r,o=ln(n.fontColor,Z.global.defaultFontColor),a=ut.options._parseFont(n),l=ut.options.toPadding(n.padding),h=a.lineHeight/2,u=i.position,c=0;if(t.isHorizontal())s=t.left+t.width/2,r="bottom"===u?t.bottom-h-l.bottom:t.top+h+l.top;else{var d="left"===u;s=d?t.left+h+l.top:t.right-h-l.top,r=t.top+t.height/2,c=d?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(s,r),e.rotate(c),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=a.string,e.fillText(n.labelString,0,0),e.restore()}},draw:function(t){var e=this;e._isVisible()&&(e._drawGrid(t),e._drawTitle(),e._drawLabels())},_layers:function(){var t=this,e=t.options,i=e.ticks&&e.ticks.z||0,n=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==n&&t.draw===t._draw?[{z:n,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:i,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:i,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,i=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter((function(n){return(!t||n.type===t)&&(i?n.xAxisID===e.id:n.yAxisID===e.id)}))}});kn.prototype._draw=kn.prototype.draw;var Ln=kn,Sn=ut.isNullOrUndef,Tn={position:"bottom"},Dn=Ln.extend({determineDataLimits:function(){var t,e=this,i=e._getLabels(),n=e.options.ticks,s=n.min,r=n.max,o=0,a=i.length-1;void 0!==s&&(t=i.indexOf(s),t>=0&&(o=t)),void 0!==r&&(t=i.indexOf(r),t>=0&&(a=t)),e.minIndex=o,e.maxIndex=a,e.min=i[o],e.max=i[a]},buildTicks:function(){var t=this,e=t._getLabels(),i=t.minIndex,n=t.maxIndex;t.ticks=0===i&&n===e.length-1?e:e.slice(i,n+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===i.id?i.getRightValue(n.data.datasets[e].data[t]):i._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,i=t.ticks;Ln.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),i&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(i.length-(e?0:1),1))},getPixelForValue:function(t,e,i){var n,s,r,o=this;return Sn(e)||Sn(i)||(t=o.chart.data.datasets[i].data[e]),Sn(t)||(n=o.isHorizontal()?t.x:t.y),(void 0!==n||void 0!==t&&isNaN(e))&&(s=o._getLabels(),t=ut.valueOrDefault(n,t),r=s.indexOf(t),e=-1!==r?r:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Pn=Tn;Dn._defaults=Pn;var Yn=ut.noop,Cn=ut.isNullOrUndef;function Nn(t,e){var i,n,s,r,o=[],a=1e-14,l=t.stepSize,h=l||1,u=t.maxTicks-1,c=t.min,d=t.max,f=t.precision,m=e.min,g=e.max,p=ut.niceNum((g-m)/u/h)*h;if(p<a&&Cn(c)&&Cn(d))return[m,g];r=Math.ceil(g/p)-Math.floor(m/p),r>u&&(p=ut.niceNum(r*p/u/h)*h),l||Cn(f)?i=Math.pow(10,ut._decimalPlaces(p)):(i=Math.pow(10,f),p=Math.ceil(p*i)/i),n=Math.floor(m/p)*p,s=Math.ceil(g/p)*p,l&&(!Cn(c)&&ut.almostWhole(c/p,p/1e3)&&(n=c),!Cn(d)&&ut.almostWhole(d/p,p/1e3)&&(s=d)),r=(s-n)/p,r=ut.almostEquals(r,Math.round(r),p/1e3)?Math.round(r):Math.ceil(r),n=Math.round(n*i)/i,s=Math.round(s*i)/i,o.push(Cn(c)?n:c);for(var y=1;y<r;++y)o.push(Math.round((n+y*p)*i)/i);return o.push(Cn(d)?s:d),o}var An=Ln.extend({getRightValue:function(t){return"string"===typeof t?+t:Ln.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options,i=e.ticks;if(i.beginAtZero){var n=ut.sign(t.min),s=ut.sign(t.max);n<0&&s<0?t.max=0:n>0&&s>0&&(t.min=0)}var r=void 0!==i.min||void 0!==i.suggestedMin,o=void 0!==i.max||void 0!==i.suggestedMax;void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(null===t.min?t.min=i.suggestedMin:t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(null===t.max?t.max=i.suggestedMax:t.max=Math.max(t.max,i.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,i=e.options.ticks,n=i.stepSize,s=i.maxTicksLimit;return n?t=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(t=e._computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Yn,buildTicks:function(){var t=this,e=t.options,i=e.ticks,n=t.getTickLimit();n=Math.max(2,n);var s={maxTicks:n,min:i.min,max:i.max,precision:i.precision,stepSize:ut.valueOrDefault(i.fixedStepSize,i.stepSize)},r=t.ticks=Nn(s,t);t.handleDirectionalChanges(),t.max=ut.max(r),t.min=ut.min(r),i.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),Ln.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,i=e.getTicks(),n=e.min,s=e.max;Ln.prototype._configure.call(e),e.options.offset&&i.length&&(t=(s-n)/Math.max(i.length-1,1)/2,n-=t,s+=t),e._startValue=n,e._endValue=s,e._valueRange=s-n}}),On={position:"left",ticks:{callback:rn.formatters.linear}},Fn=0,Rn=1;function En(t,e,i){var n=[i.type,void 0===e&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===t[n]&&(t[n]={pos:[],neg:[]}),t[n]}function In(t,e,i,n){var s,r,o=t.options,a=o.stacked,l=En(e,a,i),h=l.pos,u=l.neg,c=n.length;for(s=0;s<c;++s)r=t._parseValue(n[s]),isNaN(r.min)||isNaN(r.max)||i.data[s].hidden||(h[s]=h[s]||0,u[s]=u[s]||0,o.relativePoints?h[s]=100:r.min<0||r.max<0?u[s]+=r.min:h[s]+=r.max)}function jn(t,e,i){var n,s,r=i.length;for(n=0;n<r;++n)s=t._parseValue(i[n]),isNaN(s.min)||isNaN(s.max)||e.data[n].hidden||(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}var Hn=An.extend({determineDataLimits:function(){var t,e,i,n,s=this,r=s.options,o=s.chart,a=o.data.datasets,l=s._getMatchingVisibleMetas(),h=r.stacked,u={},c=l.length;if(s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,void 0===h)for(t=0;!h&&t<c;++t)e=l[t],h=void 0!==e.stack;for(t=0;t<c;++t)e=l[t],i=a[e.index].data,h?In(s,u,e,i):jn(s,e,i);ut.each(u,(function(t){n=t.pos.concat(t.neg),s.min=Math.min(s.min,ut.min(n)),s.max=Math.max(s.max,ut.max(n))})),s.min=ut.isFinite(s.min)&&!isNaN(s.min)?s.min:Fn,s.max=ut.isFinite(s.max)&&!isNaN(s.max)?s.max:Rn,s.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=ut.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),Bn=On;Hn._defaults=Bn;var zn=ut.valueOrDefault,Vn=ut.math.log10;function Wn(t,e){var i,n,s=[],r=zn(t.min,Math.pow(10,Math.floor(Vn(e.min)))),o=Math.floor(Vn(e.max)),a=Math.ceil(e.max/Math.pow(10,o));0===r?(i=Math.floor(Vn(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),s.push(r),r=n*Math.pow(10,i)):(i=Math.floor(Vn(r)),n=Math.floor(r/Math.pow(10,i)));var l=i<0?Math.pow(10,Math.abs(i)):1;do{s.push(r),++n,10===n&&(n=1,++i,l=i>=0?1:l),r=Math.round(n*Math.pow(10,i)*l)/l}while(i<o||i===o&&n<a);var h=zn(t.max,r);return s.push(h),s}var Gn={position:"left",ticks:{callback:rn.formatters.logarithmic}};function Un(t,e){return ut.isFinite(t)&&t>=0?t:e}var Kn=Ln.extend({determineDataLimits:function(){var t,e,i,n,s,r,o=this,a=o.options,l=o.chart,h=l.data.datasets,u=o.isHorizontal();function c(t){return u?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var d=a.stacked;if(void 0===d)for(t=0;t<h.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&c(e)&&void 0!==e.stack){d=!0;break}if(a.stacked||d){var f={};for(t=0;t<h.length;t++){e=l.getDatasetMeta(t);var m=[e.type,void 0===a.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&c(e))for(void 0===f[m]&&(f[m]=[]),n=h[t].data,s=0,r=n.length;s<r;s++){var g=f[m];i=o._parseValue(n[s]),isNaN(i.min)||isNaN(i.max)||e.data[s].hidden||i.min<0||i.max<0||(g[s]=g[s]||0,g[s]+=i.max)}}ut.each(f,(function(t){if(t.length>0){var e=ut.min(t),i=ut.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,i)}}))}else for(t=0;t<h.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&c(e))for(n=h[t].data,s=0,r=n.length;s<r;s++)i=o._parseValue(n[s]),isNaN(i.min)||isNaN(i.max)||e.data[s].hidden||i.min<0||i.max<0||(o.min=Math.min(i.min,o.min),o.max=Math.max(i.max,o.max),0!==i.min&&(o.minNotZero=Math.min(i.min,o.minNotZero)));o.min=ut.isFinite(o.min)?o.min:null,o.max=ut.isFinite(o.max)?o.max:null,o.minNotZero=ut.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,i=1,n=10;t.min=Un(e.min,t.min),t.max=Un(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Vn(t.min))-1),t.max=Math.pow(10,Math.floor(Vn(t.max))+1)):(t.min=i,t.max=n)),null===t.min&&(t.min=Math.pow(10,Math.floor(Vn(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Vn(t.min))+1):n),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Vn(t.max))):t.minNotZero=i)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:Un(e.min),max:Un(e.max)},s=t.ticks=Wn(n,t);t.max=ut.max(s),t.min=ut.min(s),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&s.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Ln.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(Vn(t)),i=Math.floor(t/Math.pow(10,e));return i*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,i=0;Ln.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),i=zn(t.options.ticks.fontSize,Z.global.defaultFontSize)/t._length),t._startValue=Vn(e),t._valueOffset=i,t._valueRange=(Vn(t.max)-Vn(e))/(1-i)},getPixelForValue:function(t){var e=this,i=0;return t=+e.getRightValue(t),t>e.min&&t>0&&(i=(Vn(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(i)},getValueForPixel:function(t){var e=this,i=e.getDecimalForPixel(t);return 0===i&&0===e.min?0:Math.pow(10,e._startValue+(i-e._valueOffset)*e._valueRange)}}),Xn=Gn;Kn._defaults=Xn;var qn=ut.valueOrDefault,Jn=ut.valueAtIndexOrDefault,$n=ut.options.resolve,Zn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:rn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Qn(t){var e=t.ticks;return e.display&&t.display?qn(e.fontSize,Z.global.defaultFontSize)+2*e.backdropPaddingY:0}function ts(t,e,i){return ut.isArray(i)?{w:ut.longestText(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function es(t,e,i,n,s){return t===n||t===s?{start:e-i/2,end:e+i/2}:t<n||t>s?{start:e-i,end:e}:{start:e,end:e+i}}function is(t){var e,i,n,s=ut.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=s.string,t._pointLabelSizes=[];var a=t.chart.data.labels.length;for(e=0;e<a;e++){n=t.getPointPosition(e,t.drawingArea+5),i=ts(t.ctx,s.lineHeight,t.pointLabels[e]),t._pointLabelSizes[e]=i;var l=t.getIndexAngle(e),h=ut.toDegrees(l)%360,u=es(h,n.x,i.w,0,180),c=es(h,n.y,i.h,90,270);u.start<r.l&&(r.l=u.start,o.l=l),u.end>r.r&&(r.r=u.end,o.r=l),c.start<r.t&&(r.t=c.start,o.t=l),c.end>r.b&&(r.b=c.end,o.b=l)}t.setReductions(t.drawingArea,r,o)}function ns(t){return 0===t||180===t?"center":t<180?"left":"right"}function ss(t,e,i,n){var s,r,o=i.y+n/2;if(ut.isArray(e))for(s=0,r=e.length;s<r;++s)t.fillText(e[s],i.x,o),o+=n;else t.fillText(e,i.x,o)}function rs(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function os(t){var e=t.ctx,i=t.options,n=i.pointLabels,s=Qn(i),r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),o=ut.options._parseFont(n);e.save(),e.font=o.string,e.textBaseline="middle";for(var a=t.chart.data.labels.length-1;a>=0;a--){var l=0===a?s/2:0,h=t.getPointPosition(a,r+l+5),u=Jn(n.fontColor,a,Z.global.defaultFontColor);e.fillStyle=u;var c=t.getIndexAngle(a),d=ut.toDegrees(c);e.textAlign=ns(d),rs(d,t._pointLabelSizes[a],h),ss(e,t.pointLabels[a],h,o.lineHeight)}e.restore()}function as(t,e,i,n){var s,r=t.ctx,o=e.circular,a=t.chart.data.labels.length,l=Jn(e.color,n-1),h=Jn(e.lineWidth,n-1);if((o||a)&&l&&h){if(r.save(),r.strokeStyle=l,r.lineWidth=h,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),o)r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{s=t.getPointPosition(0,i),r.moveTo(s.x,s.y);for(var u=1;u<a;u++)s=t.getPointPosition(u,i),r.lineTo(s.x,s.y)}r.closePath(),r.stroke(),r.restore()}}function ls(t){return ut.isNumber(t)?t:0}var hs=An.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Qn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;ut.each(e.data.datasets,(function(s,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);ut.each(s.data,(function(e,s){var r=+t.getRightValue(e);isNaN(r)||o.data[s].hidden||(i=Math.min(r,i),n=Math.max(r,n))}))}})),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Qn(this.options))},convertTicksToLabels:function(){var t=this;An.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map((function(){var e=ut.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""}))},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?is(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this,s=e.l/Math.sin(i.l),r=Math.max(e.r-n.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),a=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);s=ls(s),r=ls(r),o=ls(o),a=ls(a),n.drawingArea=Math.min(Math.floor(t-(s+r)/2),Math.floor(t-(o+a)/2)),n.setCenterPoint(s,r,o,a)},setCenterPoint:function(t,e,i,n){var s=this,r=s.width-e-s.drawingArea,o=t+s.drawingArea,a=i+s.drawingArea,l=s.height-s.paddingTop-n-s.drawingArea;s.xCenter=Math.floor((o+r)/2+s.left),s.yCenter=Math.floor((a+l)/2+s.top+s.paddingTop)},getIndexAngle:function(t){var e=this.chart,i=360/e.data.labels.length,n=e.options||{},s=n.startAngle||0,r=(t*i+s)%360;return(r<0?r+360:r)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(ut.isNullOrUndef(t))return NaN;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+i.xCenter,y:Math.sin(n)*e+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this,i=e.min,n=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:i<0&&n<0?n:i>0&&n>0?i:0)},_drawGrid:function(){var t,e,i,n=this,s=n.ctx,r=n.options,o=r.gridLines,a=r.angleLines,l=qn(a.lineWidth,o.lineWidth),h=qn(a.color,o.color);if(r.pointLabels.display&&os(n),o.display&&ut.each(n.ticks,(function(t,i){0!==i&&(e=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),as(n,o,e,i))})),a.display&&l&&h){for(s.save(),s.lineWidth=l,s.strokeStyle=h,s.setLineDash&&(s.setLineDash($n([a.borderDash,o.borderDash,[]])),s.lineDashOffset=$n([a.borderDashOffset,o.borderDashOffset,0])),t=n.chart.data.labels.length-1;t>=0;t--)e=n.getDistanceFromCenterForValue(r.ticks.reverse?n.min:n.max),i=n.getPointPosition(t,e),s.beginPath(),s.moveTo(n.xCenter,n.yCenter),s.lineTo(i.x,i.y),s.stroke();s.restore()}},_drawLabels:function(){var t=this,e=t.ctx,i=t.options,n=i.ticks;if(n.display){var s,r,o=t.getIndexAngle(0),a=ut.options._parseFont(n),l=qn(n.fontColor,Z.global.defaultFontColor);e.save(),e.font=a.string,e.translate(t.xCenter,t.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",ut.each(t.ticks,(function(i,o){(0!==o||n.reverse)&&(s=t.getDistanceFromCenterForValue(t.ticksAsNumbers[o]),n.showLabelBackdrop&&(r=e.measureText(i).width,e.fillStyle=n.backdropColor,e.fillRect(-r/2-n.backdropPaddingX,-s-a.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,a.size+2*n.backdropPaddingY)),e.fillStyle=l,e.fillText(i,0,-s))})),e.restore()}},_drawTitle:ut.noop}),us=Zn;hs._defaults=us;var cs=ut._deprecated,ds=ut.options.resolve,fs=ut.valueOrDefault,ms=Number.MIN_SAFE_INTEGER||-9007199254740991,gs=Number.MAX_SAFE_INTEGER||9007199254740991,ps={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ys=Object.keys(ps);function _s(t,e){return t-e}function vs(t){var e,i,n,s={},r=[];for(e=0,i=t.length;e<i;++e)n=t[e],s[n]||(s[n]=!0,r.push(n));return r}function bs(t){return ut.valueOrDefault(t.time.min,t.ticks.min)}function xs(t){return ut.valueOrDefault(t.time.max,t.ticks.max)}function Ms(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var s,r,o,a,l,h=[],u=[e];for(s=0,r=t.length;s<r;++s)a=t[s],a>e&&a<i&&u.push(a);for(u.push(i),s=0,r=u.length;s<r;++s)l=u[s+1],o=u[s-1],a=u[s],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===a||h.push({time:a,pos:s/(r-1)});return h}function ws(t,e,i){var n,s,r,o=0,a=t.length-1;while(o>=0&&o<=a){if(n=o+a>>1,s=t[n-1]||null,r=t[n],!s)return{lo:null,hi:r};if(r[e]<i)o=n+1;else{if(!(s[e]>i))return{lo:s,hi:r};a=n-1}}return{lo:r,hi:null}}function ks(t,e,i,n){var s=ws(t,e,i),r=s.lo?s.hi?s.lo:t[t.length-2]:t[0],o=s.lo?s.hi?s.hi:t[t.length-1]:t[1],a=o[e]-r[e],l=a?(i-r[e])/a:0,h=(o[n]-r[n])*l;return r[n]+h}function Ls(t,e){var i=t._adapter,n=t.options.time,s=n.parser,r=s||n.format,o=e;return"function"===typeof s&&(o=s(o)),ut.isFinite(o)||(o="string"===typeof r?i.parse(o,r):i.parse(o)),null!==o?+o:(s||"function"!==typeof r||(o=r(e),ut.isFinite(o)||(o=i.parse(o))),o)}function Ss(t,e){if(ut.isNullOrUndef(e))return null;var i=t.options.time,n=Ls(t,t.getRightValue(e));return null===n||i.round&&(n=+t._adapter.startOf(n,i.round)),n}function Ts(t,e,i,n){var s,r,o,a=ys.length;for(s=ys.indexOf(t);s<a-1;++s)if(r=ps[ys[s]],o=r.steps?r.steps:gs,r.common&&Math.ceil((i-e)/(o*r.size))<=n)return ys[s];return ys[a-1]}function Ds(t,e,i,n,s){var r,o;for(r=ys.length-1;r>=ys.indexOf(i);r--)if(o=ys[r],ps[o].common&&t._adapter.diff(s,n,o)>=e-1)return o;return ys[i?ys.indexOf(i):0]}function Ps(t){for(var e=ys.indexOf(t)+1,i=ys.length;e<i;++e)if(ps[ys[e]].common)return ys[e]}function Ys(t,e,i,n){var s,r=t._adapter,o=t.options,a=o.time,l=a.unit||Ts(a.minUnit,e,i,n),h=ds([a.stepSize,a.unitStepSize,1]),u="week"===l&&a.isoWeekday,c=e,d=[];if(u&&(c=+r.startOf(c,"isoWeek",u)),c=+r.startOf(c,u?"day":l),r.diff(i,e,l)>1e5*h)throw e+" and "+i+" are too far apart with stepSize of "+h+" "+l;for(s=c;s<i;s=+r.add(s,h,l))d.push(s);return s!==i&&"ticks"!==o.bounds||d.push(s),d}function Cs(t,e,i,n,s){var r,o,a=0,l=0;return s.offset&&e.length&&(r=ks(t,"time",e[0],"pos"),a=1===e.length?1-r:(ks(t,"time",e[1],"pos")-r)/2,o=ks(t,"time",e[e.length-1],"pos"),l=1===e.length?o:(o-ks(t,"time",e[e.length-2],"pos"))/2),{start:a,end:l,factor:1/(a+1+l)}}function Ns(t,e,i,n){var s,r,o=t._adapter,a=+o.startOf(e[0].value,n),l=e[e.length-1].value;for(s=a;s<=l;s=+o.add(s,1,n))r=i[s],r>=0&&(e[r].major=!0);return e}function As(t,e,i){var n,s,r=[],o={},a=e.length;for(n=0;n<a;++n)s=e[n],o[s]=n,r.push({value:s,major:!1});return 0!==a&&i?Ns(t,r,o,i):r}var Os={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Fs=Ln.extend({initialize:function(){this.mergeTicksOptions(),Ln.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,i=e.time||(e.time={}),n=t._adapter=new sn._date(e.adapters.date);return cs("time scale",i.format,"time.format","time.parser"),cs("time scale",i.min,"time.min","ticks.min"),cs("time scale",i.max,"time.max","ticks.max"),ut.mergeIf(i.displayFormats,n.formats()),Ln.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),Ln.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,s,r,o,a=this,l=a.chart,h=a._adapter,u=a.options,c=u.time.unit||"day",d=gs,f=ms,m=[],g=[],p=[],y=a._getLabels();for(t=0,i=y.length;t<i;++t)p.push(Ss(a,y[t]));for(t=0,i=(l.data.datasets||[]).length;t<i;++t)if(l.isDatasetVisible(t))if(s=l.data.datasets[t].data,ut.isObject(s[0]))for(g[t]=[],e=0,n=s.length;e<n;++e)r=Ss(a,s[e]),m.push(r),g[t][e]=r;else g[t]=p.slice(0),o||(m=m.concat(p),o=!0);else g[t]=[];p.length&&(d=Math.min(d,p[0]),f=Math.max(f,p[p.length-1])),m.length&&(m=i>1?vs(m).sort(_s):m.sort(_s),d=Math.min(d,m[0]),f=Math.max(f,m[m.length-1])),d=Ss(a,bs(u))||d,f=Ss(a,xs(u))||f,d=d===gs?+h.startOf(Date.now(),c):d,f=f===ms?+h.endOf(Date.now(),c)+1:f,a.min=Math.min(d,f),a.max=Math.max(d+1,f),a._table=[],a._timestamps={data:m,datasets:g,labels:p}},buildTicks:function(){var t,e,i,n=this,s=n.min,r=n.max,o=n.options,a=o.ticks,l=o.time,h=n._timestamps,u=[],c=n.getLabelCapacity(s),d=a.source,f=o.distribution;for(h="data"===d||"auto"===d&&"series"===f?h.data:"labels"===d?h.labels:Ys(n,s,r,c),"ticks"===o.bounds&&h.length&&(s=h[0],r=h[h.length-1]),s=Ss(n,bs(o))||s,r=Ss(n,xs(o))||r,t=0,e=h.length;t<e;++t)i=h[t],i>=s&&i<=r&&u.push(i);return n.min=s,n.max=r,n._unit=l.unit||(a.autoSkip?Ts(l.minUnit,n.min,n.max,c):Ds(n,u.length,l.minUnit,n.min,n.max)),n._majorUnit=a.major.enabled&&"year"!==n._unit?Ps(n._unit):void 0,n._table=Ms(n._timestamps.data,s,r,f),n._offsets=Cs(n._table,u,s,r,o),a.reverse&&u.reverse(),As(n,u,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i._adapter,s=i.chart.data,r=i.options.time,o=s.labels&&t<s.labels.length?s.labels[t]:"",a=s.datasets[e].data[t];return ut.isObject(a)&&(o=i.getRightValue(a)),r.tooltipFormat?n.format(Ls(i,o),r.tooltipFormat):"string"===typeof o?o:n.format(Ls(i,o),r.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var s=this,r=s._adapter,o=s.options,a=o.time.displayFormats,l=a[s._unit],h=s._majorUnit,u=a[h],c=i[e],d=o.ticks,f=h&&u&&c&&c.major,m=r.format(t,n||(f?u:l)),g=f?d.major:d.minor,p=ds([g.callback,g.userCallback,d.callback,d.userCallback]);return p?p(m,e,i):m},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this,i=e._offsets,n=ks(e._table,"time",t,"pos");return e.getPixelForDecimal((i.start+n)*i.factor)},getPixelForValue:function(t,e,i){var n=this,s=null;if(void 0!==e&&void 0!==i&&(s=n._timestamps.datasets[i][e]),null===s&&(s=Ss(n,t)),null!==s)return n.getPixelForOffset(s)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._offsets,n=e.getDecimalForPixel(t)/i.factor-i.end,s=ks(e._table,"pos",n,"time");return e._adapter._create(s)},_getLabelSize:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,s=ut.toRadians(e.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(s),o=Math.sin(s),a=fs(i.fontSize,Z.global.defaultFontSize);return{w:n*r+a*o,h:n*o+a*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,i=e.options.time,n=i.displayFormats,s=n[i.unit]||n.millisecond,r=e.tickFormatFunction(t,0,As(e,[t],e._majorUnit),s),o=e._getLabelSize(r),a=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&a--,a>0?a:1}}),Rs=Os;Fs._defaults=Rs;var Es={category:Dn,linear:Hn,logarithmic:Kn,radialLinear:hs,time:Fs},Is={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};sn._date.override("function"===typeof t?{_id:"moment",formats:function(){return Is},parse:function(e,i){return"string"===typeof e&&"string"===typeof i?e=t(e,i):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,i){return t(e).format(i)},add:function(e,i,n){return t(e).add(i,n).valueOf()},diff:function(e,i,n){return t(e).diff(t(i),n)},startOf:function(e,i,n){return e=t(e),"isoWeek"===i?e.isoWeekday(n).valueOf():e.startOf(i).valueOf()},endOf:function(e,i){return t(e).endOf(i).valueOf()},_create:function(e){return t(e)}}:{}),Z._set("global",{plugins:{filler:{propagate:!0}}});var js={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),s=n&&i.isDatasetVisible(e),r=s&&n.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return ut.isArray(e)?function(t,i){return e[i]}:function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};function Hs(t,e,i){var n,s=t._model||{},r=s.fill;if(void 0===r&&(r=!!s.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(n=parseFloat(r,10),isFinite(n)&&Math.floor(n)===n)return"-"!==r[0]&&"+"!==r[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function Bs(t){var e,i=t.el._model||{},n=t.el._scale||{},s=t.fill,r=null;if(isFinite(s))return null;if("start"===s?r=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===s?r=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?r=i.scaleZero:n.getBasePixel&&(r=n.getBasePixel()),void 0!==r&&null!==r){if(void 0!==r.x&&void 0!==r.y)return r;if(ut.isFinite(r))return e=n.isHorizontal(),{x:e?r:null,y:e?null:r}}return null}function zs(t){var e,i,n,s,r,o=t.el._scale,a=o.options,l=o.chart.data.labels.length,h=t.fill,u=[];if(!l)return null;for(e=a.ticks.reverse?o.max:o.min,i=a.ticks.reverse?o.min:o.max,n=o.getPointPositionForValue(0,e),s=0;s<l;++s)r="start"===h||"end"===h?o.getPointPositionForValue(s,"start"===h?e:i):o.getBasePosition(s),a.gridLines.circular&&(r.cx=n.x,r.cy=n.y,r.angle=o.getIndexAngle(s)-Math.PI/2),u.push(r);return u}function Vs(t){var e=t.el._scale||{};return e.getPointPositionForValue?zs(t):Bs(t)}function Ws(t,e,i){var n,s=t[e],r=s.fill,o=[e];if(!i)return r;while(!1!==r&&-1===o.indexOf(r)){if(!isFinite(r))return r;if(n=t[r],!n)return!1;if(n.visible)return r;o.push(r),r=n.fill}return!1}function Gs(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),js[i](t))}function Us(t){return t&&!t.skip}function Ks(t,e,i,n,s){var r,o,a,l;if(n&&s){for(t.moveTo(e[0].x,e[0].y),r=1;r<n;++r)ut.canvas.lineTo(t,e[r-1],e[r]);if(void 0===i[0].angle)for(t.lineTo(i[s-1].x,i[s-1].y),r=s-1;r>0;--r)ut.canvas.lineTo(t,i[r],i[r-1],!0);else for(o=i[0].cx,a=i[0].cy,l=Math.sqrt(Math.pow(i[0].x-o,2)+Math.pow(i[0].y-a,2)),r=s-1;r>0;--r)t.arc(o,a,l,i[r].angle,i[r-1].angle,!0)}}function Xs(t,e,i,n,s,r){var o,a,l,h,u,c,d,f,m=e.length,g=n.spanGaps,p=[],y=[],_=0,v=0;for(t.beginPath(),o=0,a=m;o<a;++o)l=o%m,h=e[l]._view,u=i(h,l,n),c=Us(h),d=Us(u),r&&void 0===f&&c&&(f=o+1,a=m+f),c&&d?(_=p.push(h),v=y.push(u)):_&&v&&(g?(c&&p.push(h),d&&y.push(u)):(Ks(t,p,y,_,v),_=v=0,p=[],y=[]));Ks(t,p,y,_,v),t.closePath(),t.fillStyle=s,t.fill()}var qs={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,s,r,o=(t.data.datasets||[]).length,a=e.propagate,l=[];for(n=0;n<o;++n)i=t.getDatasetMeta(n),s=i.dataset,r=null,s&&s._model&&s instanceof Jt.Line&&(r={visible:t.isDatasetVisible(n),fill:Hs(s,n,o),chart:t,el:s}),i.$filler=r,l.push(r);for(n=0;n<o;++n)r=l[n],r&&(r.fill=Ws(l,n,a),r.boundary=Vs(r),r.mapper=Gs(r))},beforeDatasetsDraw:function(t){var e,i,n,s,r,o,a,l=t._getSortedVisibleDatasetMetas(),h=t.ctx;for(i=l.length-1;i>=0;--i)e=l[i].$filler,e&&e.visible&&(n=e.el,s=n._view,r=n._children||[],o=e.mapper,a=s.backgroundColor||Z.global.defaultColor,o&&a&&r.length&&(ut.canvas.clipArea(h,t.chartArea),Xs(h,r,o,s,a,n._loop),ut.canvas.unclipArea(h)))}},Js=ut.rtl.getRtlAdapter,$s=ut.noop,Zs=ut.valueOrDefault;function Qs(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}Z._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,s=n.getDatasetMeta(i);s.hidden=null===s.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,i=t.options.legend||{},n=i.labels&&i.labels.usePointStyle;return t._getSortedDatasetMetas().map((function(i){var s=i.controller.getStyle(n?0:void 0);return{text:e[i.index].label,fillStyle:s.backgroundColor,hidden:!t.isDatasetVisible(i.index),lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:s.borderWidth,strokeStyle:s.borderColor,pointStyle:s.pointStyle,rotation:s.rotation,datasetIndex:i.index}}),this)}}},legendCallback:function(t){var e,i,n,s,r=document.createElement("ul"),o=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,i=o.length;e<i;e++)n=r.appendChild(document.createElement("li")),s=n.appendChild(document.createElement("span")),s.style.backgroundColor=o[e].backgroundColor,o[e].label&&n.appendChild(document.createTextNode(o[e].label));return r.outerHTML}});var tr=_t.extend({initialize:function(t){var e=this;ut.extend(e,t),e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1},beforeUpdate:$s,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:$s,beforeSetDimensions:$s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:$s,beforeBuildLabels:$s,buildLabels:function(){var t=this,e=t.options.labels||{},i=ut.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter((function(i){return e.filter(i,t.chart.data)}))),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:$s,beforeFit:$s,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,s=t.ctx,r=ut.options._parseFont(i),o=r.size,a=t.legendHitBoxes=[],l=t.minSize,h=t.isHorizontal();if(h?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n){if(s.font=r.string,h){var u=t.lineWidths=[0],c=0;s.textAlign="left",s.textBaseline="middle",ut.each(t.legendItems,(function(t,e){var n=Qs(i,o),r=n+o/2+s.measureText(t.text).width;(0===e||u[u.length-1]+r+2*i.padding>l.width)&&(c+=o+i.padding,u[u.length-(e>0?0:1)]=0),a[e]={left:0,top:0,width:r,height:o},u[u.length-1]+=r+i.padding})),l.height+=c}else{var d=i.padding,f=t.columnWidths=[],m=t.columnHeights=[],g=i.padding,p=0,y=0;ut.each(t.legendItems,(function(t,e){var n=Qs(i,o),r=n+o/2+s.measureText(t.text).width;e>0&&y+o+2*d>l.height&&(g+=p+i.padding,f.push(p),m.push(y),p=0,y=0),p=Math.max(p,r),y+=o+d,a[e]={left:0,top:0,width:r,height:o}})),g+=p,f.push(p),m.push(y),l.width+=g}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:$s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,i=e.labels,n=Z.global,s=n.defaultColor,r=n.elements.line,o=t.height,a=t.columnHeights,l=t.width,h=t.lineWidths;if(e.display){var u,c=Js(e.rtl,t.left,t.minSize.width),d=t.ctx,f=Zs(i.fontColor,n.defaultFontColor),m=ut.options._parseFont(i),g=m.size;d.textAlign=c.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=f,d.fillStyle=f,d.font=m.string;var p=Qs(i,g),y=t.legendHitBoxes,_=function(t,e,n){if(!(isNaN(p)||p<=0)){d.save();var o=Zs(n.lineWidth,r.borderWidth);if(d.fillStyle=Zs(n.fillStyle,s),d.lineCap=Zs(n.lineCap,r.borderCapStyle),d.lineDashOffset=Zs(n.lineDashOffset,r.borderDashOffset),d.lineJoin=Zs(n.lineJoin,r.borderJoinStyle),d.lineWidth=o,d.strokeStyle=Zs(n.strokeStyle,s),d.setLineDash&&d.setLineDash(Zs(n.lineDash,r.borderDash)),i&&i.usePointStyle){var a=p*Math.SQRT2/2,l=c.xPlus(t,p/2),h=e+g/2;ut.canvas.drawPoint(d,n.pointStyle,a,l,h,n.rotation)}else d.fillRect(c.leftForLtr(t,p),e,p,g),0!==o&&d.strokeRect(c.leftForLtr(t,p),e,p,g);d.restore()}},v=function(t,e,i,n){var s=g/2,r=c.xPlus(t,p+s),o=e+s;d.fillText(i.text,r,o),i.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(r,o),d.lineTo(c.xPlus(r,n),o),d.stroke())},b=function(t,n){switch(e.align){case"start":return i.padding;case"end":return t-n;default:return(t-n+i.padding)/2}},x=t.isHorizontal();u=x?{x:t.left+b(l,h[0]),y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+b(o,a[0]),line:0},ut.rtl.overrideTextDirection(t.ctx,e.textDirection);var M=g+i.padding;ut.each(t.legendItems,(function(e,n){var s=d.measureText(e.text).width,r=p+g/2+s,f=u.x,m=u.y;c.setWidth(t.minSize.width),x?n>0&&f+r+i.padding>t.left+t.minSize.width&&(m=u.y+=M,u.line++,f=u.x=t.left+b(l,h[u.line])):n>0&&m+M>t.top+t.minSize.height&&(f=u.x=f+t.columnWidths[u.line]+i.padding,u.line++,m=u.y=t.top+b(o,a[u.line]));var w=c.x(f);_(w,m,e),y[n].left=c.leftForLtr(w,y[n].width),y[n].top=m,v(w,m,e,s),x?u.x+=r+i.padding:u.y+=M})),ut.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var i,n,s,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(s=r.legendHitBoxes,i=0;i<s.length;++i)if(n=s[i],t>=n.left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return r.legendItems[i];return null},handleEvent:function(t){var e,i=this,n=i.options,s="mouseup"===t.type?"click":t.type;if("mousemove"===s){if(!n.onHover&&!n.onLeave)return}else{if("click"!==s)return;if(!n.onClick)return}e=i._getLegendItemAt(t.x,t.y),"click"===s?e&&n.onClick&&n.onClick.call(i,t.native,e):(n.onLeave&&e!==i._hoveredItem&&(i._hoveredItem&&n.onLeave.call(i,t.native,i._hoveredItem),i._hoveredItem=e),n.onHover&&e&&n.onHover.call(i,t.native,e))}});function er(t,e){var i=new tr({ctx:t.ctx,options:e,chart:t});qe.configure(t,i,e),qe.addBox(t,i),t.legend=i}var ir={id:"legend",_element:tr,beforeInit:function(t){var e=t.options.legend;e&&er(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(ut.mergeIf(e,Z.global.legend),i?(qe.configure(t,i,e),i.options=e):er(t,e)):i&&(qe.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}},nr=ut.noop;Z._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var sr=_t.extend({initialize:function(t){var e=this;ut.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:nr,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:nr,beforeSetDimensions:nr,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:nr,beforeBuildLabels:nr,buildLabels:nr,afterBuildLabels:nr,beforeFit:nr,fit:function(){var t,e,i=this,n=i.options,s=i.minSize={},r=i.isHorizontal();n.display?(t=ut.isArray(n.text)?n.text.length:1,e=t*ut.options._parseFont(n).lineHeight+2*n.padding,i.width=s.width=r?i.maxWidth:e,i.height=s.height=r?e:i.maxHeight):i.width=s.width=i.height=s.height=0},afterFit:nr,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var n,s,r,o=ut.options._parseFont(i),a=o.lineHeight,l=a/2+i.padding,h=0,u=t.top,c=t.left,d=t.bottom,f=t.right;e.fillStyle=ut.valueOrDefault(i.fontColor,Z.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(s=c+(f-c)/2,r=u+l,n=f-c):(s="left"===i.position?c+l:f-l,r=u+(d-u)/2,n=d-u,h=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(s,r),e.rotate(h),e.textAlign="center",e.textBaseline="middle";var m=i.text;if(ut.isArray(m))for(var g=0,p=0;p<m.length;++p)e.fillText(m[p],0,g,n),g+=a;else e.fillText(m,0,0,n);e.restore()}}});function rr(t,e){var i=new sr({ctx:t.ctx,options:e,chart:t});qe.configure(t,i,e),qe.addBox(t,i),t.titleBlock=i}var or={id:"title",_element:sr,beforeInit:function(t){var e=t.options.title;e&&rr(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(ut.mergeIf(e,Z.global.title),i?(qe.configure(t,i,e),i.options=e):rr(t,e)):i&&(qe.removeBox(t,i),delete t.titleBlock)}},ar={},lr=qs,hr=ir,ur=or;for(var cr in ar.filler=lr,ar.legend=hr,ar.title=ur,Zi.helpers=ut,Qi(),Zi._adapters=sn,Zi.Animation=bt,Zi.animationService=xt,Zi.controllers=Pe,Zi.DatasetController=Tt,Zi.defaults=Z,Zi.Element=_t,Zi.elements=Jt,Zi.Interaction=Re,Zi.layouts=qe,Zi.platform=Li,Zi.plugins=Si,Zi.Scale=Ln,Zi.scaleService=Ti,Zi.Ticks=rn,Zi.Tooltip=zi,Zi.helpers.each(Es,(function(t,e){Zi.scaleService.registerScaleType(e,t,t._defaults)})),ar)ar.hasOwnProperty(cr)&&Zi.plugins.register(ar[cr]);Zi.platform.initialize();var dr=Zi;return"undefined"!==typeof window&&(window.Chart=Zi),Zi.Chart=Zi,Zi.Legend=ar.legend._element,Zi.Title=ar.title._element,Zi.pluginService=Zi.plugins,Zi.PluginBase=Zi.Element.extend({}),Zi.canvasHelpers=Zi.helpers.canvas,Zi.layoutService=Zi.layouts,Zi.LinearScaleBase=An,Zi.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){Zi[t]=function(e,i){return new Zi(e,Zi.helpers.merge(i||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),dr}))},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,i){var n=i(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,i){var n=i(5112),s=i(30),r=i(3070),o=n("unscopables"),a=Array.prototype;void 0==a[o]&&r.f(a,o,{configurable:!0,value:s(null)}),t.exports=function(t){a[o][t]=!0}},5787:function(t){t.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},9670:function(t,e,i){var n=i(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},8457:function(t,e,i){"use strict";var n=i(9974),s=i(7908),r=i(3411),o=i(7659),a=i(7466),l=i(7493),h=i(1246);t.exports=function(t){var e,i,u,c,d,f,m=s(t),g="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,_=void 0!==y,v=h(m),b=0;if(_&&(y=n(y,p>2?arguments[2]:void 0,2)),void 0==v||g==Array&&o(v))for(e=a(m.length),i=new g(e);e>b;b++)f=_?y(m[b],b):m[b],l(i,b,f);else for(c=v.call(m),d=c.next,i=new g;!(u=d.call(c)).done;b++)f=_?r(c,y,[u.value,b],!0):u.value,l(i,b,f);return i.length=b,i}},1318:function(t,e,i){var n=i(5656),s=i(7466),r=i(1400),o=function(t){return function(e,i,o){var a,l=n(e),h=s(l.length),u=r(o,h);if(t&&i!=i){while(h>u)if(a=l[u++],a!=a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2092:function(t,e,i){var n=i(9974),s=i(8361),r=i(7908),o=i(7466),a=i(5417),l=[].push,h=function(t){var e=1==t,i=2==t,h=3==t,u=4==t,c=6==t,d=7==t,f=5==t||c;return function(m,g,p,y){for(var _,v,b=r(m),x=s(b),M=n(g,p,3),w=o(x.length),k=0,L=y||a,S=e?L(m,w):i||d?L(m,0):void 0;w>k;k++)if((f||k in x)&&(_=x[k],v=M(_,k,b),t))if(e)S[k]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return k;case 2:l.call(S,_)}else switch(t){case 4:return!1;case 7:l.call(S,_)}return c?-1:h||u?u:S}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterOut:h(7)}},1194:function(t,e,i){var n=i(7293),s=i(5112),r=i(7392),o=s("species");t.exports=function(t){return r>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,i){"use strict";var n=i(7293);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},5417:function(t,e,i){var n=i(111),s=i(3157),r=i(5112),o=r("species");t.exports=function(t,e){var i;return s(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?n(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},3411:function(t,e,i){var n=i(9670),s=i(9212);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){throw s(t),o}}},7072:function(t,e,i){var n=i(5112),s=n("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[s]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var n={};n[s]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(l){}return i}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,i){var n=i(1694),s=i(4326),r=i(5112),o=r("toStringTag"),a="Arguments"==s(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(i){}};t.exports=n?s:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=l(e=Object(t),o))?i:a?s(e):"Object"==(n=s(e))&&"function"==typeof e.callee?"Arguments":n}},9920:function(t,e,i){var n=i(6656),s=i(3887),r=i(1236),o=i(3070);t.exports=function(t,e){for(var i=s(e),a=o.f,l=r.f,h=0;h<i.length;h++){var u=i[h];n(t,u)||a(t,u,l(e,u))}}},8544:function(t,e,i){var n=i(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,i){"use strict";var n=i(3383).IteratorPrototype,s=i(30),r=i(9114),o=i(8003),a=i(7497),l=function(){return this};t.exports=function(t,e,i){var h=e+" Iterator";return t.prototype=s(n,{next:r(1,i)}),o(t,h,!1,!0),a[h]=l,t}},8880:function(t,e,i){var n=i(9781),s=i(3070),r=i(9114);t.exports=n?function(t,e,i){return s.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7493:function(t,e,i){"use strict";var n=i(7593),s=i(3070),r=i(9114);t.exports=function(t,e,i){var o=n(e);o in t?s.f(t,o,r(0,i)):t[o]=i}},654:function(t,e,i){"use strict";var n=i(2109),s=i(4994),r=i(9518),o=i(7674),a=i(8003),l=i(8880),h=i(1320),u=i(5112),c=i(1913),d=i(7497),f=i(3383),m=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,p=u("iterator"),y="keys",_="values",v="entries",b=function(){return this};t.exports=function(t,e,i,u,f,x,M){s(i,e,u);var w,k,L,S=function(t){if(t===f&&C)return C;if(!g&&t in P)return P[t];switch(t){case y:return function(){return new i(this,t)};case _:return function(){return new i(this,t)};case v:return function(){return new i(this,t)}}return function(){return new i(this)}},T=e+" Iterator",D=!1,P=t.prototype,Y=P[p]||P["@@iterator"]||f&&P[f],C=!g&&Y||S(f),N="Array"==e&&P.entries||Y;if(N&&(w=r(N.call(new t)),m!==Object.prototype&&w.next&&(c||r(w)===m||(o?o(w,m):"function"!=typeof w[p]&&l(w,p,b)),a(w,T,!0,!0),c&&(d[T]=b))),f==_&&Y&&Y.name!==_&&(D=!0,C=function(){return Y.call(this)}),c&&!M||P[p]===C||l(P,p,C),d[e]=C,f)if(k={values:S(_),keys:x?C:S(y),entries:S(v)},M)for(L in k)(g||D||!(L in P))&&h(P,L,k[L]);else n({target:e,proto:!0,forced:g||D},k);return k}},7235:function(t,e,i){var n=i(857),s=i(6656),r=i(6061),o=i(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});s(e,t)||o(e,t,{value:r.f(t)})}},9781:function(t,e,i){var n=i(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,i){var n=i(7854),s=i(111),r=n.document,o=s(r)&&s(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:function(t,e,i){var n=i(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},5268:function(t,e,i){var n=i(4326),s=i(7854);t.exports="process"==n(s.process)},1036:function(t,e,i){var n=i(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:function(t,e,i){var n=i(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,i){var n,s,r=i(7854),o=i(8113),a=r.process,l=a&&a.versions,h=l&&l.v8;h?(n=h.split("."),s=n[0]+n[1]):o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(s=n[1]))),t.exports=s&&+s},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,i){var n=i(7854),s=i(1236).f,r=i(8880),o=i(1320),a=i(3505),l=i(9920),h=i(4705);t.exports=function(t,e){var i,u,c,d,f,m,g=t.target,p=t.global,y=t.stat;if(u=p?n:y?n[g]||a(g,{}):(n[g]||{}).prototype,u)for(c in e){if(f=e[c],t.noTargetGet?(m=s(u,c),d=m&&m.value):d=u[c],i=h(p?c:g+(y?".":"#")+c,t.forced),!i&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&r(f,"sham",!0),o(u,c,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},9974:function(t,e,i){var n=i(3099);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,i){var n=i(857),s=i(7854),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(n[t])||r(s[t]):n[t]&&n[t][e]||s[t]&&s[t][e]}},1246:function(t,e,i){var n=i(648),s=i(7497),r=i(5112),o=r("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||s[n(t)]}},7854:function(t,e,i){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,i){return e.call(t,i)}},3501:function(t){t.exports={}},842:function(t,e,i){var n=i(7854);t.exports=function(t,e){var i=n.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},490:function(t,e,i){var n=i(5005);t.exports=n("document","documentElement")},4664:function(t,e,i){var n=i(9781),s=i(7293),r=i(317);t.exports=!n&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,i){var n=i(7293),s=i(4326),r="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?r.call(t,""):Object(t)}:Object},9587:function(t,e,i){var n=i(111),s=i(7674);t.exports=function(t,e,i){var r,o;return s&&"function"==typeof(r=e.constructor)&&r!==i&&n(o=r.prototype)&&o!==i.prototype&&s(t,o),t}},2788:function(t,e,i){var n=i(5465),s=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return s.call(t)}),t.exports=n.inspectSource},9909:function(t,e,i){var n,s,r,o=i(8536),a=i(7854),l=i(111),h=i(8880),u=i(6656),c=i(5465),d=i(6200),f=i(3501),m=a.WeakMap,g=function(t){return r(t)?s(t):n(t,{})},p=function(t){return function(e){var i;if(!l(e)||(i=s(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(o){var y=c.state||(c.state=new m),_=y.get,v=y.has,b=y.set;n=function(t,e){return e.facade=t,b.call(y,t,e),e},s=function(t){return _.call(y,t)||{}},r=function(t){return v.call(y,t)}}else{var x=d("state");f[x]=!0,n=function(t,e){return e.facade=t,h(t,x,e),e},s=function(t){return u(t,x)?t[x]:{}},r=function(t){return u(t,x)}}t.exports={set:n,get:s,has:r,enforce:g,getterFor:p}},7659:function(t,e,i){var n=i(5112),s=i(7497),r=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||o[r]===t)}},3157:function(t,e,i){var n=i(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,i){var n=i(7293),s=/#|\.prototype\./,r=function(t,e){var i=a[o(t)];return i==h||i!=l&&("function"==typeof e?n(e):!!e)},o=r.normalize=function(t){return String(t).replace(s,".").toLowerCase()},a=r.data={},l=r.NATIVE="N",h=r.POLYFILL="P";t.exports=r},111:function(t){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},1913:function(t){t.exports=!1},408:function(t,e,i){var n=i(9670),s=i(7659),r=i(7466),o=i(9974),a=i(1246),l=i(9212),h=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,i){var u,c,d,f,m,g,p,y=i&&i.that,_=!(!i||!i.AS_ENTRIES),v=!(!i||!i.IS_ITERATOR),b=!(!i||!i.INTERRUPTED),x=o(e,y,1+_+b),M=function(t){return u&&l(u),new h(!0,t)},w=function(t){return _?(n(t),b?x(t[0],t[1],M):x(t[0],t[1])):b?x(t,M):x(t)};if(v)u=t;else{if(c=a(t),"function"!=typeof c)throw TypeError("Target is not iterable");if(s(c)){for(d=0,f=r(t.length);f>d;d++)if(m=w(t[d]),m&&m instanceof h)return m;return new h(!1)}u=c.call(t)}g=u.next;while(!(p=g.call(u)).done){try{m=w(p.value)}catch(k){throw l(u),k}if("object"==typeof m&&m&&m instanceof h)return m}return new h(!1)}},9212:function(t,e,i){var n=i(9670);t.exports=function(t){var e=t["return"];if(void 0!==e)return n(e.call(t)).value}},3383:function(t,e,i){"use strict";var n,s,r,o=i(7293),a=i(9518),l=i(8880),h=i(6656),u=i(5112),c=i(1913),d=u("iterator"),f=!1,m=function(){return this};[].keys&&(r=[].keys(),"next"in r?(s=a(a(r)),s!==Object.prototype&&(n=s)):f=!0);var g=void 0==n||o((function(){var t={};return n[d].call(t)!==t}));g&&(n={}),c&&!g||h(n,d)||l(n,d,m),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},7497:function(t){t.exports={}},5948:function(t,e,i){var n,s,r,o,a,l,h,u,c=i(7854),d=i(1236).f,f=i(261).set,m=i(6833),g=i(1036),p=i(5268),y=c.MutationObserver||c.WebKitMutationObserver,_=c.document,v=c.process,b=c.Promise,x=d(c,"queueMicrotask"),M=x&&x.value;M||(n=function(){var t,e;p&&(t=v.domain)&&t.exit();while(s){e=s.fn,s=s.next;try{e()}catch(i){throw s?o():r=void 0,i}}r=void 0,t&&t.enter()},m||p||g||!y||!_?b&&b.resolve?(h=b.resolve(void 0),u=h.then,o=function(){u.call(h,n)}):o=p?function(){v.nextTick(n)}:function(){f.call(c,n)}:(a=!0,l=_.createTextNode(""),new y(n).observe(l,{characterData:!0}),o=function(){l.data=a=!a})),t.exports=M||function(t){var e={fn:t,next:void 0};r&&(r.next=e),s||(s=e,o()),r=e}},3366:function(t,e,i){var n=i(7854);t.exports=n.Promise},133:function(t,e,i){var n=i(5268),s=i(7392),r=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!Symbol.sham&&(n?38===s:s>37&&s<41)}))},8536:function(t,e,i){var n=i(7854),s=i(2788),r=n.WeakMap;t.exports="function"===typeof r&&/native code/.test(s(r))},8523:function(t,e,i){"use strict";var n=i(3099),s=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new s(t)}},1574:function(t,e,i){"use strict";var n=i(9781),s=i(7293),r=i(1956),o=i(5181),a=i(5296),l=i(7908),h=i(8361),u=Object.assign,c=Object.defineProperty;t.exports=!u||s((function(){if(n&&1!==u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||r(u({},e)).join("")!=s}))?function(t,e){var i=l(t),s=arguments.length,u=1,c=o.f,d=a.f;while(s>u){var f,m=h(arguments[u++]),g=c?r(m).concat(c(m)):r(m),p=g.length,y=0;while(p>y)f=g[y++],n&&!d.call(m,f)||(i[f]=m[f])}return i}:u},30:function(t,e,i){var n,s=i(9670),r=i(6048),o=i(748),a=i(3501),l=i(490),h=i(317),u=i(6200),c=">",d="<",f="prototype",m="script",g=u("IE_PROTO"),p=function(){},y=function(t){return d+m+c+t+d+"/"+m+c},_=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=h("iframe"),i="java"+m+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},b=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}b=n?_(n):v();var t=o.length;while(t--)delete b[f][o[t]];return b()};a[g]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(p[f]=s(t),i=new p,p[f]=null,i[g]=t):i=b(),void 0===e?i:r(i,e)}},6048:function(t,e,i){var n=i(9781),s=i(3070),r=i(9670),o=i(1956);t.exports=n?Object.defineProperties:function(t,e){r(t);var i,n=o(e),a=n.length,l=0;while(a>l)s.f(t,i=n[l++],e[i]);return t}},3070:function(t,e,i){var n=i(9781),s=i(4664),r=i(9670),o=i(7593),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(r(t),e=o(e,!0),r(i),s)try{return a(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:function(t,e,i){var n=i(9781),s=i(5296),r=i(9114),o=i(5656),a=i(7593),l=i(6656),h=i(4664),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=o(t),e=a(e,!0),h)try{return u(t,e)}catch(i){}if(l(t,e))return r(!s.f.call(t,e),t[e])}},1156:function(t,e,i){var n=i(5656),s=i(8006).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return s(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?a(t):s(n(t))}},8006:function(t,e,i){var n=i(6324),s=i(748),r=s.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,i){var n=i(6656),s=i(7908),r=i(6200),o=i(8544),a=r("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=s(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},6324:function(t,e,i){var n=i(6656),s=i(5656),r=i(1318).indexOf,o=i(3501);t.exports=function(t,e){var i,a=s(t),l=0,h=[];for(i in a)!n(o,i)&&n(a,i)&&h.push(i);while(e.length>l)n(a,i=e[l++])&&(~r(h,i)||h.push(i));return h}},1956:function(t,e,i){var n=i(6324),s=i(748);t.exports=Object.keys||function(t){return n(t,s)}},5296:function(t,e){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!i.call({1:2},1);e.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},7674:function(t,e,i){var n=i(9670),s=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(r){}return function(i,r){return n(i),s(r),e?t.call(i,r):i.__proto__=r,i}}():void 0)},4699:function(t,e,i){var n=i(9781),s=i(1956),r=i(5656),o=i(5296).f,a=function(t){return function(e){var i,a=r(e),l=s(a),h=l.length,u=0,c=[];while(h>u)i=l[u++],n&&!o.call(a,i)||c.push(t?[i,a[i]]:a[i]);return c}};t.exports={entries:a(!0),values:a(!1)}},288:function(t,e,i){"use strict";var n=i(1694),s=i(648);t.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},3887:function(t,e,i){var n=i(5005),s=i(8006),r=i(5181),o=i(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},857:function(t,e,i){var n=i(7854);t.exports=n},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},9478:function(t,e,i){var n=i(9670),s=i(111),r=i(8523);t.exports=function(t,e){if(n(t),s(e)&&e.constructor===t)return e;var i=r.f(t),o=i.resolve;return o(e),i.promise}},2248:function(t,e,i){var n=i(1320);t.exports=function(t,e,i){for(var s in e)n(t,s,e[s],i);return t}},1320:function(t,e,i){var n=i(7854),s=i(8880),r=i(6656),o=i(3505),a=i(2788),l=i(9909),h=l.get,u=l.enforce,c=String(String).split("String");(t.exports=function(t,e,i,a){var l,h=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||r(i,"name")||s(i,"name",e),l=u(i),l.source||(l.source=c.join("string"==typeof e?e:""))),t!==n?(h?!f&&t[e]&&(d=!0):delete t[e],d?t[e]=i:s(t,e,i)):d?t[e]=i:o(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||a(this)}))},2261:function(t,e,i){"use strict";var n=i(7066),s=i(2999),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],c=l||u||h;c&&(a=function(t){var e,i,s,a,c=this,d=h&&c.sticky,f=n.call(c),m=c.source,g=0,p=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),p=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(m="(?: "+m+")",p=" "+p,g++),i=new RegExp("^(?:"+m+")",f)),u&&(i=new RegExp("^"+m+"$(?!\\s)",f)),l&&(e=c.lastIndex),s=r.call(d?i:c,p),d?s?(s.input=s.input.slice(g),s[0]=s[0].slice(g),s.index=c.lastIndex,c.lastIndex+=s[0].length):c.lastIndex=0:l&&s&&(c.lastIndex=c.global?s.index+s[0].length:e),u&&s&&s.length>1&&o.call(s[0],i,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(s[a]=void 0)})),s}),t.exports=a},7066:function(t,e,i){"use strict";var n=i(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,i){"use strict";var n=i(7293);function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:function(t){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,i){var n=i(7854),s=i(8880);t.exports=function(t,e){try{s(n,t,e)}catch(i){n[t]=e}return e}},6340:function(t,e,i){"use strict";var n=i(5005),s=i(3070),r=i(5112),o=i(9781),a=r("species");t.exports=function(t){var e=n(t),i=s.f;o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},8003:function(t,e,i){var n=i(3070).f,s=i(6656),r=i(5112),o=r("toStringTag");t.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},6200:function(t,e,i){var n=i(2309),s=i(9711),r=n("keys");t.exports=function(t){return r[t]||(r[t]=s(t))}},5465:function(t,e,i){var n=i(7854),s=i(3505),r="__core-js_shared__",o=n[r]||s(r,{});t.exports=o},2309:function(t,e,i){var n=i(1913),s=i(5465);(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,i){var n=i(9670),s=i(3099),r=i(5112),o=r("species");t.exports=function(t,e){var i,r=n(t).constructor;return void 0===r||void 0==(i=n(r)[o])?e:s(i)}},8710:function(t,e,i){var n=i(9958),s=i(4488),r=function(t){return function(e,i){var r,o,a=String(s(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(r=a.charCodeAt(l),r<55296||r>56319||l+1===h||(o=a.charCodeAt(l+1))<56320||o>57343?t?a.charAt(l):r:t?a.slice(l,l+2):o-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},3111:function(t,e,i){var n=i(4488),s=i(1361),r="["+s+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),l=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},261:function(t,e,i){var n,s,r,o=i(7854),a=i(7293),l=i(9974),h=i(490),u=i(317),c=i(6833),d=i(5268),f=o.location,m=o.setImmediate,g=o.clearImmediate,p=o.process,y=o.MessageChannel,_=o.Dispatch,v=0,b={},x="onreadystatechange",M=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},w=function(t){return function(){M(t)}},k=function(t){M(t.data)},L=function(t){o.postMessage(t+"",f.protocol+"//"+f.host)};m&&g||(m=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return b[++v]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(v),v},g=function(t){delete b[t]},d?n=function(t){p.nextTick(w(t))}:_&&_.now?n=function(t){_.now(w(t))}:y&&!c?(s=new y,r=s.port2,s.port1.onmessage=k,n=l(r.postMessage,r,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&f&&"file:"!==f.protocol&&!a(L)?(n=L,o.addEventListener("message",k,!1)):n=x in u("script")?function(t){h.appendChild(u("script"))[x]=function(){h.removeChild(this),M(t)}}:function(t){setTimeout(w(t),0)}),t.exports={set:m,clear:g}},1400:function(t,e,i){var n=i(9958),s=Math.max,r=Math.min;t.exports=function(t,e){var i=n(t);return i<0?s(i+e,0):r(i,e)}},5656:function(t,e,i){var n=i(8361),s=i(4488);t.exports=function(t){return n(s(t))}},9958:function(t){var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7466:function(t,e,i){var n=i(9958),s=Math.min;t.exports=function(t){return t>0?s(n(t),9007199254740991):0}},7908:function(t,e,i){var n=i(4488);t.exports=function(t){return Object(n(t))}},7593:function(t,e,i){var n=i(111);t.exports=function(t,e){if(!n(t))return t;var i,s;if(e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;if("function"==typeof(i=t.valueOf)&&!n(s=i.call(t)))return s;if(!e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,i){var n=i(5112),s=n("toStringTag"),r={};r[s]="z",t.exports="[object z]"===String(r)},9711:function(t){var e=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+i).toString(36)}},3307:function(t,e,i){var n=i(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,i){var n=i(5112);e.f=n},5112:function(t,e,i){var n=i(7854),s=i(2309),r=i(6656),o=i(9711),a=i(133),l=i(3307),h=s("wks"),u=n.Symbol,c=l?u:u&&u.withoutSetter||o;t.exports=function(t){return r(h,t)&&(a||"string"==typeof h[t])||(a&&r(u,t)?h[t]=u[t]:h[t]=c("Symbol."+t)),h[t]}},1361:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:function(t,e,i){"use strict";var n=i(2109),s=i(7293),r=i(3157),o=i(111),a=i(7908),l=i(7466),h=i(7493),u=i(5417),c=i(1194),d=i(5112),f=i(7392),m=d("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",y=f>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),_=c("concat"),v=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},b=!y||!_;n({target:"Array",proto:!0,forced:b},{concat:function(t){var e,i,n,s,r,o=a(this),c=u(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],v(r)){if(s=l(r.length),d+s>g)throw TypeError(p);for(i=0;i<s;i++,d++)i in r&&h(c,d,r[i])}else{if(d>=g)throw TypeError(p);h(c,d++,r)}return c.length=d,c}})},7327:function(t,e,i){"use strict";var n=i(2109),s=i(2092).filter,r=i(1194),o=r("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:function(t,e,i){var n=i(2109),s=i(8457),r=i(7072),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:s})},6992:function(t,e,i){"use strict";var n=i(5656),s=i(1223),r=i(7497),o=i(9909),a=i(654),l="Array Iterator",h=o.set,u=o.getterFor(l);t.exports=a(Array,"Array",(function(t,e){h(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),r.Arguments=r.Array,s("keys"),s("values"),s("entries")},1249:function(t,e,i){"use strict";var n=i(2109),s=i(2092).map,r=i(1194),o=r("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,i){"use strict";var n=i(2109),s=i(111),r=i(3157),o=i(1400),a=i(7466),l=i(5656),h=i(7493),u=i(5112),c=i(1194),d=c("slice"),f=u("species"),m=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var i,n,u,c=l(this),d=a(c.length),p=o(t,d),y=o(void 0===e?d:e,d);if(r(c)&&(i=c.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?s(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return m.call(c,p,y);for(n=new(void 0===i?Array:i)(g(y-p,0)),u=0;p<y;p++,u++)p in c&&h(n,u,c[p]);return n.length=u,n}})},2707:function(t,e,i){"use strict";var n=i(2109),s=i(3099),r=i(7908),o=i(7293),a=i(9341),l=[],h=l.sort,u=o((function(){l.sort(void 0)})),c=o((function(){l.sort(null)})),d=a("sort"),f=u||!c||!d;n({target:"Array",proto:!0,forced:f},{sort:function(t){return void 0===t?h.call(r(this)):h.call(r(this),s(t))}})},8309:function(t,e,i){var n=i(9781),s=i(3070).f,r=Function.prototype,o=r.toString,a=/^\s*function ([^ (]*)/,l="name";n&&!(l in r)&&s(r,l,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},9653:function(t,e,i){"use strict";var n=i(9781),s=i(7854),r=i(4705),o=i(1320),a=i(6656),l=i(4326),h=i(9587),u=i(7593),c=i(7293),d=i(30),f=i(8006).f,m=i(1236).f,g=i(3070).f,p=i(3111).trim,y="Number",_=s[y],v=_.prototype,b=l(d(v))==y,x=function(t){var e,i,n,s,r,o,a,l,h=u(t,!1);if("string"==typeof h&&h.length>2)if(h=p(h),e=h.charCodeAt(0),43===e||45===e){if(i=h.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(h.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+h}for(r=h.slice(2),o=r.length,a=0;a<o;a++)if(l=r.charCodeAt(a),l<48||l>s)return NaN;return parseInt(r,n)}return+h};if(r(y,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var M,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(b?c((function(){v.valueOf.call(i)})):l(i)!=y)?h(new _(x(e)),i,w):x(e)},k=n?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;k.length>L;L++)a(_,M=k[L])&&!a(w,M)&&g(w,M,m(_,M));w.prototype=v,v.constructor=w,o(s,y,w)}},9601:function(t,e,i){var n=i(2109),s=i(1574);n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},7941:function(t,e,i){var n=i(2109),s=i(7908),r=i(1956),o=i(7293),a=o((function(){r(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return r(s(t))}})},1539:function(t,e,i){var n=i(1694),s=i(1320),r=i(288);n||s(Object.prototype,"toString",r,{unsafe:!0})},2479:function(t,e,i){var n=i(2109),s=i(4699).values;n({target:"Object",stat:!0},{values:function(t){return s(t)}})},7727:function(t,e,i){"use strict";var n=i(2109),s=i(1913),r=i(3366),o=i(7293),a=i(5005),l=i(6707),h=i(9478),u=i(1320),c=!!r&&o((function(){r.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:c},{finally:function(t){var e=l(this,a("Promise")),i="function"==typeof t;return this.then(i?function(i){return h(e,t()).then((function(){return i}))}:t,i?function(i){return h(e,t()).then((function(){throw i}))}:t)}}),s||"function"!=typeof r||r.prototype["finally"]||u(r.prototype,"finally",a("Promise").prototype["finally"])},8674:function(t,e,i){"use strict";var n,s,r,o,a=i(2109),l=i(1913),h=i(7854),u=i(5005),c=i(3366),d=i(1320),f=i(2248),m=i(8003),g=i(6340),p=i(111),y=i(3099),_=i(5787),v=i(2788),b=i(408),x=i(7072),M=i(6707),w=i(261).set,k=i(5948),L=i(9478),S=i(842),T=i(8523),D=i(2534),P=i(9909),Y=i(4705),C=i(5112),N=i(5268),A=i(7392),O=C("species"),F="Promise",R=P.get,E=P.set,I=P.getterFor(F),j=c,H=h.TypeError,B=h.document,z=h.process,V=u("fetch"),W=T.f,G=W,U=!!(B&&B.createEvent&&h.dispatchEvent),K="function"==typeof PromiseRejectionEvent,X="unhandledrejection",q="rejectionhandled",J=0,$=1,Z=2,Q=1,tt=2,et=Y(F,(function(){var t=v(j)!==String(j);if(!t){if(66===A)return!0;if(!N&&!K)return!0}if(l&&!j.prototype["finally"])return!0;if(A>=51&&/native code/.test(j))return!1;var e=j.resolve(1),i=function(t){t((function(){}),(function(){}))},n=e.constructor={};return n[O]=i,!(e.then((function(){}))instanceof i)})),it=et||!x((function(t){j.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},st=function(t,e){if(!t.notified){t.notified=!0;var i=t.reactions;k((function(){var n=t.value,s=t.state==$,r=0;while(i.length>r){var o,a,l,h=i[r++],u=s?h.ok:h.fail,c=h.resolve,d=h.reject,f=h.domain;try{u?(s||(t.rejection===tt&&lt(t),t.rejection=Q),!0===u?o=n:(f&&f.enter(),o=u(n),f&&(f.exit(),l=!0)),o===h.promise?d(H("Promise-chain cycle")):(a=nt(o))?a.call(o,c,d):c(o)):d(n)}catch(m){f&&!l&&f.exit(),d(m)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ot(t)}))}},rt=function(t,e,i){var n,s;U?(n=B.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),h.dispatchEvent(n)):n={promise:e,reason:i},!K&&(s=h["on"+t])?s(n):t===X&&S("Unhandled promise rejection",i)},ot=function(t){w.call(h,(function(){var e,i=t.facade,n=t.value,s=at(t);if(s&&(e=D((function(){N?z.emit("unhandledRejection",n,i):rt(X,i,n)})),t.rejection=N||at(t)?tt:Q,e.error))throw e.value}))},at=function(t){return t.rejection!==Q&&!t.parent},lt=function(t){w.call(h,(function(){var e=t.facade;N?z.emit("rejectionHandled",e):rt(q,e,t.value)}))},ht=function(t,e,i){return function(n){t(e,n,i)}},ut=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=Z,st(t,!0))},ct=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw H("Promise can't be resolved itself");var n=nt(e);n?k((function(){var i={done:!1};try{n.call(e,ht(ct,i,t),ht(ut,i,t))}catch(s){ut(i,s,t)}})):(t.value=e,t.state=$,st(t,!1))}catch(s){ut({done:!1},s,t)}}};et&&(j=function(t){_(this,j,F),y(t),n.call(this);var e=R(this);try{t(ht(ct,e),ht(ut,e))}catch(i){ut(e,i)}},n=function(t){E(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},n.prototype=f(j.prototype,{then:function(t,e){var i=I(this),n=W(M(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=N?z.domain:void 0,i.parent=!0,i.reactions.push(n),i.state!=J&&st(i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new n,e=R(t);this.promise=t,this.resolve=ht(ct,e),this.reject=ht(ut,e)},T.f=W=function(t){return t===j||t===r?new s(t):G(t)},l||"function"!=typeof c||(o=c.prototype.then,d(c.prototype,"then",(function(t,e){var i=this;return new j((function(t,e){o.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(j,V.apply(h,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:j}),m(j,F,!1,!0),g(F),r=u(F),a({target:F,stat:!0,forced:et},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),a({target:F,stat:!0,forced:l||et},{resolve:function(t){return L(l&&this===r?j:this,t)}}),a({target:F,stat:!0,forced:it},{all:function(t){var e=this,i=W(e),n=i.resolve,s=i.reject,r=D((function(){var i=y(e.resolve),r=[],o=0,a=1;b(t,(function(t){var l=o++,h=!1;r.push(void 0),a++,i.call(e,t).then((function(t){h||(h=!0,r[l]=t,--a||n(r))}),s)})),--a||n(r)}));return r.error&&s(r.value),i.promise},race:function(t){var e=this,i=W(e),n=i.reject,s=D((function(){var s=y(e.resolve);b(t,(function(t){s.call(e,t).then(i.resolve,n)}))}));return s.error&&n(s.value),i.promise}})},4916:function(t,e,i){"use strict";var n=i(2109),s=i(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},7601:function(t,e,i){"use strict";i(4916);var n=i(2109),s=i(111),r=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),o=/./.test;n({target:"RegExp",proto:!0,forced:!r},{test:function(t){if("function"!==typeof this.exec)return o.call(this,t);var e=this.exec(t);if(null!==e&&!s(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},9714:function(t,e,i){"use strict";var n=i(1320),s=i(9670),r=i(7293),o=i(7066),a="toString",l=RegExp.prototype,h=l[a],u=r((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),c=h.name!=a;(u||c)&&n(RegExp.prototype,a,(function(){var t=s(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in l)?o.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},8783:function(t,e,i){"use strict";var n=i(8710).charAt,s=i(9909),r=i(654),o="String Iterator",a=s.set,l=s.getterFor(o);r(String,"String",(function(t){a(this,{type:o,string:String(t),index:0})}),(function(){var t,e=l(this),i=e.string,s=e.index;return s>=i.length?{value:void 0,done:!0}:(t=n(i,s),e.index+=t.length,{value:t,done:!1})}))},1817:function(t,e,i){"use strict";var n=i(2109),s=i(9781),r=i(7854),o=i(6656),a=i(111),l=i(3070).f,h=i(9920),u=r.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var c={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(c[e]=!0),e};h(d,u);var f=d.prototype=u.prototype;f.constructor=d;var m=f.toString,g="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=m.call(t);if(o(c,t))return"";var i=g?e.slice(7,-1):e.replace(p,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:d})}},2165:function(t,e,i){var n=i(7235);n("iterator")},2526:function(t,e,i){"use strict";var n=i(2109),s=i(7854),r=i(5005),o=i(1913),a=i(9781),l=i(133),h=i(3307),u=i(7293),c=i(6656),d=i(3157),f=i(111),m=i(9670),g=i(7908),p=i(5656),y=i(7593),_=i(9114),v=i(30),b=i(1956),x=i(8006),M=i(1156),w=i(5181),k=i(1236),L=i(3070),S=i(5296),T=i(8880),D=i(1320),P=i(2309),Y=i(6200),C=i(3501),N=i(9711),A=i(5112),O=i(6061),F=i(7235),R=i(8003),E=i(9909),I=i(2092).forEach,j=Y("hidden"),H="Symbol",B="prototype",z=A("toPrimitive"),V=E.set,W=E.getterFor(H),G=Object[B],U=s.Symbol,K=r("JSON","stringify"),X=k.f,q=L.f,J=M.f,$=S.f,Z=P("symbols"),Q=P("op-symbols"),tt=P("string-to-symbol-registry"),et=P("symbol-to-string-registry"),it=P("wks"),nt=s.QObject,st=!nt||!nt[B]||!nt[B].findChild,rt=a&&u((function(){return 7!=v(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=X(G,e);n&&delete G[e],q(t,e,i),n&&t!==G&&q(G,e,n)}:q,ot=function(t,e){var i=Z[t]=v(U[B]);return V(i,{type:H,tag:t,description:e}),a||(i.description=e),i},at=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},lt=function(t,e,i){t===G&&lt(Q,e,i),m(t);var n=y(e,!0);return m(i),c(Z,n)?(i.enumerable?(c(t,j)&&t[j][n]&&(t[j][n]=!1),i=v(i,{enumerable:_(0,!1)})):(c(t,j)||q(t,j,_(1,{})),t[j][n]=!0),rt(t,n,i)):q(t,n,i)},ht=function(t,e){m(t);var i=p(e),n=b(i).concat(mt(i));return I(n,(function(e){a&&!ct.call(i,e)||lt(t,e,i[e])})),t},ut=function(t,e){return void 0===e?v(t):ht(v(t),e)},ct=function(t){var e=y(t,!0),i=$.call(this,e);return!(this===G&&c(Z,e)&&!c(Q,e))&&(!(i||!c(this,e)||!c(Z,e)||c(this,j)&&this[j][e])||i)},dt=function(t,e){var i=p(t),n=y(e,!0);if(i!==G||!c(Z,n)||c(Q,n)){var s=X(i,n);return!s||!c(Z,n)||c(i,j)&&i[j][n]||(s.enumerable=!0),s}},ft=function(t){var e=J(p(t)),i=[];return I(e,(function(t){c(Z,t)||c(C,t)||i.push(t)})),i},mt=function(t){var e=t===G,i=J(e?Q:p(t)),n=[];return I(i,(function(t){!c(Z,t)||e&&!c(G,t)||n.push(Z[t])})),n};if(l||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),i=function(t){this===G&&i.call(Q,t),c(this,j)&&c(this[j],e)&&(this[j][e]=!1),rt(this,e,_(1,t))};return a&&st&&rt(G,e,{configurable:!0,set:i}),ot(e,t)},D(U[B],"toString",(function(){return W(this).tag})),D(U,"withoutSetter",(function(t){return ot(N(t),t)})),S.f=ct,L.f=lt,k.f=dt,x.f=M.f=ft,w.f=mt,O.f=function(t){return ot(A(t),t)},a&&(q(U[B],"description",{configurable:!0,get:function(){return W(this).description}}),o||D(G,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:U}),I(b(it),(function(t){F(t)})),n({target:H,stat:!0,forced:!l},{for:function(t){var e=String(t);if(c(tt,e))return tt[e];var i=U(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(c(et,t))return et[t]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!a},{create:ut,defineProperty:lt,defineProperties:ht,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:mt}),n({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(g(t))}}),K){var gt=!l||u((function(){var t=U();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));n({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,i){var n,s=[t],r=1;while(arguments.length>r)s.push(arguments[r++]);if(n=e,(f(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!at(e))return e}),s[1]=e,K.apply(null,s)}})}U[B][z]||T(U[B],z,U[B].valueOf),R(U,H),C[j]=!0},9810:function(t,e,i){"use strict";var n=i(2109),s=i(7908),r=i(7466),o=i(9958),a=i(1223);n({target:"Array",proto:!0},{at:function(t){var e=s(this),i=r(e.length),n=o(t),a=n>=0?n:i+n;return a<0||a>=i?void 0:e[a]}}),a("at")},3948:function(t,e,i){var n=i(7854),s=i(8324),r=i(6992),o=i(8880),a=i(5112),l=a("iterator"),h=a("toStringTag"),u=r.values;for(var c in s){var d=n[c],f=d&&d.prototype;if(f){if(f[l]!==u)try{o(f,l,u)}catch(g){f[l]=u}if(f[h]||o(f,h,c),s[c])for(var m in r)if(f[m]!==r[m])try{o(f,m,r[m])}catch(g){f[m]=r[m]}}}},2786:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return e}))},4130:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function(t){return function(n,s,r,o){var a=e(n),l=i[t][e(n)];return 2===a&&(l=l[s?0:1]),l.replace(/%d/i,n)}},s=["","","","","","","","","","","",""],r=t.defineLocale("ar-dz",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}});return r}))},6135:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return e}))},6440:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},s=function(t){return function(e,s,r,o){var a=i(e),l=n[t][i(e)];return 2===a&&(l=l[s?0:1]),l.replace(/%d/i,e)}},r=["","","","","","","","","","","",""],o=t.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return o}))},7702:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return e}))},6040:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}});return n}))},7100:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return e}))},867:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},s={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,i,r,o){var a=n(e),l=s[t][n(e)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""],a=t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return a}))},1083:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},i=t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,i){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var i=t%10,n=t%100-i,s=t>=100?100:null;return t+(e[i]||e[n]||e[s])},week:{dow:1,doy:7}});return i}))},9808:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function i(t,i,n){var s={ss:i?"__":"__",mm:i?"__":"__",hh:i?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?i?"":"":"h"===n?i?"":"":t+" "+e(s[n],+t)}var n=t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:i,mm:i,h:i,hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!==2&&t%10!==3||t%100===12||t%100===13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});return n}))},8338:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}});return e}))},7438:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return e}))},6225:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}});return n}))},8905:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return n}))},1560:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return n}))},1278:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return t+" "+s(n[i],t)}function i(t){switch(n(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function n(t){return t>9?n(t%10):t}function s(t,e){return 2===e?r(t):t}function r(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}var o=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,h=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],c=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],d=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i],f=t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:d,fullWeekdaysParse:u,shortWeekdaysParse:c,minWeekdaysParse:d,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:h,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:i},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){var e=1===t?"a":"vet";return t+e},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,i){return t<12?"a.m.":"g.m."}});return f}))},622:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi",n;case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta",n;case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati",n;case"dd":return n+=1===t?"dan":"dana",n;case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci",n;case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina",n}}var i=t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},2468:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var i=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(i="a"),t+i},week:{dow:1,doy:4}});return e}))},5822:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={format:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),standalone:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_")},i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],s=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function r(t){return t>1&&t<5&&1!==~~(t/10)}function o(t,e,i,n){var s=t+" ";switch(i){case"s":return e||n?"pr sekund":"pr sekundami";case"ss":return e||n?s+(r(t)?"sekundy":"sekund"):s+"sekundami";case"m":return e?"minuta":n?"minutu":"minutou";case"mm":return e||n?s+(r(t)?"minuty":"minut"):s+"minutami";case"h":return e?"hodina":n?"hodinu":"hodinou";case"hh":return e||n?s+(r(t)?"hodiny":"hodin"):s+"hodinami";case"d":return e||n?"den":"dnem";case"dd":return e||n?s+(r(t)?"dny":"dn"):s+"dny";case"M":return e||n?"msc":"mscem";case"MM":return e||n?s+(r(t)?"msce":"msc"):s+"msci";case"y":return e||n?"rok":"rokem";case"yy":return e||n?s+(r(t)?"roky":"let"):s+"lety"}}var a=t.defineLocale("cs",{months:e,monthsShort:i,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},877:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){var e=/$/i.exec(t)?"":/$/i.exec(t)?"":"";return t+e},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return e}))},7373:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e=t,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return e>20?i=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(i=n[e]),t+i},week:{dow:1,doy:4}});return e}))},4780:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},217:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[i][0]:s[i][1]}var i=t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},894:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[i][0]:s[i][1]}var i=t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},9740:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[i][0]:s[i][1]}var i=t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},5300:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""],n=t.defineLocale("dv",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}});return n}))},837:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}var i=t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"===typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,i){return t>11?i?"":"":i?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,i){var n=this._calendarEl[t],s=i&&i.hours();return e(n)&&(n=n.apply(i)),n.replace("{}",s%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i}))},8348:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:0,doy:4}});return e}))},7925:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}});return e}))},2243:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},6436:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},7207:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}});return e}))},4175:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:0,doy:6}});return e}))},6319:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},1662:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},2915:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,i){return t>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return e}))},5251:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r}))},6112:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"});return r}))},1146:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});return r}))},5655:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return r}))},5603:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?s[i][2]?s[i][2]:s[i][1]:n?s[i][0]:s[i][1]}var i=t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},7763:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return e}))},6959:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,i){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return n}))},1897:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function n(t,e,i,n){var r="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":r=n?"sekunnin":"sekuntia";break;case"m":return n?"minuutin":"minuutti";case"mm":r=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":r=n?"tunnin":"tuntia";break;case"d":return n?"pivn":"piv";case"dd":r=n?"pivn":"piv";break;case"M":return n?"kuukauden":"kuukausi";case"MM":r=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":r=n?"vuoden":"vuotta";break}return r=s(t,n)+" "+r,r}function s(t,n){return t<10?n?i[t]:e[t]:t}var r=t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},2549:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},4694:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},3049:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}});return e}))},2330:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});return e}))},4470:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],r=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:e,monthsShortStrictRegex:i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});return r}))},5044:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),n=t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return n}))},9295:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],i=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],n=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],s=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],r=["Do","Lu","M","C","D","A","Sa"],o=t.defineLocale("ga",{months:e,monthsShort:i,monthsParseExact:!0,weekdays:n,weekdaysShort:s,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){var e=1===t?"d":t%10===2?"na":"mh";return t+e},week:{dow:1,doy:4}});return o}))},2101:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],i=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],n=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],s=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],r=["D","Lu","M","Ci","Ar","Ha","Sa"],o=t.defineLocale("gd",{months:e,monthsShort:i,monthsParseExact:!0,weekdays:n,weekdaysShort:s,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){var e=1===t?"d":t%10===2?"na":"mh";return t+e},week:{dow:1,doy:4}});return o}))},8794:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},7884:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return n?s[i][0]:s[i][1]}var i=t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){switch(e){case"D":return t+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<12?"":t<16?"":t<20?"":""}});return i}))},3168:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return n?s[i][0]:s[i][1]}var i=t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}});return i}))},5349:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return n}))},4206:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10===0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,i){return t<5?" ":t<10?"":t<12?i?'"':" ":t<18?i?'"':" ":""}});return e}))},94:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],s=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],r=t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:n,longMonthsParse:n,shortMonthsParse:s,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return r}))},316:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi",n;case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta",n;case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati",n;case"dd":return n+=1===t?"dan":"dana",n;case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci",n;case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina",n}}var i=t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},2138:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function i(t,e,i,n){var s=t;switch(i){case"s":return n||e?"nhny msodperc":"nhny msodperce";case"ss":return s+(n||e)?" msodperc":" msodperce";case"m":return"egy"+(n||e?" perc":" perce");case"mm":return s+(n||e?" perc":" perce");case"h":return"egy"+(n||e?" ra":" rja");case"hh":return s+(n||e?" ra":" rja");case"d":return"egy"+(n||e?" nap":" napja");case"dd":return s+(n||e?" nap":" napja");case"M":return"egy"+(n||e?" hnap":" hnapja");case"MM":return s+(n||e?" hnap":" hnapja");case"y":return"egy"+(n||e?" v":" ve");case"yy":return s+(n||e?" v":" ve")}return""}function n(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}var s=t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,i){return t<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},1423:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}});return e}))},9218:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});return e}))},135:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t){return t%100===11||t%10!==1}function i(t,i,n,s){var r=t+" ";switch(n){case"s":return i||s?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?r+(i||s?"sekndur":"sekndum"):r+"seknda";case"m":return i?"mnta":"mntu";case"mm":return e(t)?r+(i||s?"mntur":"mntum"):i?r+"mnta":r+"mntu";case"hh":return e(t)?r+(i||s?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return i?"dagur":s?"dag":"degi";case"dd":return e(t)?i?r+"dagar":r+(s?"daga":"dgum"):i?r+"dagur":r+(s?"dag":"degi");case"M":return i?"mnuur":s?"mnu":"mnui";case"MM":return e(t)?i?r+"mnuir":r+(s?"mnui":"mnuum"):i?r+"mnuur":r+(s?"mnu":"mnui");case"y":return i||s?"r":"ri";case"yy":return e(t)?r+(i||s?"r":"rum"):r+(i||s?"r":"ri")}}var n=t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:i,ss:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},150:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},626:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},9183:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return e}))},4286:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return e}))},2105:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,i){return""===i?e+"":e+i+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20===0||t%100===0?"-"+t:t+"-"},week:{dow:1,doy:7}});return e}))},7772:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},i=t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var i=t%10,n=t>=100?100:null;return t+(e[t]||e[i]||e[n])},week:{dow:1,doy:7}});return i}))},8758:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}});return n}))},9282:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}});return n}))},3730:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""}});return e}))},1408:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[" ","","","","","","","",""," "," "," "],s=t.defineLocale("ku",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return s}))},3291:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},i=t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){var i=t%10,n=t>=100?100:null;return t+(e[t]||e[i]||e[n])},week:{dow:1,doy:7}});return i}))},6841:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?s[i][0]:s[i][1]}function i(t){var e=t.substr(0,t.indexOf(" "));return s(e)?"a "+t:"an "+t}function n(t){var e=t.substr(0,t.indexOf(" "));return s(e)?"viru "+t:"virun "+t}function s(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10,i=t/10;return s(0===e?i:e)}if(t<1e4){while(t>=10)t/=10;return s(t)}return t/=1e3,s(t)}var r=t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:i,past:n,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},5466:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}});return e}))},7010:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function i(t,e,i,n){return e?"kelios sekunds":n?"keli sekundi":"kelias sekundes"}function n(t,e,i,n){return e?r(i)[0]:n?r(i)[1]:r(i)[2]}function s(t){return t%10===0||t>10&&t<20}function r(t){return e[t].split("_")}function o(t,e,i,o){var a=t+" ";return 1===t?a+n(t,e,i[0],o):e?a+(s(t)?r(i)[1]:r(i)[0]):o?a+r(i)[1]:a+(s(t)?r(i)[1]:r(i)[2])}var a=t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:i,ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});return a}))},7595:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function i(t,e,i){return i?e%10===1&&e%100!==11?t[2]:t[3]:e%10===1&&e%100!==11?t[0]:t[1]}function n(t,n,s){return t+" "+i(e[s],t,n)}function s(t,n,s){return i(e[s],t,n)}function r(t,e){return e?"daas sekundes":"dam sekundm"}var o=t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:r,ss:n,m:s,mm:n,h:s,hh:n,d:s,dd:n,M:s,MM:n,y:s,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},9861:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var s=e.words[n];return 1===n.length?i?s[0]:s[1]:t+" "+e.correctGrammaticalCase(t,s)}},i=t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var t=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},5493:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},5966:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}});return e}))},7341:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?" ":t<20?"":""}});return e}))},5115:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){switch(i){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}var i=t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}});return i}))},370:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function n(t,e,i,n){var s="";if(e)switch(i){case"s":s=" ";break;case"ss":s="%d ";break;case"m":s=" ";break;case"mm":s="%d ";break;case"h":s=" ";break;case"hh":s="%d ";break;case"d":s=" ";break;case"dd":s="%d ";break;case"M":s=" ";break;case"MM":s="%d ";break;case"y":s=" ";break;case"yy":s="%d ";break}else switch(i){case"s":s=" ";break;case"ss":s="%d ";break;case"m":s=" ";break;case"mm":s="%d ";break;case"h":s=" ";break;case"hh":s="%d ";break;case"d":s=" ";break;case"dd":s="%d ";break;case"M":s=" ";break;case"MM":s="%d ";break;case"y":s=" ";break;case"yy":s="%d ";break}return s.replace(/%d/i,t)}var s=t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,i){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return s}))},1237:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return e}))},9847:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return e}))},2126:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},6165:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}});return n}))},4924:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},6744:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return n}))},9814:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],s=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,r=t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},3901:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],s=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,r=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},3877:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},2135:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var i=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(i="a"),t+i},week:{dow:1,doy:4}});return e}))},5858:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return n}))},4495:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),n=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function s(t){return t%10<5&&t%10>1&&~~(t/10)%10!==1}function r(t,e,i){var n=t+" ";switch(i){case"ss":return n+(s(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return n+(s(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return n+(s(t)?"godziny":"godzin");case"ww":return n+(s(t)?"tygodnie":"tygodni");case"MM":return n+(s(t)?"miesice":"miesicy");case"yy":return n+(s(t)?"lata":"lat")}}var o=t.defineLocale("pl",{months:function(t,n){return t?/D MMMM/.test(n)?i[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:r,M:"miesic",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},7971:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"});return e}))},9520:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},6459:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"},s=" ";return(t%100>=20||t>=100&&t%100===0)&&(s=" de "),t+s+n[i]}var i=t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}});return i}))},1793:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function i(t,i,n){var s={ss:i?"__":"__",mm:i?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return"m"===n?i?"":"":t+" "+e(s[n],+t)}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],s=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,w:"",ww:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}});return s}))},950:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""],n=t.defineLocale("sd",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}});return n}))},7930:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},124:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,i){return t>11?i?"..":" ":i?"..":" "}});return e}))},4249:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function n(t){return t>1&&t<5}function s(t,e,i,s){var r=t+" ";switch(i){case"s":return e||s?"pr seknd":"pr sekundami";case"ss":return e||s?r+(n(t)?"sekundy":"seknd"):r+"sekundami";case"m":return e?"minta":s?"mintu":"mintou";case"mm":return e||s?r+(n(t)?"minty":"mint"):r+"mintami";case"h":return e?"hodina":s?"hodinu":"hodinou";case"hh":return e||s?r+(n(t)?"hodiny":"hodn"):r+"hodinami";case"d":return e||s?"de":"dom";case"dd":return e||s?r+(n(t)?"dni":"dn"):r+"dami";case"M":return e||s?"mesiac":"mesiacom";case"MM":return e||s?r+(n(t)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return e||s?"rok":"rokom";case"yy":return e||s?r+(n(t)?"roky":"rokov"):r+"rokmi"}}var r=t.defineLocale("sk",{months:e,monthsShort:i,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},4985:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var s=t+" ";switch(i){case"s":return e||n?"nekaj sekund":"nekaj sekundami";case"ss":return s+=1===t?e?"sekundo":"sekundi":2===t?e||n?"sekundi":"sekundah":t<5?e||n?"sekunde":"sekundah":"sekund",s;case"m":return e?"ena minuta":"eno minuto";case"mm":return s+=1===t?e?"minuta":"minuto":2===t?e||n?"minuti":"minutama":t<5?e||n?"minute":"minutami":e||n?"minut":"minutami",s;case"h":return e?"ena ura":"eno uro";case"hh":return s+=1===t?e?"ura":"uro":2===t?e||n?"uri":"urama":t<5?e||n?"ure":"urami":e||n?"ur":"urami",s;case"d":return e||n?"en dan":"enim dnem";case"dd":return s+=1===t?e||n?"dan":"dnem":2===t?e||n?"dni":"dnevoma":e||n?"dni":"dnevi",s;case"M":return e||n?"en mesec":"enim mesecem";case"MM":return s+=1===t?e||n?"mesec":"mesecem":2===t?e||n?"meseca":"mesecema":t<5?e||n?"mesece":"meseci":e||n?"mesecev":"meseci",s;case"y":return e||n?"eno leto":"enim letom";case"yy":return s+=1===t?e||n?"leto":"letom":2===t?e||n?"leti":"letoma":t<5?e||n?"leta":"leti":e||n?"let":"leti",s}}var i=t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},1104:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,i){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},9915:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10===1?e[0]:e[1]:e[2]},translate:function(t,i,n,s){var r,o=e.words[n];return 1===n.length?"y"===n&&i?" ":s||i?o[0]:o[1]:(r=e.correctGrammaticalCase(t,o),"yy"===n&&i&&""===r?t+" ":t+" "+r)}},i=t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var t=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},9131:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10===1?e[0]:e[1]:e[2]},translate:function(t,i,n,s){var r,o=e.words[n];return 1===n.length?"y"===n&&i?"jedna godina":s||i?o[0]:o[1]:(r=e.correctGrammaticalCase(t,o),"yy"===n&&i&&"godinu"===r?t+" godina":t+" "+r)}},i=t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var t=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},5893:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,i){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},8760:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?":e":1===e||2===e?":a":":e";return t+i},week:{dow:1,doy:4}});return e}))},1172:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return e}))},7333:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,i){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}});return n}))},3110:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return e}))},2095:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},7321:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},i=t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var i=t%10,n=t>=100?100:null;return t+(e[t]||e[i]||e[n])},week:{dow:1,doy:7}});return i}))},9041:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},9005:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"},i=t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,i){switch(i){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var n=t%10,s=t%100-n,r=t>=100?100:null;return t+(e[n]||e[s]||e[r])}},week:{dow:1,doy:7}});return i}))},5768:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},9444:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function i(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq",e}function n(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret",e}function s(t,e,i,n){var s=r(t);switch(i){case"ss":return s+" lup";case"mm":return s+" tup";case"hh":return s+" rep";case"dd":return s+" jaj";case"MM":return s+" jar";case"yy":return s+" DIS"}}function r(t){var i=Math.floor(t%1e3/100),n=Math.floor(t%100/10),s=t%10,r="";return i>0&&(r+=e[i]+"vatlh"),n>0&&(r+=(""!==r?" ":"")+e[n]+"maH"),s>0&&(r+=(""!==r?" ":"")+e[s]),""===r?"pagh":r}var o=t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:i,past:n,s:"puS lup",ss:s,m:"wa tup",mm:s,h:"wa rep",hh:s,d:"wa jaj",dd:s,M:"wa jar",MM:s,y:"wa DIS",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},2397:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},i=t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,i){return t<12?i?"":"":i?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,i){switch(i){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var n=t%10,s=t%100-n,r=t>=100?100:null;return t+(e[n]||e[s]||e[r])}},week:{dow:1,doy:7}});return i}))},8254:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,i){return t>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function i(t,e,i,n){var s={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return n||e?s[i][0]:s[i][1]}return e}))},699:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return e}))},1106:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return e}))},9288:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?" ":n<900?"":n<1130?" ":n<1230?"":n<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}});return e}))},7691:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function i(t,i,n){var s={ss:i?"__":"__",mm:i?"__":"__",hh:i?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?i?"":"":"h"===n?i?"":"":t+" "+e(s[n],+t)}function n(t,e){var i,n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n["nominative"].slice(1,7).concat(n["nominative"].slice(0,1)):t?(i=/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative",n[i][t.day()]):n["nominative"]}function s(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}var r=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:s("[ "),nextDay:s("[ "),lastDay:s("[ "),nextWeek:s("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return s("[] dddd [").call(this);case 1:case 2:case 4:return s("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});return r}))},3795:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""],n=t.defineLocale("ur",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}});return n}))},588:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return e}))},6791:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return e}))},5666:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},4378:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i},week:{dow:1,doy:4}});return e}))},5805:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return e}))},3839:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return e}))},5726:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1200?"":1200===n?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},9807:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},4152:function(t,e,i){(function(t,e){e(i(381))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},381:function(t,e,i){t=i.nmd(t),function(e,i){t.exports=i()}(0,(function(){"use strict";var e,n;function s(){return e.apply(null,arguments)}function r(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(l(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var i,n=[],s=t.length;for(i=0;i<s;++i)n.push(e(t[i],i));return n}function m(t,e){for(var i in e)l(e,i)&&(t[i]=e[i]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function g(t,e,i,n){return Xi(t,e,i,n,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(t){return null==t._pf&&(t._pf=p()),t._pf}function _(t){if(null==t._isValid){var e=y(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(s=s&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function v(t){var e=g(NaN);return null!=t?m(y(e),t):y(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,i=Object(this),n=i.length>>>0;for(e=0;e<n;e++)if(e in i&&t.call(this,i[e],e,i))return!0;return!1};var b=s.momentProperties=[],x=!1;function M(t,e){var i,n,s,r=b.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=y(e)),u(e._locale)||(t._locale=e._locale),r>0)for(i=0;i<r;i++)n=b[i],s=e[n],u(s)||(t[n]=s);return t}function w(t){M(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,s.updateOffset(this),x=!1)}function k(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function L(t){!1===s.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var i=!0;return m((function(){if(null!=s.deprecationHandler&&s.deprecationHandler(null,t),i){var n,r,o,a=[],h=arguments.length;for(r=0;r<h;r++){if(n="","object"===typeof arguments[r]){for(o in n+="\n["+r+"] ",arguments[0])l(arguments[0],o)&&(n+=o+": "+arguments[0][o]+", ");n=n.slice(0,-2)}else n=arguments[r];a.push(n)}L(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var T,D={};function P(t,e){null!=s.deprecationHandler&&s.deprecationHandler(t,e),D[t]||(L(e),D[t]=!0)}function Y(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){var e,i;for(i in t)l(t,i)&&(e=t[i],Y(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(t,e){var i,n=m({},t);for(i in e)l(e,i)&&(a(t[i])&&a(e[i])?(n[i]={},m(n[i],t[i]),m(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)l(t,i)&&!l(e,i)&&a(t[i])&&(n[i]=m({},n[i]));return n}function A(t){null!=t&&this.set(t)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)l(t,e)&&i.push(e);return i};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(t,e,i){var n=this._calendar[t]||this._calendar["sameElse"];return Y(n)?n.call(e,i):n}function R(t,e,i){var n=""+Math.abs(t),s=e-n.length,r=t>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},H={};function B(t,e,i,n){var s=n;"string"===typeof n&&(s=function(){return this[n]()}),t&&(H[t]=s),e&&(H[e[0]]=function(){return R(s.apply(this,arguments),e[1],e[2])}),i&&(H[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,i,n=t.match(E);for(e=0,i=n.length;e<i;e++)H[n[e]]?n[e]=H[n[e]]:n[e]=z(n[e]);return function(e){var s,r="";for(s=0;s<i;s++)r+=Y(n[s])?n[s].call(e,t):n[s];return r}}function W(t,e){return t.isValid()?(e=G(e,t.localeData()),j[e]=j[e]||V(e),j[e](t)):t.localeData().invalidDate()}function G(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}I.lastIndex=0;while(i>=0&&I.test(t))t=t.replace(I,n),I.lastIndex=0,i-=1;return t}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(E).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var X="Invalid date";function q(){return this._invalidDate}var J="%d",$=/\d{1,2}/;function Z(t){return this._ordinal.replace("%d",t)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,i,n){var s=this._relativeTime[i];return Y(s)?s(t,e,i,n):s.replace(/%d/i,t)}function et(t,e){var i=this._relativeTime[t>0?"future":"past"];return Y(i)?i(e):i.replace(/%s/i,e)}var it={};function nt(t,e){var i=t.toLowerCase();it[i]=it[i+"s"]=it[e]=t}function st(t){return"string"===typeof t?it[t]||it[t.toLowerCase()]:void 0}function rt(t){var e,i,n={};for(i in t)l(t,i)&&(e=st(i),e&&(n[e]=t[i]));return n}var ot={};function at(t,e){ot[t]=e}function lt(t){var e,i=[];for(e in t)l(t,e)&&i.push({unit:e,priority:ot[e]});return i.sort((function(t,e){return t.priority-e.priority})),i}function ht(t){return t%4===0&&t%100!==0||t%400===0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=ut(e)),i}function dt(t,e){return function(i){return null!=i?(mt(this,t,i),s.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function mt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&ht(t.year())&&1===t.month()&&29===t.date()?(i=ct(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),te(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function gt(t){return t=st(t),Y(this[t])?this[t]():this}function pt(t,e){if("object"===typeof t){t=rt(t);var i,n=lt(t),s=n.length;for(i=0;i<s;i++)this[n[i].unit](t[n[i].unit])}else if(t=st(t),Y(this[t]))return this[t](e);return this}var yt,_t=/\d/,vt=/\d\d/,bt=/\d{3}/,xt=/\d{4}/,Mt=/[+-]?\d{6}/,wt=/\d\d?/,kt=/\d\d\d\d?/,Lt=/\d\d\d\d\d\d?/,St=/\d{1,3}/,Tt=/\d{1,4}/,Dt=/[+-]?\d{1,6}/,Pt=/\d+/,Yt=/[+-]?\d+/,Ct=/Z|[+-]\d\d:?\d\d/gi,Nt=/Z|[+-]\d\d(?::?\d\d)?/gi,At=/[+-]?\d+(\.\d{1,3})?/,Ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ft(t,e,i){yt[t]=Y(e)?e:function(t,n){return t&&i?i:e}}function Rt(t,e){return l(yt,t)?yt[t](e._strict,e._locale):new RegExp(Et(t))}function Et(t){return It(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,s){return e||i||n||s})))}function It(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}yt={};var jt={};function Ht(t,e){var i,n,s=e;for("string"===typeof t&&(t=[t]),c(e)&&(s=function(t,i){i[e]=ct(t)}),n=t.length,i=0;i<n;i++)jt[t[i]]=s}function Bt(t,e){Ht(t,(function(t,i,n,s){n._w=n._w||{},e(t,n._w,n,s)}))}function zt(t,e,i){null!=e&&l(jt,t)&&jt[t](e,i._a,i,t)}var Vt,Wt=0,Gt=1,Ut=2,Kt=3,Xt=4,qt=5,Jt=6,$t=7,Zt=8;function Qt(t,e){return(t%e+e)%e}function te(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=Qt(e,12);return t+=(e-i)/12,1===i?ht(t)?29:28:31-i%7%2}Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),at("month",8),Ft("M",wt),Ft("MM",wt,vt),Ft("MMM",(function(t,e){return e.monthsShortRegex(t)})),Ft("MMMM",(function(t,e){return e.monthsRegex(t)})),Ht(["M","MM"],(function(t,e){e[Gt]=ct(t)-1})),Ht(["MMM","MMMM"],(function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null!=s?e[Gt]=s:y(i).invalidMonth=t}));var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,se=Ot,re=Ot;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ne).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months["standalone"]}function ae(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ne.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function le(t,e,i){var n,s,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=g([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?(s=Vt.call(this._shortMonthsParse,o),-1!==s?s:null):(s=Vt.call(this._longMonthsParse,o),-1!==s?s:null):"MMM"===e?(s=Vt.call(this._shortMonthsParse,o),-1!==s?s:(s=Vt.call(this._longMonthsParse,o),-1!==s?s:null)):(s=Vt.call(this._longMonthsParse,o),-1!==s?s:(s=Vt.call(this._shortMonthsParse,o),-1!==s?s:null))}function he(t,e,i){var n,s,r;if(this._monthsParseExact)return le.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=g([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function ue(t,e){var i;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=ct(e);else if(e=t.localeData().monthsParse(e),!c(e))return t;return i=Math.min(t.date(),te(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ce(t){return null!=t?(ue(this,t),s.updateOffset(this,!0),this):ft(this,"Month")}function de(){return te(this.year(),this.month())}function fe(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ge.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=se),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ge.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=re),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ge(){function t(t,e){return e.length-t.length}var e,i,n=[],s=[],r=[];for(e=0;e<12;e++)i=g([2e3,e]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)n[e]=It(n[e]),s[e]=It(s[e]);for(e=0;e<24;e++)r[e]=It(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function pe(t){return ht(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),at("year",1),Ft("Y",Yt),Ft("YY",wt,vt),Ft("YYYY",Tt,xt),Ft("YYYYY",Dt,Mt),Ft("YYYYYY",Dt,Mt),Ht(["YYYYY","YYYYYY"],Wt),Ht("YYYY",(function(t,e){e[Wt]=2===t.length?s.parseTwoDigitYear(t):ct(t)})),Ht("YY",(function(t,e){e[Wt]=s.parseTwoDigitYear(t)})),Ht("Y",(function(t,e){e[Wt]=parseInt(t,10)})),s.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var ye=dt("FullYear",!0);function _e(){return ht(this.year())}function ve(t,e,i,n,s,r,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,s,r,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,s,r,o),a}function be(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function xe(t,e,i){var n=7+e-i,s=(7+be(t,0,n).getUTCDay()-e)%7;return-s+n-1}function Me(t,e,i,n,s){var r,o,a=(7+i-n)%7,l=xe(t,n,s),h=1+7*(e-1)+a+l;return h<=0?(r=t-1,o=pe(r)+h):h>pe(t)?(r=t+1,o=h-pe(t)):(r=t,o=h),{year:r,dayOfYear:o}}function we(t,e,i){var n,s,r=xe(t.year(),e,i),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return o<1?(s=t.year()-1,n=o+ke(s,e,i)):o>ke(t.year(),e,i)?(n=o-ke(t.year(),e,i),s=t.year()+1):(s=t.year(),n=o),{week:n,year:s}}function ke(t,e,i){var n=xe(t,e,i),s=xe(t+1,e,i);return(pe(t)-n+s)/7}function Le(t){return we(t,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),at("week",5),at("isoWeek",5),Ft("w",wt),Ft("ww",wt,vt),Ft("W",wt),Ft("WW",wt,vt),Bt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=ct(t)}));var Se={dow:0,doy:6};function Te(){return this._week.dow}function De(){return this._week.doy}function Pe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ye(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ce(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Ne(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ae(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),Ft("d",wt),Ft("e",wt),Ft("E",wt),Ft("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Ft("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Ft("dddd",(function(t,e){return e.weekdaysRegex(t)})),Bt(["dd","ddd","dddd"],(function(t,e,i,n){var s=i._locale.weekdaysParse(t,n,i._strict);null!=s?e.d=s:y(i).invalidWeekday=t})),Bt(["d","e","E"],(function(t,e,i,n){e[n]=ct(t)}));var Oe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ee=Ot,Ie=Ot,je=Ot;function He(t,e){var i=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ae(i,this._week.dow):t?i[t.day()]:i}function Be(t){return!0===t?Ae(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function ze(t){return!0===t?Ae(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ve(t,e,i){var n,s,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=g([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?(s=Vt.call(this._weekdaysParse,o),-1!==s?s:null):"ddd"===e?(s=Vt.call(this._shortWeekdaysParse,o),-1!==s?s:null):(s=Vt.call(this._minWeekdaysParse,o),-1!==s?s:null):"dddd"===e?(s=Vt.call(this._weekdaysParse,o),-1!==s?s:(s=Vt.call(this._shortWeekdaysParse,o),-1!==s?s:(s=Vt.call(this._minWeekdaysParse,o),-1!==s?s:null))):"ddd"===e?(s=Vt.call(this._shortWeekdaysParse,o),-1!==s?s:(s=Vt.call(this._weekdaysParse,o),-1!==s?s:(s=Vt.call(this._minWeekdaysParse,o),-1!==s?s:null))):(s=Vt.call(this._minWeekdaysParse,o),-1!==s?s:(s=Vt.call(this._weekdaysParse,o),-1!==s?s:(s=Vt.call(this._shortWeekdaysParse,o),-1!==s?s:null)))}function We(t,e,i){var n,s,r;if(this._weekdaysParseExact)return Ve.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=g([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Ge(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ce(t,this.localeData()),this.add(t-e,"d")):e}function Ue(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ke(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ne(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Xe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ee),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ie),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Je(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=je),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $e(){function t(t,e){return e.length-t.length}var e,i,n,s,r,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=g([2e3,1]).day(e),n=It(this.weekdaysMin(i,"")),s=It(this.weekdaysShort(i,"")),r=It(this.weekdays(i,"")),o.push(n),a.push(s),l.push(r),h.push(n),h.push(s),h.push(r);o.sort(t),a.sort(t),l.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Qe(){return this.hours()||24}function ti(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ei(t,e){return e._meridiemParse}function ii(t){return"p"===(t+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ze),B("k",["kk",2],0,Qe),B("hmm",0,0,(function(){return""+Ze.apply(this)+R(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Ze.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),ti("a",!0),ti("A",!1),nt("hour","h"),at("hour",13),Ft("a",ei),Ft("A",ei),Ft("H",wt),Ft("h",wt),Ft("k",wt),Ft("HH",wt,vt),Ft("hh",wt,vt),Ft("kk",wt,vt),Ft("hmm",kt),Ft("hmmss",Lt),Ft("Hmm",kt),Ft("Hmmss",Lt),Ht(["H","HH"],Kt),Ht(["k","kk"],(function(t,e,i){var n=ct(t);e[Kt]=24===n?0:n})),Ht(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),Ht(["h","hh"],(function(t,e,i){e[Kt]=ct(t),y(i).bigHour=!0})),Ht("hmm",(function(t,e,i){var n=t.length-2;e[Kt]=ct(t.substr(0,n)),e[Xt]=ct(t.substr(n)),y(i).bigHour=!0})),Ht("hmmss",(function(t,e,i){var n=t.length-4,s=t.length-2;e[Kt]=ct(t.substr(0,n)),e[Xt]=ct(t.substr(n,2)),e[qt]=ct(t.substr(s)),y(i).bigHour=!0})),Ht("Hmm",(function(t,e,i){var n=t.length-2;e[Kt]=ct(t.substr(0,n)),e[Xt]=ct(t.substr(n))})),Ht("Hmmss",(function(t,e,i){var n=t.length-4,s=t.length-2;e[Kt]=ct(t.substr(0,n)),e[Xt]=ct(t.substr(n,2)),e[qt]=ct(t.substr(s))}));var ni=/[ap]\.?m?\.?/i,si=dt("Hours",!0);function ri(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var oi,ai={calendar:O,longDateFormat:U,invalidDate:X,ordinal:J,dayOfMonthOrdinalParse:$,relativeTime:Q,months:ee,monthsShort:ie,week:Se,weekdays:Oe,weekdaysMin:Re,weekdaysShort:Fe,meridiemParse:ni},li={},hi={};function ui(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}function ci(t){return t?t.toLowerCase().replace("_","-"):t}function di(t){var e,i,n,s,r=0;while(r<t.length){s=ci(t[r]).split("-"),e=s.length,i=ci(t[r+1]),i=i?i.split("-"):null;while(e>0){if(n=mi(s.slice(0,e).join("-")),n)return n;if(i&&i.length>=e&&ui(s,i)>=e-1)break;e--}r++}return oi}function fi(t){return null!=t.match("^[^/\\\\]*$")}function mi(e){var n=null;if(void 0===li[e]&&t&&t.exports&&fi(e))try{n=oi._abbr,void 0,i(6700)("./"+e),gi(n)}catch(s){li[e]=null}return li[e]}function gi(t,e){var i;return t&&(i=u(e)?_i(t):pi(t,e),i?oi=i:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),oi._abbr}function pi(t,e){if(null!==e){var i,n=ai;if(e.abbr=t,null!=li[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=li[t]._config;else if(null!=e.parentLocale)if(null!=li[e.parentLocale])n=li[e.parentLocale]._config;else{if(i=mi(e.parentLocale),null==i)return hi[e.parentLocale]||(hi[e.parentLocale]=[]),hi[e.parentLocale].push({name:t,config:e}),null;n=i._config}return li[t]=new A(N(n,e)),hi[t]&&hi[t].forEach((function(t){pi(t.name,t.config)})),gi(t),li[t]}return delete li[t],null}function yi(t,e){if(null!=e){var i,n,s=ai;null!=li[t]&&null!=li[t].parentLocale?li[t].set(N(li[t]._config,e)):(n=mi(t),null!=n&&(s=n._config),e=N(s,e),null==n&&(e.abbr=t),i=new A(e),i.parentLocale=li[t],li[t]=i),gi(t)}else null!=li[t]&&(null!=li[t].parentLocale?(li[t]=li[t].parentLocale,t===gi()&&gi(t)):null!=li[t]&&delete li[t]);return li[t]}function _i(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return oi;if(!o(t)){if(e=mi(t),e)return e;t=[t]}return di(t)}function vi(){return T(li)}function bi(t){var e,i=t._a;return i&&-2===y(t).overflow&&(e=i[Gt]<0||i[Gt]>11?Gt:i[Ut]<1||i[Ut]>te(i[Wt],i[Gt])?Ut:i[Kt]<0||i[Kt]>24||24===i[Kt]&&(0!==i[Xt]||0!==i[qt]||0!==i[Jt])?Kt:i[Xt]<0||i[Xt]>59?Xt:i[qt]<0||i[qt]>59?qt:i[Jt]<0||i[Jt]>999?Jt:-1,y(t)._overflowDayOfYear&&(e<Wt||e>Ut)&&(e=Ut),y(t)._overflowWeeks&&-1===e&&(e=$t),y(t)._overflowWeekday&&-1===e&&(e=Zt),y(t).overflow=e),t}var xi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wi=/Z|[+-]\d\d(?::?\d\d)?/,ki=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Li=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Si=/^\/?Date\((-?\d+)/i,Ti=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Di={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pi(t){var e,i,n,s,r,o,a=t._i,l=xi.exec(a)||Mi.exec(a),h=ki.length,u=Li.length;if(l){for(y(t).iso=!0,e=0,i=h;e<i;e++)if(ki[e][1].exec(l[1])){s=ki[e][0],n=!1!==ki[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,i=u;e<i;e++)if(Li[e][1].exec(l[3])){r=(l[2]||" ")+Li[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!wi.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=s+(r||"")+(o||""),Bi(t)}else t._isValid=!1}function Yi(t,e,i,n,s,r){var o=[Ci(t),ie.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(s,10)];return r&&o.push(parseInt(r,10)),o}function Ci(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ni(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ai(t,e,i){if(t){var n=Fe.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(n!==s)return y(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Oi(t,e,i){if(t)return Di[t];if(e)return 0;var n=parseInt(i,10),s=n%100,r=(n-s)/100;return 60*r+s}function Fi(t){var e,i=Ti.exec(Ni(t._i));if(i){if(e=Yi(i[4],i[3],i[2],i[5],i[6],i[7]),!Ai(i[1],e,t))return;t._a=e,t._tzm=Oi(i[8],i[9],i[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Ri(t){var e=Si.exec(t._i);null===e?(Pi(t),!1===t._isValid&&(delete t._isValid,Fi(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:s.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Ei(t,e,i){return null!=t?t:null!=e?e:i}function Ii(t){var e=new Date(s.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ji(t){var e,i,n,s,r,o=[];if(!t._d){for(n=Ii(t),t._w&&null==t._a[Ut]&&null==t._a[Gt]&&Hi(t),null!=t._dayOfYear&&(r=Ei(t._a[Wt],n[Wt]),(t._dayOfYear>pe(r)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),i=be(r,0,t._dayOfYear),t._a[Gt]=i.getUTCMonth(),t._a[Ut]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Kt]&&0===t._a[Xt]&&0===t._a[qt]&&0===t._a[Jt]&&(t._nextDay=!0,t._a[Kt]=0),t._d=(t._useUTC?be:ve).apply(null,o),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Kt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==s&&(y(t).weekdayMismatch=!0)}}function Hi(t){var e,i,n,s,r,o,a,l,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,o=4,i=Ei(e.GG,t._a[Wt],we(qi(),1,4).year),n=Ei(e.W,1),s=Ei(e.E,1),(s<1||s>7)&&(l=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,h=we(qi(),r,o),i=Ei(e.gg,t._a[Wt],h.year),n=Ei(e.w,h.week),null!=e.d?(s=e.d,(s<0||s>6)&&(l=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(l=!0)):s=r),n<1||n>ke(i,r,o)?y(t)._overflowWeeks=!0:null!=l?y(t)._overflowWeekday=!0:(a=Me(i,n,s,r,o),t._a[Wt]=a.year,t._dayOfYear=a.dayOfYear)}function Bi(t){if(t._f!==s.ISO_8601)if(t._f!==s.RFC_2822){t._a=[],y(t).empty=!0;var e,i,n,r,o,a,l,h=""+t._i,u=h.length,c=0;for(n=G(t._f,t._locale).match(E)||[],l=n.length,e=0;e<l;e++)r=n[e],i=(h.match(Rt(r,t))||[])[0],i&&(o=h.substr(0,h.indexOf(i)),o.length>0&&y(t).unusedInput.push(o),h=h.slice(h.indexOf(i)+i.length),c+=i.length),H[r]?(i?y(t).empty=!1:y(t).unusedTokens.push(r),zt(r,i,t)):t._strict&&!i&&y(t).unusedTokens.push(r);y(t).charsLeftOver=u-c,h.length>0&&y(t).unusedInput.push(h),t._a[Kt]<=12&&!0===y(t).bigHour&&t._a[Kt]>0&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Kt]=zi(t._locale,t._a[Kt],t._meridiem),a=y(t).era,null!==a&&(t._a[Wt]=t._locale.erasConvertYear(a,t._a[Wt])),ji(t),bi(t)}else Fi(t);else Pi(t)}function zi(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Vi(t){var e,i,n,s,r,o,a=!1,l=t._f.length;if(0===l)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<l;s++)r=0,o=!1,e=M({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Bi(e),_(e)&&(o=!0),r+=y(e).charsLeftOver,r+=10*y(e).unusedTokens.length,y(e).score=r,a?r<n&&(n=r,i=e):(null==n||r<n||o)&&(n=r,i=e,o&&(a=!0));m(t,i||e)}function Wi(t){if(!t._d){var e=rt(t._i),i=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ji(t)}}function Gi(t){var e=new w(bi(Ui(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ui(t){var e=t._i,i=t._f;return t._locale=t._locale||_i(t._l),null===e||void 0===i&&""===e?v({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new w(bi(e)):(d(e)?t._d=e:o(i)?Vi(t):i?Bi(t):Ki(t),_(t)||(t._d=null),t))}function Ki(t){var e=t._i;u(e)?t._d=new Date(s.now()):d(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Ri(t):o(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),ji(t)):a(e)?Wi(t):c(e)?t._d=new Date(e):s.createFromInputFallback(t)}function Xi(t,e,i,n,s){var r={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(a(t)&&h(t)||o(t)&&0===t.length)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=i,r._i=t,r._f=e,r._strict=n,Gi(r)}function qi(t,e,i,n){return Xi(t,e,i,n,!1)}s.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),s.ISO_8601=function(){},s.RFC_2822=function(){};var Ji=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qi.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),$i=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qi.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Zi(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return qi();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Qi(){var t=[].slice.call(arguments,0);return Zi("isBefore",t)}function tn(){var t=[].slice.call(arguments,0);return Zi("isAfter",t)}var en=function(){return Date.now?Date.now():+new Date},nn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function sn(t){var e,i,n=!1,s=nn.length;for(e in t)if(l(t,e)&&(-1===Vt.call(nn,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<s;++i)if(t[nn[i]]){if(n)return!1;parseFloat(t[nn[i]])!==ct(t[nn[i]])&&(n=!0)}return!0}function rn(){return this._isValid}function on(){return Pn(NaN)}function an(t){var e=rt(t),i=e.year||0,n=e.quarter||0,s=e.month||0,r=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,u=e.millisecond||0;this._isValid=sn(e),this._milliseconds=+u+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=_i(),this._bubble()}function ln(t){return t instanceof an}function hn(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function un(t,e,i){var n,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<s;n++)(i&&t[n]!==e[n]||!i&&ct(t[n])!==ct(e[n]))&&o++;return o+r}function cn(t,e){B(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+R(~~(t/60),2)+e+R(~~t%60,2)}))}cn("Z",":"),cn("ZZ",""),Ft("Z",Nt),Ft("ZZ",Nt),Ht(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=fn(Nt,t)}));var dn=/([\+\-]|\d\d)/gi;function fn(t,e){var i,n,s,r=(e||"").match(t);return null===r?null:(i=r[r.length-1]||[],n=(i+"").match(dn)||["-",0,0],s=60*n[1]+ct(n[2]),0===s?0:"+"===n[0]?s:-s)}function mn(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(k(t)||d(t)?t.valueOf():qi(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),s.updateOffset(i,!1),i):qi(t).local()}function gn(t){return-Math.round(t._d.getTimezoneOffset())}function pn(t,e,i){var n,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=fn(Nt,t),null===t)return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=gn(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?On(this,Pn(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:gn(this)}function yn(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function _n(t){return this.utcOffset(0,t)}function vn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(gn(this),"m")),this}function bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=fn(Ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function xn(t){return!!this.isValid()&&(t=t?qi(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Mn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wn(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return M(e,this),e=Ui(e),e._a?(t=e._isUTC?g(e._a):qi(e._a),this._isDSTShifted=this.isValid()&&un(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kn(){return!!this.isValid()&&!this._isUTC}function Ln(){return!!this.isValid()&&this._isUTC}function Sn(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}s.updateOffset=function(){};var Tn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Dn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pn(t,e){var i,n,s,r=t,o=null;return ln(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(o=Tn.exec(t))?(i="-"===o[1]?-1:1,r={y:0,d:ct(o[Ut])*i,h:ct(o[Kt])*i,m:ct(o[Xt])*i,s:ct(o[qt])*i,ms:ct(hn(1e3*o[Jt]))*i}):(o=Dn.exec(t))?(i="-"===o[1]?-1:1,r={y:Yn(o[2],i),M:Yn(o[3],i),w:Yn(o[4],i),d:Yn(o[5],i),h:Yn(o[6],i),m:Yn(o[7],i),s:Yn(o[8],i)}):null==r?r={}:"object"===typeof r&&("from"in r||"to"in r)&&(s=Nn(qi(r.from),qi(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),n=new an(r),ln(t)&&l(t,"_locale")&&(n._locale=t._locale),ln(t)&&l(t,"_isValid")&&(n._isValid=t._isValid),n}function Yn(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Cn(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Nn(t,e){var i;return t.isValid()&&e.isValid()?(e=mn(e,t),t.isBefore(e)?i=Cn(t,e):(i=Cn(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function An(t,e){return function(i,n){var s,r;return null===n||isNaN(+n)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),s=Pn(i,n),On(this,s,t),this}}function On(t,e,i,n){var r=e._milliseconds,o=hn(e._days),a=hn(e._months);t.isValid()&&(n=null==n||n,a&&ue(t,ft(t,"Month")+a*i),o&&mt(t,"Date",ft(t,"Date")+o*i),r&&t._d.setTime(t._d.valueOf()+r*i),n&&s.updateOffset(t,o||a))}Pn.fn=an.prototype,Pn.invalid=on;var Fn=An(1,"add"),Rn=An(-1,"subtract");function En(t){return"string"===typeof t||t instanceof String}function In(t){return k(t)||d(t)||En(t)||c(t)||Hn(t)||jn(t)||null===t||void 0===t}function jn(t){var e,i,n=a(t)&&!h(t),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=r.length;for(e=0;e<o;e+=1)i=r[e],s=s||l(t,i);return n&&s}function Hn(t){var e=o(t),i=!1;return e&&(i=0===t.filter((function(e){return!c(e)&&En(t)})).length),e&&i}function Bn(t){var e,i,n=a(t)&&!h(t),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)i=r[e],s=s||l(t,i);return n&&s}function zn(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Vn(t,e){1===arguments.length&&(arguments[0]?In(arguments[0])?(t=arguments[0],e=void 0):Bn(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||qi(),n=mn(i,this).startOf("day"),r=s.calendarFormat(this,n)||"sameElse",o=e&&(Y(e[r])?e[r].call(this,i):e[r]);return this.format(o||this.localeData().calendar(r,this,qi(i)))}function Wn(){return new w(this)}function Gn(t,e){var i=k(t)?t:qi(t);return!(!this.isValid()||!i.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function Un(t,e){var i=k(t)?t:qi(t);return!(!this.isValid()||!i.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function Kn(t,e,i,n){var s=k(t)?t:qi(t),r=k(e)?e:qi(e);return!!(this.isValid()&&s.isValid()&&r.isValid())&&(n=n||"()",("("===n[0]?this.isAfter(s,i):!this.isBefore(s,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i)))}function Xn(t,e){var i,n=k(t)?t:qi(t);return!(!this.isValid()||!n.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function qn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Jn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function $n(t,e,i){var n,s,r;if(!this.isValid())return NaN;if(n=mn(t,this),!n.isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),e=st(e),e){case"year":r=Zn(this,n)/12;break;case"month":r=Zn(this,n);break;case"quarter":r=Zn(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-s)/864e5;break;case"week":r=(this-n-s)/6048e5;break;default:r=this-n}return i?r:ut(r)}function Zn(t,e){if(t.date()<e.date())return-Zn(e,t);var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(i=t.clone().add(s-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(s+1,"months"),n=(e-r)/(i-r)),-(s+n)||0}function Qn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ts(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?W(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function es(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,i,n,s="moment",r="";return this.isLocal()||(s=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+s+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(t+e+i+n)}function is(t){t||(t=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function ns(t,e){return this.isValid()&&(k(t)&&t.isValid()||qi(t).isValid())?Pn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ss(t){return this.from(qi(),t)}function rs(t,e){return this.isValid()&&(k(t)&&t.isValid()||qi(t).isValid())?Pn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function os(t){return this.to(qi(),t)}function as(t){var e;return void 0===t?this._locale._abbr:(e=_i(t),null!=e&&(this._locale=e),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ls=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function hs(){return this._locale}var us=1e3,cs=60*us,ds=60*cs,fs=3506328*ds;function ms(t,e){return(t%e+e)%e}function gs(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-fs:new Date(t,e,i).valueOf()}function ps(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-fs:Date.UTC(t,e,i)}function ys(t){var e,i;if(t=st(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ps:gs,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ms(e+(this._isUTC?0:this.utcOffset()*cs),ds);break;case"minute":e=this._d.valueOf(),e-=ms(e,cs);break;case"second":e=this._d.valueOf(),e-=ms(e,us);break}return this._d.setTime(e),s.updateOffset(this,!0),this}function _s(t){var e,i;if(t=st(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ps:gs,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ds-ms(e+(this._isUTC?0:this.utcOffset()*cs),ds)-1;break;case"minute":e=this._d.valueOf(),e+=cs-ms(e,cs)-1;break;case"second":e=this._d.valueOf(),e+=us-ms(e,us)-1;break}return this._d.setTime(e),s.updateOffset(this,!0),this}function vs(){return this._d.valueOf()-6e4*(this._offset||0)}function bs(){return Math.floor(this.valueOf()/1e3)}function xs(){return new Date(this.valueOf())}function Ms(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ws(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ks(){return this.isValid()?this.toISOString():null}function Ls(){return _(this)}function Ss(){return m({},y(this))}function Ts(){return y(this).overflow}function Ds(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ps(t,e){var i,n,r,o=this._eras||_i("en")._eras;for(i=0,n=o.length;i<n;++i){switch(typeof o[i].since){case"string":r=s(o[i].since).startOf("day"),o[i].since=r.valueOf();break}switch(typeof o[i].until){case"undefined":o[i].until=1/0;break;case"string":r=s(o[i].until).startOf("day").valueOf(),o[i].until=r.valueOf();break}}return o}function Ys(t,e,i){var n,s,r,o,a,l=this.eras();for(t=t.toUpperCase(),n=0,s=l.length;n<s;++n)if(r=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),a=l[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[n];break;case"NNNN":if(r===t)return l[n];break;case"NNNNN":if(a===t)return l[n];break}else if([r,o,a].indexOf(t)>=0)return l[n]}function Cs(t,e){var i=t.since<=t.until?1:-1;return void 0===e?s(t.since).year():s(t.since).year()+(e-t.offset)*i}function Ns(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].name;if(n[t].until<=i&&i<=n[t].since)return n[t].name}return""}function As(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].narrow;if(n[t].until<=i&&i<=n[t].since)return n[t].narrow}return""}function Os(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].abbr;if(n[t].until<=i&&i<=n[t].since)return n[t].abbr}return""}function Fs(){var t,e,i,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(i=r[t].since<=r[t].until?1:-1,n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return(this.year()-s(r[t].since).year())*i+r[t].offset;return this.year()}function Rs(t){return l(this,"_erasNameRegex")||Vs.call(this),t?this._erasNameRegex:this._erasRegex}function Es(t){return l(this,"_erasAbbrRegex")||Vs.call(this),t?this._erasAbbrRegex:this._erasRegex}function Is(t){return l(this,"_erasNarrowRegex")||Vs.call(this),t?this._erasNarrowRegex:this._erasRegex}function js(t,e){return e.erasAbbrRegex(t)}function Hs(t,e){return e.erasNameRegex(t)}function Bs(t,e){return e.erasNarrowRegex(t)}function zs(t,e){return e._eraYearOrdinalRegex||Pt}function Vs(){var t,e,i=[],n=[],s=[],r=[],o=this.eras();for(t=0,e=o.length;t<e;++t)n.push(It(o[t].name)),i.push(It(o[t].abbr)),s.push(It(o[t].narrow)),r.push(It(o[t].name)),r.push(It(o[t].abbr)),r.push(It(o[t].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Ws(t,e){B(0,[t,t.length],0,e)}function Gs(t){return $s.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Us(t){return $s.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ks(){return ke(this.year(),1,4)}function Xs(){return ke(this.isoWeekYear(),1,4)}function qs(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Js(){var t=this.localeData()._week;return ke(this.weekYear(),t.dow,t.doy)}function $s(t,e,i,n,s){var r;return null==t?we(this,n,s).year:(r=ke(t,n,s),e>r&&(e=r),Zs.call(this,t,e,i,n,s))}function Zs(t,e,i,n,s){var r=Me(t,e,i,n,s),o=be(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qs(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Ft("N",js),Ft("NN",js),Ft("NNN",js),Ft("NNNN",Hs),Ft("NNNNN",Bs),Ht(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,i,n){var s=i._locale.erasParse(t,n,i._strict);s?y(i).era=s:y(i).invalidEra=t})),Ft("y",Pt),Ft("yy",Pt),Ft("yyy",Pt),Ft("yyyy",Pt),Ft("yo",zs),Ht(["y","yy","yyy","yyyy"],Wt),Ht(["yo"],(function(t,e,i,n){var s;i._locale._eraYearOrdinalRegex&&(s=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[Wt]=i._locale.eraYearOrdinalParse(t,s):e[Wt]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ws("gggg","weekYear"),Ws("ggggg","weekYear"),Ws("GGGG","isoWeekYear"),Ws("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),Ft("G",Yt),Ft("g",Yt),Ft("GG",wt,vt),Ft("gg",wt,vt),Ft("GGGG",Tt,xt),Ft("gggg",Tt,xt),Ft("GGGGG",Dt,Mt),Ft("ggggg",Dt,Mt),Bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=ct(t)})),Bt(["gg","GG"],(function(t,e,i,n){e[n]=s.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),nt("quarter","Q"),at("quarter",7),Ft("Q",_t),Ht("Q",(function(t,e){e[Gt]=3*(ct(t)-1)})),B("D",["DD",2],"Do","date"),nt("date","D"),at("date",9),Ft("D",wt),Ft("DD",wt,vt),Ft("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ht(["D","DD"],Ut),Ht("Do",(function(t,e){e[Ut]=ct(t.match(wt)[0])}));var tr=dt("Date",!0);function er(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),at("dayOfYear",4),Ft("DDD",St),Ft("DDDD",bt),Ht(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=ct(t)})),B("m",["mm",2],0,"minute"),nt("minute","m"),at("minute",14),Ft("m",wt),Ft("mm",wt,vt),Ht(["m","mm"],Xt);var ir=dt("Minutes",!1);B("s",["ss",2],0,"second"),nt("second","s"),at("second",15),Ft("s",wt),Ft("ss",wt,vt),Ht(["s","ss"],qt);var nr,sr,rr=dt("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),at("millisecond",16),Ft("S",St,_t),Ft("SS",St,vt),Ft("SSS",St,bt),nr="SSSS";nr.length<=9;nr+="S")Ft(nr,Pt);function or(t,e){e[Jt]=ct(1e3*("0."+t))}for(nr="S";nr.length<=9;nr+="S")Ht(nr,or);function ar(){return this._isUTC?"UTC":""}function lr(){return this._isUTC?"Coordinated Universal Time":""}sr=dt("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var hr=w.prototype;function ur(t){return qi(1e3*t)}function cr(){return qi.apply(null,arguments).parseZone()}function dr(t){return t}hr.add=Fn,hr.calendar=Vn,hr.clone=Wn,hr.diff=$n,hr.endOf=_s,hr.format=is,hr.from=ns,hr.fromNow=ss,hr.to=rs,hr.toNow=os,hr.get=gt,hr.invalidAt=Ts,hr.isAfter=Gn,hr.isBefore=Un,hr.isBetween=Kn,hr.isSame=Xn,hr.isSameOrAfter=qn,hr.isSameOrBefore=Jn,hr.isValid=Ls,hr.lang=ls,hr.locale=as,hr.localeData=hs,hr.max=$i,hr.min=Ji,hr.parsingFlags=Ss,hr.set=pt,hr.startOf=ys,hr.subtract=Rn,hr.toArray=Ms,hr.toObject=ws,hr.toDate=xs,hr.toISOString=ts,hr.inspect=es,"undefined"!==typeof Symbol&&null!=Symbol.for&&(hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hr.toJSON=ks,hr.toString=Qn,hr.unix=bs,hr.valueOf=vs,hr.creationData=Ds,hr.eraName=Ns,hr.eraNarrow=As,hr.eraAbbr=Os,hr.eraYear=Fs,hr.year=ye,hr.isLeapYear=_e,hr.weekYear=Gs,hr.isoWeekYear=Us,hr.quarter=hr.quarters=Qs,hr.month=ce,hr.daysInMonth=de,hr.week=hr.weeks=Pe,hr.isoWeek=hr.isoWeeks=Ye,hr.weeksInYear=qs,hr.weeksInWeekYear=Js,hr.isoWeeksInYear=Ks,hr.isoWeeksInISOWeekYear=Xs,hr.date=tr,hr.day=hr.days=Ge,hr.weekday=Ue,hr.isoWeekday=Ke,hr.dayOfYear=er,hr.hour=hr.hours=si,hr.minute=hr.minutes=ir,hr.second=hr.seconds=rr,hr.millisecond=hr.milliseconds=sr,hr.utcOffset=pn,hr.utc=_n,hr.local=vn,hr.parseZone=bn,hr.hasAlignedHourOffset=xn,hr.isDST=Mn,hr.isLocal=kn,hr.isUtcOffset=Ln,hr.isUtc=Sn,hr.isUTC=Sn,hr.zoneAbbr=ar,hr.zoneName=lr,hr.dates=S("dates accessor is deprecated. Use date instead.",tr),hr.months=S("months accessor is deprecated. Use month instead",ce),hr.years=S("years accessor is deprecated. Use year instead",ye),hr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yn),hr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wn);var fr=A.prototype;function mr(t,e,i,n){var s=_i(),r=g().set(n,e);return s[i](r,t)}function gr(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return mr(t,e,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=mr(t,n,i,"month");return s}function pr(t,e,i,n){"boolean"===typeof t?(c(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,c(e)&&(i=e,e=void 0),e=e||"");var s,r=_i(),o=t?r._week.dow:0,a=[];if(null!=i)return mr(e,(i+o)%7,n,"day");for(s=0;s<7;s++)a[s]=mr(e,(s+o)%7,n,"day");return a}function yr(t,e){return gr(t,e,"months")}function _r(t,e){return gr(t,e,"monthsShort")}function vr(t,e,i){return pr(t,e,i,"weekdays")}function br(t,e,i){return pr(t,e,i,"weekdaysShort")}function xr(t,e,i){return pr(t,e,i,"weekdaysMin")}fr.calendar=F,fr.longDateFormat=K,fr.invalidDate=q,fr.ordinal=Z,fr.preparse=dr,fr.postformat=dr,fr.relativeTime=tt,fr.pastFuture=et,fr.set=C,fr.eras=Ps,fr.erasParse=Ys,fr.erasConvertYear=Cs,fr.erasAbbrRegex=Es,fr.erasNameRegex=Rs,fr.erasNarrowRegex=Is,fr.months=oe,fr.monthsShort=ae,fr.monthsParse=he,fr.monthsRegex=me,fr.monthsShortRegex=fe,fr.week=Le,fr.firstDayOfYear=De,fr.firstDayOfWeek=Te,fr.weekdays=He,fr.weekdaysMin=ze,fr.weekdaysShort=Be,fr.weekdaysParse=We,fr.weekdaysRegex=Xe,fr.weekdaysShortRegex=qe,fr.weekdaysMinRegex=Je,fr.isPM=ii,fr.meridiem=ri,gi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===ct(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),s.lang=S("moment.lang is deprecated. Use moment.locale instead.",gi),s.langData=S("moment.langData is deprecated. Use moment.localeData instead.",_i);var Mr=Math.abs;function wr(){var t=this._data;return this._milliseconds=Mr(this._milliseconds),this._days=Mr(this._days),this._months=Mr(this._months),t.milliseconds=Mr(t.milliseconds),t.seconds=Mr(t.seconds),t.minutes=Mr(t.minutes),t.hours=Mr(t.hours),t.months=Mr(t.months),t.years=Mr(t.years),this}function kr(t,e,i,n){var s=Pn(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function Lr(t,e){return kr(this,t,e,1)}function Sr(t,e){return kr(this,t,e,-1)}function Tr(t){return t<0?Math.floor(t):Math.ceil(t)}function Dr(){var t,e,i,n,s,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*Tr(Yr(a)+o),o=0,a=0),l.milliseconds=r%1e3,t=ut(r/1e3),l.seconds=t%60,e=ut(t/60),l.minutes=e%60,i=ut(e/60),l.hours=i%24,o+=ut(i/24),s=ut(Pr(o)),a+=s,o-=Tr(Yr(s)),n=ut(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function Pr(t){return 4800*t/146097}function Yr(t){return 146097*t/4800}function Cr(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if(t=st(t),"month"===t||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+Pr(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Yr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Nr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ct(this._months/12):NaN}function Ar(t){return function(){return this.as(t)}}var Or=Ar("ms"),Fr=Ar("s"),Rr=Ar("m"),Er=Ar("h"),Ir=Ar("d"),jr=Ar("w"),Hr=Ar("M"),Br=Ar("Q"),zr=Ar("y");function Vr(){return Pn(this)}function Wr(t){return t=st(t),this.isValid()?this[t+"s"]():NaN}function Gr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ur=Gr("milliseconds"),Kr=Gr("seconds"),Xr=Gr("minutes"),qr=Gr("hours"),Jr=Gr("days"),$r=Gr("months"),Zr=Gr("years");function Qr(){return ut(this.days()/7)}var to=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function io(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function no(t,e,i,n){var s=Pn(t).abs(),r=to(s.as("s")),o=to(s.as("m")),a=to(s.as("h")),l=to(s.as("d")),h=to(s.as("M")),u=to(s.as("w")),c=to(s.as("y")),d=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||o<=1&&["m"]||o<i.m&&["mm",o]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(d=d||u<=1&&["w"]||u<i.w&&["ww",u]),d=d||h<=1&&["M"]||h<i.M&&["MM",h]||c<=1&&["y"]||["yy",c],d[2]=e,d[3]=+t>0,d[4]=n,io.apply(null,d)}function so(t){return void 0===t?to:"function"===typeof t&&(to=t,!0)}function ro(t,e){return void 0!==eo[t]&&(void 0===e?eo[t]:(eo[t]=e,"s"===t&&(eo.ss=e-1),!0))}function oo(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,n,s=!1,r=eo;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(s=t),"object"===typeof e&&(r=Object.assign({},eo,e),null!=e.s&&null==e.ss&&(r.ss=e.s-1)),i=this.localeData(),n=no(this,!s,r,i),s&&(n=i.pastFuture(+this,n)),i.postformat(n)}var ao=Math.abs;function lo(t){return(t>0)-(t<0)||+t}function ho(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n,s,r,o,a,l=ao(this._milliseconds)/1e3,h=ao(this._days),u=ao(this._months),c=this.asSeconds();return c?(t=ut(l/60),e=ut(t/60),l%=60,t%=60,i=ut(u/12),u%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=c<0?"-":"",r=lo(this._months)!==lo(c)?"-":"",o=lo(this._days)!==lo(c)?"-":"",a=lo(this._milliseconds)!==lo(c)?"-":"",s+"P"+(i?r+i+"Y":"")+(u?r+u+"M":"")+(h?o+h+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+n+"S":"")):"P0D"}var uo=an.prototype;return uo.isValid=rn,uo.abs=wr,uo.add=Lr,uo.subtract=Sr,uo.as=Cr,uo.asMilliseconds=Or,uo.asSeconds=Fr,uo.asMinutes=Rr,uo.asHours=Er,uo.asDays=Ir,uo.asWeeks=jr,uo.asMonths=Hr,uo.asQuarters=Br,uo.asYears=zr,uo.valueOf=Nr,uo._bubble=Dr,uo.clone=Vr,uo.get=Wr,uo.milliseconds=Ur,uo.seconds=Kr,uo.minutes=Xr,uo.hours=qr,uo.days=Jr,uo.weeks=Qr,uo.months=$r,uo.years=Zr,uo.humanize=oo,uo.toISOString=ho,uo.toString=ho,uo.toJSON=ho,uo.locale=as,uo.localeData=hs,uo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ho),uo.lang=ls,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Ft("x",Yt),Ft("X",At),Ht("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t))})),Ht("x",(function(t,e,i){i._d=new Date(ct(t))})),
//! moment.js
s.version="2.29.4",r(qi),s.fn=hr,s.min=Qi,s.max=tn,s.now=en,s.utc=g,s.unix=ur,s.months=yr,s.isDate=d,s.locale=gi,s.invalid=v,s.duration=Pn,s.isMoment=k,s.weekdays=vr,s.parseZone=cr,s.localeData=_i,s.isDuration=ln,s.monthsShort=_r,s.weekdaysMin=xr,s.defineLocale=pi,s.updateLocale=yi,s.locales=vi,s.weekdaysShort=br,s.normalizeUnits=st,s.relativeTimeRounding=so,s.relativeTimeThreshold=ro,s.calendarFormat=zn,s.prototype=hr,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s}))},3744:function(t,e){"use strict";e.Z=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i}},2119:function(t,e,i){"use strict";i.d(e,{PO:function(){return W},p7:function(){return Qt}});var n=i(5166);
/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,r=t=>s?Symbol(t):"_vr_"+t,o=r("rvlm"),a=r("rvd"),l=r("r"),h=r("rl"),u=r("rvl"),c="undefined"!==typeof window;function d(t){return t.__esModule||s&&"Module"===t[Symbol.toStringTag]}const f=Object.assign;function m(t,e){const i={};for(const n in e){const s=e[n];i[n]=Array.isArray(s)?s.map(t):t(s)}return i}let g=()=>{};const p=/\/$/,y=t=>t.replace(p,"");function _(t,e,i="/"){let n,s={},r="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(n=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),s=t(r)),l>-1&&(n=n||e.slice(0,l),o=e.slice(l,e.length)),n=S(null!=n?n:e,i),{fullPath:n+(r&&"?")+r+o,path:n,query:s,hash:o}}function v(t,e){let i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function b(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function x(t,e,i){let n=e.matched.length-1,s=i.matched.length-1;return n>-1&&n===s&&M(e.matched[n],i.matched[s])&&w(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function M(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function w(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let i in t)if(!k(t[i],e[i]))return!1;return!0}function k(t,e){return Array.isArray(t)?L(t,e):Array.isArray(e)?L(e,t):t===e}function L(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}function S(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/");let s,r,o=i.length-1;for(s=0;s<n.length;s++)if(r=n[s],1!==o&&"."!==r){if(".."!==r)break;o--}return i.slice(0,o).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var T,D;(function(t){t["pop"]="pop",t["push"]="push"})(T||(T={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(D||(D={}));function P(t){if(!t)if(c){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),y(t)}const Y=/^[^#]+#/;function C(t,e){return t.replace(Y,"#")+e}function N(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(t){let e;if("el"in t){let i=t.el;const n="string"===typeof i&&i.startsWith("#");0;const s="string"===typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;e=N(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function F(t,e){const i=history.state?history.state.position-e:-1;return i+t}const R=new Map;function E(t,e){R.set(t,e)}function I(t){const e=R.get(t);return R.delete(t),e}let j=()=>location.protocol+"//"+location.host;function H(t,e){const{pathname:i,search:n,hash:s}=e,r=t.indexOf("#");if(r>-1){let t=s.slice(1);return"/"!==t[0]&&(t="/"+t),b(t,"")}const o=b(i,t);return o+n+s}function B(t,e,i,n){let s=[],r=[],o=null;const a=({state:r})=>{const a=H(t,location),l=i.value,h=e.value;let u=0;if(r){if(i.value=a,e.value=r,o&&o===l)return void(o=null);u=h?r.position-h.position:0}else n(a);s.forEach((t=>{t(i.value,l,{delta:u,type:T.pop,direction:u?u>0?D.forward:D.back:D.unknown})}))};function l(){o=i.value}function h(t){s.push(t);const e=()=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)};return r.push(e),e}function u(){const{history:t}=window;t.state&&t.replaceState(f({},t.state,{scroll:A()}),"")}function c(){for(const t of r)t();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:h,destroy:c}}function z(t,e,i,n=!1,s=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:s?A():null}}function V(t){const{history:e,location:i}=window;let n={value:H(t,i)},s={value:e.state};function r(n,r,o){const a=t.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?t:t.slice(a))+n:j()+t+n;try{e[o?"replaceState":"pushState"](r,"",l),s.value=r}catch(h){console.error(h),i[o?"replace":"assign"](l)}}function o(t,i){const o=f({},e.state,z(s.value.back,t,s.value.forward,!0),i,{position:s.value.position});r(t,o,!0),n.value=t}function a(t,i){const o=f({},s.value,e.state,{forward:t,scroll:A()});r(o.current,o,!0);const a=f({},z(n.value,t,null),{position:o.position+1},i);r(t,a,!1),n.value=t}return s.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:n,state:s,push:a,replace:o}}function W(t){t=P(t);const e=V(t),i=B(t,e.state,e.location,e.replace);function n(t,e=!0){e||i.pauseListeners(),history.go(t)}const s=f({location:"",base:t,go:n,createHref:C.bind(null,t)},e,i);return Object.defineProperty(s,"location",{get:()=>e.location.value}),Object.defineProperty(s,"state",{get:()=>e.state.value}),s}function G(t){return"string"===typeof t||t&&"object"===typeof t}function U(t){return"string"===typeof t||"symbol"===typeof t}const K={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},X=r("nf");var q;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(q||(q={}));function J(t,e){return f(new Error,{type:t,[X]:!0},e)}function $(t,e){return t instanceof Error&&X in t&&(null==e||!!(t.type&e))}const Z="[^/]+?",Q={sensitive:!1,strict:!1,start:!0,end:!0},tt=/[.+*?^${}()[\]/\\]/g;function et(t,e){const i=f({},Q,e);let n=[],s=i.start?"^":"";const r=[];for(const u of t){const t=u.length?[]:[90];i.strict&&!u.length&&(s+="/");for(let e=0;e<u.length;e++){const n=u[e];let o=40+(i.sensitive?.25:0);if(0===n.type)e||(s+="/"),s+=n.value.replace(tt,"\\$&"),o+=40;else if(1===n.type){const{value:t,repeatable:i,optional:a,regexp:l}=n;r.push({name:t,repeatable:i,optional:a});const c=l||Z;if(c!==Z){o+=10;try{new RegExp(`(${c})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${t}" (${c}): `+h.message)}}let d=i?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;e||(d=a&&u.length<2?`(?:/${d})`:"/"+d),a&&(d+="?"),s+=d,o+=20,a&&(o+=-8),i&&(o+=-20),".*"===c&&(o+=-50)}t.push(o)}n.push(t)}if(i.strict&&i.end){const t=n.length-1;n[t][n[t].length-1]+=.7000000000000001}i.strict||(s+="/?"),i.end?s+="$":i.strict&&(s+="(?:/|$)");const o=new RegExp(s,i.sensitive?"":"i");function a(t){const e=t.match(o),i={};if(!e)return null;for(let n=1;n<e.length;n++){const t=e[n]||"",s=r[n-1];i[s.name]=t&&s.repeatable?t.split("/"):t}return i}function l(e){let i="",n=!1;for(const s of t){n&&i.endsWith("/")||(i+="/"),n=!1;for(const t of s)if(0===t.type)i+=t.value;else if(1===t.type){const{value:r,repeatable:o,optional:a}=t,l=r in e?e[r]:"";if(Array.isArray(l)&&!o)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const h=Array.isArray(l)?l.join("/"):l;if(!h){if(!a)throw new Error(`Missing required param "${r}"`);s.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=h}}return i}return{re:o,score:n,keys:r,parse:a,stringify:l}}function it(t,e){let i=0;while(i<t.length&&i<e.length){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function nt(t,e){let i=0;const n=t.score,s=e.score;while(i<n.length&&i<s.length){const t=it(n[i],s[i]);if(t)return t;i++}return s.length-n.length}const st={type:0,value:""},rt=/[a-zA-Z0-9_]/;function ot(t){if(!t)return[[]];if("/"===t)return[[st]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${h}": ${t}`)}let i=0,n=i;const s=[];let r;function o(){r&&s.push(r),r=[]}let a,l=0,h="",u="";function c(){h&&(0===i?r.push({type:0,value:h}):1===i||2===i||3===i?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),h="")}function d(){h+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(h&&c(),o()):":"===a?(c(),i=1):d();break;case 4:d(),i=n;break;case 1:"("===a?i=2:rt.test(a)?d():(c(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:i=3:u+=a;break;case 3:c(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state");break}else n=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${h}"`),c(),o(),s}function at(t,e,i){const n=et(ot(t.path),i);const s=f(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf===!e.record.aliasOf&&e.children.push(s),s}function lt(t,e){const i=[],n=new Map;function s(t){return n.get(t)}function r(t,i,n){let s=!n,a=ut(t);a.aliasOf=n&&n.record;const h=mt(e,t),u=[a];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)u.push(f({},a,{components:n?n.record.components:a.components,path:t,aliasOf:n?n.record:a}))}let c,d;for(const e of u){let{path:u}=e;if(i&&"/"!==u[0]){let t=i.record.path,n="/"===t[t.length-1]?"":"/";e.path=i.record.path+(u&&n+u)}if(c=at(e,i,h),n?n.alias.push(c):(d=d||c,d!==c&&d.alias.push(c),s&&t.name&&!dt(c)&&o(t.name)),"children"in a){let t=a.children;for(let e=0;e<t.length;e++)r(t[e],c,n&&n.children[e])}n=n||c,l(c)}return d?()=>{o(d)}:g}function o(t){if(U(t)){const e=n.get(t);e&&(n.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&n.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function a(){return i}function l(t){let e=0;while(e<i.length&&nt(t,i[e])>=0)e++;i.splice(e,0,t),t.record.name&&!dt(t)&&n.set(t.record.name,t)}function h(t,e){let s,r,o,a={};if("name"in t&&t.name){if(s=n.get(t.name),!s)throw J(1,{location:t});o=s.record.name,a=f(ht(e.params,s.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),r=s.stringify(a)}else if("path"in t)r=t.path,s=i.find((t=>t.re.test(r))),s&&(a=s.parse(r),o=s.record.name);else{if(s=e.name?n.get(e.name):i.find((t=>t.re.test(e.path))),!s)throw J(1,{location:t,currentLocation:e});o=s.record.name,a=f({},e.params,t.params),r=s.stringify(a)}const l=[];let h=s;while(h)l.unshift(h.record),h=h.parent;return{name:o,path:r,params:a,matched:l,meta:ft(l)}}return e=mt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:h,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function ht(t,e){let i={};for(let n of e)n in t&&(i[n]=t[n]);return i}function ut(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ct(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function ct(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(let n in t.components)e[n]="boolean"===typeof i?i:i[n];return e}function dt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ft(t){return t.reduce(((t,e)=>f(t,e.meta)),{})}function mt(t,e){let i={};for(let n in t)i[n]=n in e?e[n]:t[n];return i}const gt=/#/g,pt=/&/g,yt=/\//g,_t=/=/g,vt=/\?/g,bt=/\+/g,xt=/%5B/g,Mt=/%5D/g,wt=/%5E/g,kt=/%60/g,Lt=/%7B/g,St=/%7C/g,Tt=/%7D/g,Dt=/%20/g;function Pt(t){return encodeURI(""+t).replace(St,"|").replace(xt,"[").replace(Mt,"]")}function Yt(t){return Pt(t).replace(Lt,"{").replace(Tt,"}").replace(wt,"^")}function Ct(t){return Pt(t).replace(bt,"%2B").replace(Dt,"+").replace(gt,"%23").replace(pt,"%26").replace(kt,"`").replace(Lt,"{").replace(Tt,"}").replace(wt,"^")}function Nt(t){return Ct(t).replace(_t,"%3D")}function At(t){return Pt(t).replace(gt,"%23").replace(vt,"%3F")}function Ot(t){return At(t).replace(yt,"%2F")}function Ft(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Rt(t){const e={};if(""===t||"?"===t)return e;const i="?"===t[0],n=(i?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const t=n[s].replace(bt," ");let i=t.indexOf("="),r=Ft(i<0?t:t.slice(0,i)),o=i<0?null:Ft(t.slice(i+1));if(r in e){let t=e[r];Array.isArray(t)||(t=e[r]=[t]),t.push(o)}else e[r]=o}return e}function Et(t){let e="";for(let i in t){e.length&&(e+="&");const n=t[i];if(i=Nt(i),null==n){void 0!==n&&(e+=i);continue}let s=Array.isArray(n)?n.map((t=>t&&Ct(t))):[n&&Ct(n)];for(let t=0;t<s.length;t++)e+=(t?"&":"")+i,null!=s[t]&&(e+="="+s[t])}return e}function It(t){const e={};for(let i in t){let n=t[i];void 0!==n&&(e[i]=Array.isArray(n)?n.map((t=>null==t?null:""+t)):null==n?n:""+n)}return e}function jt(){let t=[];function e(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}}function i(){t=[]}return{add:e,list:()=>t,reset:i}}function Ht(t,e,i,n,s){const r=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise(((o,a)=>{const l=t=>{!1===t?a(J(4,{from:i,to:e})):t instanceof Error?a(t):G(t)?a(J(2,{from:e,to:t})):(r&&n.enterCallbacks[s]===r&&"function"===typeof t&&r.push(t),o())},h=t.call(n&&n.instances[s],e,i,l);let u=Promise.resolve(h);t.length<3&&(u=u.then(l)),u.catch((t=>a(t)))}))}function Bt(t,e,i,n){const s=[];for(const r of t)for(const t in r.components){let o=r.components[t];if("beforeRouteEnter"===e||r.instances[t])if(zt(o)){let a=o.__vccOpts||o;const l=a[e];l&&s.push(Ht(l,i,n,r,t))}else{let a=o();a=a.catch(console.error),s.push((()=>a.then((s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${r.path}"`));const o=d(s)?s.default:s;r.components[t]=o;let a=o.__vccOpts||o;const l=a[e];return l&&Ht(l,i,n,r,t)()}))))}}return s}function zt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Vt(t){const e=(0,n.f3)(l),i=(0,n.f3)(h),s=(0,n.Fl)((()=>e.resolve((0,n.SU)(t.to)))),r=(0,n.Fl)((()=>{let{matched:t}=s.value,{length:e}=t;const n=t[e-1];let r=i.matched;if(!n||!r.length)return-1;let o=r.findIndex(M.bind(null,n));if(o>-1)return o;let a=Xt(t[e-2]);return e>1&&Xt(n)===a&&r[r.length-1].path!==a?r.findIndex(M.bind(null,t[e-2])):o})),o=(0,n.Fl)((()=>r.value>-1&&Kt(i.params,s.value.params))),a=(0,n.Fl)((()=>r.value>-1&&r.value===i.matched.length-1&&w(i.params,s.value.params)));function u(i={}){return Ut(i)?e[(0,n.SU)(t.replace)?"replace":"push"]((0,n.SU)(t.to)):Promise.resolve()}return{route:s,href:(0,n.Fl)((()=>s.value.href)),isActive:o,isExactActive:a,navigate:u}}const Wt=(0,n.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e,attrs:i}){const s=(0,n.qj)(Vt(t)),{options:r}=(0,n.f3)(l),o=(0,n.Fl)((()=>({[qt(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[qt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive})));return()=>{const r=e.default&&e.default(s);return t.custom?r:(0,n.h)("a",f({"aria-current":s.isExactActive?t.ariaCurrentValue:null,onClick:s.navigate,href:s.href},i,{class:o.value}),r)}}}),Gt=Wt;function Ut(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Kt(t,e){for(let i in e){let n=e[i],s=t[i];if("string"===typeof n){if(n!==s)return!1}else if(!Array.isArray(s)||s.length!==n.length||n.some(((t,e)=>t!==s[e])))return!1}return!0}function Xt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qt=(t,e,i)=>null!=t?t:null!=e?e:i,Jt=(0,n.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:i}){const s=(0,n.f3)(u),r=(0,n.Fl)((()=>t.route||s.value)),l=(0,n.f3)(a,0),h=(0,n.Fl)((()=>r.value.matched[l]));(0,n.JJ)(a,l+1),(0,n.JJ)(o,h),(0,n.JJ)(u,r);const c=(0,n.iH)();return(0,n.YP)((()=>[c.value,h.value,t.name]),(([t,e,i],[n,s,r])=>{e&&(e.instances[i]=t,s&&s!==e&&t&&t===n&&(e.leaveGuards.size||(e.leaveGuards=s.leaveGuards),e.updateGuards.size||(e.updateGuards=s.updateGuards))),!t||!e||s&&M(e,s)&&n||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const s=r.value,o=h.value,a=o&&o.components[t.name],l=t.name;if(!a)return $t(i.default,{Component:a,route:s});const u=o.props[t.name],d=u?!0===u?s.params:"function"===typeof u?u(s):u:null,m=t=>{t.component.isUnmounted&&(o.instances[l]=null)},g=(0,n.h)(a,f({},d,e,{onVnodeUnmounted:m,ref:c}));return $t(i.default,{Component:g,route:s})||g}}});function $t(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const Zt=Jt;function Qt(t){const e=lt(t.routes,t);let i=t.parseQuery||Rt,s=t.stringifyQuery||Et,r=t.history;const o=jt(),a=jt(),d=jt(),p=(0,n.XI)(K);let y=K;c&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=m.bind(null,(t=>""+t)),M=m.bind(null,Ot),w=m.bind(null,Ft);function k(t,i){let n,s;return U(t)?(n=e.getRecordMatcher(t),s=i):s=t,e.addRoute(s,n)}function L(t){let i=e.getRecordMatcher(t);i&&e.removeRoute(i)}function S(){return e.getRoutes().map((t=>t.record))}function T(t){return!!e.getRecordMatcher(t)}function D(t,n){if(n=f({},n||p.value),"string"===typeof t){let s=_(i,t,n.path),o=e.resolve({path:s.path},n),a=r.createHref(s.fullPath);return f(s,o,{params:w(o.params),hash:Ft(s.hash),redirectedFrom:void 0,href:a})}let o;"path"in t?o=f({},t,{path:_(i,t.path,n.path).path}):(o=f({},t,{params:M(t.params)}),n.params=M(n.params));let a=e.resolve(o,n);const l=t.hash||"";a.params=b(w(a.params));const h=v(s,f({},t,{hash:Yt(l),path:a.path}));let u=r.createHref(h);return f({fullPath:h,hash:l,query:s===Et?It(t.query):t.query},a,{redirectedFrom:void 0,href:u})}function P(t){return"string"===typeof t?_(i,t,p.value.path):f({},t)}function Y(t,e){if(y!==t)return J(8,{from:e,to:t})}function C(t){return j(t)}function N(t){return C(f(P(t),{replace:!0}))}function R(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let n="function"===typeof i?i(t):i;return"string"===typeof n&&(n=n.indexOf("?")>-1||n.indexOf("#")>-1?n=P(n):{path:n}),f({query:t.query,hash:t.hash,params:t.params},n)}}function j(t,e){const i=y=D(t),n=p.value,r=t.state,o=t.force,a=!0===t.replace,l=R(i);if(l)return j(f(P(l),{state:r,force:o,replace:a}),e||i);const h=i;let u;return h.redirectedFrom=e,!o&&x(s,n,i)&&(u=J(16,{to:h,from:n}),it(n,n,!0,!1)),(u?Promise.resolve(u):B(h,n)).catch((t=>$(t)?t:Q(t))).then((t=>{if(t){if($(t,2))return j(f(P(t.to),{state:r,force:o,replace:a}),e||h)}else t=V(h,n,!0,a,r);return z(h,n,t),t}))}function H(t,e){const i=Y(t,e);return i?Promise.reject(i):Promise.resolve()}function B(t,e){let i;const[n,s,r]=ee(t,e);i=Bt(n.reverse(),"beforeRouteLeave",t,e);for(const o of n)o.leaveGuards.forEach((n=>{i.push(Ht(n,t,e))}));const l=H.bind(null,t,e);return i.push(l),te(i).then((()=>{i=[];for(const n of o.list())i.push(Ht(n,t,e));return i.push(l),te(i)})).then((()=>{i=Bt(s,"beforeRouteUpdate",t,e);for(const n of s)n.updateGuards.forEach((n=>{i.push(Ht(n,t,e))}));return i.push(l),te(i)})).then((()=>{i=[];for(const n of t.matched)if(n.beforeEnter&&e.matched.indexOf(n)<0)if(Array.isArray(n.beforeEnter))for(const s of n.beforeEnter)i.push(Ht(s,t,e));else i.push(Ht(n.beforeEnter,t,e));return i.push(l),te(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=Bt(r,"beforeRouteEnter",t,e),i.push(l),te(i)))).then((()=>{i=[];for(const n of a.list())i.push(Ht(n,t,e));return i.push(l),te(i)})).catch((t=>$(t,8)?t:Promise.reject(t)))}function z(t,e,i){for(const n of d.list())n(t,e,i)}function V(t,e,i,n,s){const o=Y(t,e);if(o)return o;const a=e===K,l=c?history.state:{};i&&(n||a?r.replace(t.fullPath,f({scroll:a&&l&&l.scroll},s)):r.push(t.fullPath,s)),p.value=t,it(t,e,i,a),et()}let W;function G(){W=r.listen(((t,e,i)=>{let n=D(t);const s=R(n);if(s)return void j(f(s,{replace:!0}),n).catch(g);y=n;const o=p.value;c&&E(F(o.fullPath,i.delta),A()),B(n,o).catch((t=>$(t,12)?t:$(t,2)?(j(t.to,n).catch(g),Promise.reject()):(i.delta&&r.go(-i.delta,!1),Q(t)))).then((t=>{t=t||V(n,o,!1),t&&i.delta&&r.go(-i.delta,!1),z(n,o,t)})).catch(g)}))}let X,q=jt(),Z=jt();function Q(t){return et(t),Z.list().forEach((e=>e(t))),Promise.reject(t)}function tt(){return X&&p.value!==K?Promise.resolve():new Promise(((t,e)=>{q.add([t,e])}))}function et(t){X||(X=!0,G(),q.list().forEach((([e,i])=>t?i(t):e())),q.reset())}function it(e,i,s,r){const{scrollBehavior:o}=t;if(!c||!o)return Promise.resolve();let a=!s&&I(F(e.fullPath,0))||(r||!s)&&history.state&&history.state.scroll||null;return(0,n.Y3)().then((()=>o(e,i,a))).then((t=>t&&O(t))).catch(Q)}const nt=t=>r.go(t);let st;const rt=new Set,ot={currentRoute:p,addRoute:k,removeRoute:L,hasRoute:T,getRoutes:S,resolve:D,options:t,push:C,replace:N,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:o.add,beforeResolve:a.add,afterEach:d.add,onError:Z.add,isReady:tt,install(t){const e=this;t.component("RouterLink",Gt),t.component("RouterView",Zt),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{get:()=>(0,n.SU)(p)}),c&&!st&&p.value===K&&(st=!0,C(r.location).catch((t=>{0})));const i={};for(let r in K)i[r]=(0,n.Fl)((()=>p.value[r]));t.provide(l,e),t.provide(h,(0,n.qj)(i)),t.provide(u,p);let s=t.unmount;rt.add(t),t.unmount=function(){rt.delete(t),rt.size<1&&(W(),p.value=K,st=!1,X=!1),s()}}};return ot}function te(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function ee(t,e){const i=[],n=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const r=e.matched[o];r&&(t.matched.find((t=>M(t,r)))?n.push(r):i.push(r));const a=t.matched[o];a&&(e.matched.find((t=>M(t,a)))||s.push(a))}return[i,n,s]}},5166:function(t,e,i){"use strict";i.d(e,{HY:function(){return Us},Fl:function(){return ro},ri:function(){return Za},j4:function(){return nr},ry:function(){return gr},uE:function(){return mr},Uk:function(){return fr},Wm:function(){return ur},aZ:function(){return ys},h:function(){return ho},f3:function(){return xr},Y3:function(){return mi},wg:function(){return Zs},Cn:function(){return on},JJ:function(){return br},dD:function(){return rn},qj:function(){return ye},iH:function(){return Pe},Ko:function(){return mo},up:function(){return Hs},XI:function(){return Ye},zw:function(){return k},SU:function(){return Oe},YP:function(){return Yn},w5:function(){return en},HX:function(){return an}});var n={};function s(t,e){const i=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}i.r(n),i.d(n,{BaseTransition:function(){return En},Comment:function(){return Xs},Fragment:function(){return Us},KeepAlive:function(){return Un},Static:function(){return qs},Suspense:function(){return zi},Teleport:function(){return Es},Text:function(){return Ks},Transition:function(){return ea},TransitionGroup:function(){return va},callWithAsyncErrorHandling:function(){return Ze},callWithErrorHandling:function(){return $e},camelize:function(){return tt},capitalize:function(){return nt},cloneVNode:function(){return dr},computed:function(){return ro},createApp:function(){return Za},createBlock:function(){return nr},createCommentVNode:function(){return gr},createHydrationRenderer:function(){return Ls},createRenderer:function(){return ks},createSSRApp:function(){return Qa},createSlots:function(){return po},createStaticVNode:function(){return mr},createTextVNode:function(){return fr},createVNode:function(){return ur},customRef:function(){return Ie},defineAsyncComponent:function(){return vs},defineComponent:function(){return ys},defineEmit:function(){return ao},defineProps:function(){return oo},devtools:function(){return Si},getCurrentInstance:function(){return Br},getTransitionRawChildren:function(){return Vn},h:function(){return ho},handleError:function(){return Qe},hydrate:function(){return $a},initCustomFormatter:function(){return fo},inject:function(){return xr},isProxy:function(){return ke},isReactive:function(){return Me},isReadonly:function(){return we},isRef:function(){return De},isRuntimeOnly:function(){return qr},isVNode:function(){return sr},markRaw:function(){return Se},mergeProps:function(){return vr},nextTick:function(){return mi},onActivated:function(){return Xn},onBeforeMount:function(){return vn},onBeforeUnmount:function(){return wn},onBeforeUpdate:function(){return xn},onDeactivated:function(){return qn},onErrorCaptured:function(){return Tn},onMounted:function(){return bn},onRenderTracked:function(){return Sn},onRenderTriggered:function(){return Ln},onUnmounted:function(){return kn},onUpdated:function(){return Mn},openBlock:function(){return Zs},popScopeId:function(){return on},provide:function(){return br},proxyRefs:function(){return Re},pushScopeId:function(){return rn},queuePostFlushCb:function(){return xi},reactive:function(){return ye},readonly:function(){return ve},ref:function(){return Pe},registerRuntimeCompiler:function(){return Jr},render:function(){return Ja},renderList:function(){return mo},renderSlot:function(){return Qi},resolveComponent:function(){return Hs},resolveDirective:function(){return Vs},resolveDynamicComponent:function(){return zs},resolveTransitionHooks:function(){return jn},setBlockTracking:function(){return ir},setDevtoolsHook:function(){return Ti},setTransitionHooks:function(){return zn},shallowReactive:function(){return _e},shallowReadonly:function(){return be},shallowRef:function(){return Ye},ssrContextKey:function(){return uo},ssrUtils:function(){return _o},toDisplayString:function(){return k},toHandlerKey:function(){return st},toHandlers:function(){return go},toRaw:function(){return Le},toRef:function(){return Be},toRefs:function(){return je},transformVNodeArgs:function(){return or},triggerRef:function(){return Ae},unref:function(){return Oe},useContext:function(){return lo},useCssModule:function(){return Jo},useCssVars:function(){return $o},useSSRContext:function(){return co},useTransitionState:function(){return On},vModelCheckbox:function(){return Pa},vModelDynamic:function(){return Ra},vModelRadio:function(){return Ca},vModelSelect:function(){return Na},vModelText:function(){return Da},vShow:function(){return Va},version:function(){return yo},warn:function(){return Ge},watch:function(){return Yn},watchEffect:function(){return Dn},withCtx:function(){return en},withDirectives:function(){return as},withKeys:function(){return za},withModifiers:function(){return Ha},withScopeId:function(){return an}});const r={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},o="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=s(o);const l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",h=s(l);function u(t){if(E(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],s=u(z(n)?f(n):n);if(s)for(const t in s)e[t]=s[t]}return e}if(W(t))return t}const c=/;(?![^(]*\))/g,d=/:(.+)/;function f(t){const e={};return t.split(c).forEach((t=>{if(t){const i=t.split(d);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function m(t){let e="";if(z(t))e=t;else if(E(t))for(let i=0;i<t.length;i++){const n=m(t[i]);n&&(e+=n+" ")}else if(W(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const g="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",p="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",y="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",_=s(g),v=s(p),b=s(y);function x(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=M(t[n],e[n]);return i}function M(t,e){if(t===e)return!0;let i=H(t),n=H(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=E(t),n=E(e),i||n)return!(!i||!n)&&x(t,e);if(i=W(t),n=W(e),i||n){if(!i||!n)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const i in t){const n=t.hasOwnProperty(i),s=e.hasOwnProperty(i);if(n&&!s||!n&&s||!M(t[i],e[i]))return!1}}return String(t)===String(e)}function w(t,e){return t.findIndex((t=>M(t,e)))}const k=t=>null==t?"":W(t)?JSON.stringify(t,L,2):String(t),L=(t,e)=>I(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i])=>(t[`${e} =>`]=i,t)),{})}:j(e)?{[`Set(${e.size})`]:[...e.values()]}:!W(e)||E(e)||q(e)?e:String(e),S={},T=[],D=()=>{},P=()=>!1,Y=/^on[^a-z]/,C=t=>Y.test(t),N=t=>t.startsWith("onUpdate:"),A=Object.assign,O=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},F=Object.prototype.hasOwnProperty,R=(t,e)=>F.call(t,e),E=Array.isArray,I=t=>"[object Map]"===K(t),j=t=>"[object Set]"===K(t),H=t=>t instanceof Date,B=t=>"function"===typeof t,z=t=>"string"===typeof t,V=t=>"symbol"===typeof t,W=t=>null!==t&&"object"===typeof t,G=t=>W(t)&&B(t.then)&&B(t.catch),U=Object.prototype.toString,K=t=>U.call(t),X=t=>K(t).slice(8,-1),q=t=>"[object Object]"===K(t),J=t=>z(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,$=s(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Z=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},Q=/-(\w)/g,tt=Z((t=>t.replace(Q,((t,e)=>e?e.toUpperCase():"")))),et=/\B([A-Z])/g,it=Z((t=>t.replace(et,"-$1").toLowerCase())),nt=Z((t=>t.charAt(0).toUpperCase()+t.slice(1))),st=Z((t=>t?`on${nt(t)}`:"")),rt=(t,e)=>t!==e&&(t===t||e===e),ot=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},at=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},lt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};const ht=new WeakMap,ut=[];let ct;const dt=Symbol(""),ft=Symbol("");function mt(t){return t&&!0===t._isEffect}function gt(t,e=S){mt(t)&&(t=t.raw);const i=_t(t,e);return e.lazy||i(),i}function pt(t){t.active&&(vt(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let yt=0;function _t(t,e){const i=function(){if(!i.active)return e.scheduler?void 0:t();if(!ut.includes(i)){vt(i);try{return wt(),ut.push(i),ct=i,t()}finally{ut.pop(),kt(),ct=ut[ut.length-1]}}};return i.id=yt++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}function vt(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let bt=!0;const xt=[];function Mt(){xt.push(bt),bt=!1}function wt(){xt.push(bt),bt=!0}function kt(){const t=xt.pop();bt=void 0===t||t}function Lt(t,e,i){if(!bt||void 0===ct)return;let n=ht.get(t);n||ht.set(t,n=new Map);let s=n.get(i);s||n.set(i,s=new Set),s.has(ct)||(s.add(ct),ct.deps.push(s))}function St(t,e,i,n,s,r){const o=ht.get(t);if(!o)return;const a=new Set,l=t=>{t&&t.forEach((t=>{(t!==ct||t.allowRecurse)&&a.add(t)}))};if("clear"===e)o.forEach(l);else if("length"===i&&E(t))o.forEach(((t,e)=>{("length"===e||e>=n)&&l(t)}));else switch(void 0!==i&&l(o.get(i)),e){case"add":E(t)?J(i)&&l(o.get("length")):(l(o.get(dt)),I(t)&&l(o.get(ft)));break;case"delete":E(t)||(l(o.get(dt)),I(t)&&l(o.get(ft)));break;case"set":I(t)&&l(o.get(dt));break}const h=t=>{t.options.scheduler?t.options.scheduler(t):t()};a.forEach(h)}const Tt=s("__proto__,__v_isRef,__isVue"),Dt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(V)),Pt=Ot(),Yt=Ot(!1,!0),Ct=Ot(!0),Nt=Ot(!0,!0),At={};function Ot(t=!1,e=!1){return function(i,n,s){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_raw"===n&&s===(t?me:fe).get(i))return i;const r=E(i);if(!t&&r&&R(At,n))return Reflect.get(At,n,s);const o=Reflect.get(i,n,s);if(V(n)?Dt.has(n):Tt(n))return o;if(t||Lt(i,"get",n),e)return o;if(De(o)){const t=!r||!J(n);return t?o.value:o}return W(o)?t?ve(o):ye(o):o}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];At[t]=function(...t){const i=Le(this);for(let e=0,s=this.length;e<s;e++)Lt(i,"get",e+"");const n=e.apply(i,t);return-1===n||!1===n?e.apply(i,t.map(Le)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];At[t]=function(...t){Mt();const i=e.apply(this,t);return kt(),i}}));const Ft=Et(),Rt=Et(!0);function Et(t=!1){return function(e,i,n,s){const r=e[i];if(!t&&(n=Le(n),!E(e)&&De(r)&&!De(n)))return r.value=n,!0;const o=E(e)&&J(i)?Number(i)<e.length:R(e,i),a=Reflect.set(e,i,n,s);return e===Le(s)&&(o?rt(n,r)&&St(e,"set",i,n,r):St(e,"add",i,n)),a}}function It(t,e){const i=R(t,e),n=t[e],s=Reflect.deleteProperty(t,e);return s&&i&&St(t,"delete",e,void 0,n),s}function jt(t,e){const i=Reflect.has(t,e);return V(e)&&Dt.has(e)||Lt(t,"has",e),i}function Ht(t){return Lt(t,"iterate",E(t)?"length":dt),Reflect.ownKeys(t)}const Bt={get:Pt,set:Ft,deleteProperty:It,has:jt,ownKeys:Ht},zt={get:Ct,set(t,e){return!0},deleteProperty(t,e){return!0}},Vt=A({},Bt,{get:Yt,set:Rt}),Wt=A({},zt,{get:Nt}),Gt=t=>W(t)?ye(t):t,Ut=t=>W(t)?ve(t):t,Kt=t=>t,Xt=t=>Reflect.getPrototypeOf(t);function qt(t,e,i=!1,n=!1){t=t["__v_raw"];const s=Le(t),r=Le(e);e!==r&&!i&&Lt(s,"get",e),!i&&Lt(s,"get",r);const{has:o}=Xt(s),a=i?Ut:n?Kt:Gt;return o.call(s,e)?a(t.get(e)):o.call(s,r)?a(t.get(r)):void 0}function Jt(t,e=!1){const i=this["__v_raw"],n=Le(i),s=Le(t);return t!==s&&!e&&Lt(n,"has",t),!e&&Lt(n,"has",s),t===s?i.has(t):i.has(t)||i.has(s)}function $t(t,e=!1){return t=t["__v_raw"],!e&&Lt(Le(t),"iterate",dt),Reflect.get(t,"size",t)}function Zt(t){t=Le(t);const e=Le(this),i=Xt(e),n=i.has.call(e,t);return n||(e.add(t),St(e,"add",t,t)),this}function Qt(t,e){e=Le(e);const i=Le(this),{has:n,get:s}=Xt(i);let r=n.call(i,t);r||(t=Le(t),r=n.call(i,t));const o=s.call(i,t);return i.set(t,e),r?rt(e,o)&&St(i,"set",t,e,o):St(i,"add",t,e),this}function te(t){const e=Le(this),{has:i,get:n}=Xt(e);let s=i.call(e,t);s||(t=Le(t),s=i.call(e,t));const r=n?n.call(e,t):void 0,o=e.delete(t);return s&&St(e,"delete",t,void 0,r),o}function ee(){const t=Le(this),e=0!==t.size,i=void 0,n=t.clear();return e&&St(t,"clear",void 0,void 0,i),n}function ie(t,e){return function(i,n){const s=this,r=s["__v_raw"],o=Le(r),a=t?Ut:e?Kt:Gt;return!t&&Lt(o,"iterate",dt),r.forEach(((t,e)=>i.call(n,a(t),a(e),s)))}}function ne(t,e,i){return function(...n){const s=this["__v_raw"],r=Le(s),o=I(r),a="entries"===t||t===Symbol.iterator&&o,l="keys"===t&&o,h=s[t](...n),u=e?Ut:i?Kt:Gt;return!e&&Lt(r,"iterate",l?ft:dt),{next(){const{value:t,done:e}=h.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function se(t){return function(...e){return"delete"!==t&&this}}const re={get(t){return qt(this,t)},get size(){return $t(this)},has:Jt,add:Zt,set:Qt,delete:te,clear:ee,forEach:ie(!1,!1)},oe={get(t){return qt(this,t,!1,!0)},get size(){return $t(this)},has:Jt,add:Zt,set:Qt,delete:te,clear:ee,forEach:ie(!1,!0)},ae={get(t){return qt(this,t,!0)},get size(){return $t(this,!0)},has(t){return Jt.call(this,t,!0)},add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear"),forEach:ie(!0,!1)},le=["keys","values","entries",Symbol.iterator];function he(t,e){const i=e?oe:t?ae:re;return(e,n,s)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(R(i,n)&&n in e?i:e,n,s)}le.forEach((t=>{re[t]=ne(t,!1,!1),ae[t]=ne(t,!0,!1),oe[t]=ne(t,!1,!0)}));const ue={get:he(!1,!1)},ce={get:he(!1,!0)},de={get:he(!0,!1)};const fe=new WeakMap,me=new WeakMap;function ge(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pe(t){return t["__v_skip"]||!Object.isExtensible(t)?0:ge(X(t))}function ye(t){return t&&t["__v_isReadonly"]?t:xe(t,!1,Bt,ue)}function _e(t){return xe(t,!1,Vt,ce)}function ve(t){return xe(t,!0,zt,de)}function be(t){return xe(t,!0,Wt,de)}function xe(t,e,i,n){if(!W(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=e?me:fe,r=s.get(t);if(r)return r;const o=pe(t);if(0===o)return t;const a=new Proxy(t,2===o?n:i);return s.set(t,a),a}function Me(t){return we(t)?Me(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function we(t){return!(!t||!t["__v_isReadonly"])}function ke(t){return Me(t)||we(t)}function Le(t){return t&&Le(t["__v_raw"])||t}function Se(t){return at(t,"__v_skip",!0),t}const Te=t=>W(t)?ye(t):t;function De(t){return Boolean(t&&!0===t.__v_isRef)}function Pe(t){return Ne(t)}function Ye(t){return Ne(t,!0)}class Ce{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Te(t)}get value(){return Lt(Le(this),"get","value"),this._value}set value(t){rt(Le(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Te(t),St(Le(this),"set","value",t))}}function Ne(t,e=!1){return De(t)?t:new Ce(t,e)}function Ae(t){St(Le(t),"set","value",void 0)}function Oe(t){return De(t)?t.value:t}const Fe={get:(t,e,i)=>Oe(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const s=t[e];return De(s)&&!De(i)?(s.value=i,!0):Reflect.set(t,e,i,n)}};function Re(t){return Me(t)?t:new Proxy(t,Fe)}class Ee{constructor(t){this.__v_isRef=!0;const{get:e,set:i}=t((()=>Lt(this,"get","value")),(()=>St(this,"set","value")));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Ie(t){return new Ee(t)}function je(t){const e=E(t)?new Array(t.length):{};for(const i in t)e[i]=Be(t,i);return e}class He{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function Be(t,e){return De(t[e])?t[e]:new He(t,e)}class ze{constructor(t,e,i){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=gt(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,St(Le(this),"set","value"))}}),this["__v_isReadonly"]=i}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),Lt(Le(this),"get","value"),this._value}set value(t){this._setter(t)}}function Ve(t){let e,i;return B(t)?(e=t,i=D):(e=t.get,i=t.set),new ze(e,i,B(t)||!t.set)}const We=[];function Ge(t,...e){Mt();const i=We.length?We[We.length-1].component:null,n=i&&i.appContext.config.warnHandler,s=Ue();if(n)$e(n,i,11,[t+e.join(""),i&&i.proxy,s.map((({vnode:t})=>`at <${no(i,t.type)}>`)).join("\n"),s]);else{const i=[`[Vue warn]: ${t}`,...e];s.length&&i.push("\n",...Ke(s)),console.warn(...i)}kt()}function Ue(){let t=We[We.length-1];if(!t)return[];const e=[];while(t){const i=e[0];i&&i.vnode===t?i.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function Ke(t){const e=[];return t.forEach(((t,i)=>{e.push(...0===i?[]:["\n"],...Xe(t))})),e}function Xe({vnode:t,recurseCount:e}){const i=e>0?`... (${e} recursive calls)`:"",n=!!t.component&&null==t.component.parent,s=` at <${no(t.component,t.type,n)}`,r=">"+i;return t.props?[s,...qe(t.props),r]:[s+r]}function qe(t){const e=[],i=Object.keys(t);return i.slice(0,3).forEach((i=>{e.push(...Je(i,t[i]))})),i.length>3&&e.push(" ..."),e}function Je(t,e,i){return z(e)?(e=JSON.stringify(e),i?e:[`${t}=${e}`]):"number"===typeof e||"boolean"===typeof e||null==e?i?e:[`${t}=${e}`]:De(e)?(e=Je(t,Le(e.value),!0),i?e:[`${t}=Ref<`,e,">"]):B(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Le(e),i?e:[`${t}=`,e])}function $e(t,e,i,n){let s;try{s=n?t(...n):t()}catch(r){Qe(r,e,i)}return s}function Ze(t,e,i,n){if(B(t)){const s=$e(t,e,i,n);return s&&G(s)&&s.catch((t=>{Qe(t,e,i)})),s}const s=[];for(let r=0;r<t.length;r++)s.push(Ze(t[r],e,i,n));return s}function Qe(t,e,i,n=!0){const s=e?e.vnode:null;if(e){let n=e.parent;const s=e.proxy,r=i;while(n){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,s,r))return;n=n.parent}const o=e.appContext.config.errorHandler;if(o)return void $e(o,null,10,[t,s,r])}ti(t,i,s,n)}function ti(t,e,i,n=!0){console.error(t)}let ei=!1,ii=!1;const ni=[];let si=0;const ri=[];let oi=null,ai=0;const li=[];let hi=null,ui=0;const ci=Promise.resolve();let di=null,fi=null;function mi(t){const e=di||ci;return t?e.then(this?t.bind(this):t):e}function gi(t){let e=si+1,i=ni.length;const n=ki(t);while(e<i){const t=e+i>>>1,s=ki(ni[t]);s<n?e=t+1:i=t}return e}function pi(t){if((!ni.length||!ni.includes(t,ei&&t.allowRecurse?si+1:si))&&t!==fi){const e=gi(t);e>-1?ni.splice(e,0,t):ni.push(t),yi()}}function yi(){ei||ii||(ii=!0,di=ci.then(Li))}function _i(t){const e=ni.indexOf(t);e>-1&&ni.splice(e,1)}function vi(t,e,i,n){E(t)?i.push(...t):e&&e.includes(t,t.allowRecurse?n+1:n)||i.push(t),yi()}function bi(t){vi(t,oi,ri,ai)}function xi(t){vi(t,hi,li,ui)}function Mi(t,e=null){if(ri.length){for(fi=e,oi=[...new Set(ri)],ri.length=0,ai=0;ai<oi.length;ai++)oi[ai]();oi=null,ai=0,fi=null,Mi(t,e)}}function wi(t){if(li.length){const t=[...new Set(li)];if(li.length=0,hi)return void hi.push(...t);for(hi=t,hi.sort(((t,e)=>ki(t)-ki(e))),ui=0;ui<hi.length;ui++)hi[ui]();hi=null,ui=0}}const ki=t=>null==t.id?1/0:t.id;function Li(t){ii=!1,ei=!0,Mi(t),ni.sort(((t,e)=>ki(t)-ki(e)));try{for(si=0;si<ni.length;si++){const t=ni[si];t&&$e(t,null,14)}}finally{si=0,ni.length=0,wi(t),ei=!1,di=null,(ni.length||li.length)&&Li(t)}}new Set;new Map;let Si;function Ti(t){Si=t}function Di(t,e,...i){const n=t.vnode.props||S;let s=i;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in n){const t=`${"modelValue"===o?"model":o}Modifiers`,{number:e,trim:r}=n[t]||S;r?s=i.map((t=>t.trim())):e&&(s=i.map(lt))}let a=st(tt(e)),l=n[a];!l&&r&&(a=st(it(e)),l=n[a]),l&&Ze(l,t,6,s);const h=n[a+"Once"];if(h){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;Ze(h,t,6,s)}}function Pi(t,e,i=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const n=t.emits;let s={},r=!1;if(!B(t)){const n=t=>{r=!0,A(s,Pi(t,e,!0))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return n||r?(E(n)?n.forEach((t=>s[t]=null)):A(s,n),t.__emits=s):t.__emits=null}function Yi(t,e){return!(!t||!C(e))&&(e=e.slice(2).replace(/Once$/,""),R(t,e[0].toLowerCase()+e.slice(1))||R(t,it(e))||R(t,e))}let Ci=null;function Ni(t){Ci=t}function Ai(t){const{type:e,vnode:i,proxy:n,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:h,render:u,renderCache:c,data:d,setupState:f,ctx:m}=t;let g;Ci=t;try{let t;if(4&i.shapeFlag){const e=s||n;g=pr(u.call(e,e,c,r,f,d,m)),t=l}else{const i=e;0,g=pr(i.length>1?i(r,{attrs:l,slots:a,emit:h}):i(r,null)),t=e.props?l:Fi(l)}let p=g;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:i}=p;e.length&&(1&i||6&i)&&(o&&e.some(N)&&(t=Ri(t,o)),p=dr(p,t))}i.dirs&&(p.dirs=p.dirs?p.dirs.concat(i.dirs):i.dirs),i.transition&&(p.transition=i.transition),g=p}catch(p){Qe(p,t,1),g=ur(Xs)}return Ci=null,g}function Oi(t){let e;for(let i=0;i<t.length;i++){const n=t[i];if(!sr(n))return;if(n.type!==Xs||"v-if"===n.children){if(e)return;e=n}}return e}const Fi=t=>{let e;for(const i in t)("class"===i||"style"===i||C(i))&&((e||(e={}))[i]=t[i]);return e},Ri=(t,e)=>{const i={};for(const n in t)N(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function Ei(t,e,i){const{props:n,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!s&&!a||a&&a.$stable)||n!==o&&(n?!o||Ii(n,o,h):!!o);if(1024&l)return!0;if(16&l)return n?Ii(n,o,h):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(o[i]!==n[i]&&!Yi(h,i))return!0}}return!1}function Ii(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(e[r]!==t[r]&&!Yi(i,r))return!0}return!1}function ji({vnode:t,parent:e},i){while(e&&e.subTree===t)(t=e.vnode).el=i,e=e.parent}const Hi=t=>t.__isSuspense,Bi={__isSuspense:!0,process(t,e,i,n,s,r,o,a,l){null==t?Vi(e,i,n,s,r,o,a,l):Wi(t,e,i,n,s,o,l)},hydrate:Ui,create:Gi},zi=Bi;function Vi(t,e,i,n,s,r,o,a){const{p:l,o:{createElement:h}}=a,u=h("div"),c=t.suspense=Gi(t,s,n,e,u,i,r,o,a);l(null,c.pendingBranch=t.ssContent,u,null,n,c,r),c.deps>0?(l(null,t.ssFallback,e,i,n,null,r),Ji(c,t.ssFallback)):c.resolve()}function Wi(t,e,i,n,s,r,{p:o,um:a,o:{createElement:l}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const u=e.ssContent,c=e.ssFallback,{activeBranch:d,pendingBranch:f,isInFallback:m,isHydrating:g}=h;if(f)h.pendingBranch=u,rr(u,f)?(o(f,u,h.hiddenContainer,null,s,h,r),h.deps<=0?h.resolve():m&&(o(d,c,i,n,s,null,r),Ji(h,c))):(h.pendingId++,g?(h.isHydrating=!1,h.activeBranch=f):a(f,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=l("div"),m?(o(null,u,h.hiddenContainer,null,s,h,r),h.deps<=0?h.resolve():(o(d,c,i,n,s,null,r),Ji(h,c))):d&&rr(u,d)?(o(d,u,i,n,s,h,r),h.resolve(!0)):(o(null,u,h.hiddenContainer,null,s,h,r),h.deps<=0&&h.resolve()));else if(d&&rr(u,d))o(d,u,i,n,s,h,r),Ji(h,u);else{const t=e.props&&e.props.onPending;if(B(t)&&t(),h.pendingBranch=u,h.pendingId++,o(null,u,h.hiddenContainer,null,s,h,r),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(c)}),t):0===t&&h.fallback(c)}}}function Gi(t,e,i,n,s,r,o,a,l,h=!1){const{p:u,m:c,um:d,n:f,o:{parentNode:m,remove:g}}=l,p=lt(t.props&&t.props.timeout),y={vnode:t,parent:e,parentComponent:i,isSVG:o,container:n,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:"number"===typeof p?p:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:i,pendingBranch:n,pendingId:s,effects:r,parentComponent:o,container:a}=y;if(y.isHydrating)y.isHydrating=!1;else if(!t){const t=i&&n.transition&&"out-in"===n.transition.mode;t&&(i.transition.afterLeave=()=>{s===y.pendingId&&c(n,a,e,0)});let{anchor:e}=y;i&&(e=f(i),d(i,o,y,!0)),t||c(n,a,e,0)}Ji(y,n),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,h=!1;while(l){if(l.pendingBranch){l.effects.push(...r),h=!0;break}l=l.parent}h||xi(r),y.effects=[];const u=e.props&&e.props.onResolve;B(u)&&u()},fallback(t){if(!y.pendingBranch)return;const{vnode:e,activeBranch:i,parentComponent:n,container:s,isSVG:r}=y,o=e.props&&e.props.onFallback;B(o)&&o();const a=f(i),l=()=>{y.isInFallback&&(u(null,t,s,a,n,null,r),Ji(y,t))},h=t.transition&&"out-in"===t.transition.mode;h&&(i.transition.afterLeave=l),d(i,n,null,!0),y.isInFallback=!0,h||l()},move(t,e,i){y.activeBranch&&c(y.activeBranch,t,e,i),y.container=t},next(){return y.activeBranch&&f(y.activeBranch)},registerDep(t,e){const i=!!y.pendingBranch;i&&y.deps++;const n=t.vnode.el;t.asyncDep.catch((e=>{Qe(e,t,0)})).then((s=>{if(t.isUnmounted||y.isUnmounted||y.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:r}=t;Xr(t,s),n&&(r.el=n);const l=!n&&t.subTree.el;e(t,r,m(n||t.subTree.el),n?null:f(t.subTree),y,o,a),l&&g(l),ji(t,r.el),i&&0===--y.deps&&y.resolve()}))},unmount(t,e){y.isUnmounted=!0,y.activeBranch&&d(y.activeBranch,i,t,e),y.pendingBranch&&d(y.pendingBranch,i,t,e)}};return y}function Ui(t,e,i,n,s,r,o,a){const l=e.suspense=Gi(e,n,i,t.parentNode,document.createElement("div"),null,s,r,o,!0),h=a(t,l.pendingBranch=e.ssContent,i,l,r);return 0===l.deps&&l.resolve(),h}function Ki(t){const{shapeFlag:e,children:i}=t;let n,s;return 32&e?(n=Xi(i.default),s=Xi(i.fallback)):(n=Xi(i),s=pr(null)),{content:n,fallback:s}}function Xi(t){if(B(t)&&(t=t()),E(t)){const e=Oi(t);0,t=e}return pr(t)}function qi(t,e){e&&e.pendingBranch?E(t)?e.effects.push(...t):e.effects.push(t):xi(t)}function Ji(t,e){t.activeBranch=e;const{vnode:i,parentComponent:n}=t,s=i.el=e.el;n&&n.subTree===i&&(n.vnode.el=s,ji(n,s))}let $i=0;const Zi=t=>$i+=t;function Qi(t,e,i={},n){let s=t[e];$i++,Zs();const r=s&&tn(s(i)),o=nr(Us,{key:i.key||`_${e}`},r||(n?n():[]),r&&1===t._?64:-2);return $i--,o}function tn(t){return t.some((t=>!sr(t)||t.type!==Xs&&!(t.type===Us&&!tn(t.children))))?t:null}function en(t,e=Ci){if(!e)return t;const i=(...i)=>{$i||Zs(!0);const n=Ci;Ni(e);const s=t(...i);return Ni(n),$i||Qs(),s};return i._c=!0,i}let nn=null;const sn=[];function rn(t){sn.push(nn=t)}function on(){sn.pop(),nn=sn[sn.length-1]||null}function an(t){return e=>en((function(){rn(t);const i=e.apply(this,arguments);return on(),i}))}function ln(t,e,i,n=!1){const s={},r={};at(r,ar,1),un(t,e,s,r),i?t.props=n?s:_e(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function hn(t,e,i,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Le(s),[l]=t.propsOptions;if(!(n||o>0)||16&o){let n;un(t,e,s,r);for(const r in a)e&&(R(e,r)||(n=it(r))!==r&&R(e,n))||(l?!i||void 0===i[r]&&void 0===i[n]||(s[r]=cn(l,e||S,r,void 0,t)):delete s[r]);if(r!==a)for(const t in r)e&&R(e,t)||delete r[t]}else if(8&o){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){const o=i[n],h=e[o];if(l)if(R(r,o))r[o]=h;else{const e=tt(o);s[e]=cn(l,a,e,h,t)}else r[o]=h}}St(t,"set","$attrs")}function un(t,e,i,n){const[s,r]=t.propsOptions;if(e)for(const o in e){const r=e[o];if($(o))continue;let a;s&&R(s,a=tt(o))?i[a]=r:Yi(t.emitsOptions,o)||(n[o]=r)}if(r){const e=Le(i);for(let n=0;n<r.length;n++){const o=r[n];i[o]=cn(s,e,o,e[o],t)}}}function cn(t,e,i,n,s){const r=t[i];if(null!=r){const t=R(r,"default");if(t&&void 0===n){const t=r.default;r.type!==Function&&B(t)?(zr(s),n=t(e),zr(null)):n=t}r[0]&&(R(e,i)||t?!r[1]||""!==n&&n!==it(i)||(n=!0):n=!1)}return n}function dn(t,e,i=!1){if(!e.deopt&&t.__props)return t.__props;const n=t.props,s={},r=[];let o=!1;if(!B(t)){const n=t=>{o=!0;const[i,n]=dn(t,e,!0);A(s,i),n&&r.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!n&&!o)return t.__props=T;if(E(n))for(let a=0;a<n.length;a++){0;const t=tt(n[a]);fn(t)&&(s[t]=S)}else if(n){0;for(const t in n){const e=tt(t);if(fn(e)){const i=n[t],o=s[e]=E(i)||B(i)?{type:i}:i;if(o){const t=pn(Boolean,o.type),i=pn(String,o.type);o[0]=t>-1,o[1]=i<0||t<i,(t>-1||R(o,"default"))&&r.push(e)}}}}return t.__props=[s,r]}function fn(t){return"$"!==t[0]}function mn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function gn(t,e){return mn(t)===mn(e)}function pn(t,e){if(E(e)){for(let i=0,n=e.length;i<n;i++)if(gn(e[i],t))return i}else if(B(e))return gn(e,t)?0:-1;return-1}function yn(t,e,i=Hr,n=!1){if(i){const s=i[t]||(i[t]=[]),r=e.__weh||(e.__weh=(...n)=>{if(i.isUnmounted)return;Mt(),zr(i);const s=Ze(e,i,t,n);return zr(null),kt(),s});return n?s.unshift(r):s.push(r),r}}const _n=t=>(e,i=Hr)=>!Gr&&yn(t,e,i),vn=_n("bm"),bn=_n("m"),xn=_n("bu"),Mn=_n("u"),wn=_n("bum"),kn=_n("um"),Ln=_n("rtg"),Sn=_n("rtc"),Tn=(t,e=Hr)=>{yn("ec",t,e)};function Dn(t,e){return Cn(t,null,e)}const Pn={};function Yn(t,e,i){return Cn(t,e,i)}function Cn(t,e,{immediate:i,deep:n,flush:s,onTrack:r,onTrigger:o}=S,a=Hr){let l,h,u=!1;if(De(t)?(l=()=>t.value,u=!!t._shallow):Me(t)?(l=()=>t,n=!0):l=E(t)?()=>t.map((t=>De(t)?t.value:Me(t)?An(t):B(t)?$e(t,a,2,[a&&a.proxy]):void 0)):B(t)?e?()=>$e(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return h&&h(),$e(t,a,3,[c])}:D,e&&n){const t=l;l=()=>An(t())}const c=t=>{h=g.options.onStop=()=>{$e(t,a,4)}};let d=E(t)?[]:Pn;const f=()=>{if(g.active)if(e){const t=g();(n||u||rt(t,d))&&(h&&h(),Ze(e,a,3,[t,d===Pn?void 0:d,c]),d=t)}else g()};let m;f.allowRecurse=!!e,m="sync"===s?f:"post"===s?()=>Ms(f,a&&a.suspense):()=>{!a||a.isMounted?bi(f):f()};const g=gt(l,{lazy:!0,onTrack:r,onTrigger:o,scheduler:m});return Qr(g,a),e?i?f():d=g():"post"===s?Ms(g,a&&a.suspense):g(),()=>{pt(g),a&&O(a.effects,g)}}function Nn(t,e,i){const n=this.proxy,s=z(t)?()=>n[t]:t.bind(n);return Cn(s,e.bind(n),i,this)}function An(t,e=new Set){if(!W(t)||e.has(t))return t;if(e.add(t),De(t))An(t.value,e);else if(E(t))for(let i=0;i<t.length;i++)An(t[i],e);else if(j(t)||I(t))t.forEach((t=>{An(t,e)}));else for(const i in t)An(t[i],e);return t}function On(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bn((()=>{t.isMounted=!0})),wn((()=>{t.isUnmounting=!0})),t}const Fn=[Function,Array],Rn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fn,onEnter:Fn,onAfterEnter:Fn,onEnterCancelled:Fn,onBeforeLeave:Fn,onLeave:Fn,onAfterLeave:Fn,onLeaveCancelled:Fn,onBeforeAppear:Fn,onAppear:Fn,onAfterAppear:Fn,onAppearCancelled:Fn},setup(t,{slots:e}){const i=Br(),n=On();let s;return()=>{const r=e.default&&Vn(e.default(),!0);if(!r||!r.length)return;const o=Le(t),{mode:a}=o;const l=r[0];if(n.isLeaving)return Hn(l);const h=Bn(l);if(!h)return Hn(l);const u=jn(h,o,n,i);zn(h,u);const c=i.subTree,d=c&&Bn(c);let f=!1;const{getTransitionKey:m}=h.type;if(m){const t=m();void 0===s?s=t:t!==s&&(s=t,f=!0)}if(d&&d.type!==Xs&&(!rr(h,d)||f)){const t=jn(d,o,n,i);if(zn(d,t),"out-in"===a)return n.isLeaving=!0,t.afterLeave=()=>{n.isLeaving=!1,i.update()},Hn(l);"in-out"===a&&(t.delayLeave=(t,e,i)=>{const s=In(n,d);s[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=i})}return l}}},En=Rn;function In(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function jn(t,e,i,n){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:p,onAfterAppear:y,onAppearCancelled:_}=e,v=String(t.key),b=In(i,t),x=(t,e)=>{t&&Ze(t,n,9,e)},M={mode:r,persisted:o,beforeEnter(e){let n=a;if(!i.isMounted){if(!s)return;n=g||a}e._leaveCb&&e._leaveCb(!0);const r=b[v];r&&rr(t,r)&&r.el._leaveCb&&r.el._leaveCb(),x(n,[e])},enter(t){let e=l,n=h,r=u;if(!i.isMounted){if(!s)return;e=p||l,n=y||h,r=_||u}let o=!1;const a=t._enterCb=e=>{o||(o=!0,x(e?r:n,[t]),M.delayedLeave&&M.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,n){const s=String(t.key);if(e._enterCb&&e._enterCb(!0),i.isUnmounting)return n();x(c,[e]);let r=!1;const o=e._leaveCb=i=>{r||(r=!0,n(),x(i?m:f,[e]),e._leaveCb=void 0,b[s]===t&&delete b[s])};b[s]=t,d?(d(e,o),d.length<=1&&o()):o()},clone(t){return jn(t,e,i,n)}};return M}function Hn(t){if(Wn(t))return t=dr(t),t.children=null,t}function Bn(t){return Wn(t)?t.children?t.children[0]:void 0:t}function zn(t,e){6&t.shapeFlag&&t.component?zn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vn(t,e=!1){let i=[],n=0;for(let s=0;s<t.length;s++){const r=t[s];r.type===Us?(128&r.patchFlag&&n++,i=i.concat(Vn(r.children,e))):(e||r.type!==Xs)&&i.push(r)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}const Wn=t=>t.type.__isKeepAlive,Gn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=new Map,n=new Set;let s=null;const r=Br(),o=r.suspense,a=r.ctx,{renderer:{p:l,m:h,um:u,o:{createElement:c}}}=a,d=c("div");function f(t){Zn(t),u(t,r,o)}function m(t){i.forEach(((e,i)=>{const n=io(e.type);!n||t&&t(n)||g(i)}))}function g(t){const e=i.get(t);s&&e.type===s.type?s&&Zn(s):f(e),i.delete(t),n.delete(t)}a.activate=(t,e,i,n,s)=>{const r=t.component;h(t,e,i,0,o),l(r.vnode,t,e,i,r,o,n,s),Ms((()=>{r.isDeactivated=!1,r.a&&ot(r.a);const e=t.props&&t.props.onVnodeMounted;e&&Ts(e,r.parent,t)}),o)},a.deactivate=t=>{const e=t.component;h(t,d,null,1,o),Ms((()=>{e.da&&ot(e.da);const i=t.props&&t.props.onVnodeUnmounted;i&&Ts(i,e.parent,t),e.isDeactivated=!0}),o)},Yn((()=>[t.include,t.exclude]),(([t,e])=>{t&&m((e=>Kn(t,e))),e&&m((t=>!Kn(e,t)))}),{flush:"post",deep:!0});let p=null;const y=()=>{null!=p&&i.set(p,Qn(r.subTree))};return bn(y),Mn(y),wn((()=>{i.forEach((t=>{const{subTree:e,suspense:i}=r,n=Qn(e);if(t.type!==n.type)f(t);else{Zn(n);const t=n.component.da;t&&Ms(t,i)}}))})),()=>{if(p=null,!e.default)return null;const r=e.default(),o=r[0];if(r.length>1)return s=null,r;if(!sr(o)||!(4&o.shapeFlag)&&!(128&o.shapeFlag))return s=null,o;let a=Qn(o);const l=a.type,h=io(l),{include:u,exclude:c,max:d}=t;if(u&&(!h||!Kn(u,h))||c&&h&&Kn(c,h))return s=a,o;const f=null==a.key?l:a.key,m=i.get(f);return a.el&&(a=dr(a),128&o.shapeFlag&&(o.ssContent=a)),p=f,m?(a.el=m.el,a.component=m.component,a.transition&&zn(a,a.transition),a.shapeFlag|=512,n.delete(f),n.add(f)):(n.add(f),d&&n.size>parseInt(d,10)&&g(n.values().next().value)),a.shapeFlag|=256,s=a,o}}},Un=Gn;function Kn(t,e){return E(t)?t.some((t=>Kn(t,e))):z(t)?t.split(",").indexOf(e)>-1:!!t.test&&t.test(e)}function Xn(t,e){Jn(t,"a",e)}function qn(t,e){Jn(t,"da",e)}function Jn(t,e,i=Hr){const n=t.__wdc||(t.__wdc=()=>{let e=i;while(e){if(e.isDeactivated)return;e=e.parent}t()});if(yn(e,n,i),i){let t=i.parent;while(t&&t.parent)Wn(t.parent.vnode)&&$n(n,e,i,t),t=t.parent}}function $n(t,e,i,n){const s=yn(e,t,n,!0);kn((()=>{O(n[e],s)}),i)}function Zn(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function Qn(t){return 128&t.shapeFlag?t.ssContent:t}const ts=t=>"_"===t[0]||"$stable"===t,es=t=>E(t)?t.map(pr):[pr(t)],is=(t,e,i)=>en((t=>es(e(t))),i),ns=(t,e)=>{const i=t._ctx;for(const n in t){if(ts(n))continue;const s=t[n];if(B(s))e[n]=is(n,s,i);else if(null!=s){0;const t=es(s);e[n]=()=>t}}},ss=(t,e)=>{const i=es(e);t.slots.default=()=>i},rs=(t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=e,at(e,"_",i)):ns(e,t.slots={})}else t.slots={},e&&ss(t,e);at(t.slots,ar,1)},os=(t,e)=>{const{vnode:i,slots:n}=t;let s=!0,r=S;if(32&i.shapeFlag){const t=e._;t?1===t?s=!1:A(n,e):(s=!e.$stable,ns(e,n)),r=e}else e&&(ss(t,e),r={default:1});if(s)for(const o in n)ts(o)||o in r||delete n[o]};function as(t,e){const i=Ci;if(null===i)return t;const n=i.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[t,i,o,a=S]=e[r];B(t)&&(t={mounted:t,updated:t}),s.push({dir:t,instance:n,value:i,oldValue:void 0,arg:o,modifiers:a})}return t}function ls(t,e,i,n){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);const l=a.dir[n];l&&Ze(l,i,8,[t.el,a,t,e])}}function hs(){return{app:null,config:{isNativeTag:P,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:P,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let us=0;function cs(t,e){return function(i,n=null){null==n||W(n)||(n=null);const s=hs(),r=new Set;let o=!1;const a=s.app={_uid:us++,_component:i,_props:n,_container:null,_context:s,version:yo,get config(){return s.config},set config(t){0},use(t,...e){return r.has(t)||(t&&B(t.install)?(r.add(t),t.install(a,...e)):B(t)&&(r.add(t),t(a,...e))),a},mixin(t){return s.mixins.includes(t)||(s.mixins.push(t),(t.props||t.emits)&&(s.deopt=!0)),a},component(t,e){return e?(s.components[t]=e,a):s.components[t]},directive(t,e){return e?(s.directives[t]=e,a):s.directives[t]},mount(r,l){if(!o){const h=ur(i,n);return h.appContext=s,l&&e?e(h,r):t(h,r),o=!0,a._container=r,r.__vue_app__=a,h.component.proxy}},unmount(){o&&(t(null,a._container),delete a._container.__vue_app__)},provide(t,e){return s.provides[t]=e,a}};return a}}let ds=!1;const fs=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,ms=t=>8===t.nodeType;function gs(t){const{mt:e,p:i,o:{patchProp:n,nextSibling:s,parentNode:r,remove:o,insert:a,createComment:l}}=t,h=(t,e)=>{ds=!1,u(e.firstChild,t,null,null),wi(),ds&&console.error("Hydration completed but contains mismatches.")},u=(i,n,o,a,l=!1)=>{const h=ms(i)&&"["===i.data,p=()=>m(i,n,o,a,h),{type:y,ref:_,shapeFlag:v}=n,b=i.nodeType;n.el=i;let x=null;switch(y){case Ks:3!==b?x=p():(i.data!==n.children&&(ds=!0,i.data=n.children),x=s(i));break;case Xs:x=8!==b||h?p():s(i);break;case qs:if(1===b){x=i;const t=!n.children.length;for(let e=0;e<n.staticCount;e++)t&&(n.children+=x.outerHTML),e===n.staticCount-1&&(n.anchor=x),x=s(x);return x}x=p();break;case Us:x=h?f(i,n,o,a,l):p();break;default:if(1&v)x=1!==b||n.type!==i.tagName.toLowerCase()?p():c(i,n,o,a,l);else if(6&v){const t=r(i),u=()=>{e(n,t,null,o,a,fs(t),l)},c=n.type.__asyncLoader;c?c().then(u):u(),x=h?g(i):s(i)}else 64&v?x=8!==b?p():n.type.hydrate(i,n,o,a,l,t,d):128&v&&(x=n.type.hydrate(i,n,o,a,fs(r(i)),l,t,u))}return null!=_&&ws(_,null,a,n),x},c=(t,e,i,s,r)=>{r=r||!!e.dynamicChildren;const{props:a,patchFlag:l,shapeFlag:h,dirs:u}=e;if(-1!==l){if(u&&ls(e,null,i,"created"),a)if(!r||16&l||32&l)for(const e in a)!$(e)&&C(e)&&n(t,e,null,a[e]);else a.onClick&&n(t,"onClick",null,a.onClick);let c;if((c=a&&a.onVnodeBeforeMount)&&Ts(c,i,e),u&&ls(e,null,i,"beforeMount"),((c=a&&a.onVnodeMounted)||u)&&qi((()=>{c&&Ts(c,i,e),u&&ls(e,null,i,"mounted")}),s),16&h&&(!a||!a.innerHTML&&!a.textContent)){let n=d(t.firstChild,e,t,i,s,r);while(n){ds=!0;const t=n;n=n.nextSibling,o(t)}}else 8&h&&t.textContent!==e.children&&(ds=!0,t.textContent=e.children)}return t.nextSibling},d=(t,e,n,s,r,o)=>{o=o||!!e.dynamicChildren;const a=e.children,l=a.length;for(let h=0;h<l;h++){const e=o?a[h]:a[h]=pr(a[h]);t?t=u(t,e,s,r,o):(ds=!0,i(null,e,n,null,s,r,fs(n)))}return t},f=(t,e,i,n,o)=>{const h=r(t),u=d(s(t),e,h,i,n,o);return u&&ms(u)&&"]"===u.data?s(e.anchor=u):(ds=!0,a(e.anchor=l("]"),h,u),u)},m=(t,e,n,a,l)=>{if(ds=!0,e.el=null,l){const e=g(t);while(1){const i=s(t);if(!i||i===e)break;o(i)}}const h=s(t),u=r(t);return o(t),i(null,e,u,h,n,a,fs(u)),h},g=t=>{let e=0;while(t)if(t=s(t),t&&ms(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[h,u]}function ps(){}function ys(t){return B(t)?{setup:t,name:t.name}:t}const _s=t=>!!t.type.__asyncLoader;function vs(t){B(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:n,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=t;let l,h=null,u=0;const c=()=>(u++,h=null,d()),d=()=>{let t;return h||(t=h=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise(((e,i)=>{const n=()=>e(c()),s=()=>i(t);a(t,n,s,u+1)}));throw t})).then((e=>t!==h&&h?h:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),l=e,e))))};return ys({__asyncLoader:d,name:"AsyncComponentWrapper",setup(){const t=Hr;if(l)return()=>bs(l,t);const e=e=>{h=null,Qe(e,t,13,!n)};if(o&&t.suspense)return d().then((e=>()=>bs(e,t))).catch((t=>(e(t),()=>n?ur(n,{error:t}):null)));const a=Pe(!1),u=Pe(),c=Pe(!!s);return s&&setTimeout((()=>{c.value=!1}),s),null!=r&&setTimeout((()=>{if(!a.value&&!u.value){const t=new Error(`Async component timed out after ${r}ms.`);e(t),u.value=t}}),r),d().then((()=>{a.value=!0})).catch((t=>{e(t),u.value=t})),()=>a.value&&l?bs(l,t):u.value&&n?ur(n,{error:u.value}):i&&!c.value?ur(i):void 0}})}function bs(t,{vnode:{ref:e,props:i,children:n}}){const s=ur(t,i,n);return s.ref=e,s}const xs={scheduler:pi,allowRecurse:!0};const Ms=qi,ws=(t,e,i,n)=>{if(E(t))return void t.forEach(((t,s)=>ws(t,e&&(E(e)?e[s]:e),i,n)));let s;s=!n||_s(n)?null:4&n.shapeFlag?n.component.exposed||n.component.proxy:n.el;const{i:r,r:o}=t;const a=e&&e.r,l=r.refs===S?r.refs={}:r.refs,h=r.setupState;if(null!=a&&a!==o&&(z(a)?(l[a]=null,R(h,a)&&(h[a]=null)):De(a)&&(a.value=null)),z(o)){const t=()=>{l[o]=s,R(h,o)&&(h[o]=s)};s?(t.id=-1,Ms(t,i)):t()}else if(De(o)){const t=()=>{o.value=s};s?(t.id=-1,Ms(t,i)):t()}else B(o)&&$e(o,r,12,[s,l])};function ks(t){return Ss(t)}function Ls(t){return Ss(t,gs)}function Ss(t,e){ps();const{insert:i,remove:n,patchProp:s,forcePatchProp:r,createElement:o,createText:a,createComment:l,setText:h,setElementText:u,parentNode:c,nextSibling:d,setScopeId:f=D,cloneNode:m,insertStaticContent:g}=t,p=(t,e,i,n=null,s=null,r=null,o=!1,a=!1)=>{t&&!rr(t,e)&&(n=K(t),z(t,s,r,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:l,ref:h,shapeFlag:u}=e;switch(l){case Ks:y(t,e,i,n);break;case Xs:_(t,e,i,n);break;case qs:null==t&&v(e,i,n,o);break;case Us:N(t,e,i,n,s,r,o,a);break;default:1&u?M(t,e,i,n,s,r,o,a):6&u?A(t,e,i,n,s,r,o,a):(64&u||128&u)&&l.process(t,e,i,n,s,r,o,a,q)}null!=h&&s&&ws(h,t&&t.ref,r,e)},y=(t,e,n,s)=>{if(null==t)i(e.el=a(e.children),n,s);else{const i=e.el=t.el;e.children!==t.children&&h(i,e.children)}},_=(t,e,n,s)=>{null==t?i(e.el=l(e.children||""),n,s):e.el=t.el},v=(t,e,i,n)=>{[t.el,t.anchor]=g(t.children,e,i,n)},b=({el:t,anchor:e},n,s)=>{let r;while(t&&t!==e)r=d(t),i(t,n,s),t=r;i(e,n,s)},x=({el:t,anchor:e})=>{let i;while(t&&t!==e)i=d(t),n(t),t=i;n(e)},M=(t,e,i,n,s,r,o,a)=>{o=o||"svg"===e.type,null==t?w(e,i,n,s,r,o,a):P(t,e,s,r,o,a)},w=(t,e,n,r,a,l,h)=>{let c,d;const{type:f,props:g,shapeFlag:p,transition:y,scopeId:_,patchFlag:v,dirs:b}=t;if(t.el&&void 0!==m&&-1===v)c=t.el=m(t.el);else{if(c=t.el=o(t.type,l,g&&g.is),8&p?u(c,t.children):16&p&&L(t.children,c,null,r,a,l&&"foreignObject"!==f,h||!!t.dynamicChildren),b&&ls(t,null,r,"created"),g){for(const e in g)$(e)||s(c,e,null,g[e],l,t.children,r,a,U);(d=g.onVnodeBeforeMount)&&Ts(d,r,t)}k(c,_,t,r)}b&&ls(t,null,r,"beforeMount");const x=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;x&&y.beforeEnter(c),i(c,e,n),((d=g&&g.onVnodeMounted)||x||b)&&Ms((()=>{d&&Ts(d,r,t),x&&y.enter(c),b&&ls(t,null,r,"mounted")}),a)},k=(t,e,i,n)=>{if(e&&f(t,e),n){const s=n.type.__scopeId;s&&s!==e&&f(t,s+"-s");let r=n.subTree;0,i===r&&k(t,n.vnode.scopeId,n.vnode,n.parent)}},L=(t,e,i,n,s,r,o,a=0)=>{for(let l=a;l<t.length;l++){const a=t[l]=o?yr(t[l]):pr(t[l]);p(null,a,e,i,n,s,r,o)}},P=(t,e,i,n,o,a)=>{const l=e.el=t.el;let{patchFlag:h,dynamicChildren:c,dirs:d}=e;h|=16&t.patchFlag;const f=t.props||S,m=e.props||S;let g;if((g=m.onVnodeBeforeUpdate)&&Ts(g,i,e,t),d&&ls(e,t,i,"beforeUpdate"),h>0){if(16&h)C(l,e,f,m,i,n,o);else if(2&h&&f.class!==m.class&&s(l,"class",null,m.class,o),4&h&&s(l,"style",f.style,m.style,o),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const h=a[e],u=f[h],c=m[h];(c!==u||r&&r(l,h))&&s(l,h,u,c,o,t.children,i,n,U)}}1&h&&t.children!==e.children&&u(l,e.children)}else a||null!=c||C(l,e,f,m,i,n,o);const p=o&&"foreignObject"!==e.type;c?Y(t.dynamicChildren,c,l,i,n,p):a||I(t,e,l,null,i,n,p),((g=m.onVnodeUpdated)||d)&&Ms((()=>{g&&Ts(g,i,e,t),d&&ls(e,t,i,"updated")}),n)},Y=(t,e,i,n,s,r)=>{for(let o=0;o<e.length;o++){const a=t[o],l=e[o],h=a.type===Us||!rr(a,l)||6&a.shapeFlag||64&a.shapeFlag?c(a.el):i;p(a,l,h,null,n,s,r,!0)}},C=(t,e,i,n,o,a,l)=>{if(i!==n){for(const h in n){if($(h))continue;const u=n[h],c=i[h];(u!==c||r&&r(t,h))&&s(t,h,c,u,l,e.children,o,a,U)}if(i!==S)for(const r in i)$(r)||r in n||s(t,r,i[r],null,l,e.children,o,a,U)}},N=(t,e,n,s,r,o,l,h)=>{const u=e.el=t?t.el:a(""),c=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:f}=e;d>0&&(h=!0),null==t?(i(u,n,s),i(c,n,s),L(e.children,n,c,r,o,l,h)):d>0&&64&d&&f&&t.dynamicChildren?(Y(t.dynamicChildren,f,n,r,o,l),(null!=e.key||r&&e===r.subTree)&&Ds(t,e,!0)):I(t,e,n,c,r,o,l,h)},A=(t,e,i,n,s,r,o,a)=>{null==t?512&e.shapeFlag?s.ctx.activate(e,i,n,o,a):O(e,i,n,s,r,o,a):F(t,e,a)},O=(t,e,i,n,s,r,o)=>{const a=t.component=jr(t,n,s);if(Wn(t)&&(a.ctx.renderer=q),Ur(a),a.asyncDep){if(s&&s.registerDep(a,R),!t.el){const t=a.subTree=ur(Xs);_(null,t,e,i)}}else R(a,t,e,i,s,r,o)},F=(t,e,i)=>{const n=e.component=t.component;if(Ei(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void E(n,e,i);n.next=e,_i(n.update),n.update()}else e.component=t.component,e.el=t.el,n.vnode=e},R=(t,e,i,n,s,r,o)=>{t.update=gt((function(){if(t.isMounted){let e,{next:i,bu:n,u:a,parent:l,vnode:h}=t,u=i;0,i?(i.el=h.el,E(t,i,o)):i=h,n&&ot(n),(e=i.props&&i.props.onVnodeBeforeUpdate)&&Ts(e,l,i,h);const d=Ai(t);0;const f=t.subTree;t.subTree=d,p(f,d,c(f.el),K(f),t,s,r),i.el=d.el,null===u&&ji(t,d.el),a&&Ms(a,s),(e=i.props&&i.props.onVnodeUpdated)&&Ms((()=>{Ts(e,l,i,h)}),s)}else{let o;const{el:a,props:l}=e,{bm:h,m:u,parent:c}=t;h&&ot(h),(o=l&&l.onVnodeBeforeMount)&&Ts(o,c,e);const d=t.subTree=Ai(t);if(a&&Z?Z(e.el,d,t,s):(p(null,d,i,n,t,s,r),e.el=d.el),u&&Ms(u,s),o=l&&l.onVnodeMounted){const t=e;Ms((()=>{Ts(o,c,t)}),s)}const{a:f}=t;f&&256&e.shapeFlag&&Ms(f,s),t.isMounted=!0,e=i=n=null}}),xs)},E=(t,e,i)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,hn(t,e.props,n,i),os(t,e.children),Mi(void 0,t.update)},I=(t,e,i,n,s,r,o,a=!1)=>{const l=t&&t.children,h=t?t.shapeFlag:0,c=e.children,{patchFlag:d,shapeFlag:f}=e;if(d>0){if(128&d)return void H(l,c,i,n,s,r,o,a);if(256&d)return void j(l,c,i,n,s,r,o,a)}8&f?(16&h&&U(l,s,r),c!==l&&u(i,c)):16&h?16&f?H(l,c,i,n,s,r,o,a):U(l,s,r,!0):(8&h&&u(i,""),16&f&&L(c,i,n,s,r,o,a))},j=(t,e,i,n,s,r,o,a)=>{t=t||T,e=e||T;const l=t.length,h=e.length,u=Math.min(l,h);let c;for(c=0;c<u;c++){const n=e[c]=a?yr(e[c]):pr(e[c]);p(t[c],n,i,null,s,r,o,a)}l>h?U(t,s,r,!0,!1,u):L(e,i,n,s,r,o,a,u)},H=(t,e,i,n,s,r,o,a)=>{let l=0;const h=e.length;let u=t.length-1,c=h-1;while(l<=u&&l<=c){const n=t[l],h=e[l]=a?yr(e[l]):pr(e[l]);if(!rr(n,h))break;p(n,h,i,null,s,r,o,a),l++}while(l<=u&&l<=c){const n=t[u],l=e[c]=a?yr(e[c]):pr(e[c]);if(!rr(n,l))break;p(n,l,i,null,s,r,o,a),u--,c--}if(l>u){if(l<=c){const t=c+1,u=t<h?e[t].el:n;while(l<=c)p(null,e[l]=a?yr(e[l]):pr(e[l]),i,u,s,r,o),l++}}else if(l>c)while(l<=u)z(t[l],s,r,!0),l++;else{const d=l,f=l,m=new Map;for(l=f;l<=c;l++){const t=e[l]=a?yr(e[l]):pr(e[l]);null!=t.key&&m.set(t.key,l)}let g,y=0;const _=c-f+1;let v=!1,b=0;const x=new Array(_);for(l=0;l<_;l++)x[l]=0;for(l=d;l<=u;l++){const n=t[l];if(y>=_){z(n,s,r,!0);continue}let h;if(null!=n.key)h=m.get(n.key);else for(g=f;g<=c;g++)if(0===x[g-f]&&rr(n,e[g])){h=g;break}void 0===h?z(n,s,r,!0):(x[h-f]=l+1,h>=b?b=h:v=!0,p(n,e[h],i,null,s,r,o,a),y++)}const M=v?Ps(x):T;for(g=M.length-1,l=_-1;l>=0;l--){const t=f+l,a=e[t],u=t+1<h?e[t+1].el:n;0===x[l]?p(null,a,i,u,s,r,o):v&&(g<0||l!==M[g]?B(a,i,u,2):g--)}}},B=(t,e,n,s,r=null)=>{const{el:o,type:a,transition:l,children:h,shapeFlag:u}=t;if(6&u)return void B(t.component.subTree,e,n,s);if(128&u)return void t.suspense.move(e,n,s);if(64&u)return void a.move(t,e,n,q);if(a===Us){i(o,e,n);for(let t=0;t<h.length;t++)B(h[t],e,n,s);return void i(t.anchor,e,n)}if(a===qs)return void b(t,e,n);const c=2!==s&&1&u&&l;if(c)if(0===s)l.beforeEnter(o),i(o,e,n),Ms((()=>l.enter(o)),r);else{const{leave:t,delayLeave:s,afterLeave:r}=l,a=()=>i(o,e,n),h=()=>{t(o,(()=>{a(),r&&r()}))};s?s(o,a,h):h()}else i(o,e,n)},z=(t,e,i,n=!1,s=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:h,shapeFlag:u,patchFlag:c,dirs:d}=t;if(null!=a&&ws(a,null,i,null),256&u)return void e.ctx.deactivate(t);const f=1&u&&d;let m;if((m=o&&o.onVnodeBeforeUnmount)&&Ts(m,e,t),6&u)G(t.component,i,n);else{if(128&u)return void t.suspense.unmount(i,n);f&&ls(t,null,e,"beforeUnmount"),h&&(r!==Us||c>0&&64&c)?U(h,e,i,!1,!0):(r===Us&&(128&c||256&c)||!s&&16&u)&&U(l,e,i),64&u&&(n||!Cs(t.props))&&t.type.remove(t,q),n&&V(t)}((m=o&&o.onVnodeUnmounted)||f)&&Ms((()=>{m&&Ts(m,e,t),f&&ls(t,null,e,"unmounted")}),i)},V=t=>{const{type:e,el:i,anchor:s,transition:r}=t;if(e===Us)return void W(i,s);if(e===qs)return void x(t);const o=()=>{n(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,s=()=>e(i,o);n?n(t.el,o,s):s()}else o()},W=(t,e)=>{let i;while(t!==e)i=d(t),n(t),t=i;n(e)},G=(t,e,i)=>{const{bum:n,effects:s,update:r,subTree:o,um:a}=t;if(n&&ot(n),s)for(let l=0;l<s.length;l++)pt(s[l]);r&&(pt(r),z(o,t,e,i)),a&&Ms(a,e),Ms((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},U=(t,e,i,n=!1,s=!1,r=0)=>{for(let o=r;o<t.length;o++)z(t[o],e,i,n,s)},K=t=>6&t.shapeFlag?K(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),X=(t,e)=>{null==t?e._vnode&&z(e._vnode,null,null,!0):p(e._vnode||null,t,e),wi(),e._vnode=t},q={p:p,um:z,m:B,r:V,mt:O,mc:L,pc:I,pbc:Y,n:K,o:t};let J,Z;return e&&([J,Z]=e(q)),{render:X,hydrate:J,createApp:cs(X,J)}}function Ts(t,e,i,n=null){Ze(t,e,7,[i,n])}function Ds(t,e,i=!1){const n=t.children,s=e.children;if(E(n)&&E(s))for(let r=0;r<n.length;r++){const t=n[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=yr(s[r]),e.el=t.el),i||Ds(t,e))}}function Ps(t){const e=t.slice(),i=[0];let n,s,r,o,a;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(s=i[i.length-1],t[s]<l){e[n]=s,i.push(n);continue}r=0,o=i.length-1;while(r<o)a=(r+o)/2|0,t[i[a]]<l?r=a+1:o=a;l<t[i[r]]&&(r>0&&(e[n]=i[r-1]),i[r]=n)}}r=i.length,o=i[r-1];while(r-- >0)i[r]=o,o=e[o];return i}const Ys=t=>t.__isTeleport,Cs=t=>t&&(t.disabled||""===t.disabled),Ns=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,As=(t,e)=>{const i=t&&t.to;if(z(i)){if(e){const t=e(i);return t}return null}return i},Os={__isTeleport:!0,process(t,e,i,n,s,r,o,a,l){const{mc:h,pc:u,pbc:c,o:{insert:d,querySelector:f,createText:m,createComment:g}}=l,p=Cs(e.props),{shapeFlag:y,children:_}=e;if(null==t){const t=e.el=m(""),l=e.anchor=m("");d(t,i,n),d(l,i,n);const u=e.target=As(e.props,f),c=e.targetAnchor=m("");u&&(d(c,u),o=o||Ns(u));const g=(t,e)=>{16&y&&h(_,t,e,s,r,o,a)};p?g(i,l):u&&g(u,c)}else{e.el=t.el;const n=e.anchor=t.anchor,h=e.target=t.target,d=e.targetAnchor=t.targetAnchor,m=Cs(t.props),g=m?i:h,y=m?n:d;if(o=o||Ns(h),e.dynamicChildren?(c(t.dynamicChildren,e.dynamicChildren,g,s,r,o),Ds(t,e,!0)):a||u(t,e,g,y,s,r,o),p)m||Fs(e,i,n,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=As(e.props,f);t&&Fs(e,t,null,l,0)}else m&&Fs(e,h,d,l,1)}},remove(t,{r:e,o:{remove:i}}){const{shapeFlag:n,children:s,anchor:r}=t;if(i(r),16&n)for(let o=0;o<s.length;o++)e(s[o])},move:Fs,hydrate:Rs};function Fs(t,e,i,{o:{insert:n},m:s},r=2){0===r&&n(t.targetAnchor,e,i);const{el:o,anchor:a,shapeFlag:l,children:h,props:u}=t,c=2===r;if(c&&n(o,e,i),(!c||Cs(u))&&16&l)for(let d=0;d<h.length;d++)s(h[d],e,i,2);c&&n(a,e,i)}function Rs(t,e,i,n,s,{o:{nextSibling:r,parentNode:o,querySelector:a}},l){const h=e.target=As(e.props,a);if(h){const a=h._lpa||h.firstChild;16&e.shapeFlag&&(Cs(e.props)?(e.anchor=l(r(t),e,o(t),i,n,s),e.targetAnchor=a):(e.anchor=r(t),e.targetAnchor=l(a,e,h,i,n,s)),h._lpa=e.targetAnchor&&r(e.targetAnchor))}return e.anchor&&r(e.anchor)}const Es=Os,Is="components",js="directives";function Hs(t){return Ws(Is,t)||t}const Bs=Symbol();function zs(t){return z(t)?Ws(Is,t,!1)||t:t||Bs}function Vs(t){return Ws(js,t)}function Ws(t,e,i=!0){const n=Ci||Hr;if(n){const i=n.type;if(t===Is){if("_self"===e)return i;const t=io(i);if(t&&(t===e||t===tt(e)||t===nt(tt(e))))return i}const s=Gs(n[t]||i[t],e)||Gs(n.appContext[t],e);return s}}function Gs(t,e){return t&&(t[e]||t[tt(e)]||t[nt(tt(e))])}const Us=Symbol(void 0),Ks=Symbol(void 0),Xs=Symbol(void 0),qs=Symbol(void 0),Js=[];let $s=null;function Zs(t=!1){Js.push($s=t?null:[])}function Qs(){Js.pop(),$s=Js[Js.length-1]||null}let tr,er=1;function ir(t){er+=t}function nr(t,e,i,n,s){const r=ur(t,e,i,n,s,!0);return r.dynamicChildren=$s||T,Qs(),er>0&&$s&&$s.push(r),r}function sr(t){return!!t&&!0===t.__v_isVNode}function rr(t,e){return t.type===e.type&&t.key===e.key}function or(t){tr=t}const ar="__vInternal",lr=({key:t})=>null!=t?t:null,hr=({ref:t})=>null!=t?z(t)||De(t)||B(t)?{i:Ci,r:t}:t:null,ur=cr;function cr(t,e=null,i=null,n=0,s=null,r=!1){if(t&&t!==Bs||(t=Xs),sr(t)){const n=dr(t,e,!0);return i&&_r(n,i),n}if(so(t)&&(t=t.__vccOpts),e){(ke(e)||ar in e)&&(e=A({},e));let{class:t,style:i}=e;t&&!z(t)&&(e.class=m(t)),W(i)&&(ke(i)&&!E(i)&&(i=A({},i)),e.style=u(i))}const o=z(t)?1:Hi(t)?128:Ys(t)?64:W(t)?4:B(t)?2:0;const a={__v_isVNode:!0,["__v_skip"]:!0,type:t,props:e,key:e&&lr(e),ref:e&&hr(e),scopeId:nn,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};if(_r(a,i),128&o){const{content:t,fallback:e}=Ki(a);a.ssContent=t,a.ssFallback=e}return er>0&&!r&&$s&&(n>0||6&o)&&32!==n&&$s.push(a),a}function dr(t,e,i=!1){const{props:n,ref:s,patchFlag:r,children:o}=t,a=e?vr(n||{},e):n;return{__v_isVNode:!0,["__v_skip"]:!0,type:t.type,props:a,key:a&&lr(a),ref:e&&e.ref?i&&s?E(s)?s.concat(hr(e)):[s,hr(e)]:hr(e):s,scopeId:t.scopeId,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Us?-1===r?16:16|r:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&dr(t.ssContent),ssFallback:t.ssFallback&&dr(t.ssFallback),el:t.el,anchor:t.anchor}}function fr(t=" ",e=0){return ur(Ks,null,t,e)}function mr(t,e){const i=ur(qs,null,t);return i.staticCount=e,i}function gr(t="",e=!1){return e?(Zs(),nr(Xs,null,t)):ur(Xs,null,t)}function pr(t){return null==t||"boolean"===typeof t?ur(Xs):E(t)?ur(Us,null,t):"object"===typeof t?null===t.el?t:dr(t):ur(Ks,null,String(t))}function yr(t){return null===t.el?t:dr(t)}function _r(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(E(e))i=16;else if("object"===typeof e){if(1&n||64&n){const i=e.default;return void(i&&(i._c&&Zi(1),_r(t,i()),i._c&&Zi(-1)))}{i=32;const n=e._;n||ar in e?3===n&&Ci&&(1024&Ci.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Ci}}else B(e)?(e={default:e,_ctx:Ci},i=32):(e=String(e),64&n?(i=16,e=[fr(e)]):i=8);t.children=e,t.shapeFlag|=i}function vr(...t){const e=A({},t[0]);for(let i=1;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=m([e.class,n.class]));else if("style"===t)e.style=u([e.style,n.style]);else if(C(t)){const i=e[t],s=n[t];i!==s&&(e[t]=i?[].concat(i,n[t]):s)}else""!==t&&(e[t]=n[t])}return e}function br(t,e){if(Hr){let i=Hr.provides;const n=Hr.parent&&Hr.parent.provides;n===i&&(i=Hr.provides=Object.create(n)),i[t]=e}else 0}function xr(t,e,i=!1){const n=Hr||Ci;if(n){const s=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&B(e)?e():e}else 0}let Mr=!1;function wr(t,e,i=[],n=[],s=[],r=!1){const{mixins:o,extends:a,data:l,computed:h,methods:u,watch:c,provide:d,inject:f,components:m,directives:g,beforeMount:p,mounted:y,beforeUpdate:_,updated:v,activated:b,deactivated:x,beforeDestroy:M,beforeUnmount:w,destroyed:k,unmounted:L,render:T,renderTracked:P,renderTriggered:Y,errorCaptured:C,expose:N}=e,O=t.proxy,F=t.ctx,R=t.appContext.mixins;r&&T&&t.render===D&&(t.render=T),r||(Mr=!0,kr("beforeCreate","bc",e,t,R),Mr=!1,Tr(t,R,i,n,s)),a&&wr(t,a,i,n,s,!0),o&&Tr(t,o,i,n,s);if(f)if(E(f))for(let S=0;S<f.length;S++){const t=f[S];F[t]=xr(t)}else for(const S in f){const t=f[S];W(t)?F[S]=xr(t.from||S,t.default,!0):F[S]=xr(t)}if(u)for(const S in u){const t=u[S];B(t)&&(F[S]=t.bind(O))}if(r?l&&i.push(l):(i.length&&i.forEach((e=>Dr(t,e,O))),l&&Dr(t,l,O)),h)for(const S in h){const t=h[S],e=B(t)?t.bind(O,O):B(t.get)?t.get.bind(O,O):D;0;const i=!B(t)&&B(t.set)?t.set.bind(O):D,n=ro({get:e,set:i});Object.defineProperty(F,S,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t})}if(c&&n.push(c),!r&&n.length&&n.forEach((t=>{for(const e in t)Pr(t[e],F,O,e)})),d&&s.push(d),!r&&s.length&&s.forEach((t=>{const e=B(t)?t.call(O):t;Reflect.ownKeys(e).forEach((t=>{br(t,e[t])}))})),r&&(m&&A(t.components||(t.components=A({},t.type.components)),m),g&&A(t.directives||(t.directives=A({},t.type.directives)),g)),r||kr("created","c",e,t,R),p&&vn(p.bind(O)),y&&bn(y.bind(O)),_&&xn(_.bind(O)),v&&Mn(v.bind(O)),b&&Xn(b.bind(O)),x&&qn(x.bind(O)),C&&Tn(C.bind(O)),P&&Sn(P.bind(O)),Y&&Ln(Y.bind(O)),w&&wn(w.bind(O)),L&&kn(L.bind(O)),E(N))if(r)0;else if(N.length){const e=t.exposed||(t.exposed=Re({}));N.forEach((t=>{e[t]=Be(O,t)}))}else t.exposed||(t.exposed=S)}function kr(t,e,i,n,s){Sr(t,e,s,n);const{extends:r,mixins:o}=i;r&&Lr(t,e,r,n),o&&Sr(t,e,o,n);const a=i[t];a&&Ze(a.bind(n.proxy),n,e)}function Lr(t,e,i,n){i.extends&&Lr(t,e,i.extends,n);const s=i[t];s&&Ze(s.bind(n.proxy),n,e)}function Sr(t,e,i,n){for(let s=0;s<i.length;s++){const r=i[s].mixins;r&&Sr(t,e,r,n);const o=i[s][t];o&&Ze(o.bind(n.proxy),n,e)}}function Tr(t,e,i,n,s){for(let r=0;r<e.length;r++)wr(t,e[r],i,n,s,!0)}function Dr(t,e,i){const n=e.call(i,i);W(n)&&(t.data===S?t.data=ye(n):A(t.data,n))}function Pr(t,e,i,n){const s=n.includes(".")?Yr(i,n):()=>i[n];if(z(t)){const i=e[t];B(i)&&Yn(s,i)}else if(B(t))Yn(s,t.bind(i));else if(W(t))if(E(t))t.forEach((t=>Pr(t,e,i,n)));else{const n=B(t.handler)?t.handler.bind(i):e[t.handler];B(n)&&Yn(s,n,t)}else 0}function Yr(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function Cr(t){const e=t.type,{__merged:i,mixins:n,extends:s}=e;if(i)return i;const r=t.appContext.mixins;if(!r.length&&!n&&!s)return e;const o={};return r.forEach((e=>Nr(o,e,t))),Nr(o,e,t),e.__merged=o}function Nr(t,e,i){const n=i.appContext.config.optionMergeStrategies,{mixins:s,extends:r}=e;r&&Nr(t,r,i),s&&s.forEach((e=>Nr(t,e,i)));for(const o in e)n&&R(n,o)?t[o]=n[o](t[o],e[o],i.proxy,o):t[o]=e[o]}const Ar=t=>t?Vr(t)?t.exposed?t.exposed:t.proxy:Ar(t.parent):null,Or=A(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ar(t.parent),$root:t=>Ar(t.root),$emit:t=>t.emit,$options:t=>Cr(t),$forceUpdate:t=>()=>pi(t.update),$nextTick:t=>mi.bind(t.proxy),$watch:t=>Nn.bind(t)}),Fr={get({_:t},e){const{ctx:i,setupState:n,data:s,props:r,accessCache:o,type:a,appContext:l}=t;if("__v_skip"===e)return!0;let h;if("$"!==e[0]){const a=o[e];if(void 0!==a)switch(a){case 0:return n[e];case 1:return s[e];case 3:return i[e];case 2:return r[e]}else{if(n!==S&&R(n,e))return o[e]=0,n[e];if(s!==S&&R(s,e))return o[e]=1,s[e];if((h=t.propsOptions[0])&&R(h,e))return o[e]=2,r[e];if(i!==S&&R(i,e))return o[e]=3,i[e];Mr||(o[e]=4)}}const u=Or[e];let c,d;return u?("$attrs"===e&&Lt(t,"get",e),u(t)):(c=a.__cssModules)&&(c=c[e])?c:i!==S&&R(i,e)?(o[e]=3,i[e]):(d=l.config.globalProperties,R(d,e)?d[e]:void 0)},set({_:t},e,i){const{data:n,setupState:s,ctx:r}=t;if(s!==S&&R(s,e))s[e]=i;else if(n!==S&&R(n,e))n[e]=i;else if(R(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(r[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:s,propsOptions:r}},o){let a;return void 0!==i[o]||t!==S&&R(t,o)||e!==S&&R(e,o)||(a=r[0])&&R(a,o)||R(n,o)||R(Or,o)||R(s.config.globalProperties,o)}};const Rr=A({},Fr,{get(t,e){if(e!==Symbol.unscopables)return Fr.get(t,e,t)},has(t,e){const i="_"!==e[0]&&!a(e);return i}});const Er=hs();let Ir=0;function jr(t,e,i){const n=t.type,s=(e?e.appContext:t.appContext)||Er,r={uid:Ir++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dn(n,s),emitsOptions:Pi(n,s),emit:null,emitted:null,ctx:S,data:S,props:S,attrs:S,slots:S,refs:S,setupState:S,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Di.bind(null,r),r}let Hr=null;const Br=()=>Hr||Ci,zr=t=>{Hr=t};function Vr(t){return 4&t.vnode.shapeFlag}let Wr,Gr=!1;function Ur(t,e=!1){Gr=e;const{props:i,children:n}=t.vnode,s=Vr(t);ln(t,i,s,e),rs(t,n);const r=s?Kr(t,e):void 0;return Gr=!1,r}function Kr(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fr);const{setup:n}=i;if(n){const i=t.setupContext=n.length>1?Zr(t):null;Hr=t,Mt();const s=$e(n,t,0,[t.props,i]);if(kt(),Hr=null,G(s)){if(e)return s.then((e=>{Xr(t,e)}));t.asyncDep=s}else Xr(t,s)}else $r(t)}function Xr(t,e,i){B(e)?t.render=e:W(e)&&(t.setupState=Re(e)),$r(t)}const qr=()=>!Wr;function Jr(t){Wr=t}function $r(t,e){const i=t.type;t.render||(Wr&&i.template&&!i.render&&(i.render=Wr(i.template,{isCustomElement:t.appContext.config.isCustomElement,delimiters:i.delimiters})),t.render=i.render||D,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Rr))),Hr=t,Mt(),wr(t,i),kt(),Hr=null}function Zr(t){const e=e=>{t.exposed=Re(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}function Qr(t,e=Hr){e&&(e.effects||(e.effects=[])).push(t)}const to=/(?:^|[-_])(\w)/g,eo=t=>t.replace(to,(t=>t.toUpperCase())).replace(/[-_]/g,"");function io(t){return B(t)&&t.displayName||t.name}function no(t,e,i=!1){let n=io(e);if(!n&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(n=t[1])}if(!n&&t&&t.parent){const i=t=>{for(const i in t)if(t[i]===e)return i};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?eo(n):i?"App":"Anonymous"}function so(t){return B(t)&&"__vccOpts"in t}function ro(t){const e=Ve(t);return Qr(e.effect),e}function oo(){return null}function ao(){return null}function lo(){const t=Br();return t.setupContext||(t.setupContext=Zr(t))}function ho(t,e,i){const n=arguments.length;return 2===n?W(e)&&!E(e)?sr(e)?ur(t,null,[e]):ur(t,e):ur(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&sr(i)&&(i=[i]),ur(t,e,i))}const uo=Symbol(""),co=()=>{{const t=xr(uo);return t||Ge("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function fo(){return void 0}function mo(t,e){let i;if(E(t)||z(t)){i=new Array(t.length);for(let n=0,s=t.length;n<s;n++)i[n]=e(t[n],n)}else if("number"===typeof t){0,i=new Array(t);for(let n=0;n<t;n++)i[n]=e(n+1,n)}else if(W(t))if(t[Symbol.iterator])i=Array.from(t,e);else{const n=Object.keys(t);i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const r=n[s];i[s]=e(t[r],r,s)}}else i=[];return i}function go(t){const e={};for(const i in t)e[st(i)]=t[i];return e}function po(t,e){for(let i=0;i<e.length;i++){const n=e[i];if(E(n))for(let e=0;e<n.length;e++)t[n[e].name]=n[e].fn;else n&&(t[n.name]=n.fn)}return t}const yo="3.0.7",_o=null,vo="http://www.w3.org/2000/svg",bo="undefined"!==typeof document?document:null;let xo,Mo;const wo={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i)=>e?bo.createElementNS(vo,t):bo.createElement(t,i?{is:i}:void 0),createText:t=>bo.createTextNode(t),createComment:t=>bo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){return t.cloneNode(!0)},insertStaticContent(t,e,i,n){const s=n?Mo||(Mo=bo.createElementNS(vo,"svg")):xo||(xo=bo.createElement("div"));s.innerHTML=t;const r=s.firstChild;let o=r,a=o;while(o)a=o,wo.insert(o,e,i),o=s.firstChild;return[r,a]}};function ko(t,e,i){if(null==e&&(e=""),i)t.setAttribute("class",e);else{const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),t.className=e}}function Lo(t,e,i){const n=t.style;if(i)if(z(i)){if(e!==i){const e=n.display;n.cssText=i,"_vod"in t&&(n.display=e)}}else{for(const t in i)To(n,t,i[t]);if(e&&!z(e))for(const t in e)null==i[t]&&To(n,t,"")}else t.removeAttribute("style")}const So=/\s*!important$/;function To(t,e,i){if(E(i))i.forEach((i=>To(t,e,i)));else if(e.startsWith("--"))t.setProperty(e,i);else{const n=Yo(t,e);So.test(i)?t.setProperty(it(n),i.replace(So,""),"important"):t[n]=i}}const Do=["Webkit","Moz","ms"],Po={};function Yo(t,e){const i=Po[e];if(i)return i;let n=tt(e);if("filter"!==n&&n in t)return Po[e]=n;n=nt(n);for(let s=0;s<Do.length;s++){const i=Do[s]+n;if(i in t)return Po[e]=i}return e}const Co="http://www.w3.org/1999/xlink";function No(t,e,i,n){if(n&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(Co,e.slice(6,e.length)):t.setAttributeNS(Co,e,i);else{const n=h(e);null==i||n&&!1===i?t.removeAttribute(e):t.setAttribute(e,n?"":i)}}function Ao(t,e,i,n,s,r,o){if("innerHTML"===e||"textContent"===e)return n&&o(n,s,r),void(t[e]=null==i?"":i);if("value"!==e||"PROGRESS"===t.tagName){if(""===i||null==i){const n=typeof t[e];if(""===i&&"boolean"===n)return void(t[e]=!0);if(null==i&&"string"===n)return t[e]="",void t.removeAttribute(e);if("number"===n)return t[e]=0,void t.removeAttribute(e)}try{t[e]=i}catch(a){0}}else{t._value=i;const e=null==i?"":i;t.value!==e&&(t.value=e)}}let Oo=Date.now;"undefined"!==typeof document&&Oo()>document.createEvent("Event").timeStamp&&(Oo=()=>performance.now());let Fo=0;const Ro=Promise.resolve(),Eo=()=>{Fo=0},Io=()=>Fo||(Ro.then(Eo),Fo=Oo());function jo(t,e,i,n){t.addEventListener(e,i,n)}function Ho(t,e,i,n){t.removeEventListener(e,i,n)}function Bo(t,e,i,n,s=null){const r=t._vei||(t._vei={}),o=r[e];if(n&&o)o.value=n;else{const[i,a]=Vo(e);if(n){const o=r[e]=Wo(n,s);jo(t,i,o,a)}else o&&(Ho(t,i,o,a),r[e]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Vo(t){let e;if(zo.test(t)){let i;e={};while(i=t.match(zo))t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[it(t.slice(2)),e]}function Wo(t,e){const i=t=>{const n=t.timeStamp||Oo();n>=i.attached-1&&Ze(Go(t,i.value),e,5,[t])};return i.value=t,i.attached=Io(),i}function Go(t,e){if(E(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}const Uo=/^on[a-z]/,Ko=(t,e)=>"value"===e,Xo=(t,e,i,n,s=!1,r,o,a,l)=>{switch(e){case"class":ko(t,n,s);break;case"style":Lo(t,i,n);break;default:C(e)?N(e)||Bo(t,e,i,n,o):qo(t,e,n,s)?Ao(t,e,n,r,o,a,l):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),No(t,e,n,s));break}};function qo(t,e,i,n){return n?"innerHTML"===e||!!(e in t&&Uo.test(e)&&B(i)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!Uo.test(e)||!z(i))&&e in t))))}function Jo(t="$style"){{const e=Br();if(!e)return S;const i=e.type.__cssModules;if(!i)return S;const n=i[t];return n||S}}function $o(t){const e=Br();if(!e)return;const i=()=>Zo(e.subTree,t(e.proxy));bn((()=>Dn(i,{flush:"post"}))),Mn(i)}function Zo(t,e){if(128&t.shapeFlag){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{Zo(i.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el){const i=t.el.style;for(const t in e)i.setProperty(`--${t}`,e[t])}else t.type===Us&&t.children.forEach((t=>Zo(t,e)))}const Qo="transition",ta="animation",ea=(t,{slots:e})=>ho(En,sa(t),e);ea.displayName="Transition";const ia={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},na=ea.props=A({},En.props,ia);function sa(t){let{name:e="v",type:i,css:n=!0,duration:s,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=r,appearActiveClass:h=o,appearToClass:u=a,leaveFromClass:c=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:f=`${e}-leave-to`}=t;const m={};for(const P in t)P in ia||(m[P]=t[P]);if(!n)return m;const g=ra(s),p=g&&g[0],y=g&&g[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:x,onLeaveCancelled:M,onBeforeAppear:w=_,onAppear:k=v,onAppearCancelled:L=b}=m,S=(t,e,i)=>{la(t,e?u:a),la(t,e?h:o),i&&i()},T=(t,e)=>{la(t,f),la(t,d),e&&e()},D=t=>(e,n)=>{const s=t?k:v,o=()=>S(e,t,n);s&&s(e,o),ha((()=>{la(e,t?l:r),aa(e,t?u:a),s&&s.length>1||ca(e,i,p,o)}))};return A(m,{onBeforeEnter(t){_&&_(t),aa(t,r),aa(t,o)},onBeforeAppear(t){w&&w(t),aa(t,l),aa(t,h)},onEnter:D(!1),onAppear:D(!0),onLeave(t,e){const n=()=>T(t,e);aa(t,c),ga(),aa(t,d),ha((()=>{la(t,c),aa(t,f),x&&x.length>1||ca(t,i,y,n)})),x&&x(t,n)},onEnterCancelled(t){S(t,!1),b&&b(t)},onAppearCancelled(t){S(t,!0),L&&L(t)},onLeaveCancelled(t){T(t),M&&M(t)}})}function ra(t){if(null==t)return null;if(W(t))return[oa(t.enter),oa(t.leave)];{const e=oa(t);return[e,e]}}function oa(t){const e=lt(t);return e}function aa(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function la(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:i}=t;i&&(i.delete(e),i.size||(t._vtc=void 0))}function ha(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let ua=0;function ca(t,e,i,n){const s=t._endId=++ua,r=()=>{s===t._endId&&n()};if(i)return setTimeout(r,i);const{type:o,timeout:a,propCount:l}=da(t,e);if(!o)return n();const h=o+"end";let u=0;const c=()=>{t.removeEventListener(h,d),r()},d=e=>{e.target===t&&++u>=l&&c()};setTimeout((()=>{u<l&&c()}),a+1),t.addEventListener(h,d)}function da(t,e){const i=window.getComputedStyle(t),n=t=>(i[t]||"").split(", "),s=n(Qo+"Delay"),r=n(Qo+"Duration"),o=fa(s,r),a=n(ta+"Delay"),l=n(ta+"Duration"),h=fa(a,l);let u=null,c=0,d=0;e===Qo?o>0&&(u=Qo,c=o,d=r.length):e===ta?h>0&&(u=ta,c=h,d=l.length):(c=Math.max(o,h),u=c>0?o>h?Qo:ta:null,d=u?u===Qo?r.length:l.length:0);const f=u===Qo&&/\b(transform|all)(,|$)/.test(i[Qo+"Property"]);return{type:u,timeout:c,propCount:d,hasTransform:f}}function fa(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,i)=>ma(e)+ma(t[i]))))}function ma(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ga(){return document.body.offsetHeight}const pa=new WeakMap,ya=new WeakMap,_a={name:"TransitionGroup",props:A({},na,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=Br(),n=On();let s,r;return Mn((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!wa(s[0].el,i.vnode.el,e))return;s.forEach(ba),s.forEach(xa);const n=s.filter(Ma);ga(),n.forEach((t=>{const i=t.el,n=i.style;aa(i,e),n.transform=n.webkitTransform=n.transitionDuration="";const s=i._moveCb=t=>{t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",s),i._moveCb=null,la(i,e))};i.addEventListener("transitionend",s)}))})),()=>{const o=Le(t),a=sa(o),l=o.tag||Us;s=r,r=e.default?Vn(e.default()):[];for(let t=0;t<r.length;t++){const e=r[t];null!=e.key&&zn(e,jn(e,a,n,i))}if(s)for(let t=0;t<s.length;t++){const e=s[t];zn(e,jn(e,a,n,i)),pa.set(e,e.el.getBoundingClientRect())}return ur(l,null,r)}}},va=_a;function ba(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function xa(t){ya.set(t,t.el.getBoundingClientRect())}function Ma(t){const e=pa.get(t),i=ya.get(t),n=e.left-i.left,s=e.top-i.top;if(n||s){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${s}px)`,e.transitionDuration="0s",t}}function wa(t,e,i){const n=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))})),i.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const s=1===e.nodeType?e:e.parentNode;s.appendChild(n);const{hasTransform:r}=da(n);return s.removeChild(n),r}const ka=t=>{const e=t.props["onUpdate:modelValue"];return E(e)?t=>ot(e,t):e};function La(t){t.target.composing=!0}function Sa(t){const e=t.target;e.composing&&(e.composing=!1,Ta(e,"input"))}function Ta(t,e){const i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}const Da={created(t,{modifiers:{lazy:e,trim:i,number:n}},s){t._assign=ka(s);const r=n||"number"===t.type;jo(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i?n=n.trim():r&&(n=lt(n)),t._assign(n)})),i&&jo(t,"change",(()=>{t.value=t.value.trim()})),e||(jo(t,"compositionstart",La),jo(t,"compositionend",Sa),jo(t,"change",Sa))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:i,number:n}},s){if(t._assign=ka(s),t.composing)return;if(document.activeElement===t){if(i&&t.value.trim()===e)return;if((n||"number"===t.type)&&lt(t.value)===e)return}const r=null==e?"":e;t.value!==r&&(t.value=r)}},Pa={created(t,e,i){t._assign=ka(i),jo(t,"change",(()=>{const e=t._modelValue,i=Oa(t),n=t.checked,s=t._assign;if(E(e)){const t=w(e,i),r=-1!==t;if(n&&!r)s(e.concat(i));else if(!n&&r){const i=[...e];i.splice(t,1),s(i)}}else if(j(e)){const t=new Set(e);n?t.add(i):t.delete(i),s(t)}else s(Fa(t,n))}))},mounted:Ya,beforeUpdate(t,e,i){t._assign=ka(i),Ya(t,e,i)}};function Ya(t,{value:e,oldValue:i},n){t._modelValue=e,E(e)?t.checked=w(e,n.props.value)>-1:j(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=M(e,Fa(t,!0)))}const Ca={created(t,{value:e},i){t.checked=M(e,i.props.value),t._assign=ka(i),jo(t,"change",(()=>{t._assign(Oa(t))}))},beforeUpdate(t,{value:e,oldValue:i},n){t._assign=ka(n),e!==i&&(t.checked=M(e,n.props.value))}},Na={created(t,{value:e,modifiers:{number:i}},n){const s=j(e);jo(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?lt(Oa(t)):Oa(t)));t._assign(t.multiple?s?new Set(e):e:e[0])})),t._assign=ka(n)},mounted(t,{value:e}){Aa(t,e)},beforeUpdate(t,e,i){t._assign=ka(i)},updated(t,{value:e}){Aa(t,e)}};function Aa(t,e){const i=t.multiple;if(!i||E(e)||j(e)){for(let n=0,s=t.options.length;n<s;n++){const s=t.options[n],r=Oa(s);if(i)E(e)?s.selected=w(e,r)>-1:s.selected=e.has(r);else if(M(Oa(s),e))return void(t.selectedIndex=n)}i||(t.selectedIndex=-1)}}function Oa(t){return"_value"in t?t._value:t.value}function Fa(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const Ra={created(t,e,i){Ea(t,e,i,null,"created")},mounted(t,e,i){Ea(t,e,i,null,"mounted")},beforeUpdate(t,e,i,n){Ea(t,e,i,n,"beforeUpdate")},updated(t,e,i,n){Ea(t,e,i,n,"updated")}};function Ea(t,e,i,n,s){let r;switch(t.tagName){case"SELECT":r=Na;break;case"TEXTAREA":r=Da;break;default:switch(i.props&&i.props.type){case"checkbox":r=Pa;break;case"radio":r=Ca;break;default:r=Da}}const o=r[s];o&&o(t,e,i,n)}const Ia=["ctrl","shift","alt","meta"],ja={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Ia.some((i=>t[`${i}Key`]&&!e.includes(i)))},Ha=(t,e)=>(i,...n)=>{for(let t=0;t<e.length;t++){const n=ja[e[t]];if(n&&n(i,e))return}return t(i,...n)},Ba={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},za=(t,e)=>i=>{if(!("key"in i))return;const n=it(i.key);return e.some((t=>t===n||Ba[t]===n))?t(i):void 0},Va={beforeMount(t,{value:e},{transition:i}){t._vod="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):Wa(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!==!i&&(n?e?(n.beforeEnter(t),Wa(t,!0),n.enter(t)):n.leave(t,(()=>{Wa(t,!1)})):Wa(t,e))},beforeUnmount(t,{value:e}){Wa(t,e)}};function Wa(t,e){t.style.display=e?t._vod:"none"}const Ga=A({patchProp:Xo,forcePatchProp:Ko},wo);let Ua,Ka=!1;function Xa(){return Ua||(Ua=ks(Ga))}function qa(){return Ua=Ka?Ua:Ls(Ga),Ka=!0,Ua}const Ja=(...t)=>{Xa().render(...t)},$a=(...t)=>{qa().hydrate(...t)},Za=(...t)=>{const e=Xa().createApp(...t);const{mount:i}=e;return e.mount=t=>{const n=tl(t);if(!n)return;const s=e._component;B(s)||s.render||s.template||(s.template=n.innerHTML),n.innerHTML="";const r=i(n);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e},Qa=(...t)=>{const e=qa().createApp(...t);const{mount:i}=e;return e.mount=t=>{const e=tl(t);if(e)return i(e,!0)},e};function tl(t){if(z(t)){const e=document.querySelector(t);return e}return t}function el(t){throw t}function il(t,e,i,n){const s=t,r=new SyntaxError(String(s));return r.code=t,r.loc=e,r}const nl=Symbol(""),sl=Symbol(""),rl=Symbol(""),ol=Symbol(""),al=Symbol(""),ll=Symbol(""),hl=Symbol(""),ul=Symbol(""),cl=Symbol(""),dl=Symbol(""),fl=Symbol(""),ml=Symbol(""),gl=Symbol(""),pl=Symbol(""),yl=Symbol(""),_l=Symbol(""),vl=Symbol(""),bl=Symbol(""),xl=Symbol(""),Ml=Symbol(""),wl=Symbol(""),kl=Symbol(""),Ll=Symbol(""),Sl=Symbol(""),Tl=Symbol(""),Dl=Symbol(""),Pl=Symbol(""),Yl=Symbol(""),Cl=Symbol(""),Nl=Symbol(""),Al=Symbol(""),Ol={[nl]:"Fragment",[sl]:"Teleport",[rl]:"Suspense",[ol]:"KeepAlive",[al]:"BaseTransition",[ll]:"openBlock",[hl]:"createBlock",[ul]:"createVNode",[cl]:"createCommentVNode",[dl]:"createTextVNode",[fl]:"createStaticVNode",[ml]:"resolveComponent",[gl]:"resolveDynamicComponent",[pl]:"resolveDirective",[yl]:"withDirectives",[_l]:"renderList",[vl]:"renderSlot",[bl]:"createSlots",[xl]:"toDisplayString",[Ml]:"mergeProps",[wl]:"toHandlers",[kl]:"camelize",[Ll]:"capitalize",[Sl]:"toHandlerKey",[Tl]:"setBlockTracking",[Dl]:"pushScopeId",[Pl]:"popScopeId",[Yl]:"withScopeId",[Cl]:"withCtx",[Nl]:"unref",[Al]:"isRef"};function Fl(t){Object.getOwnPropertySymbols(t).forEach((e=>{Ol[e]=t[e]}))}const Rl={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function El(t,e=Rl){return{type:0,children:t,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Il(t,e,i,n,s,r,o,a=!1,l=!1,h=Rl){return t&&(a?(t.helper(ll),t.helper(hl)):t.helper(ul),o&&t.helper(yl)),{type:13,tag:e,props:i,children:n,patchFlag:s,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,loc:h}}function jl(t,e=Rl){return{type:17,loc:e,elements:t}}function Hl(t,e=Rl){return{type:15,loc:e,properties:t}}function Bl(t,e){return{type:16,loc:Rl,key:z(t)?zl(t,!0):t,value:e}}function zl(t,e,i=Rl,n=0){return{type:4,loc:i,content:t,isStatic:e,constType:e?3:n}}function Vl(t,e=Rl){return{type:8,loc:e,children:t}}function Wl(t,e=[],i=Rl){return{type:14,loc:i,callee:t,arguments:e}}function Gl(t,e=void 0,i=!1,n=!1,s=Rl){return{type:18,params:t,returns:e,newline:i,isSlot:n,loc:s}}function Ul(t,e,i,n=!0){return{type:19,test:t,consequent:e,alternate:i,newline:n,loc:Rl}}function Kl(t,e,i=!1){return{type:20,index:t,value:e,isVNode:i,loc:Rl}}const Xl=t=>4===t.type&&t.isStatic,ql=(t,e)=>t===e||t===it(e);function Jl(t){return ql(t,"Teleport")?sl:ql(t,"Suspense")?rl:ql(t,"KeepAlive")?ol:ql(t,"BaseTransition")?al:void 0}const $l=/^\d|[^\$\w]/,Zl=t=>!$l.test(t),Ql=/^[A-Za-z_$][\w$]*(?:\s*\.\s*[A-Za-z_$][\w$]*|\[[^\]]+\])*$/,th=t=>!!t&&Ql.test(t.trim());function eh(t,e,i){const n=t.source.substr(e,i),s={source:n,start:ih(t.start,t.source,e),end:t.end};return null!=i&&(s.end=ih(t.start,t.source,e+i)),s}function ih(t,e,i=e.length){return nh(A({},t),e,i)}function nh(t,e,i=e.length){let n=0,s=-1;for(let r=0;r<i;r++)10===e.charCodeAt(r)&&(n++,s=r);return t.offset+=i,t.line+=n,t.column=-1===s?t.column+i:i-s,t}function sh(t,e,i=!1){for(let n=0;n<t.props.length;n++){const s=t.props[n];if(7===s.type&&(i||s.exp)&&(z(e)?s.name===e:e.test(s.name)))return s}}function rh(t,e,i=!1,n=!1){for(let s=0;s<t.props.length;s++){const r=t.props[s];if(6===r.type){if(i)continue;if(r.name===e&&(r.value||n))return r}else if("bind"===r.name&&(r.exp||n)&&oh(r.arg,e))return r}}function oh(t,e){return!(!t||!Xl(t)||t.content!==e)}function ah(t){return t.props.some((t=>7===t.type&&"bind"===t.name&&(!t.arg||4!==t.arg.type||!t.arg.isStatic)))}function lh(t){return 5===t.type||2===t.type}function hh(t){return 7===t.type&&"slot"===t.name}function uh(t){return 1===t.type&&3===t.tagType}function ch(t){return 1===t.type&&2===t.tagType}function dh(t,e,i){let n;const s=13===t.type?t.props:t.arguments[2];if(null==s||z(s))n=Hl([e]);else if(14===s.type){const t=s.arguments[0];z(t)||15!==t.type?s.callee===wl?n=Wl(i.helper(Ml),[Hl([e]),s]):s.arguments.unshift(Hl([e])):t.properties.unshift(e),!n&&(n=s)}else if(15===s.type){let t=!1;if(4===e.key.type){const i=e.key.content;t=s.properties.some((t=>4===t.key.type&&t.key.content===i))}t||s.properties.unshift(e),n=s}else n=Wl(i.helper(Ml),[Hl([e]),s]);13===t.type?t.props=n:t.arguments[2]=n}function fh(t,e){return`_${e}_${t.replace(/[^\w]/g,"_")}`}const mh=/&(gt|lt|amp|apos|quot);/g,gh={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},ph={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:P,isPreTag:P,isCustomElement:P,decodeEntities:t=>t.replace(mh,((t,e)=>gh[e])),onError:el,comments:!1};function yh(t,e={}){const i=_h(t,e),n=Ah(i);return El(vh(i,0,[]),Oh(i,n))}function _h(t,e){const i=A({},ph);for(const n in e)i[n]=e[n]||ph[n];return{options:i,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1}}function vh(t,e,i){const n=Fh(i),s=n?n.ns:0,r=[];while(!Bh(t,e,i)){const o=t.source;let a;if(0===e||1===e)if(!t.inVPre&&Rh(o,t.options.delimiters[0]))a=Yh(t,e);else if(0===e&&"<"===o[0])if(1===o.length)Hh(t,5,1);else if("!"===o[1])Rh(o,"\x3c!--")?a=Mh(t):Rh(o,"<!DOCTYPE")?a=wh(t):Rh(o,"<![CDATA[")?0!==s?a=xh(t,i):(Hh(t,1),a=wh(t)):(Hh(t,11),a=wh(t));else if("/"===o[1])if(2===o.length)Hh(t,5,2);else{if(">"===o[2]){Hh(t,14,2),Eh(t,3);continue}if(/[a-z]/i.test(o[2])){Hh(t,23),Sh(t,1,n);continue}Hh(t,12,2),a=wh(t)}else/[a-z]/i.test(o[1])?a=kh(t,i):"?"===o[1]?(Hh(t,21,1),a=wh(t)):Hh(t,12,1);if(a||(a=Ch(t,e)),E(a))for(let t=0;t<a.length;t++)bh(r,a[t]);else bh(r,a)}let o=!1;if(2!==e){for(let e=0;e<r.length;e++){const i=r[e];if(!t.inPre&&2===i.type)if(/[^\t\r\n\f ]/.test(i.content))i.content=i.content.replace(/[\t\r\n\f ]+/g," ");else{const t=r[e-1],n=r[e+1];!t||!n||3===t.type||3===n.type||1===t.type&&1===n.type&&/[\r\n]/.test(i.content)?(o=!0,r[e]=null):i.content=" "}3!==i.type||t.options.comments||(o=!0,r[e]=null)}if(t.inPre&&n&&t.options.isPreTag(n.tag)){const t=r[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return o?r.filter(Boolean):r}function bh(t,e){if(2===e.type){const i=Fh(t);if(i&&2===i.type&&i.loc.end.offset===e.loc.start.offset)return i.content+=e.content,i.loc.end=e.loc.end,void(i.loc.source+=e.loc.source)}t.push(e)}function xh(t,e){Eh(t,9);const i=vh(t,3,e);return 0===t.source.length?Hh(t,6):Eh(t,3),i}function Mh(t){const e=Ah(t);let i;const n=/--(\!)?>/.exec(t.source);if(n){n.index<=3&&Hh(t,0),n[1]&&Hh(t,10),i=t.source.slice(4,n.index);const e=t.source.slice(0,n.index);let s=1,r=0;while(-1!==(r=e.indexOf("\x3c!--",s)))Eh(t,r-s+1),r+4<e.length&&Hh(t,16),s=r+1;Eh(t,n.index+n[0].length-s+1)}else i=t.source.slice(4),Eh(t,t.source.length),Hh(t,7);return{type:3,content:i,loc:Oh(t,e)}}function wh(t){const e=Ah(t),i="?"===t.source[1]?1:2;let n;const s=t.source.indexOf(">");return-1===s?(n=t.source.slice(i),Eh(t,t.source.length)):(n=t.source.slice(i,s),Eh(t,s+1)),{type:3,content:n,loc:Oh(t,e)}}function kh(t,e){const i=t.inPre,n=t.inVPre,s=Fh(e),r=Sh(t,0,s),o=t.inPre&&!i,a=t.inVPre&&!n;if(r.isSelfClosing||t.options.isVoidTag(r.tag))return r;e.push(r);const l=t.options.getTextMode(r,s),h=vh(t,l,e);if(e.pop(),r.children=h,zh(t.source,r.tag))Sh(t,1,s);else if(Hh(t,24,0,r.loc.start),0===t.source.length&&"script"===r.tag.toLowerCase()){const e=h[0];e&&Rh(e.loc.source,"\x3c!--")&&Hh(t,8)}return r.loc=Oh(t,r.loc.start),o&&(t.inPre=!1),a&&(t.inVPre=!1),r}const Lh=s("if,else,else-if,for,slot");function Sh(t,e,i){const n=Ah(t),s=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),r=s[1],o=t.options.getNamespace(r,i);Eh(t,s[0].length),Ih(t);const a=Ah(t),l=t.source;let h=Th(t,e);t.options.isPreTag(r)&&(t.inPre=!0),!t.inVPre&&h.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,A(t,a),t.source=l,h=Th(t,e).filter((t=>"v-pre"!==t.name)));let u=!1;0===t.source.length?Hh(t,9):(u=Rh(t.source,"/>"),1===e&&u&&Hh(t,4),Eh(t,u?2:1));let c=0;const d=t.options;if(!t.inVPre&&!d.isCustomElement(r)){const t=h.some((t=>7===t.type&&"is"===t.name));d.isNativeTag&&!t?d.isNativeTag(r)||(c=1):(t||Jl(r)||d.isBuiltInComponent&&d.isBuiltInComponent(r)||/^[A-Z]/.test(r)||"component"===r)&&(c=1),"slot"===r?c=2:"template"===r&&h.some((t=>7===t.type&&Lh(t.name)))&&(c=3)}return{type:1,ns:o,tag:r,tagType:c,props:h,isSelfClosing:u,children:[],loc:Oh(t,n),codegenNode:void 0}}function Th(t,e){const i=[],n=new Set;while(t.source.length>0&&!Rh(t.source,">")&&!Rh(t.source,"/>")){if(Rh(t.source,"/")){Hh(t,22),Eh(t,1),Ih(t);continue}1===e&&Hh(t,3);const s=Dh(t,n);0===e&&i.push(s),/^[^\t\r\n\f />]/.test(t.source)&&Hh(t,15),Ih(t)}return i}function Dh(t,e){const i=Ah(t),n=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source),s=n[0];e.has(s)&&Hh(t,2),e.add(s),"="===s[0]&&Hh(t,19);{const e=/["'<]/g;let i;while(i=e.exec(s))Hh(t,17,i.index)}let r;Eh(t,s.length),/^[\t\r\n\f ]*=/.test(t.source)&&(Ih(t),Eh(t,1),Ih(t),r=Ph(t),r||Hh(t,13));const o=Oh(t,i);if(!t.inVPre&&/^(v-|:|@|#)/.test(s)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(s),n=e[1]||(Rh(s,":")?"bind":Rh(s,"@")?"on":"slot");let a;if(e[2]){const r="slot"===n,o=s.indexOf(e[2]),l=Oh(t,jh(t,i,o),jh(t,i,o+e[2].length+(r&&e[3]||"").length));let h=e[2],u=!0;h.startsWith("[")?(u=!1,h.endsWith("]")||Hh(t,26),h=h.substr(1,h.length-2)):r&&(h+=e[3]||""),a={type:4,content:h,isStatic:u,constType:u?3:0,loc:l}}if(r&&r.isQuoted){const t=r.loc;t.start.offset++,t.start.column++,t.end=ih(t.start,r.content),t.source=t.source.slice(1,-1)}return{type:7,name:n,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:a,modifiers:e[3]?e[3].substr(1).split("."):[],loc:o}}return{type:6,name:s,value:r&&{type:2,content:r.content,loc:r.loc},loc:o}}function Ph(t){const e=Ah(t);let i;const n=t.source[0],s='"'===n||"'"===n;if(s){Eh(t,1);const e=t.source.indexOf(n);-1===e?i=Nh(t,t.source.length,4):(i=Nh(t,e,4),Eh(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const n=/["'<=`]/g;let s;while(s=n.exec(e[0]))Hh(t,18,s.index);i=Nh(t,e[0].length,4)}return{content:i,isQuoted:s,loc:Oh(t,e)}}function Yh(t,e){const[i,n]=t.options.delimiters,s=t.source.indexOf(n,i.length);if(-1===s)return void Hh(t,25);const r=Ah(t);Eh(t,i.length);const o=Ah(t),a=Ah(t),l=s-i.length,h=t.source.slice(0,l),u=Nh(t,l,e),c=u.trim(),d=u.indexOf(c);d>0&&nh(o,h,d);const f=l-(u.length-c.length-d);return nh(a,h,f),Eh(t,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:c,loc:Oh(t,o,a)},loc:Oh(t,r)}}function Ch(t,e){const i=["<",t.options.delimiters[0]];3===e&&i.push("]]>");let n=t.source.length;for(let o=0;o<i.length;o++){const e=t.source.indexOf(i[o],1);-1!==e&&n>e&&(n=e)}const s=Ah(t),r=Nh(t,n,e);return{type:2,content:r,loc:Oh(t,s)}}function Nh(t,e,i){const n=t.source.slice(0,e);return Eh(t,e),2===i||3===i||-1===n.indexOf("&")?n:t.options.decodeEntities(n,4===i)}function Ah(t){const{column:e,line:i,offset:n}=t;return{column:e,line:i,offset:n}}function Oh(t,e,i){return i=i||Ah(t),{start:e,end:i,source:t.originalSource.slice(e.offset,i.offset)}}function Fh(t){return t[t.length-1]}function Rh(t,e){return t.startsWith(e)}function Eh(t,e){const{source:i}=t;nh(t,i,e),t.source=i.slice(e)}function Ih(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&Eh(t,e[0].length)}function jh(t,e,i){return ih(e,t.originalSource.slice(e.offset,i),i)}function Hh(t,e,i,n=Ah(t)){i&&(n.offset+=i,n.column+=i),t.options.onError(il(e,{start:n,end:n,source:""}))}function Bh(t,e,i){const n=t.source;switch(e){case 0:if(Rh(n,"</"))for(let t=i.length-1;t>=0;--t)if(zh(n,i[t].tag))return!0;break;case 1:case 2:{const t=Fh(i);if(t&&zh(n,t.tag))return!0;break}case 3:if(Rh(n,"]]>"))return!0;break}return!n}function zh(t,e){return Rh(t,"</")&&t.substr(2,e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function Vh(t,e){Gh(t,e,Wh(t,t.children[0]))}function Wh(t,e){const{children:i}=t;return 1===i.length&&1===e.type&&!ch(e)}function Gh(t,e,i=!1){let n=!1,s=!0;const{children:r}=t;for(let o=0;o<r.length;o++){const t=r[o];if(1===t.type&&0===t.tagType){const r=i?0:Uh(t,e);if(r>0){if(r<3&&(s=!1),r>=2){t.codegenNode.patchFlag="-1",t.codegenNode=e.hoist(t.codegenNode),n=!0;continue}}else{const i=t.codegenNode;if(13===i.type){const n=qh(i);if((!n||512===n||1===n)&&Kh(t,e)>=2){const n=Xh(t);n&&(i.props=e.hoist(n))}}}}else if(12===t.type){const i=Uh(t.content,e);i>0&&(i<3&&(s=!1),i>=2&&(t.codegenNode=e.hoist(t.codegenNode),n=!0))}if(1===t.type)Gh(t,e);else if(11===t.type)Gh(t,e,1===t.children.length);else if(9===t.type)for(let i=0;i<t.branches.length;i++)Gh(t.branches[i],e,1===t.branches[i].children.length)}s&&n&&e.transformHoist&&e.transformHoist(r,e,t)}function Uh(t,e){const{constantCache:i}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const n=i.get(t);if(void 0!==n)return n;const s=t.codegenNode;if(13!==s.type)return 0;const r=qh(s);if(r)return i.set(t,0),0;{let n=3;const r=Kh(t,e);if(0===r)return i.set(t,0),0;r<n&&(n=r);for(let s=0;s<t.children.length;s++){const r=Uh(t.children[s],e);if(0===r)return i.set(t,0),0;r<n&&(n=r)}if(n>1)for(let s=0;s<t.props.length;s++){const r=t.props[s];if(7===r.type&&"bind"===r.name&&r.exp){const s=Uh(r.exp,e);if(0===s)return i.set(t,0),0;s<n&&(n=s)}}return s.isBlock&&(s.isBlock=!1,e.helper(ul)),i.set(t,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Uh(t.content,e);case 4:return t.constType;case 8:let o=3;for(let i=0;i<t.children.length;i++){const n=t.children[i];if(z(n)||V(n))continue;const s=Uh(n,e);if(0===s)return 0;s<o&&(o=s)}return o;default:return 0}}function Kh(t,e){let i=3;const n=Xh(t);if(n&&15===n.type){const{properties:t}=n;for(let n=0;n<t.length;n++){const{key:s,value:r}=t[n],o=Uh(s,e);if(0===o)return o;if(o<i&&(i=o),4!==r.type)return 0;const a=Uh(r,e);if(0===a)return a;a<i&&(i=a)}}return i}function Xh(t){const e=t.codegenNode;if(13===e.type)return e.props}function qh(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Jh(t,{filename:e="",prefixIdentifiers:i=!1,hoistStatic:n=!1,cacheHandlers:s=!1,nodeTransforms:r=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:l=D,isCustomElement:h=D,expressionPlugins:u=[],scopeId:c=null,ssr:d=!1,ssrCssVars:f="",bindingMetadata:m=S,inline:g=!1,isTS:p=!1,onError:y=el}){const _=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),v={selfName:_&&nt(tt(_[1])),prefixIdentifiers:i,hoistStatic:n,cacheHandlers:s,nodeTransforms:r,directiveTransforms:o,transformHoist:a,isBuiltInComponent:l,isCustomElement:h,expressionPlugins:u,scopeId:c,ssr:d,ssrCssVars:f,bindingMetadata:m,inline:g,isTS:p,onError:y,root:t,helpers:new Set,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,helper(t){return v.helpers.add(t),t},helperString(t){return`_${Ol[v.helper(t)]}`},replaceNode(t){v.parent.children[v.childIndex]=v.currentNode=t},removeNode(t){const e=v.parent.children,i=t?e.indexOf(t):v.currentNode?v.childIndex:-1;t&&t!==v.currentNode?v.childIndex>i&&(v.childIndex--,v.onNodeRemoved()):(v.currentNode=null,v.onNodeRemoved()),v.parent.children.splice(i,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){v.hoists.push(t);const e=zl(`_hoisted_${v.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache(t,e=!1){return Kl(++v.cached,t,e)}};return v}function $h(t,e){const i=Jh(t,e);tu(t,i),e.hoistStatic&&Vh(t,i),e.ssr||Zh(t,i),t.helpers=[...i.helpers],t.components=[...i.components],t.directives=[...i.directives],t.imports=i.imports,t.hoists=i.hoists,t.temps=i.temps,t.cached=i.cached}function Zh(t,e){const{helper:i}=e,{children:n}=t;if(1===n.length){const e=n[0];if(Wh(t,e)&&e.codegenNode){const n=e.codegenNode;13===n.type&&(n.isBlock=!0,i(ll),i(hl)),t.codegenNode=n}else t.codegenNode=e}else if(n.length>1){let n=64;r[64];0,t.codegenNode=Il(e,i(nl),void 0,t.children,n+"",void 0,void 0,!0)}}function Qh(t,e){let i=0;const n=()=>{i--};for(;i<t.children.length;i++){const s=t.children[i];z(s)||(e.parent=t,e.childIndex=i,e.onNodeRemoved=n,tu(s,e))}}function tu(t,e){e.currentNode=t;const{nodeTransforms:i}=e,n=[];for(let r=0;r<i.length;r++){const s=i[r](t,e);if(s&&(E(s)?n.push(...s):n.push(s)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(cl);break;case 5:e.ssr||e.helper(xl);break;case 9:for(let i=0;i<t.branches.length;i++)tu(t.branches[i],e);break;case 10:case 11:case 1:case 0:Qh(t,e);break}e.currentNode=t;let s=n.length;while(s--)n[s]()}function eu(t,e){const i=z(t)?e=>e===t:e=>t.test(e);return(t,n)=>{if(1===t.type){const{props:s}=t;if(3===t.tagType&&s.some(hh))return;const r=[];for(let o=0;o<s.length;o++){const a=s[o];if(7===a.type&&i(a.name)){s.splice(o,1),o--;const i=e(t,a,n);i&&r.push(i)}}return r}}}const iu="/*#__PURE__*/";function nu(t,{mode:e="function",prefixIdentifiers:i="module"===e,sourceMap:n=!1,filename:s="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssr:h=!1}){const u={mode:e,prefixIdentifiers:i,sourceMap:n,filename:s,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssr:h,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(t){return`_${Ol[t]}`},push(t,e){u.code+=t},indent(){c(++u.indentLevel)},deindent(t=!1){t?--u.indentLevel:c(--u.indentLevel)},newline(){c(u.indentLevel)}};function c(t){u.push("\n"+"  ".repeat(t))}return u}function su(t,e={}){const i=nu(t,e);e.onContextCreated&&e.onContextCreated(i);const{mode:n,push:s,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:h,ssr:u}=i,c=t.helpers.length>0,d=!r&&"module"!==n,f=i;ru(t,f);const m=u?"ssrRender":"render",g=u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"],p=g.join(", ");if(s(`function ${m}(${p}) {`),o(),d&&(s("with (_ctx) {"),o(),c&&(s(`const { ${t.helpers.map((t=>`${Ol[t]}: _${Ol[t]}`)).join(", ")} } = _Vue`),s("\n"),l())),t.components.length&&(ou(t.components,"component",i),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(ou(t.directives,"directive",i),t.temps>0&&l()),t.temps>0){s("let ");for(let e=0;e<t.temps;e++)s(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(s("\n"),l()),u||s("return "),t.codegenNode?uu(t.codegenNode,i):s("null"),d&&(a(),s("}")),a(),s("}"),{ast:t,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function ru(t,e){const{ssr:i,prefixIdentifiers:n,push:s,newline:r,runtimeModuleName:o,runtimeGlobalName:a}=e,l=a,h=t=>`${Ol[t]}: _${Ol[t]}`;if(t.helpers.length>0&&(s(`const _Vue = ${l}\n`),t.hoists.length)){const e=[ul,cl,dl,fl].filter((e=>t.helpers.includes(e))).map(h).join(", ");s(`const { ${e} } = _Vue\n`)}au(t.hoists,e),r(),s("return ")}function ou(t,e,{helper:i,push:n,newline:s}){const r=i("component"===e?ml:pl);for(let o=0;o<t.length;o++){const i=t[o];n(`const ${fh(i,e)} = ${r}(${JSON.stringify(i)})`),o<t.length-1&&s()}}function au(t,e){if(!t.length)return;e.pure=!0;const{push:i,newline:n,helper:s,scopeId:r,mode:o}=e;n(),t.forEach(((t,s)=>{t&&(i(`const _hoisted_${s+1} = `),uu(t,e),n())})),e.pure=!1}function lu(t,e){const i=t.length>3||!1;e.push("["),i&&e.indent(),hu(t,e,i),i&&e.deindent(),e.push("]")}function hu(t,e,i=!1,n=!0){const{push:s,newline:r}=e;for(let o=0;o<t.length;o++){const a=t[o];z(a)?s(a):E(a)?lu(a,e):uu(a,e),o<t.length-1&&(i?(n&&s(","),r()):n&&s(", "))}}function uu(t,e){if(z(t))e.push(t);else if(V(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:uu(t.codegenNode,e);break;case 2:cu(t,e);break;case 4:du(t,e);break;case 5:fu(t,e);break;case 12:uu(t.codegenNode,e);break;case 8:mu(t,e);break;case 3:pu(t,e);break;case 13:yu(t,e);break;case 14:vu(t,e);break;case 15:bu(t,e);break;case 17:xu(t,e);break;case 18:Mu(t,e);break;case 19:wu(t,e);break;case 20:ku(t,e);break;case 21:break;case 22:break;case 23:break;case 24:break;case 25:break;case 26:break;case 10:break;default:0}}function cu(t,e){e.push(JSON.stringify(t.content),t)}function du(t,e){const{content:i,isStatic:n}=t;e.push(n?JSON.stringify(i):i,t)}function fu(t,e){const{push:i,helper:n,pure:s}=e;s&&i(iu),i(`${n(xl)}(`),uu(t.content,e),i(")")}function mu(t,e){for(let i=0;i<t.children.length;i++){const n=t.children[i];z(n)?e.push(n):uu(n,e)}}function gu(t,e){const{push:i}=e;if(8===t.type)i("["),mu(t,e),i("]");else if(t.isStatic){const e=Zl(t.content)?t.content:JSON.stringify(t.content);i(e,t)}else i(`[${t.content}]`,t)}function pu(t,e){0}function yu(t,e){const{push:i,helper:n,pure:s}=e,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:h,directives:u,isBlock:c,disableTracking:d}=t;u&&i(n(yl)+"("),c&&i(`(${n(ll)}(${d?"true":""}), `),s&&i(iu),i(n(c?hl:ul)+"(",t),hu(_u([r,o,a,l,h]),e),i(")"),c&&i(")"),u&&(i(", "),uu(u,e),i(")"))}function _u(t){let e=t.length;while(e--)if(null!=t[e])break;return t.slice(0,e+1).map((t=>t||"null"))}function vu(t,e){const{push:i,helper:n,pure:s}=e,r=z(t.callee)?t.callee:n(t.callee);s&&i(iu),i(r+"(",t),hu(t.arguments,e),i(")")}function bu(t,e){const{push:i,indent:n,deindent:s,newline:r}=e,{properties:o}=t;if(!o.length)return void i("{}",t);const a=o.length>1||!1;i(a?"{":"{ "),a&&n();for(let l=0;l<o.length;l++){const{key:t,value:n}=o[l];gu(t,e),i(": "),uu(n,e),l<o.length-1&&(i(","),r())}a&&s(),i(a?"}":" }")}function xu(t,e){lu(t.elements,e)}function Mu(t,e){const{push:i,indent:n,deindent:s,scopeId:r,mode:o}=e,{params:a,returns:l,body:h,newline:u,isSlot:c}=t;c&&i(`_${Ol[Cl]}(`),i("(",t),E(a)?hu(a,e):a&&uu(a,e),i(") => "),(u||h)&&(i("{"),n()),l?(u&&i("return "),E(l)?lu(l,e):uu(l,e)):h&&uu(h,e),(u||h)&&(s(),i("}")),c&&i(")")}function wu(t,e){const{test:i,consequent:n,alternate:s,newline:r}=t,{push:o,indent:a,deindent:l,newline:h}=e;if(4===i.type){const t=!Zl(i.content);t&&o("("),du(i,e),t&&o(")")}else o("("),uu(i,e),o(")");r&&a(),e.indentLevel++,r||o(" "),o("? "),uu(n,e),e.indentLevel--,r&&h(),r||o(" "),o(": ");const u=19===s.type;u||e.indentLevel++,uu(s,e),u||e.indentLevel--,r&&l(!0)}function ku(t,e){const{push:i,helper:n,indent:s,deindent:r,newline:o}=e;i(`_cache[${t.index}] || (`),t.isVNode&&(s(),i(`${n(Tl)}(-1),`),o()),i(`_cache[${t.index}] = `),uu(t.value,e),t.isVNode&&(i(","),o(),i(`${n(Tl)}(1),`),o(),i(`_cache[${t.index}]`),r()),i(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Lu=eu(/^(if|else|else-if)$/,((t,e,i)=>Su(t,e,i,((t,e,n)=>{const s=i.parent.children;let r=s.indexOf(t),o=0;while(r-- >=0){const t=s[r];t&&9===t.type&&(o+=t.branches.length)}return()=>{if(n)t.codegenNode=Du(e,o,i);else{const n=Yu(t.codegenNode);n.alternate=Du(e,o+t.branches.length-1,i)}}}))));function Su(t,e,i,n){if("else"!==e.name&&(!e.exp||!e.exp.content.trim())){const n=e.exp?e.exp.loc:t.loc;i.onError(il(27,e.loc)),e.exp=zl("true",!1,n)}if("if"===e.name){const s=Tu(t,e),r={type:9,loc:t.loc,branches:[s]};if(i.replaceNode(r),n)return n(r,s,!0)}else{const s=i.parent.children;let r=s.indexOf(t);while(r-- >=-1){const o=s[r];if(!o||2!==o.type||o.content.trim().length){if(o&&9===o.type){i.removeNode();const s=Tu(t,e);0,o.branches.push(s);const r=n&&n(o,s,!1);tu(s,i),r&&r(),i.currentNode=null}else i.onError(il(29,t.loc));break}i.removeNode(o)}}}function Tu(t,e){return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:3!==t.tagType||sh(t,"for")?[t]:t.children,userKey:rh(t,"key")}}function Du(t,e,i){return t.condition?Ul(t.condition,Pu(t,e,i),Wl(i.helper(cl),['""',"true"])):Pu(t,e,i)}function Pu(t,e,i){const{helper:n}=i,s=Bl("key",zl(`${e}`,!1,Rl,2)),{children:r}=t,o=r[0],a=1!==r.length||1!==o.type;if(a){if(1===r.length&&11===o.type){const t=o.codegenNode;return dh(t,s,i),t}return Il(i,n(nl),Hl([s]),r,"64",void 0,void 0,!0,!1,t.loc)}{const t=o.codegenNode;return 13===t.type&&(t.isBlock=!0,n(ll),n(hl)),dh(t,s,i),t}}function Yu(t){while(1)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}const Cu=eu("for",((t,e,i)=>{const{helper:n}=i;return Nu(t,e,i,(e=>{const s=Wl(n(_l),[e.source]),r=rh(t,"key"),o=r?Bl("key",6===r.type?zl(r.value.content,!0):r.exp):null,a=4===e.source.type&&e.source.constType>0,l=a?64:r?128:256;return e.codegenNode=Il(i,n(nl),void 0,s,l+"",void 0,void 0,!0,!a,t.loc),()=>{let r;const l=uh(t),{children:h}=e;const u=1!==h.length||1!==h[0].type,c=ch(t)?t:l&&1===t.children.length&&ch(t.children[0])?t.children[0]:null;c?(r=c.codegenNode,l&&o&&dh(r,o,i)):u?r=Il(i,n(nl),o?Hl([o]):void 0,t.children,"64",void 0,void 0,!0):(r=h[0].codegenNode,l&&o&&dh(r,o,i),r.isBlock=!a,r.isBlock?(n(ll),n(hl)):n(ul)),s.arguments.push(Gl(Iu(e.parseResult),r,!0))}}))}));function Nu(t,e,i,n){if(!e.exp)return void i.onError(il(30,e.loc));const s=Ru(e.exp,i);if(!s)return void i.onError(il(31,e.loc));const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=i,{source:l,value:h,key:u,index:c}=s,d={type:11,loc:e.loc,source:l,valueAlias:h,keyAlias:u,objectIndexAlias:c,parseResult:s,children:uh(t)?t.children:[t]};i.replaceNode(d),a.vFor++;const f=n&&n(d);return()=>{a.vFor--,f&&f()}}const Au=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ou=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Fu=/^\(|\)$/g;function Ru(t,e){const i=t.loc,n=t.content,s=n.match(Au);if(!s)return;const[,r,o]=s,a={source:Eu(i,o.trim(),n.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0};let l=r.trim().replace(Fu,"").trim();const h=r.indexOf(l),u=l.match(Ou);if(u){l=l.replace(Ou,"").trim();const t=u[1].trim();let e;if(t&&(e=n.indexOf(t,h+l.length),a.key=Eu(i,t,e)),u[2]){const s=u[2].trim();s&&(a.index=Eu(i,s,n.indexOf(s,a.key?e+t.length:h+l.length)))}}return l&&(a.value=Eu(i,l,h)),a}function Eu(t,e,i){return zl(e,!1,eh(t,i,e.length))}function Iu({value:t,key:e,index:i}){const n=[];return t&&n.push(t),e&&(t||n.push(zl("_",!1)),n.push(e)),i&&(e||(t||n.push(zl("_",!1)),n.push(zl("__",!1))),n.push(i)),n}const ju=zl("undefined",!1),Hu=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const i=sh(t,"slot");if(i)return i.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Bu=(t,e,i)=>Gl(t,e,!1,!0,e.length?e[0].loc:i);function zu(t,e,i=Bu){e.helper(Cl);const{children:n,loc:s}=t,r=[],o=[],a=(t,e)=>Bl("default",i(t,e,s));let l=e.scopes.vSlot>0||e.scopes.vFor>0;const h=sh(t,"slot",!0);if(h){const{arg:t,exp:e}=h;t&&!Xl(t)&&(l=!0),r.push(Bl(t||zl("default",!0),i(e,n,s)))}let u=!1,c=!1;const d=[],f=new Set;for(let p=0;p<n.length;p++){const t=n[p];let s;if(!uh(t)||!(s=sh(t,"slot",!0))){3!==t.type&&d.push(t);continue}if(h){e.onError(il(36,s.loc));break}u=!0;const{children:a,loc:m}=t,{arg:g=zl("default",!0),exp:y,loc:_}=s;let v;Xl(g)?v=g?g.content:"default":l=!0;const b=i(y,a,m);let x,M,w;if(x=sh(t,"if"))l=!0,o.push(Ul(x.exp,Vu(g,b),ju));else if(M=sh(t,/^else(-if)?$/,!0)){let t,i=p;while(i--)if(t=n[i],3!==t.type)break;if(t&&uh(t)&&sh(t,"if")){n.splice(p,1),p--;let t=o[o.length-1];while(19===t.alternate.type)t=t.alternate;t.alternate=M.exp?Ul(M.exp,Vu(g,b),ju):Vu(g,b)}else e.onError(il(29,M.loc))}else if(w=sh(t,"for")){l=!0;const t=w.parseResult||Ru(w.exp,e);t?o.push(Wl(e.helper(_l),[t.source,Gl(Iu(t),Vu(g,b),!0)])):e.onError(il(31,w.loc))}else{if(v){if(f.has(v)){e.onError(il(37,_));continue}f.add(v),"default"===v&&(c=!0)}r.push(Bl(g,b))}}h||(u?d.length&&(c?e.onError(il(38,d[0].loc)):r.push(a(void 0,d))):r.push(a(void 0,n)));const m=l?2:Wu(t.children)?3:1;let g=Hl(r.concat(Bl("_",zl(m+"",!1))),s);return o.length&&(g=Wl(e.helper(bl),[g,jl(o)])),{slots:g,hasDynamicSlots:l}}function Vu(t,e){return Hl([Bl("name",t),Bl("fn",e)])}function Wu(t){for(let e=0;e<t.length;e++){const i=t[e];if(1===i.type&&(2===i.tagType||0===i.tagType&&Wu(i.children)))return!0}return!1}const Gu=new WeakMap,Uu=(t,e)=>{if(1===t.type&&(0===t.tagType||1===t.tagType))return function(){const{tag:i,props:n}=t,s=1===t.tagType,r=s?Ku(t,e):`"${i}"`,o=W(r)&&r.callee===gl;let a,l,h,u,c,d,f=0,m=o||r===sl||r===rl||!s&&("svg"===i||"foreignObject"===i||rh(t,"key",!0));if(n.length>0){const i=Xu(t,e);a=i.props,f=i.patchFlag,c=i.dynamicPropNames;const n=i.directives;d=n&&n.length?jl(n.map((t=>$u(t,e)))):void 0}if(t.children.length>0){r===ol&&(m=!0,f|=1024);const i=s&&r!==sl&&r!==ol;if(i){const{slots:i,hasDynamicSlots:n}=zu(t,e);l=i,n&&(f|=1024)}else if(1===t.children.length&&r!==sl){const i=t.children[0],n=i.type,s=5===n||8===n;s&&0===Uh(i,e)&&(f|=1),l=s||2===n?i:t.children}else l=t.children}0!==f&&(h=String(f),c&&c.length&&(u=Zu(c))),t.codegenNode=Il(e,r,a,l,h,u,d,!!m,!1,t.loc)}};function Ku(t,e,i=!1){const{tag:n}=t,s="component"===t.tag?rh(t,"is"):sh(t,"is");if(s){const t=6===s.type?s.value&&zl(s.value.content,!0):s.exp;if(t)return Wl(e.helper(gl),[t])}const r=Jl(n)||e.isBuiltInComponent(n);return r?(i||e.helper(r),r):(e.helper(ml),e.components.add(n),fh(n,"component"))}function Xu(t,e,i=t.props,n=!1){const{tag:s,loc:r}=t,o=1===t.tagType;let a=[];const l=[],h=[];let u=0,c=!1,d=!1,f=!1,m=!1,g=!1,p=!1;const y=[],_=({key:t,value:i})=>{if(Xl(t)){const n=t.content,s=C(n);if(o||!s||"onclick"===n.toLowerCase()||"onUpdate:modelValue"===n||$(n)||(m=!0),s&&$(n)&&(p=!0),20===i.type||(4===i.type||8===i.type)&&Uh(i,e)>0)return;"ref"===n?c=!0:"class"!==n||o?"style"!==n||o?"key"===n||y.includes(n)||y.push(n):f=!0:d=!0}else g=!0};for(let b=0;b<i.length;b++){const u=i[b];if(6===u.type){const{loc:t,name:e,value:i}=u;let n=!0;if("ref"===e&&(c=!0),"is"===e&&"component"===s)continue;a.push(Bl(zl(e,!0,eh(t,0,e.length)),zl(i?i.content:"",n,i?i.loc:t)))}else{const{name:i,arg:c,exp:d,loc:f}=u,m="bind"===i,p="on"===i;if("slot"===i){o||e.onError(il(39,f));continue}if("once"===i)continue;if("is"===i||m&&"component"===s&&oh(c,"is"))continue;if(p&&n)continue;if(!c&&(m||p)){g=!0,d?(a.length&&(l.push(Hl(qu(a),r)),a=[]),m?l.push(d):l.push({type:14,loc:f,callee:e.helper(wl),arguments:[d]})):e.onError(il(m?33:34,f));continue}const y=e.directiveTransforms[i];if(y){const{props:i,needRuntime:s}=y(u,t,e);!n&&i.forEach(_),a.push(...i),s&&(h.push(u),V(s)&&Gu.set(u,s))}else h.push(u)}}let v;return l.length?(a.length&&l.push(Hl(qu(a),r)),v=l.length>1?Wl(e.helper(Ml),l,r):l[0]):a.length&&(v=Hl(qu(a),r)),g?u|=16:(d&&(u|=2),f&&(u|=4),y.length&&(u|=8),m&&(u|=32)),0!==u&&32!==u||!(c||p||h.length>0)||(u|=512),{props:v,directives:h,patchFlag:u,dynamicPropNames:y}}function qu(t){const e=new Map,i=[];for(let n=0;n<t.length;n++){const s=t[n];if(8===s.key.type||!s.key.isStatic){i.push(s);continue}const r=s.key.content,o=e.get(r);o?("style"===r||"class"===r||r.startsWith("on"))&&Ju(o,s):(e.set(r,s),i.push(s))}return i}function Ju(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=jl([t.value,e.value],t.loc)}function $u(t,e){const i=[],n=Gu.get(t);n?i.push(e.helperString(n)):(e.helper(pl),e.directives.add(t.name),i.push(fh(t.name,"directive")));const{loc:s}=t;if(t.exp&&i.push(t.exp),t.arg&&(t.exp||i.push("void 0"),i.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||i.push("void 0"),i.push("void 0"));const e=zl("true",!1,s);i.push(Hl(t.modifiers.map((t=>Bl(t,e))),s))}return jl(i,t.loc)}function Zu(t){let e="[";for(let i=0,n=t.length;i<n;i++)e+=JSON.stringify(t[i]),i<n-1&&(e+=", ");return e+"]"}const Qu=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},tc=/-(\w)/g,ec=Qu((t=>t.replace(tc,((t,e)=>e?e.toUpperCase():"")))),ic=(t,e)=>{if(ch(t)){const{children:i,loc:n}=t,{slotName:s,slotProps:r}=nc(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s];r&&o.push(r),i.length&&(r||o.push("{}"),o.push(Gl([],i,!1,!1,n))),t.codegenNode=Wl(e.helper(vl),o,n)}};function nc(t,e){let i,n='"default"';const s=[];for(let r=0;r<t.props.length;r++){const e=t.props[r];6===e.type?e.value&&("name"===e.name?n=JSON.stringify(e.value.content):(e.name=ec(e.name),s.push(e))):"bind"===e.name&&oh(e.arg,"name")?e.exp&&(n=e.exp):("bind"===e.name&&e.arg&&Xl(e.arg)&&(e.arg.content=ec(e.arg.content)),s.push(e))}if(s.length>0){const{props:n,directives:r}=Xu(t,e,s);i=n,r.length&&e.onError(il(35,r[0].loc))}return{slotName:n,slotProps:i}}const sc=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^\s*function(?:\s+[\w$]+)?\s*\(/,rc=(t,e,i,n)=>{const{loc:s,modifiers:r,arg:o}=t;let a;if(t.exp||r.length||i.onError(il(34,s)),4===o.type)if(o.isStatic){const t=o.content;a=zl(st(tt(t)),!0,o.loc)}else a=Vl([`${i.helperString(Sl)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(Sl)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let h=i.cacheHandlers&&!l;if(l){const t=th(l.content),e=!(t||sc.test(l.content)),i=l.content.includes(";");0,(e||h&&t)&&(l=Vl([`${e?"$event":"(...args)"} => ${i?"{":"("}`,l,i?"}":")"]))}let u={props:[Bl(a,l||zl("() => {}",!1,s))]};return n&&(u=n(u)),h&&(u.props[0].value=i.cache(u.props[0].value)),u},oc=(t,e,i)=>{const{exp:n,modifiers:s,loc:r}=t,o=t.arg;return 4!==o.type?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),s.includes("camel")&&(4===o.type?o.isStatic?o.content=tt(o.content):o.content=`${i.helperString(kl)}(${o.content})`:(o.children.unshift(`${i.helperString(kl)}(`),o.children.push(")"))),!n||4===n.type&&!n.content.trim()?(i.onError(il(33,r)),{props:[Bl(o,zl("",!0,r))]}):{props:[Bl(o,n)]}},ac=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const i=t.children;let n,s=!1;for(let t=0;t<i.length;t++){const e=i[t];if(lh(e)){s=!0;for(let s=t+1;s<i.length;s++){const r=i[s];if(!lh(r)){n=void 0;break}n||(n=i[t]={type:8,loc:e.loc,children:[e]}),n.children.push(" + ",r),i.splice(s,1),s--}}}if(s&&(1!==i.length||0!==t.type&&(1!==t.type||0!==t.tagType)))for(let t=0;t<i.length;t++){const n=i[t];if(lh(n)||8===n.type){const s=[];2===n.type&&" "===n.content||s.push(n),e.ssr||0!==Uh(n,e)||s.push("1"),i[t]={type:12,content:n,loc:n.loc,codegenNode:Wl(e.helper(dl),s)}}}}},lc=new WeakSet,hc=(t,e)=>{if(1===t.type&&sh(t,"once",!0)){if(lc.has(t))return;return lc.add(t),e.helper(Tl),()=>{const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},uc=(t,e,i)=>{const{exp:n,arg:s}=t;if(!n)return i.onError(il(40,t.loc)),cc();const r=n.loc.source,o=4===n.type?n.content:r;i.bindingMetadata[r];const a=!1;if(!th(o)&&!a)return i.onError(il(41,n.loc)),cc();const l=s||zl("modelValue",!0),h=s?Xl(s)?`onUpdate:${s.content}`:Vl(['"onUpdate:" + ',s]):"onUpdate:modelValue";let u;const c=i.isTS?"($event: any)":"$event";u=Vl([`${c} => (`,n," = $event)"]);const d=[Bl(l,t.exp),Bl(h,u)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(Zl(t)?t:JSON.stringify(t))+": true")).join(", "),i=s?Xl(s)?`${s.content}Modifiers`:Vl([s,' + "Modifiers"']):"modelModifiers";d.push(Bl(i,zl(`{ ${e} }`,!1,t.loc,2)))}return cc(d)};function cc(t=[]){return{props:t}}function dc(t){return[[hc,Lu,Cu,ic,Uu,Hu,ac],{on:rc,bind:oc,model:uc}]}function fc(t,e={}){const i=e.onError||el,n="module"===e.mode;!0===e.prefixIdentifiers?i(il(45)):n&&i(il(46));const s=!1;e.cacheHandlers&&i(il(47)),e.scopeId&&!n&&i(il(48));const r=z(t)?yh(t,e):t,[o,a]=dc();return $h(r,A({},e,{prefixIdentifiers:s,nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:A({},a,e.directiveTransforms||{})})),su(r,A({},e,{prefixIdentifiers:s}))}const mc=()=>({props:[]}),gc=Symbol(""),pc=Symbol(""),yc=Symbol(""),_c=Symbol(""),vc=Symbol(""),bc=Symbol(""),xc=Symbol(""),Mc=Symbol(""),wc=Symbol(""),kc=Symbol("");let Lc;function Sc(t){return(Lc||(Lc=document.createElement("div"))).innerHTML=t,Lc.textContent}Fl({[gc]:"vModelRadio",[pc]:"vModelCheckbox",[yc]:"vModelText",[_c]:"vModelSelect",[vc]:"vModelDynamic",[bc]:"withModifiers",[xc]:"withKeys",[Mc]:"vShow",[wc]:"Transition",[kc]:"TransitionGroup"});const Tc=s("style,iframe,script,noscript",!0),Dc={isVoidTag:b,isNativeTag:t=>_(t)||v(t),isPreTag:t=>"pre"===t,decodeEntities:Sc,isBuiltInComponent:t=>ql(t,"Transition")?wc:ql(t,"TransitionGroup")?kc:void 0,getNamespace(t,e){let i=e?e.ns:0;if(e&&2===i)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(i=0);else e&&1===i&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(i=0));if(0===i){if("svg"===t)return 1;if("math"===t)return 2}return i},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(Tc(t))return 2}return 0}},Pc=t=>{1===t.type&&t.props.forEach(((e,i)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[i]={type:7,name:"bind",arg:zl("style",!0,e.loc),exp:Yc(e.value.content,e.loc),modifiers:[],loc:e.loc})}))},Yc=(t,e)=>{const i=f(t);return zl(JSON.stringify(i),!1,e,3)};function Cc(t,e){return il(t,e,void 0)}const Nc=(t,e,i)=>{const{exp:n,loc:s}=t;return n||i.onError(Cc(49,s)),e.children.length&&(i.onError(Cc(50,s)),e.children.length=0),{props:[Bl(zl("innerHTML",!0,s),n||zl("",!0))]}},Ac=(t,e,i)=>{const{exp:n,loc:s}=t;return n||i.onError(Cc(51,s)),e.children.length&&(i.onError(Cc(52,s)),e.children.length=0),{props:[Bl(zl("textContent",!0),n?Wl(i.helperString(xl),[n],s):zl("",!0))]}},Oc=(t,e,i)=>{const n=uc(t,e,i);if(!n.props.length||1===e.tagType)return n;t.arg&&i.onError(Cc(54,t.arg.loc));const{tag:s}=e,r=i.isCustomElement(s);if("input"===s||"textarea"===s||"select"===s||r){let o=yc,a=!1;if("input"===s||r){const n=rh(e,"type");if(n){if(7===n.type)o=vc;else if(n.value)switch(n.value.content){case"radio":o=gc;break;case"checkbox":o=pc;break;case"file":a=!0,i.onError(Cc(55,t.loc));break;default:break}}else ah(e)&&(o=vc)}else"select"===s&&(o=_c);a||(n.needRuntime=i.helper(o))}else i.onError(Cc(53,t.loc));return n.props=n.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),n},Fc=s("passive,once,capture"),Rc=s("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Ec=s("left,right"),Ic=s("onkeyup,onkeydown,onkeypress",!0),jc=(t,e)=>{const i=[],n=[],s=[];for(let r=0;r<e.length;r++){const o=e[r];Fc(o)?s.push(o):Ec(o)?Xl(t)?Ic(t.content)?i.push(o):n.push(o):(i.push(o),n.push(o)):Rc(o)?n.push(o):i.push(o)}return{keyModifiers:i,nonKeyModifiers:n,eventOptionModifiers:s}},Hc=(t,e)=>{const i=Xl(t)&&"onclick"===t.content.toLowerCase();return i?zl(e,!0):4!==t.type?Vl(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t},Bc=(t,e,i)=>rc(t,e,i,(e=>{const{modifiers:n}=t;if(!n.length)return e;let{key:s,value:r}=e.props[0];const{keyModifiers:o,nonKeyModifiers:a,eventOptionModifiers:l}=jc(s,n);if(a.includes("right")&&(s=Hc(s,"onContextmenu")),a.includes("middle")&&(s=Hc(s,"onMouseup")),a.length&&(r=Wl(i.helper(bc),[r,JSON.stringify(a)])),!o.length||Xl(s)&&!Ic(s.content)||(r=Wl(i.helper(xc),[r,JSON.stringify(o)])),l.length){const t=l.map(nt).join("");s=Xl(s)?zl(`${s.content}${t}`,!0):Vl(["(",s,`) + "${t}"`])}return{props:[Bl(s,r)]}})),zc=(t,e,i)=>{const{exp:n,loc:s}=t;return n||i.onError(Cc(57,s)),{props:[],needRuntime:i.helper(Mc)}};const Vc=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(Cc(59,t.loc)),e.removeNode())},Wc=[Pc],Gc={cloak:mc,html:Nc,text:Ac,model:Oc,on:Bc,show:zc};function Uc(t,e={}){return fc(t,A({},Dc,e,{nodeTransforms:[Vc,...Wc,...e.nodeTransforms||[]],directiveTransforms:A({},Gc,e.directiveTransforms||{}),transformHoist:null}))}const Kc=Object.create(null);function Xc(t,e){if(!z(t)){if(!t.nodeType)return D;t=t.innerHTML}const i=t,s=Kc[i];if(s)return s;if("#"===t[0]){const e=document.querySelector(t);0,t=e?e.innerHTML:""}const{code:r}=Uc(t,A({hoistStatic:!0,onError(t){throw t}},e)),o=new Function("Vue",r)(n);return o._rc=!0,Kc[i]=o}Jr(Xc)},9593:function(t,e,i){"use strict";i.d(e,{Al:function(){return x},BD:function(){return u},E9:function(){return r},FF:function(){return v},Hn:function(){return l},Lz:function(){return g},NB:function(){return p},S0:function(){return h},ZX:function(){return a},aV:function(){return s},al:function(){return m},bn:function(){return f},bx:function(){return c},hD:function(){return _},rU:function(){return y},s_:function(){return d},tY:function(){return b},z6:function(){return o}}),function(){const t="object"==typeof globalThis&&globalThis||"object"==typeof global&&global.global===global&&global||"object"==typeof self&&self.self===self&&self||{};void 0===t.requestAnimationFrame&&(void 0===t.setImmediate?t.requestAnimationFrame=e=>t.setTimeout(e,0):t.requestAnimationFrame=t.setImmediate);class e{static hr=void 0!==t.navigator&&void 0!==t.navigator.platform&&null!==t.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i);static Nk(t,i,n){let s=-1;return function(){const r=this,o=arguments;-1!==s&&e.Og(s),s=e.ar((()=>{s=-1,n||t.apply(r,o)}),i),n&&!s&&t.apply(r,o)}}static ar(e,i){return t.setTimeout(e,i)}static Og(e){t.clearTimeout(e)}static fs(e){return t.document.createElement(e)}static o(t){throw new Error(t)}static D(t,i){let n="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==i&&(n+="  to value: "+i),e.o(n)}static rE(t,e,i,n){}static s(t,e,i,n){}static lE(t,e,i){}static lc(t,i,n){if(null===t||"object"!=typeof t){let s=e.oC(i);void 0!==n&&(s+="."+n),e.te(t,"object",s)}}static S(t,i,n){e.s(t,"function",i,n)}static hE(t,e,i){}static te(t,e,i,n){}static _(t,i,n,s){let r=e.oC(n);void 0!==s&&(r+="."+s),e.o(r+" is not in the range "+i+": "+t)}static Ie(t){}static cr(t,e){}static li(e){t.console&&t.console.log(e)}static H(t){return null!==t&&"object"==typeof t}static ot(t){return"function"==typeof t}static Ck=[];static rt(){const t=e.Ck.pop();return void 0===t?[]:t}static tt(t){t.length=0,e.Ck.push(t)}static aE=Object.freeze([]);static oC(t){return null===t?"*":"string"==typeof t?t:e.ot(t)?t.name:""}static Vn(t){return e.ot(t)?t.className?t.className:t.name:e.H(t)&&t.constructor?e.Vn(t.constructor):typeof t}static Xh(t,i){return null==i||""===i?null:e.H(t)&&i in t||t[i]?t[i]:null}static toString(t){let i=t;return e.H(t)&&(t.text?i=t.text:t.name?i=t.name:void 0!==t.key?i=t.key:void 0!==t.id?i=t.id:t.constructor===Object&&(t.Text?i=t.Text:t.Name?i=t.Name:void 0!==t.Key?i=t.Key:void 0!==t.Id?i=t.Id:void 0!==t.ID&&(i=t.ID))),void 0===i?"undefined":null===i?"null":i.toString()}static fw(t,e){if(t.hasOwnProperty(e))return!0;let i=Object.getPrototypeOf(t);for(;i&&i!==Function;){if(i.hasOwnProperty(e))return!0;const t=i.cE;if(t&&t[e])return!0;i=Object.getPrototypeOf(i)}return!1}static XD(t){const e=[];let i=0;for(i=0;i<256;i++)e[i]=i;let n=0,s=0;for(i=0;i<256;i++)n=(n+e[i]+119)%256,s=e[i],e[i]=e[n],e[n]=s;i=0,n=0;let r="";for(let o=0;o<t.length;o++)i=(i+1)%256,n=(n+e[i])%256,s=e[i],e[i]=e[n],e[n]=s,r+=String.fromCharCode(t.charCodeAt(o)^e[(e[i]+e[n])%256]);return r}static YD(t){const e="0123456789abcdef",i=[];for(let o=0;o<256;o++)i[e.charAt(o>>4)+e.charAt(15&o)]=String.fromCharCode(o);t.length%2&&(t="0"+t);const n=[];let s=0;for(let o=0;o<t.length;o+=2)n[s++]=i[t.substring(o,o+2)];const r=n.join("");return""===r?"0":r}static Rs(t){return e.XD(e.YD(t))}static color1="@COLOR1";static color2="@COLOR2";static uw="32ab5ff3b26f42dc0ed90f21412913b5"}e.vfo="29e646fdb166";class i{Lk;constructor(){this.Lk=[]}toString(){return this.Lk.join("")}add(t){""!==t&&this.Lk.push(t)}}class n{}class s{g;constructor(){this.g=[]}[Symbol.iterator](){return this.g.values()}key;value;get iterator(){return this}reset(){}next(){return!1}hasNext(){return!1}first(){return null}any(){return!1}all(){return!0}each(){return this}map(t){return this}filter(){return this}get count(){return 0}xl(){}toString(){return"EmptyIterator"}static instance=new s}class r{constructor(t){this.key=-1,this.value=t}[Symbol.iterator](){return[this.value].values()}key;value;get iterator(){return this}reset(){this.key=-1}next(){return-1===this.key&&(this.key=0,!0)}hasNext(){return this.next()}first(){return this.key=0,this.value}any(t){return this.key=-1,t(this.value)}all(t){return this.key=-1,t(this.value)}each(t){return this.key=-1,t(this.value),this}map(t){return new r(t(this.value))}filter(t){return t(this.value)?new r(this.value):s.instance}get count(){return 1}xl(){this.value=null}toString(){return"SingletonIterator("+this.value+")"}}class o{$t;vs;jt;Ft;constructor(t){this.$t=t,this.vs=null,t.fr=null,this.jt=t.ht,this.Ft=-1}[Symbol.iterator](){return null===this.vs?this.$t.r.values():this.$t.r.filter(this.vs).values()}key;value;get iterator(){return this}get predicate(){return this.vs}set predicate(t){this.vs=t}reset(){const t=this.$t;t.fr=null,this.jt=t.ht,this.Ft=-1}next(){const t=this.$t;if(t.ht!==this.jt){if(this.key<0)return!1;e.Ie(t)}const i=t.r,n=i.length;let s=++this.Ft;const r=this.vs;if(null!==r)for(;s<n;){const t=i[s];if(r(t))return this.Ft=s,this.key=s,this.value=t,!0;s++}else{if(s<n)return this.key=s,this.value=i[s],!0;this.xl()}return!1}hasNext(){return this.next()}first(){const t=this.$t;this.jt=t.ht,this.Ft=0;const e=t.r,i=e.length,n=this.vs;if(null!==n){let t=0;for(;t<i;){const i=e[t];if(n(i))return this.Ft=t,this.key=t,this.value=i,i;t++}return null}if(i>0){const t=e[0];return this.key=0,this.value=t,t}return null}any(t){const i=this.$t;i.fr=null;const n=i.ht;this.Ft=-1;const s=i.r,r=s.length,o=this.vs;for(let a=0;a<r;a++){const r=s[a];if(null===o||o(r)){if(t(r))return!0;i.ht!==n&&e.Ie(i)}}return!1}all(t){const i=this.$t;i.fr=null;const n=i.ht;this.Ft=-1;const s=i.r,r=s.length,o=this.vs;for(let a=0;a<r;a++){const r=s[a];if(null===o||o(r)){if(!t(r))return!1;i.ht!==n&&e.Ie(i)}}return!0}each(t){const i=this.$t;i.fr=null;const n=i.ht;this.Ft=-1;const s=i.r,r=s.length,o=this.vs;for(let a=0;a<r;a++){const r=s[a];null!==o&&!o(r)||(t(r),i.ht!==n&&e.Ie(i))}return this}map(t){const i=this.$t;i.fr=null;const n=i.ht;this.Ft=-1;const s=[],r=i.r,o=r.length,a=this.vs;for(let l=0;l<o;l++){const o=r[l];null!==a&&!a(o)||(s.push(t(o)),i.ht!==n&&e.Ie(i))}const h=new l;return h.r=s,h.Ee(),h.iterator}filter(t){const i=this.$t;i.fr=null;const n=i.ht;this.Ft=-1;const s=[],r=i.r,o=r.length,a=this.vs;for(let l=0;l<o;l++){const o=r[l];null!==a&&!a(o)||(t(o)&&s.push(o),i.ht!==n&&e.Ie(i))}const h=new l;return h.r=s,h.Ee(),h.iterator}get count(){const t=this.vs;if(null!==t){let e=0;const i=this.$t.r,n=i.length;for(let s=0;s<n;s++)t(i[s])&&e++;return e}return this.$t.r.length}xl(){this.key=-1,this.value=null,this.jt=-1,this.vs=null,this.$t.fr=this}toString(){return"ListIterator@"+this.Ft+"/"+this.$t.count}}class a{$t;jt;Ft;constructor(t){this.$t=t,t.ur=null,this.jt=t.ht,this.Ft=t.r.length}[Symbol.iterator](){return this.$t.r.reverse().values()}key;value;get iterator(){return this}reset(){const t=this.$t;t.ur=null,this.jt=t.ht,this.Ft=t.r.length}next(){const t=this.$t;if(t.ht!==this.jt){if(this.key<0)return!1;e.Ie(t)}const i=--this.Ft;return i>=0?(this.key=i,this.value=t.r[i],!0):(this.xl(),!1)}hasNext(){return this.next()}first(){const t=this.$t;this.jt=t.ht;const e=t.r,i=e.length-1;if(this.Ft=i,i>=0){const t=e[i];return this.key=i,this.value=t,t}return null}any(t){const i=this.$t;i.ur=null;const n=i.ht,s=i.r,r=s.length;this.Ft=r;for(let o=r-1;o>=0;o--){const r=s[o];if(t(r))return!0;i.ht!==n&&e.Ie(i)}return!1}all(t){const i=this.$t;i.ur=null;const n=i.ht,s=i.r,r=s.length;this.Ft=r;for(let o=r-1;o>=0;o--){const r=s[o];if(!t(r))return!1;i.ht!==n&&e.Ie(i)}return!0}each(t){const i=this.$t;i.ur=null;const n=i.ht,s=i.r,r=s.length;this.Ft=r;for(let o=r-1;o>=0;o--){const r=s[o];t(r),i.ht!==n&&e.Ie(i)}return this}map(t){const i=this.$t;i.ur=null;const n=i.ht,s=[],r=i.r,o=r.length;this.Ft=o;for(let l=o-1;l>=0;l--){const o=r[l];s.push(t(o)),i.ht!==n&&e.Ie(i)}const a=new l;return a.r=s,a.Ee(),a.iterator}filter(t){const i=this.$t;i.ur=null;const n=i.ht,s=[],r=i.r,o=r.length;this.Ft=o;for(let l=o-1;l>=0;l--){const o=r[l];t(o)&&s.push(o),i.ht!==n&&e.Ie(i)}const a=new l;return a.r=s,a.Ee(),a.iterator}get count(){return this.$t.r.length}xl(){this.key=-1,this.value=null,this.jt=-1,this.$t.ur=this}toString(){return"ListIteratorBackwards("+this.Ft+"/"+this.$t.count+")"}}class l{h;r;ht;fr;ur;constructor(t){u.qi(this),this.h=!1,this.r=[],this.ht=0,this.fr=null,this.ur=null,void 0!==t&&this.addAll(t)}[Symbol.iterator](){return this.r.values()}Ee(){let t=this.ht;t++,t>999999999&&(t=0),this.ht=t}u(){return this.h=!0,this}At(){return this.h=!1,this}toString(){return"List()#"+u.us(this)}add(t){return this.h&&e.D(this,t),this.r.push(t),this.Ee(),this}push(t){this.add(t)}addAll(t){if(null===t)return this;this.h&&e.D(this);const i=this.r;if(Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++){const e=t[n];i.push(e)}}else{const e=t.iterator;for(;e.next();){const t=e.value;i.push(t)}}return this.Ee(),this}clear(){this.h&&e.D(this),this.r.length=0,this.Ee()}contains(t){return this.has(t)}has(t){return null!==t&&-1!==this.r.indexOf(t)}indexOf(t){return null===t?-1:this.r.indexOf(t)}elt(t){const i=this.r;return(t<0||t>=i.length)&&e._(t,"0 <= i < length",l,"elt:i"),i[t]}get(t){return this.elt(t)}setElt(t,i){const n=this.r;(t<0||t>=n.length)&&e._(t,"0 <= i < length",l,"setElt:i"),this.h&&e.D(this,t),n[t]=i}set(t,e){this.setElt(t,e)}first(){const t=this.r;return 0===t.length?null:t[0]}last(){const t=this.r,e=t.length;return e>0?t[e-1]:null}pop(){this.h&&e.D(this);const t=this.r;return t.length>0?t.pop():null}any(t){const i=this.r,n=this.ht,s=i.length;for(let r=0;r<s;r++){if(t(i[r]))return!0;this.ht!==n&&e.Ie(this)}return!1}all(t){const i=this.r,n=this.ht,s=i.length;for(let r=0;r<s;r++){if(!t(i[r]))return!1;this.ht!==n&&e.Ie(this)}return!0}each(t){const i=this.r,n=this.ht,s=i.length;for(let r=0;r<s;r++)t(i[r]),this.ht!==n&&e.Ie(this);return this}map(t){const i=new l,n=[],s=this.r,r=this.ht,o=s.length;for(let a=0;a<o;a++)n.push(t(s[a])),this.ht!==r&&e.Ie(this);return i.r=n,i.Ee(),i}filter(t){const i=new l,n=[],s=this.r,r=this.ht,o=s.length;for(let a=0;a<o;a++){const i=s[a];t(i)&&n.push(i),this.ht!==r&&e.Ie(this)}return i.r=n,i.Ee(),i}insertAt(t,i){t<0&&e._(t,">= 0",l,"insertAt:i"),this.h&&e.D(this,t);const n=this.r;t>=n.length?n.push(i):n.splice(t,0,i),this.Ee()}remove(t){return this.delete(t)}delete(t){if(null===t)return!1;this.h&&e.D(this,t);const i=this.r,n=i.indexOf(t);return-1!==n&&(n===i.length-1?i.pop():i.splice(n,1),this.Ee(),!0)}removeAt(t){const i=this.r;(t<0||t>=i.length)&&e._(t,"0 <= i < length",l,"removeAt:i"),this.h&&e.D(this,t),t===i.length-1?i.pop():i.splice(t,1),this.Ee()}removeRange(t,i){const n=this.r,s=n.length;if(t<0)t=0;else if(t>=s)return this;if(i<0)return this;if(i>=s&&(i=s-1),t>i)return this;this.h&&e.D(this);let r=t,o=i+1;for(;o<s;)n[r++]=n[o++];return n.length=s-(i-t+1),this.Ee(),this}copy(){const t=new l,e=this.r;return e.length>0&&(t.r=Array.prototype.slice.call(e)),t}toArray(){const t=this.r,e=this.count,i=new Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}get rC(){return this.r}toSet(){const t=new u,e=this.r,i=this.count;for(let n=0;n<i;n++)t.add(e[n]);return t}sort(t){return this.h&&e.D(this),this.r.sort(t),this.Ee(),this}sortRange(t,i,n){const s=this.r,r=s.length;void 0===i&&(i=0),void 0===n&&(n=r),this.h&&e.D(this);const o=n-i;if(o<=1)return this;if((i<0||i>=r-1)&&e._(i,"0 <= from < length",l,"sortRange:from"),2===o){const e=s[i],n=s[i+1];return t(e,n)>0&&(s[i]=n,s[i+1]=e,this.Ee()),this}if(0===i)if(n>=r)s.sort(t);else{const e=s.slice(0,n);e.sort(t);for(let t=0;t<n;t++)s[t]=e[t]}else if(n>=r){const e=s.slice(i);e.sort(t);for(let t=i;t<r;t++)s[t]=e[t-i]}else{const e=s.slice(i,n);e.sort(t);for(let t=i;t<n;t++)s[t]=e[t-i]}return this.Ee(),this}reverse(){return this.h&&e.D(this),this.r.reverse(),this.Ee(),this}get count(){return this.r.length}get size(){return this.r.length}get length(){return this.r.length}get iterator(){if(this.r.length<=0)return s.instance;const t=this.fr;return null!==t?(t.reset(),t):new o(this)}get iteratorBackwards(){if(this.r.length<=0)return s.instance;const t=this.ur;return null!==t?(t.reset(),t):new a(this)}}class h{Co;ni;constructor(t){this.Co=t,this.ni=t.g.values()}[Symbol.iterator](){return this.Co.g.values()}key;value;get iterator(){return this}reset(){const t=this.Co;this.ni=t.g.values()}next(){const t=this.ni.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return 0===this.Co.g.size?null:(this.ni=this.Co.g.values(),this.ni.next().value)}any(t){return this.Co.any(t)}all(t){return this.Co.all(t)}each(t){return this.Co.each(t),this}map(t){const e=new l;return this.Co.g.forEach((i=>e.add(t(i)))),e.iterator}filter(t){const e=new l;return this.Co.g.forEach((i=>{t(i)&&e.add(i)})),e.iterator}get count(){return this.Co.count}xl(){this.key=null,this.value=null,this.ni=null}toString(){return"SetIterator"}}class u{h;g;constructor(t){this.h=!1,this.g=new Set,void 0!==t&&this.addAll(t)}[Symbol.iterator](){return this.g.values()}values(){return this.g.values()}u(){return this.h=!0,this}At(){return this.h=!1,this}toString(){return"Set()#"+u.us(this)}add(t){return null===t||this.g.add(t),this}addAll(t){if(null===t)return this;if(Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++){const e=t[i];null!==e&&this.g.add(e)}}else{const e=t.iterator;for(;e.next();){const t=e.value;null!==t&&this.g.add(t)}}return this}has(t){return this.g.has(t)}contains(t){return this.has(t)}containsAll(t){if(null===t)return!0;const e=t.iterator;for(;e.next();)if(!this.has(e.value))return!1;return!0}containsAny(t){if(null===t)return!0;const e=t.iterator;for(;e.next();)if(this.has(e.value))return!0;return!1}first(){return 0===this.g.size?null:this.g.values().next().value}any(t){for(const e of this.g)if(t(e))return!0;return!1}all(t){for(const e of this.g)if(!t(e))return!1;return!0}each(t){for(const e of this.g)t(e);return this}map(t){const e=new u;for(const i of this.g)e.add(t(i));return e}filter(t){const e=new u;for(const i of this.g)t(i)&&e.add(i);return e}delete(t){return this.h&&e.D(this),this.g.delete(t)}remove(t){return this.delete(t)}removeAll(t){if(null===t)return this;if(this.h&&e.D(this),Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++)this.delete(t[i])}else{const e=t.iterator;for(;e.next();)this.delete(e.value)}return this}retainAll(t){if(null===t)return this;if(0===this.count)return this;this.h&&e.D(this);const i=new u;i.addAll(t);const n=[],s=this.iterator;for(;s.next();){const t=s.value;i.has(t)||n.push(t)}return this.removeAll(n),this}clear(){this.h&&e.D(this),this.g.clear()}copy(){const t=new u;return this.g.forEach((e=>t.add(e))),t}toArray(){return Array.from(this.g)}toList(){const t=new l;return this.g.forEach((e=>t.add(e))),t}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?s.instance:new h(this)}entries(){return this.g.entries()}keys(){return this.g.keys()}forEach(t,e){return this.g.forEach(t,e)}static dw=1;static qi(t){t.__gohashid=u.dw++}static us(t){return t.__gohashid}}class c{Z;ni;constructor(t){this.Z=t,this.ni=t.g.keys()}[Symbol.iterator](){return this.Z.g.keys()}key;value;get iterator(){return this}reset(){const t=this.Z;this.ni=t.g.keys()}next(){const t=this.ni.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return 0===this.Z.g.size?null:(this.ni=this.Z.g.keys(),this.ni.next().value)}any(t){for(const e of this.Z.g)if(t(e[0]))return!0;return!1}all(t){for(const e of this.Z.g)if(!t(e[0]))return!1;return!0}each(t){for(const e of this.Z.g)t(e[0]);return this}map(t){const e=this.Z,i=new l;for(const n of e.g)i.add(t(n[0]));return i.iterator}filter(t){const e=this.Z,i=new l;for(const n of e.g){const e=n[0];t(e)&&i.add(e)}return i.iterator}get count(){return this.Z.size}xl(){this.key=null,this.value=null,this.ni=null}toString(){return"MapKeySetIterator"}}class d extends u{Z;constructor(t){super(),u.qi(this),this.h=!0,this.Z=t}[Symbol.iterator](){return this.g.keys()}values(){return this.g.keys()}u(){return this}At(){return this}toString(){return"MapKeySet("+this.Z.toString()+")"}add(t){e.o("This Set is read-only: "+this.toString())}has(t){return this.Z.has(t)}contains(t){return this.has(t)}delete(t){e.o("This Set is read-only: "+this.toString())}remove(t){return this.delete(t)}clear(){e.o("This Set is read-only: "+this.toString())}first(){return 0===this.Z.g.size?null:this.Z.g.keys().next().value}any(t){for(const e of this.Z.g)if(t(e[0]))return!0;return!1}all(t){for(const e of this.Z.g)if(!t(e[0]))return!1;return!0}each(t){for(const e of this.Z.g)t(e[0]);return this}map(t){const e=new u;for(const i of this.Z.g)e.add(t(i[0]));return e}filter(t){const e=new u;for(const i of this.Z.g){const n=i[0];t(n)&&e.add(n)}return e}copy(){return new d(this.Z)}toSet(){const t=new u,e=this.Z.g;for(const i of e)t.add(i[0]);return t}toArray(){const t=this.Z.g,e=new Array(t.size);let i=0;for(const n of t)e[i]=n[0],i++;return e}toList(){const t=new l,e=this.Z.g;for(const i of e)t.add(i[0]);return t}get count(){return this.Z.size}get size(){return this.Z.size}get iterator(){return this.Z.size<=0?s.instance:new c(this.Z)}}class f{Z;ni;constructor(t){this.Z=t,this.ni=t.g.values()}[Symbol.iterator](){return this.Z.g.values()}key;value;get iterator(){return this}reset(){const t=this.Z;this.ni=t.g.values()}next(){const t=this.ni.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return 0===this.Z.g.size?null:(this.ni=this.Z.g.values(),this.ni.next().value)}any(t){for(const e of this.Z.g)if(t(e[1]))return!0;return!1}all(t){for(const e of this.Z.g)if(!t(e[1]))return!1;return!0}each(t){for(const e of this.Z.g)t(e[1]);return this}map(t){const e=this.Z,i=new l;for(const n of e.g)i.add(t(n[1]));return i.iterator}filter(t){const e=this.Z,i=new l;for(const n of e.g){const e=n[1];t(e)&&i.add(e)}return i.iterator}get count(){return this.Z.size}xl(){this.key=null,this.value=null,this.ni=null}toString(){return"MapValueSetIterator"}}class m{constructor(t,e){this.key=t,this.value=e}toString(){return"{"+this.key+":"+this.value+"}"}key;value}class g{Z;ni;constructor(t){this.Z=t,this.ni=t.g.entries()}[Symbol.iterator](){return this.Z.g.entries()}key;value;get iterator(){return this}reset(){const t=this.Z;this.ni=t.g.entries()}next(){const t=this.ni.next();return t.done?(this.key=null,this.value=null,!1):(this.key=t.value[0],this.value=t.value[1],!0)}hasNext(){return this.next()}first(){if(0===this.Z.g.size)return null;this.ni=this.Z.g.entries();const t=this.ni.next().value;return this.key=t[0],this.value=t[1],new m(t[0],t[1])}any(t){return this.Z.any(t)}all(t){return this.Z.all(t)}each(t){return this.Z.each(t),this}map(t){const e=new l;let i=null;return this.Z.g.forEach(((n,s)=>{null===i?i=new m(s,n):(i.key=s,i.value=n),e.add(t(i))})),e.iterator}filter(t){const e=new l;let i=null;return this.Z.g.forEach(((n,s)=>{null===i?i=new m(s,n):(i.key=s,i.value=n),t(i)&&(e.add(i),i=null)})),e.iterator}get count(){return this.Z.size}xl(){this.key=null,this.value=null,this.ni=null}toString(){return"MapIterator"}}class p{h;g;constructor(t){u.qi(this),this.h=!1,this.g=new Map,void 0!==t&&this.addAll(t)}[Symbol.iterator](){return this.g.entries()}entries(){return this.g.entries()}u(){return this.h=!0,this}At(){return this.h=!1,this}toString(){return"Map()#"+u.us(this)}set(t,i){return this.h&&e.D(this,t),this.g.set(t,i),this}add(t,e){return this.set(t,e)}addAll(t){if(null===t)return this;if(this.h&&e.D(this),Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++){const e=t[i];this.set(e.key,e.value)}}else if(t instanceof p){const e=t.iterator;for(;e.next();)this.set(e.key,e.value)}else{const e=t.iterator;for(;e.next();){const t=e.value;this.set(t.key,t.value)}}return this}first(){if(0===this.g.size)return null;const t=this.g.entries().next().value;return new m(t[0],t[1])}any(t){let e=null;for(const[i,n]of this.g)if(null===e?e=new m(i,n):(e.key=i,e.value=n),t(e))return!0;return!1}all(t){let e=null;for(const[i,n]of this.g)if(null===e?e=new m(i,n):(e.key=i,e.value=n),!t(e))return!1;return!0}each(t){let e=null;for(const[i,n]of this.g)null===e?e=new m(i,n):(e.key=i,e.value=n),t(e);return this}map(t){const e=new p;let i=null;for(const[n,s]of this.g)null===i?i=new m(n,s):(i.key=n,i.value=s),e.set(n,t(i));return e}filter(t){const e=new p;let i=null;for(const[n,s]of this.g)null===i?i=new m(n,s):(i.key=n,i.value=s),t(i)&&e.set(n,s);return e}has(t){return this.g.has(t)}contains(t){return this.has(t)}get(t){const e=this.g.get(t);return void 0===e?null:e}getValue(t){return this.get(t)}delete(t){return null!==t&&(this.h&&e.D(this,t),this.g.delete(t))}remove(t){return this.delete(t)}clear(){this.h&&e.D(this),this.g.clear()}copy(){const t=new p;return t.g=new Map(this.g),t}toArray(){const t=this.g,e=new Array(t.size);let i=0;for(const n of t)e[i]=new m(n[0],n[1]),i++;return e}toKeySet(){return new d(this)}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?s.instance:new g(this)}get iteratorKeys(){return this.count<=0?s.instance:new c(this)}keys(){return this.g.keys()}get iteratorValues(){return this.count<=0?s.instance:new f(this)}values(){return this.g.values()}forEach(t,e){return this.g.forEach(t,e)}}class y{p;w;h;constructor(t,i){void 0===t?(this.p=0,this.w=0):"number"==typeof t&&"number"==typeof i?(this.p=t,this.w=i):e.o("Invalid arguments to Point constructor: "+t+", "+i),this.h=!1}a(t){return this.p=t.p,this.w=t.w,this}i(t,e){return this.p=t,this.w=e,this}setTo(t,e){return this.p=t,this.w=e,this}set(t){return this.p=t.p,this.w=t.w,this}copy(){const t=new y;return t.p=this.p,t.w=this.w,t}it(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}At(){return this.h&&(Object.isFrozen(this)&&e.o("cannot thaw constant: "+this),this.h=!1),this}gw(t){}static parse(t){if("string"==typeof t){const e=t.split(" ");let i=0,n=0;for(;""===e[i];)i++;let s=e[i++];s&&(n=parseFloat(s));let r=0;for(;""===e[i];)i++;return s=e[i++],s&&(r=parseFloat(s)),new y(n,r)}return new y}static stringify(t){return t.x.toString()+" "+t.y.toString()}static stringifyFixed(t){return e.s(t,"number",y,"stringifyFixed:digits"),e=>e.x.toFixed(t)+" "+e.y.toFixed(t)}toString(){return"Point("+this.x+","+this.y+")"}equals(t){return t instanceof y&&(this.p===t.x&&this.w===t.y)}equalTo(t,e){return this.p===t&&this.w===e}equalsApprox(t){return w.f(this.p,t.x)&&w.f(this.w,t.y)}add(t){return this.p+=t.x,this.w+=t.y,this}subtract(t){return this.p-=t.x,this.w-=t.y,this}offset(t,e){return this.p+=t,this.w+=e,this}rotate(t){if(0===t)return this;const e=this.p,i=this.w;if(0===e&&0===i)return this;let n=0,s=0;if(t>=360?t-=360:t<0&&(t+=360),90===t)n=0,s=1;else if(180===t)n=-1,s=0;else if(270===t)n=0,s=-1;else{const e=t*Math.PI/180;n=Math.cos(e),s=Math.sin(e)}return this.p=n*e-s*i,this.w=s*e+n*i,this}scale(t,e){return this.p*=t,this.w*=e,this}distanceSquaredPoint(t){const e=t.x-this.p,i=t.y-this.w;return e*e+i*i}distanceSquared(t,e){const i=t-this.p,n=e-this.w;return i*i+n*n}normalize(){const t=this.p,e=this.w,i=Math.sqrt(t*t+e*e);return i>0&&(this.p=t/i,this.w=e/i),this}directionPoint(t){return this.lC(t.x-this.p,t.y-this.w)}direction(t,e){return this.lC(t-this.p,e-this.w)}lC(t,e){if(0===t)return e>0?90:e<0?270:0;if(0===e)return t>0?0:180;{if(isNaN(t)||isNaN(e))return 0;let i=180*Math.atan(Math.abs(e/t))/Math.PI;return t<0?e<0?i+=180:i=180-i:e<0&&(i=360-i),i}}static compareWithLineSegment(t,e,i,n,s,r){return w.lu(t,e,i,n,s,r)}compareWithLineSegmentPoint(t,e){return w.lu(t.x,t.y,e.x,e.y,this.x,this.y)}static intersectingLineSegments(t,e,i,n,s,r,o,a){return w.hu(t,e,i,n,s,r,o,a)}projectOntoLineSegment(t,e,i,n){return w.bl(t,e,i,n,this.p,this.w,this),this}projectOntoLineSegmentPoint(t,e){return w.bl(t.x,t.y,e.x,e.y,this.p,this.w,this),this}snapToGrid(t,e,i,n){return w.Ig(this.p,this.w,t,e,i,n,this),this}snapToGridPoint(t,e){return w.Ig(this.p,this.w,t.x,t.y,e.width,e.height,this),this}setRectSpot(t,e){return this.p=t.x+e.x*t.width+e.offsetX,this.w=t.y+e.y*t.height+e.offsetY,this}setSpot(t,e,i,n,s){return this.p=t+s.x*i+s.offsetX,this.w=e+s.y*n+s.offsetY,this}F(t){return t.xt(this),this}Be(t){return t._e(this),this}static distanceLineSegmentSquared(t,e,i,n,s,r){let o=s-i,a=r-n;const l=o*o+a*a,h=i-t,u=n-e,c=-h*o-u*a;if(c<=0||c>=l)return o=s-t,a=r-e,Math.min(h*h+u*u,o*o+a*a);{const t=o*u-a*h;return t*t/l}}static distanceSquared(t,e,i,n){const s=i-t,r=n-e;return s*s+r*r}static direction(t,e,i,n){const s=i-t,r=n-e;if(0===s)return r>0?90:r<0?270:0;if(0===r)return s>0?0:180;{if(isNaN(s)||isNaN(r))return 0;let t=180*Math.atan(Math.abs(r/s))/Math.PI;return s<0?r<0?t+=180:t=180-t:r<0&&(t=360-t),t}}get x(){return this.p}set x(t){this.p=t}get y(){return this.w}set y(t){this.w=t}isReal(){return isFinite(this.x)&&isFinite(this.y)}static Lo=new y(0,0).it();static hC=new y(-1/0,-1/0).it();static aC=new y(1/0,1/0).it();static cC=new y(6,6).it();static Ak=new y(NaN,NaN).it();static Tk=[];static l(){const t=y.Tk.pop();return void 0===t?new y:t}static X(t,e){const i=y.Tk.pop();return void 0===i?new y(t,e):(i.x=t,i.y=e,i)}static e(t){y.Tk.push(t)}}class _{j;q;h;constructor(t,i){void 0===t?(this.j=0,this.q=0):"number"==typeof t&&(t>=0||isNaN(t))&&"number"==typeof i&&(i>=0||isNaN(i))?(this.j=t,this.q=i):e.o("Invalid arguments to Size constructor: "+t+", "+i),this.h=!1}a(t){return this.j=t.j,this.q=t.q,this}i(t,e){return this.j=t,this.q=e,this}setTo(t,e){return this.j=t,this.q=e,this}set(t){return this.j=t.j,this.q=t.q,this}copy(){const t=new _;return t.j=this.j,t.q=this.q,t}it(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}At(){return this.h&&(Object.isFrozen(this)&&e.o("cannot thaw constant: "+this),this.h=!1),this}gw(t){}static parse(t){if("string"==typeof t){const e=t.split(" ");let i=0,n=0;for(;""===e[i];)i++;let s=e[i++];s&&(n=parseFloat(s));let r=0;for(;""===e[i];)i++;return s=e[i++],s&&(r=parseFloat(s)),new _(n,r)}return new _}static stringify(t){return t.width.toString()+" "+t.height.toString()}static stringifyFixed(t){return e.s(t,"number",_,"stringifyFixed:digits"),e=>e.width.toFixed(t)+" "+e.height.toFixed(t)}toString(){return"Size("+this.width+","+this.height+")"}equals(t){return t instanceof _&&(this.j===t.width&&this.q===t.height)}equalTo(t,e){return this.j===t&&this.q===e}equalsApprox(t){return w.f(this.j,t.width)&&w.f(this.q,t.height)}inflate(t,e){const i=this.width+t;this.j=i>=0?i:0;const n=this.height+e;return this.q=n>=0?n:0,this}get width(){return this.j}set width(t){t<0&&e._(t,">= 0",_,"width"),this.j=t}get height(){return this.q}set height(t){t<0&&e._(t,">= 0",_,"height"),this.q=t}isReal(){return isFinite(this.width)&&isFinite(this.height)}static hc=new _(0,0).it();static Dk=new _(1,1).it();static fC=new _(6,6).it();static au=new _(8,8).it();static uC=new _(10,10).it();static Fk=new _(1/0,1/0).it();static mw=new _(NaN,NaN).it();static dC=[];static l(){const t=_.dC.pop();return void 0===t?new _:t}static e(t){_.dC.push(t)}}class v{p;w;j;q;h;constructor(t,i,n,s){if(void 0===t)this.p=0,this.w=0,this.j=0,this.q=0;else if("number"==typeof t&&"number"==typeof i&&"number"==typeof n&&(n>=0||isNaN(n))&&"number"==typeof s&&(s>=0||isNaN(s)))this.p=t,this.w=i,this.j=n,this.q=s;else if(t instanceof y){const n=t.x,s=t.y;if(i instanceof y){const t=i.x,e=i.y;this.p=Math.min(n,t),this.w=Math.min(s,e),this.j=Math.abs(n-t),this.q=Math.abs(s-e)}else i instanceof _?(this.p=n,this.w=s,this.j=i.width,this.q=i.height):e.o("Incorrect second argument supplied to Rect constructor "+i)}else e.o("Invalid arguments to Rect constructor: "+t+", "+i+", "+n+", "+s);this.h=!1}a(t){return this.p=t.p,this.w=t.w,this.j=t.j,this.q=t.q,this}i(t,e,i,n){return this.p=t,this.w=e,this.j=i,this.q=n,this}zn(t,e){return this.j=t,this.q=e,this}setTo(t,e,i,n){return this.p=t,this.w=e,this.j=i,this.q=n,this}set(t){return this.p=t.p,this.w=t.w,this.j=t.j,this.q=t.q,this}setPoint(t){return this.p=t.x,this.w=t.y,this}setSize(t){return this.j=t.width,this.q=t.height,this}copy(){const t=new v;return t.p=this.p,t.w=this.w,t.j=this.j,t.q=this.q,t}it(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}At(){return this.h&&(Object.isFrozen(this)&&e.o("cannot thaw constant: "+this),this.h=!1),this}gw(t){}static parse(t){if("string"==typeof t){const e=t.split(" ");let i=0,n=0;for(;""===e[i];)i++;let s=e[i++];s&&(n=parseFloat(s));let r=0;for(;""===e[i];)i++;s=e[i++],s&&(r=parseFloat(s));let o=0;for(;""===e[i];)i++;s=e[i++],s&&(o=parseFloat(s));let a=0;for(;""===e[i];)i++;return s=e[i++],s&&(a=parseFloat(s)),new v(n,r,o,a)}return new v}static stringify(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}static stringifyFixed(t){return e.s(t,"number",v,"stringifyFixed:digits"),e=>e.x.toFixed(t)+" "+e.y.toFixed(t)+" "+e.width.toFixed(t)+" "+e.height.toFixed(t)}toString(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"}equals(t){return t instanceof v&&(this.p===t.x&&this.w===t.y&&this.j===t.width&&this.q===t.height)}equalTo(t,e,i,n){return this.p===t&&this.w===e&&this.j===i&&this.q===n}equalsApprox(t){return w.f(this.p,t.x)&&w.f(this.w,t.y)&&w.f(this.j,t.width)&&w.f(this.q,t.height)}equalsApproxTo(t,e,i,n){return w.f(this.p,t)&&w.f(this.w,e)&&w.f(this.j,i)&&w.f(this.q,n)}equalsApproxClose(t){return w.Y(this.p,t.x)&&w.Y(this.w,t.y)&&w.Y(this.j,t.width)&&w.Y(this.q,t.height)}containsPoint(t){return this.p<=t.x&&this.p+this.j>=t.x&&this.w<=t.y&&this.w+this.q>=t.y}containsRect(t){return this.p<=t.x&&t.x+t.width<=this.p+this.j&&this.w<=t.y&&t.y+t.height<=this.w+this.q}contains(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.p<=t&&t+i<=this.p+this.j&&this.w<=e&&e+n<=this.w+this.q}offset(t,e){return this.p+=t,this.w+=e,this}inflate(t,e){return this.pw(e,t,e,t)}addMargin(t){return this.pw(t.top,t.right,t.bottom,t.left)}subtractMargin(t){return this.pw(-t.top,-t.right,-t.bottom,-t.left)}grow(t,e,i,n){return this.pw(t,e,i,n)}pw(t,e,i,n){const s=this.j;e+n<=-s?(this.p+=s/2,this.j=0):(this.p-=n,this.j+=e+n);const r=this.q;return t+i<=-r?(this.w+=r/2,this.q=0):(this.w-=t,this.q+=t+i),this}intersectRect(t){return this.gC(t.x,t.y,t.width,t.height)}intersect(t,e,i,n){return this.gC(t,e,i,n)}gC(t,e,i,n){const s=Math.max(this.p,t),r=Math.max(this.w,e),o=Math.min(this.p+this.j,t+i),a=Math.min(this.w+this.q,e+n);return this.p=s,this.w=r,this.j=Math.max(0,o-s),this.q=Math.max(0,a-r),this}intersectsRect(t){return this.intersects(t.x,t.y,t.width,t.height)}intersects(t,e,i,n){let s=this.j;const r=this.p;if(s!==1/0&&i!==1/0&&(s+=r,i+=t,isNaN(i)||isNaN(s)||r>i||t>s))return!1;let o=this.q;const a=this.w;return!(o!==1/0&&n!==1/0&&(o+=a,n+=e,isNaN(n)||isNaN(o)||a>n||e>o))}intersectsRectPlus(t,e){let i=this.j,n=t.width+e+e;const s=this.p,r=t.x-e;if(i+=s,n+=r,s>n||r>i)return!1;let o=this.q,a=t.height+e+e;const l=this.w,h=t.y-e;return o+=l,a+=h,!(l>a||h>o)}unionPoint(t){return this.unionNoCheck(t.x,t.y,0,0)}unionRect(t){return this.unionNoCheck(t.p,t.w,t.j,t.q)}union(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.unionNoCheck(t,e,i,n)}unionNoCheck(t,e,i,n){const s=Math.min(this.p,t),r=Math.min(this.w,e),o=Math.max(this.p+this.j,t+i),a=Math.max(this.w+this.q,e+n);return this.p=s,this.w=r,this.j=o-s,this.q=a-r,this}setSpot(t,e,i){return this.p=t-i.offsetX-i.x*this.j,this.w=e-i.offsetY-i.y*this.q,this}static contains(t,e,i,n,s,r,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),t<=s&&s+o<=t+i&&e<=r&&r+a<=e+n}static intersects(t,e,i,n,s,r,o,a){let l=i,h=o;const u=t,c=s;if(l+=u,h+=c,u>h||c>l)return!1;let d=n,f=a;const m=e,g=r;return d+=m,f+=g,!(m>f||g>d)}static intersectsLineSegment(t,e,i,n,s,r,o,a){return w.mC(t,e,i,n,s,r,o,a)}get x(){return this.p}set x(t){this.p=t}get y(){return this.w}set y(t){this.w=t}get width(){return this.j}set width(t){t<0&&e._(t,">= 0",v,"width"),this.j=t}get height(){return this.q}set height(t){t<0&&e._(t,">= 0",v,"height"),this.q=t}get left(){return this.p}set left(t){this.p=t}get top(){return this.w}set top(t){this.w=t}get right(){return this.p+this.j}set right(t){this.p+=t-(this.p+this.j)}get bottom(){return this.w+this.q}set bottom(t){this.w+=t-(this.w+this.q)}get position(){return new y(this.p,this.w)}set position(t){this.p=t.x,this.w=t.y}get size(){return new _(this.j,this.q)}set size(t){this.j=t.width,this.q=t.height}get center(){return new y(this.p+this.j/2,this.w+this.q/2)}set center(t){this.p=t.x-this.j/2,this.w=t.y-this.q/2}get centerX(){return this.p+this.j/2}set centerX(t){this.p=t-this.j/2}get centerY(){return this.w+this.q/2}set centerY(t){this.w=t-this.q/2}isReal(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}isEmpty(){return 0===this.width&&0===this.height}static Eg=new v(0,0,0,0).it();static KD=new v(NaN,NaN,NaN,NaN).it();static Rk=[];static l(){const t=v.Rk.pop();return void 0===t?new v:t}static X(t,e,i,n){const s=v.Rk.pop();return void 0===s?new v(t,e,i,n):s.i(t,e,i,n)}static e(t){v.Rk.push(t)}}class b{rn;ln;hn;an;h;constructor(t,i,n,s){void 0===t?(this.rn=0,this.ln=0,this.hn=0,this.an=0):void 0===i?(i=t,n=t,s=t,this.top=t,this.right=i,this.bottom=n,this.left=s):void 0===n?(n=t,s=i,this.top=t,this.right=i,this.bottom=n,this.left=s):void 0!==s?(this.top=t,this.right=i,this.bottom=n,this.left=s):e.o("Invalid arguments to Margin constructor: "+t+", "+i+", "+n+", "+s),this.h=!1}a(t){return this.rn=t.rn,this.ln=t.ln,this.hn=t.hn,this.an=t.an,this}setTo(t,e,i,n){return this.rn=t,this.ln=e,this.hn=i,this.an=n,this}set(t){return this.rn=t.rn,this.ln=t.ln,this.hn=t.hn,this.an=t.an,this}copy(){const t=new b;return t.rn=this.rn,t.ln=this.ln,t.hn=this.hn,t.an=this.an,t}it(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}At(){return this.h&&(Object.isFrozen(this)&&e.o("cannot thaw constant: "+this),this.h=!1),this}gw(t){}static parse(t){if("string"==typeof t){const e=t.split(" ");let i=0,n=NaN;for(;""===e[i];)i++;let s=e[i++];if(s&&(n=parseFloat(s)),isNaN(n))return new b;let r=NaN;for(;""===e[i];)i++;if(s=e[i++],s&&(r=parseFloat(s)),isNaN(r))return new b(n);let o=NaN;for(;""===e[i];)i++;if(s=e[i++],s&&(o=parseFloat(s)),isNaN(o))return new b(n,r);let a=NaN;for(;""===e[i];)i++;return s=e[i++],s&&(a=parseFloat(s)),isNaN(a)?new b(n,r):new b(n,r,o,a)}return new b}static stringify(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}static stringifyFixed(t){return e.s(t,"number",b,"stringifyFixed:digits"),e=>e.top.toFixed(t)+" "+e.right.toFixed(t)+" "+e.bottom.toFixed(t)+" "+e.left.toFixed(t)}toString(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"}equals(t){return t instanceof b&&(this.rn===t.top&&this.ln===t.right&&this.hn===t.bottom&&this.an===t.left)}equalTo(t,e,i,n){return this.rn===t&&this.ln===e&&this.hn===i&&this.an===n}equalsApprox(t){return w.f(this.rn,t.top)&&w.f(this.ln,t.right)&&w.f(this.hn,t.bottom)&&w.f(this.an,t.left)}get top(){return this.rn}set top(t){this.rn=t}get right(){return this.ln}set right(t){this.ln=t}get bottom(){return this.hn}set bottom(t){this.hn=t}get left(){return this.an}set left(t){this.an=t}isReal(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)}static Bg=new b(0,0,0,0).it();static pC=new b(2,2,2,2).it();static yC=[];static l(){const t=b.yC.pop();return void 0===t?new b:t}static e(t){b.yC.push(t)}}class x{p;w;Os;Is;h;constructor(t,e,i,n){void 0===t?(this.p=0,this.w=0,this.Os=0,this.Is=0):(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this.h=!1}a(t){return this.p=t.p,this.w=t.w,this.Os=t.Os,this.Is=t.Is,this}setTo(t,e,i,n){return this.p=t,this.w=e,this.Os=i,this.Is=n,this}set(t){return this.p=t.p,this.w=t.w,this.Os=t.Os,this.Is=t.Is,this}copy(){const t=new x;return t.p=this.p,t.w=this.w,t.Os=this.Os,t.Is=this.Is,t}it(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}At(){return this.h&&(Object.isFrozen(this)&&e.o("cannot thaw constant: "+this),this.h=!1),this}gw(t){}Ue(t){return this.p=NaN,this.w=NaN,this.Os=t,this}fE(t,i){(isNaN(t)||t>1||t<0)&&e._(t,"0 <= "+i+" <= 1",x,i)}uE(t,i){(isNaN(t)||t===1/0||t===-1/0)&&e._(t,"real number, not NaN or Infinity",x,i)}static parse(t){if("string"==typeof t){if(t=t.trim(),"None"===t)return x.None;if("TopLeft"===t)return x.TopLeft;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return x.TopCenter;if("TopRight"===t)return x.TopRight;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return x.LeftCenter;if("Center"===t)return x.Center;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return x.RightCenter;if("BottomLeft"===t)return x.BottomLeft;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return x.BottomCenter;if("BottomRight"===t)return x.BottomRight;if("TopSide"===t)return x.TopSide;if("LeftSide"===t)return x.LeftSide;if("RightSide"===t)return x.RightSide;if("BottomSide"===t)return x.BottomSide;if("TopBottomSides"===t)return x.TopBottomSides;if("LeftRightSides"===t)return x.LeftRightSides;if("TopLeftSides"===t)return x.TopLeftSides;if("TopRightSides"===t)return x.TopRightSides;if("BottomLeftSides"===t)return x.BottomLeftSides;if("BottomRightSides"===t)return x.BottomRightSides;if("NotTopSide"===t)return x.NotTopSide;if("NotLeftSide"===t)return x.NotLeftSide;if("NotRightSide"===t)return x.NotRightSide;if("NotBottomSide"===t)return x.NotBottomSide;if("AllSides"===t)return x.AllSides;if("Default"===t)return x.Default;const e=t.split(" ");let i=0,n=0;for(;""===e[i];)i++;let s=e[i++];void 0!==s&&s.length>0&&(n=parseFloat(s));let r=0;for(;""===e[i];)i++;s=e[i++],void 0!==s&&s.length>0&&(r=parseFloat(s));let o=0;for(;""===e[i];)i++;s=e[i++],void 0!==s&&s.length>0&&(o=parseFloat(s));let a=0;for(;""===e[i];)i++;return s=e[i++],void 0!==s&&s.length>0&&(a=parseFloat(s)),new x(n,r,o,a)}return new x}static stringify(t){return t.isSpot()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}static stringifyFixed(t){return e.s(t,"number",x,"stringifyFixed:digits"),e=>e.x.toFixed(t)+" "+e.y.toFixed(t)+" "+e.offsetX.toFixed(t)+" "+e.offsetY.toFixed(t)}toString(){return this.isSpot()?0===this.Os&&0===this.Is?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.equals(x.None)?"None":this.equals(x.TopLeft)?"TopLeft":this.equals(x.TopCenter)?"Top":this.equals(x.TopRight)?"TopRight":this.equals(x.LeftCenter)?"Left":this.equals(x.Center)?"Center":this.equals(x.RightCenter)?"Right":this.equals(x.BottomLeft)?"BottomLeft":this.equals(x.BottomCenter)?"Bottom":this.equals(x.BottomRight)?"BottomRight":this.equals(x.TopSide)?"TopSide":this.equals(x.LeftSide)?"LeftSide":this.equals(x.RightSide)?"RightSide":this.equals(x.BottomSide)?"BottomSide":this.equals(x.TopBottomSides)?"TopBottomSides":this.equals(x.LeftRightSides)?"LeftRightSides":this.equals(x.TopLeftSides)?"TopLeftSides":this.equals(x.TopRightSides)?"TopRightSides":this.equals(x.BottomLeftSides)?"BottomLeftSides":this.equals(x.BottomRightSides)?"BottomRightSides":this.equals(x.NotTopSide)?"NotTopSide":this.equals(x.NotLeftSide)?"NotLeftSide":this.equals(x.NotRightSide)?"NotRightSide":this.equals(x.NotBottomSide)?"NotBottomSide":this.equals(x.AllSides)?"AllSides":this.equals(x.Default)?"Default":"None"}equals(t){return t instanceof x&&((this.p===t.x||isNaN(this.p)&&isNaN(t.x))&&(this.w===t.y||isNaN(this.w)&&isNaN(t.y))&&this.Os===t.offsetX&&this.Is===t.offsetY)}opposite(){return new x(.5-(this.p-.5),.5-(this.w-.5),-this.Os,-this.Is)}includesSide(t){if(!this.isSide())return!1;if(!t.isSide())if(t.equals(x.Left))t=x.LeftSide;else if(t.equals(x.Right))t=x.RightSide;else if(t.equals(x.Top))t=x.TopSide;else{if(!t.equals(x.Bottom))return!1;t=x.BottomSide}const e=this.Is,i=t.offsetY;return(e&i)===i}get x(){return this.p}set x(t){this.p=t}get y(){return this.w}set y(t){this.w=t}get offsetX(){return this.Os}set offsetX(t){this.Os=t}get offsetY(){return this.Is}set offsetY(t){this.Is=t}isSpot(){return!isNaN(this.x)&&!isNaN(this.y)}isNoSpot(){return isNaN(this.x)||isNaN(this.y)}isSide(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY}isNone(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY}isDefault(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY}static None=new x(0,0,0,0).Ue(0).it();static Default=new x(0,0,-1,0).Ue(-1).it();static TopLeft=new x(0,0,0,0).it();static TopCenter=new x(.5,0,0,0).it();static TopRight=new x(1,0,0,0).it();static LeftCenter=new x(0,.5,0,0).it();static Center=new x(.5,.5,0,0).it();static RightCenter=new x(1,.5,0,0).it();static BottomLeft=new x(0,1,0,0).it();static BottomCenter=new x(.5,1,0,0).it();static BottomRight=new x(1,1,0,0).it();static MiddleTop=x.TopCenter;static MiddleLeft=x.LeftCenter;static MiddleRight=x.RightCenter;static MiddleBottom=x.BottomCenter;static Top=x.TopCenter;static Left=x.LeftCenter;static Right=x.RightCenter;static Bottom=x.BottomCenter;static TopSide=new x(0,0,1,1).Ue(1).it();static LeftSide=new x(0,0,1,2).Ue(1).it();static RightSide=new x(0,0,1,4).Ue(1).it();static BottomSide=new x(0,0,1,8).Ue(1).it();static TopBottomSides=new x(0,0,1,9).Ue(1).it();static LeftRightSides=new x(0,0,1,6).Ue(1).it();static TopLeftSides=new x(0,0,1,3).Ue(1).it();static TopRightSides=new x(0,0,1,5).Ue(1).it();static BottomLeftSides=new x(0,0,1,10).Ue(1).it();static BottomRightSides=new x(0,0,1,12).Ue(1).it();static NotTopSide=new x(0,0,1,14).Ue(1).it();static NotLeftSide=new x(0,0,1,13).Ue(1).it();static NotRightSide=new x(0,0,1,11).Ue(1).it();static NotBottomSide=new x(0,0,1,7).Ue(1).it();static AllSides=new x(0,0,1,15).Ue(1).it();static vk=new x(.156,.156).it();static Ok=new x(.844,.844).it();static wC=[];static l(){const t=x.wC.pop();return void 0===t?new x:t}static e(t){x.wC.push(t)}}class M{m11;m12;m21;m22;dx;dy;constructor(){this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0}set(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this}setTo(t,e,i,n,s,r){return this.m11=t,this.m12=e,this.m21=i,this.m22=n,this.dx=s,this.dy=r,this}copy(){const t=new M;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t}toString(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}equals(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy}Ik(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22}Ii(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0,this}ac(t){const e=this.m11*t.m11+this.m21*t.m12,i=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,s=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=s,this}xC(t){const e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,s=-t.m21*e,r=t.m11*e,o=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy),l=this.m11*i+this.m21*n,h=this.m12*i+this.m22*n,u=this.m11*s+this.m21*r,c=this.m12*s+this.m22*r;return this.dx=this.m11*o+this.m21*a+this.dx,this.dy=this.m12*o+this.m22*a+this.dy,this.m11=l,this.m12=h,this.m21=u,this.m22=c,this}yw(){const t=1/(this.m11*this.m22-this.m12*this.m21),e=this.m22*t,i=-this.m12*t,n=-this.m21*t,s=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=e,this.m12=i,this.m21=n,this.m22=s,this.dx=r,this.dy=o,this}ds(t,e,i){if(t>=360?t-=360:t<0&&(t+=360),0===t)return this;this.Es(e,i);let n=0,s=0;if(90===t)n=0,s=1;else if(180===t)n=-1,s=0;else if(270===t)n=0,s=-1;else{const e=t*Math.PI/180;n=Math.cos(e),s=Math.sin(e)}const r=this.m11*n+this.m21*s,o=this.m12*n+this.m22*s,a=this.m11*-s+this.m21*n,l=this.m12*-s+this.m22*n;return this.m11=r,this.m12=o,this.m21=a,this.m22=l,this.Es(-e,-i),this}Es(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this}nt(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this}GD(){if(1===this.m11&&0===this.m12)return 0;let t=180*Math.atan2(this.m12,this.m11)/Math.PI;return t<0&&(t+=360),t}xt(t){const e=t.x,i=t.y;return t.i(e*this.m11+i*this.m21+this.dx,e*this.m12+i*this.m22+this.dy)}_e(t){const e=1/(this.m11*this.m22-this.m12*this.m21),i=this.m22*e,n=-this.m12*e,s=-this.m21*e,r=this.m11*e,o=t.x-this.dx,a=t.y-this.dy;return t.i(o*i+a*s,o*n+a*r)}ww(t){const e=1/(this.m11*this.m22-this.m12*this.m21),i=this.m22*e,n=-this.m12*e,s=-this.m21*e,r=this.m11*e,o=e*(this.m21*this.dy-this.m22*this.dx),a=e*(this.m12*this.dx-this.m11*this.dy),l=1.25*t.x,h=1.2*t.y;return t.i(l*i+h*s+o,l*n+h*r+a)}Ug(t){const e=t.x,i=t.y,n=e+t.width,s=i+t.height,r=this.m11,o=this.m12,a=this.m21,l=this.m22,h=this.dx,u=this.dy,c=e*r+i*a+h,d=e*o+i*l+u,f=n*r+i*a+h,m=n*o+i*l+u,g=e*r+s*a+h,p=e*o+s*l+u,y=n*r+s*a+h,_=n*o+s*l+u;let v=c,b=c,x=d,M=d;return v=Math.min(v,f),b=Math.max(b,f),x=Math.min(x,m),M=Math.max(M,m),v=Math.min(v,g),b=Math.max(b,g),x=Math.min(x,p),M=Math.max(M,p),v=Math.min(v,y),b=Math.max(b,y),x=Math.min(x,_),M=Math.max(M,_),t.i(v,x,b-v,M-x),t}static bC=[];static l(){const t=M.bC.pop();return void 0===t?new M:t}static e(t){M.bC.push(t)}static Ek="54a702f3e53909c447824c6706603faf4c"}const w={HD:"7da71ca0ad381e90",Xn:(Math.sqrt(2)-1)/3*4,kC:null,xw:t=>{if(t<=0)return 0;let e=w.kC;if(null===e){e=[];for(let t=0;t<=2e3;t++)e[t]=Math.sqrt(t);w.kC=e}if(t<1){const i=1/t;return i<=2e3?1/e[0|i]:Math.sqrt(t)}return t<=2e3?e[0|t]:Math.sqrt(t)},f:(t,e)=>{const i=t-e;return i<.5&&i>-.5},Y:(t,e)=>{const i=t-e;return i<5e-8&&i>-5e-8},Ei:(t,e,i,n,s,r,o)=>{s<=0&&(s=1e-6);let a=0,l=0,h=0,u=0;if(t<i?(l=t,a=i):(l=i,a=t),e<n?(u=e,h=n):(u=n,h=e),t===i)return u<=o&&o<=h&&t-s<=r&&r<=t+s;if(e===n)return l<=r&&r<=a&&e-s<=o&&o<=e+s;const c=a+s,d=l-s;if(d<=r&&r<=c){const a=h+s,l=u-s;if(l<=o&&o<=a)if(c-d>a-l){if(!(t-i>s||i-t>s))return!0;{const a=(n-e)/(i-t)*(r-t)+e;if(a-s<=o&&o<=a+s)return!0}}else{if(!(e-n>s||n-e>s))return!0;{const a=(i-t)/(n-e)*(o-e)+t;if(a-s<=r&&r<=a+s)return!0}}}return!1},bw:(t,e,i,n,s,r,o,a,l,h,u,c)=>{if(w.Ei(t,e,o,a,c,i,n)&&w.Ei(t,e,o,a,c,s,r))return w.Ei(t,e,o,a,c,h,u);{const d=(t+i)/2,f=(e+n)/2,m=(i+s)/2,g=(n+r)/2,p=(s+o)/2,y=(r+a)/2,_=(d+m)/2,v=(f+g)/2,b=(m+p)/2,x=(g+y)/2,M=(_+b)/2,k=(v+x)/2;return w.bw(t,e,d,f,_,v,M,k,l,h,u,c)||w.bw(M,k,b,x,p,y,o,a,l,h,u,c)}},PC:(t,e,i,n,s,r,o,a,l)=>{const h=(t+i)/2,u=(e+n)/2,c=(i+s)/2,d=(n+r)/2,f=(s+o)/2,m=(r+a)/2,g=(h+c)/2,p=(u+d)/2,y=(c+f)/2,_=(d+m)/2;return l.i((g+y)/2,(p+_)/2),l},jD:(t,e,i,n,s,r,o,a)=>{const l=(t+i)/2,h=(e+n)/2,u=(i+s)/2,c=(n+r)/2,d=(s+o)/2,f=(r+a)/2,m=(l+u)/2,g=(h+c)/2,p=(u+d)/2,_=(c+f)/2;return y.direction(m,g,p,_)},cu:(t,e,i,n,s,r,o,a,l,h)=>{if(w.Ei(t,e,o,a,l,i,n)&&w.Ei(t,e,o,a,l,s,r))h.unionNoCheck(t,e,0,0),h.unionNoCheck(o,a,0,0);else{const u=(t+i)/2,c=(e+n)/2,d=(i+s)/2,f=(n+r)/2,m=(s+o)/2,g=(r+a)/2,p=(u+d)/2,y=(c+f)/2,_=(d+m)/2,v=(f+g)/2,b=(p+_)/2,x=(y+v)/2;w.cu(t,e,u,c,p,y,b,x,l,h),w.cu(b,x,_,v,m,g,o,a,l,h)}return h},Yn:(t,e,i,n,s,r,o,a,l,h)=>{if(w.Ei(t,e,o,a,l,i,n)&&w.Ei(t,e,o,a,l,s,r))0===h.length&&(h.push(t),h.push(e)),h.push(o),h.push(a);else{const u=(t+i)/2,c=(e+n)/2,d=(i+s)/2,f=(n+r)/2,m=(s+o)/2,g=(r+a)/2,p=(u+d)/2,y=(c+f)/2,_=(d+m)/2,v=(f+g)/2,b=(p+_)/2,x=(y+v)/2;w.Yn(t,e,u,c,p,y,b,x,l,h),w.Yn(b,x,_,v,m,g,o,a,l,h)}return h},Bk:(t,e,i,n,s,r,o,a,l,h)=>{if(w.Ei(t,e,s,r,h,i,n))return w.Ei(t,e,s,r,h,a,l);{const u=(t+i)/2,c=(e+n)/2,d=(i+s)/2,f=(n+r)/2,m=(u+d)/2,g=(c+f)/2;return w.Bk(t,e,u,c,m,g,o,a,l,h)||w.Bk(m,g,d,f,s,r,o,a,l,h)}},dE:(t,e,i,n,s,r,o)=>{const a=(t+i)/2,l=(e+n)/2,h=(i+s)/2,u=(n+r)/2;return o.i((a+h)/2,(l+u)/2),o},Uk:(t,e,i,n,s,r,o,a)=>{if(w.Ei(t,e,s,r,o,i,n))a.unionNoCheck(t,e,0,0),a.unionNoCheck(s,r,0,0);else{const l=(t+i)/2,h=(e+n)/2,u=(i+s)/2,c=(n+r)/2,d=(l+u)/2,f=(h+c)/2;w.Uk(t,e,l,h,d,f,o,a),w.Uk(d,f,u,c,s,r,o,a)}return a},Vg:(t,e,i,n,s,r,o,a)=>{if(w.Ei(t,e,s,r,o,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(s),a.push(r);else{const l=(t+i)/2,h=(e+n)/2,u=(i+s)/2,c=(n+r)/2,d=(l+u)/2,f=(h+c)/2;w.Vg(t,e,l,h,d,f,o,a),w.Vg(d,f,u,c,s,r,o,a)}return a},zg:(t,e,i,n,s,r,o,a,l,h,u,c,d,f)=>{if(w.Ei(t,e,o,a,d,i,n)&&w.Ei(t,e,o,a,d,s,r)){if(!w.hu(t,e,o,a,l,h,u,c))return!1;const i=(t-o)*(h-c)-(e-a)*(l-u);if(0===i)return!1;const n=((t*a-e*o)*(l-u)-(t-o)*(l*c-h*u))/i,s=((t*a-e*o)*(h-c)-(e-a)*(l*c-h*u))/i;return f.i(n,s),!0}{const m=(t+i)/2,g=(e+n)/2,p=(i+s)/2,y=(n+r)/2,_=(s+o)/2,v=(r+a)/2,b=(m+p)/2,x=(g+y)/2,M=(p+_)/2,k=(y+v)/2,L=(b+M)/2,S=(x+k)/2;let T=1/0,D=!1,P=0,Y=0;if(w.zg(t,e,m,g,b,x,L,S,l,h,u,c,d,f)){const t=(f.x-l)**2+(f.y-h)**2;t<T&&(T=t,D=!0,P=f.x,Y=f.y)}if(w.zg(L,S,M,k,_,v,o,a,l,h,u,c,d,f)){const t=(f.x-l)**2+(f.y-h)**2;t<T&&(T=t,D=!0,P=f.x,Y=f.y)}return D&&(f.x=P,f.y=Y),D}},Xg:(t,e,i,n,s,r,o,a,l,h,u,c,d)=>{let f=0;if(w.Ei(t,e,o,a,d,i,n)&&w.Ei(t,e,o,a,d,s,r)){const i=(t-o)*(h-c)-(e-a)*(l-u);if(0===i)return f;const n=((t*a-e*o)*(l-u)-(t-o)*(l*c-h*u))/i,s=((t*a-e*o)*(h-c)-(e-a)*(l*c-h*u))/i;if(n>=u)return f;let r=0,d=0;if((l>u?l-u:u-l)<(h>c?h-c:c-h)){if(e<a?(r=e,d=a):(r=a,d=e),s<r||s>d)return f}else if(t<o?(r=t,d=o):(r=o,d=t),n<r||n>d)return f;i>0?f++:i<0&&f--}else{const m=(t+i)/2,g=(e+n)/2,p=(i+s)/2,y=(n+r)/2,_=(s+o)/2,v=(r+a)/2,b=(m+p)/2,x=(g+y)/2,M=(p+_)/2,k=(y+v)/2,L=(b+M)/2,S=(x+k)/2;f+=w.Xg(t,e,m,g,b,x,L,S,l,h,u,c,d),f+=w.Xg(L,S,M,k,_,v,o,a,l,h,u,c,d)}return f},bl:(t,e,i,n,s,r,o)=>{if(w.Y(t,i)){let i=0,s=0;e<n?(i=e,s=n):(i=n,s=e);const a=r;return a<i?(o.i(t,i),!1):a>s?(o.i(t,s),!1):(o.i(t,a),!0)}if(w.Y(e,n)){let n=0,r=0;t<i?(n=t,r=i):(n=i,r=t);const a=s;return a<n?(o.i(n,e),!1):a>r?(o.i(r,e),!1):(o.i(a,e),!0)}{const a=(i-t)**2+(n-e)**2,l=((t-s)*(t-i)+(e-r)*(e-n))/a;if(l<-5e-6)return o.i(t,e),!1;if(l>1.000005)return o.i(i,n),!1;{const s=t+l*(i-t),r=e+l*(n-e);return o.i(s,r),!0}}},Kn:(t,e,i,n,s,r,o,a,l)=>{if(w.f(t,i)&&w.f(e,n))return l.i(t,e),!1;if(w.Y(s,o)){if(w.Y(t,i))return w.bl(t,e,i,n,s,r,l),!1;{const r=(n-e)/(i-t)*(s-t)+e;return w.bl(t,e,i,n,s,r,l)}}{const h=(a-r)/(o-s);if(w.Y(t,i)){const i=h*(t-s)+r;let o=0,a=0;return e<n?(o=e,a=n):(o=n,a=e),i<o?(l.i(t,o),!1):i>a?(l.i(t,a),!1):(l.i(t,i),!0)}{const o=(n-e)/(i-t);if(w.Y(h,o))return w.bl(t,e,i,n,s,r,l),!1;{const a=(o*t-h*s+r-e)/(o-h);if(w.Y(o,0)){let n=0,s=0;return t<i?(n=t,s=i):(n=i,s=t),a<n?(l.i(n,e),!1):a>s?(l.i(s,e),!1):(l.i(a,e),!0)}{const s=o*(a-t)+e;return w.bl(t,e,i,n,a,s,l)}}}}},gE:(t,e,i,n,s)=>w.Kn(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,s),mE:(t,e,i,n,s,r,o,a,l,h)=>{let u=1/0;function c(i,n){const s=(i-t)**2+(n-e)**2;s<u&&(u=s,l.i(i,n))}c(l.x,l.y);let d=0,f=0,m=0,g=0;s<o?(d=s,f=o):(d=o,f=s),r<a?(m=s,g=o):(m=o,g=s);const p=f-d,y=g-m,_=p/2+h,v=y/2+h,b=(s+o)/2,x=(r+a)/2;if(0===_||0===v)return l;if(w.f(t,i)){const t=1-(i-b)**2/(_*_);if(t<0)return l;const e=Math.sqrt(t),n=v*e+x,s=-v*e+x;c(i,n),c(i,s)}else{const s=(n-e)/(i-t),r=1/(_*_)+s*s/(v*v),o=2*s*(e-s*t)/(v*v)-2*s*x/(v*v)-2*b/(_*_),a=2*s*t*x/(v*v)-2*e*x/(v*v)+x*x/(v*v)+b*b/(_*_)-1+(e-s*t)*(e-s*t)/(v*v),h=o*o-4*r*a;if(h<0)return l;const u=Math.sqrt(h),d=(-o+u)/(2*r);c(d,s*d-s*t+e);const f=(-o-u)/(2*r);c(f,s*f-s*t+e)}return l},kl:(t,e,i,n,s,r,o,a,l)=>{let h=1e21,u=t,c=e;if(w.Kn(t,e,t,n,s,r,o,a,l)){const t=(l.x-s)**2+(l.y-r)**2;t<h&&(h=t,u=l.x,c=l.y)}if(w.Kn(i,e,i,n,s,r,o,a,l)){const t=(l.x-s)**2+(l.y-r)**2;t<h&&(h=t,u=l.x,c=l.y)}if(w.Kn(t,e,i,e,s,r,o,a,l)){const t=(l.x-s)**2+(l.y-r)**2;t<h&&(h=t,u=l.x,c=l.y)}if(w.Kn(t,n,i,n,s,r,o,a,l)){const t=(l.x-s)**2+(l.y-r)**2;t<h&&(h=t,u=l.x,c=l.y)}return l.i(u,c),h<1e21},kw:(t,e,i)=>w.mC(t.x,t.y,t.width,t.height,e.x,e.y,i.x,i.y),mC:(t,e,i,n,s,r,o,a)=>{const l=t,h=t+i,u=e,c=e+n;if(s===o){let t=0,e=0;return r<a?(t=r,e=a):(t=a,e=r),l<=s&&s<=h&&t<=c&&e>=u}if(r===a){let t=0,e=0;return s<o?(t=s,e=o):(t=o,e=s),u<=r&&r<=c&&t<=h&&e>=l}return!!(v.contains(t,e,i,n,s,r)||v.contains(t,e,i,n,o,a)||w.hu(l,u,h,u,s,r,o,a)||w.hu(h,u,h,c,s,r,o,a)||w.hu(h,c,l,c,s,r,o,a)||w.hu(l,c,l,u,s,r,o,a))},hu:(t,e,i,n,s,r,o,a)=>t===i&&e===n&&s===o&&r===a?t===s&&e===r:w.lu(t,e,i,n,s,r)*w.lu(t,e,i,n,o,a)<=0&&w.lu(s,r,o,a,t,e)*w.lu(s,r,o,a,i,n)<=0,lu:(t,e,i,n,s,r)=>{const o=i-t,a=n-e;let l=s-t,h=r-e,u=l*a-h*o;return 0===u&&(u=l*o+h*a,u>0&&(l-=o,h-=a,u=l*o+h*a,u<0&&(u=0))),u},Yg:t=>(t<0&&(t+=360),t>=360&&(t-=360),t),SC:(t,e,i,n,s,r)=>{const o=Math.PI;r||(n*=o/180,s*=o/180);const a=n>s?-1:1,l=1e-5,h=2*o,u=[],c=o/2;let d=n,f=Math.min(h,Math.abs(s-n));if(f<l){const n=d+a*Math.min(f,c),s=t+i*Math.cos(d),r=e+i*Math.sin(d),o=t+i*Math.cos(n),l=e+i*Math.sin(n),h=(s+o)/2,m=(r+l)/2;return u.push([s,r,h,m,h,m,o,l]),u}for(;f>l;){const n=d+a*Math.min(f,c);u.push(w.qD(i,d,n,t,e)),f-=Math.abs(n-d),d=n}return u},qD:(t,e,i,n,s)=>{const r=(i-e)/2,o=t*Math.cos(r),a=t*Math.sin(r),l=o,h=-a,u=l*l+h*h,c=u+l*o+h*a,d=4/3*(Math.sqrt(2*u*c)-c)/(l*a-h*o),f=l-d*h,m=h+d*l,g=f,p=-m,y=r+e,_=Math.cos(y),v=Math.sin(y);return[n+t*Math.cos(e),s+t*Math.sin(e),n+f*_-m*v,s+f*v+m*_,n+g*_-p*v,s+g*v+p*_,n+t*Math.cos(i),s+t*Math.sin(i)]},Ig:(t,e,i,n,s,r,o)=>{const a=s,l=r,h=Math.floor((t-i)/a)*a+i,u=Math.floor((e-n)/l)*l+n;let c=h;h+a-t<a/2&&(c=h+a);let d=u;return u+l-e<l/2&&(d=u+l),o.i(c,d),o},MC:(t,e)=>{let i=Math.max(t,e),n=Math.min(t,e),s=1,r=1;do{s=i%n,r=n,i=n,n=s}while(s>0);return r},WD:(t,e,i,n)=>{const s=i<0,r=n<0;let o=0,a=0,l=0;t<e?(a=1,l=0):(a=0,l=1);let h=0,u=0,c=0,d=0;return o=a,h=0===o?t:e,c=0===o?i:n,(0===o?s:r)&&(c=-c),o=l,u=0===o?t:e,d=0===o?i:n,(0===o?s:r)&&(d=-d),w.JD(h,u,c,d,0,0)},JD:(t,e,i,n,s,r)=>{let o=0;if(n>0)if(i>0){const a=t*t,l=e*e,h=t*i,u=e*n;let c=-l+u,d=-l+Math.sqrt(h*h+u*u),f=c;const m=9999999999;for(let t=0;t<m&&(f=.5*(c+d),f!==c&&f!==d);++t){const t=h/(f+a),e=u/(f+l),i=t*t+e*e-1;if(i>0)c=f;else{if(!(i<0))break;d=f}}s=a*i/(f+a),r=l*n/(f+l);const g=s-i,p=r-n;o=Math.sqrt(g*g+p*p)}else s=0,r=e,o=Math.abs(n-e);else{const n=t*t-e*e,a=t*i;if(a<n){const l=a/n,h=l*l;s=t*l,r=e*Math.sqrt(Math.abs(1-h));const u=s-i;o=Math.sqrt(u*u+r*r)}else s=t,r=0,o=Math.abs(i-t)}return o},Gn:new n,Kg:new n,dr:new n,gr:0,Gg:100};w.za=w.HD;var k=(t=>(t[t.Line=1]="Line",t[t.Rectangle=2]="Rectangle",t[t.Ellipse=3]="Ellipse",t[t.Path=4]="Path",t))(k||{}),L=(t=>(t[t.None=0]="None",t[t.Default=1]="Default",t[t.Fill=2]="Fill",t[t.Uniform=6]="Uniform",t))(L||{});class S{n;Hg;jg;cc;fu;uu;Hn;jn;qn;$;ke;Pe;ie;ee;Bs;fc;uc;constructor(t){u.qi(this),this.n=2,void 0===t&&(t=4),this.$=t,this.ke=0,this.Pe=0,this.ie=0,this.ee=0,this.Bs=4===t?new l:S.Pw,this.Hg=this.Bs.ht,this.jg=(new v).u(),this.cc=null,this.fu=null,this.uu=NaN,this.Hn=x.TopLeft,this.jn=x.BottomRight,this.fc=NaN,this.uc=NaN,this.qn=2}copy(){const t=new S;if(t.n=-2&this.n,t.$=this.$,t.ke=this.ke,t.Pe=this.Pe,t.ie=this.ie,t.ee=this.ee,4===this.$){const e=this.Bs.r,i=t.Bs;for(let t=0;t<e.length;t++){const n=e[t];i.add(n.copy())}t.Bs=i}else t.Bs=this.Bs;return t.Hg=this.Hg,t.jg.a(this.jg),t.cc=this.cc,t.fu=this.fu,t.uu=this.uu,t.Hn=this.Hn.N(),t.jn=this.jn.N(),t.fc=this.fc,t.uc=this.uc,t.qn=this.qn,t}static Line=1;static Rectangle=2;static Ellipse=3;static Path=4;static Pw=(new l).u();get h(){return 0!==(1&this.n)}set h(t){t?this.n|=1:this.n&=-2}get kt(){return 0!==(2&this.n)}set kt(t){t?this.n|=2:this.n&=-3}u(){if(this.h=!0,4!==this.type)return this;const t=this.figures;t.u();for(const e of t)e.u();return this}equalsApprox(t){if(!(t instanceof S))return!1;if(this.type!==t.type)return 1===this.type&&4===t.type?this.NC(t):1===t.type&&4===this.type&&t.NC(this);if(4===this.type){const e=this.figures.r,i=t.figures.r,n=e.length;if(n!==i.length)return!1;for(let t=0;t<n;t++){const n=e[t],s=i[t];if(!n.equalsApprox(s))return!1}return!0}return w.f(this.startX,t.startX)&&w.f(this.startY,t.startY)&&w.f(this.endX,t.endX)&&w.f(this.endY,t.endY)}NC(t){if(1!==this.type||4!==t.type)return!1;if(1===t.figures.count){const e=t.figures.elt(0);if(1===e.segments.count&&w.f(this.startX,e.startX)&&w.f(this.startY,e.startY)){const t=e.segments.elt(0);if(2===t.type&&w.f(this.endX,t.endX)&&w.f(this.endY,t.endY))return!0}}return!1}static stringify(t){return t.toString()}static stringifyFixed(t){return e.s(t,"number",S,"stringifyFixed:digits"),e=>e.toString(t)}hi(t){t in k?this.type=t:e.cr(this,t)}toString(t){void 0===t&&(t=-1);const e=e=>0===e?"0":e.toFixed(t);let i;switch(this.type){case 1:return t<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+e(this.startX)+" "+e(this.startY)+"L"+e(this.endX)+" "+e(this.endY);case 2:return i=new v(this.startX,this.startY,0,0),i.union(this.endX,this.endY,0,0),t<0?"M"+i.x.toString()+" "+i.y.toString()+"H"+i.right.toString()+"V"+i.bottom.toString()+"H"+i.left.toString()+"z":"M"+e(i.x)+" "+e(i.y)+"H"+e(i.right)+"V"+e(i.bottom)+"H"+e(i.left)+"z";case 3:if(i=new v(this.startX,this.startY,0,0),i.union(this.endX,this.endY,0,0),t<0){const t=i.left.toString()+" "+(i.y+i.height/2).toString(),e=i.right.toString()+" "+(i.y+i.height/2).toString();return"M"+t+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+e+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+t}{const t=e(i.left)+" "+e(i.y+i.height/2),n=e(i.right)+" "+e(i.y+i.height/2);return"M"+t+"A"+e(i.width/2)+" "+e(i.height/2)+" 0 0 1 "+n+"A"+e(i.width/2)+" "+e(i.height/2)+" 0 0 1 "+t}case 4:let n="";const s=this.figures.r,r=s.length;for(let e=0;e<r;e++){const i=s[e];e>0&&(n+=" x "),i.isFilled&&(n+="F "),n+=i.toString(t)}return n;default:return k[this.type]}}static fillPath(t){"string"!=typeof t&&e.te(t,"string",S,"fillPath:str");const i=t.split(/[Xx]/),n=i.length;let s="";for(let e=0;e<n;e++){const t=i[e];null===t.match(/[Ff]/)?s+=(0===e?"":"X ")+"F"+(" "===t[0]?"":" ")+t:s+=0===e?t:"X"+(" "===t[0]?"":" ")+t}return s}static qg="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";static parse(t,i){void 0===i&&(i=!1),"string"!=typeof t&&e.te(t,"string",S,"parse:str");const n=new RegExp("(["+S.qg+"])(["+S.qg+"])","gm"),s=new RegExp("(["+S.qg+"])([^s])","gm"),r=new RegExp("([^s])(["+S.qg+"])","gm");t=t.replace(/,/gm," "),t=t.replace(n,"$1 $2"),t=t.replace(n,"$1 $2"),t=t.replace(s,"$1 $2"),t=t.replace(r,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");const o=t.split(" ");for(let y=0;y<o.length;y++){const t=o[y];if(null!==t.match(/(\.[0-9]*)(\.)/gm)){const i=e.rt();let n="",s=!1;for(let e=0;e<t.length;e++){const r=t[e];"."!==r||s?"."===r?(i.push(n),n="."):n+=r:(s=!0,n+=r)}i.push(n),o.splice(y,1);for(let t=0;t<i.length;t++)o.splice(y+t,0,i[t]);y+=i.length-1,e.tt(i)}}let a=-1,l="",h="";const u=new y(0,0),c=new y(0,0),d=new y(0,0);let f=!0;function m(){return a>=x-1||null!==o[a+1].match(D)||(f=!1,!1)}function g(){return a++,o[a]}function p(t){let e=parseFloat(g()),i=parseFloat(g());l===l.toLowerCase()&&(e=d.x+e,i=d.y+i),t.i(e,i)}function _(){return p(d),d}function v(){return p(c),c}function b(){const t=h.toLowerCase();return"c"===t||"s"===t||"q"===t||"t"===t?new y(2*d.x-c.x,2*d.y-c.y):new y(d.x,d.y)}const x=o.length,M=be.CC(null);let w=!1,k=!1,L=!1,T=!0;const D=new RegExp("["+S.qg+"]");for(;!(a>=x-1);){if(h=l,l=g(),""===l)continue;f=!0;let i=!1;switch(l.toUpperCase()){case"X":T=!0,w=!1,k=!1;break;case"M":const t=_();for(null===M.Si||!0===T?(M.du(t.x,t.y,w,!1,!k,L),T=!1):M.$D(t.x,t.y),u.a(d);!m();){const t=_();M.mr(t.x,t.y)}break;case"L":for(;!m();){const t=_();M.mr(t.x,t.y)}f&&(i=!0);break;case"H":for(;!m();)d.i((l===l.toLowerCase()?d.x:0)+parseFloat(g()),d.y),M.mr(d.x,d.y);break;case"V":for(;!m();)d.i(d.x,(l===l.toLowerCase()?d.y:0)+parseFloat(g())),M.mr(d.x,d.y);f&&(i=!0);break;case"C":for(;!m();){const t=new y;p(t);const e=v(),i=_();M.pr(t.x,t.y,e.x,e.y,i.x,i.y)}f&&(i=!0);break;case"S":for(;!m();){const t=b(),e=v(),i=_();M.pr(t.x,t.y,e.x,e.y,i.x,i.y)}f&&(i=!0);break;case"Q":for(;!m();){const t=v(),e=_();M.Sw(t.x,t.y,e.x,e.y)}f&&(i=!0);break;case"T":for(;!m();){const t=b();c.a(t);const e=_();M.Sw(t.x,t.y,e.x,e.y),c.a(e)}f&&(i=!0);break;case"B":for(;!m();){const t=parseFloat(g()),e=parseFloat(g());let i=parseFloat(g()),n=parseFloat(g());const s=parseFloat(g());let r=s,o=!1;m()||(r=parseFloat(g()),m()||(o=0!==parseFloat(g()))),l===l.toLowerCase()&&(i+=d.x,n+=d.y),M.ZD(t,e,i,n,s,r,o)}f&&(i=!0);break;case"A":for(;!m();){const t=Math.abs(parseFloat(g())),e=Math.abs(parseFloat(g())),i=parseFloat(g());let n=!1,s=!1,r=0,o=0;const a=g();1===a.length?(n=!!parseFloat(a),s=!!parseFloat(g()),r=parseFloat(g()),o=parseFloat(g())):2===a.length?(n=!!parseFloat(a[0]),s=!!parseFloat(a[1]),r=parseFloat(g()),o=parseFloat(g())):(n=!!parseFloat(a[0]),s=!!parseFloat(a[1]),r=parseFloat(a.slice(2)),o=parseFloat(g())),l===l.toLowerCase()&&(r=d.x+r,o=d.y+o),d.i(r,o),M.QD(t,e,i,n,s,r,o)}f&&(i=!0);break;case"Z":M._D(),d.a(u);break;case"F":{let t="",e=1;for(;o[a+e];)if("0"!==o[a+e])if(null===o[a+e].match(/[Uu]/)){if(null!==o[a+e].match(D)){t=o[a+e];break}e++}else e++;else L=!0,e++;t.match(/[Mm]/)?w=!0:M.tF();break}case"U":{let t="",e=1;for(;o[a+e];)if(null===o[a+e].match(/[Ff]/)){if(null!==o[a+e].match(D)){t=o[a+e];break}e++}else e++;t.match(/[Mm]/)?k=!0:M.iF(!1);break}default:if("0"===l||"1"===l)break;e.li("Unknown geometry command: "+l);break}if(i){e.li(`Bad geometry command: ${l}, next token: ${g()},\nstring: ${t}`);break}}const P=M.Wg;if(be.LC(M),i){const t=P.figures.iterator;for(;t.next();){const e=t.value;e.isFilled=!0}}return P}static AC(t,e){const i=t.length,n=y.l();for(let s=0;s<i;s++){const i=t[s];n.x=i[0],n.y=i[1],e.xt(n),i[0]=n.x,i[1]=n.y,n.x=i[2],n.y=i[3],e.xt(n),i[2]=n.x,i[3]=n.y,n.x=i[4],n.y=i[5],e.xt(n),i[4]=n.x,i[5]=n.y,n.x=i[6],n.y=i[7],e.xt(n),i[6]=n.x,i[7]=n.y}y.e(n)}Vk(){if(this.kt)return!0;if(4===this.type){const t=this.figures;if(this.Hg!==t.ht)return!0;const e=this.figures.r,i=e.length;for(let n=0;n<i;n++)if(e[n].Vk())return!0}return!1}Mw(){if(this.kt=!1,this.cc=null,this.fu=null,this.uu=NaN,4===this.type){const t=this.figures;this.Hg=t.ht;const e=this.figures.r,i=e.length;for(let n=0;n<i;n++)e[n].eF()}const t=this.jg;t.At(),isNaN(this.fc)||isNaN(this.uc)?t.i(0,0,0,0):t.i(0,0,this.fc,this.uc),this.TC(t,!1),t.unionNoCheck(0,0,0,0),t.u()}computeBoundsWithoutOrigin(){const t=new v;return this.TC(t,!0),t}TC(t,i){switch(this.type){case 1:case 2:case 3:i?t.i(this.ke,this.Pe,0,0):t.unionNoCheck(this.ke,this.Pe,0,0),t.unionNoCheck(this.ie,this.ee,0,0);break;case 4:const n=this.figures,s=n.r,r=n.length;for(let o=0;o<r;o++){const n=s[o];i&&0===o?t.i(n.startX,n.startY,0,0):t.unionNoCheck(n.startX,n.startY,0,0);const r=n.segments.r,a=r.length;let l=n.startX,h=n.startY;for(let i=0;i<a;i++){const s=r[i];switch(s.type){case 2:case 1:l=s.endX,h=s.endY,t.unionNoCheck(l,h,0,0);break;case 3:w.cu(l,h,s.point1X,s.point1Y,s.point2X,s.point2Y,s.endX,s.endY,.5,t),l=s.endX,h=s.endY;break;case 4:w.Uk(l,h,s.point1X,s.point1Y,s.endX,s.endY,.5,t),l=s.endX,h=s.endY;break;case 5:case 6:const i=5===s.type?s.Ao(n):s.Yh(n,l,h),r=i.length;if(0===r){l=5===s.type?s.centerX:s.endX,h=5===s.type?s.centerY:s.endY,t.unionNoCheck(l,h,0,0);break}let o=null;for(let e=0;e<r;e++)o=i[e],w.cu(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],.5,t);null!==o&&(l=o[6],h=o[7]);break;default:e.o("Unknown Segment type: "+s.type)}}}break;default:e.o("Unknown Geometry type: "+this.type)}}sF(t,e){const i=this.bounds;let n=t/i.width,s=e/i.height;return isFinite(n)||(n=1),isFinite(s)||(s=1),1===n&&1===s?this:this.copy().scale(n,s)}normalize(){this.h&&e.D(this);const t=this.computeBoundsWithoutOrigin();return this.offset(-t.x,-t.y),new y(-t.x,-t.y)}offset(t,i){return this.h&&e.D(this),this.F(1,0,0,1,t,i),this}scale(t,i){return this.h&&e.D(this),this.F(t,0,0,i,0,0),this}rotate(t,i,n){this.h&&e.D(this),void 0===i&&(i=0),void 0===n&&(n=0);const s=M.l();return s.Ii(),s.ds(t,i,n),this.F(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),M.e(s),this}F(t,i,n,s,r,o){let a=0,l=0;switch(this.type){case 1:case 2:case 3:a=this.ke,l=this.Pe,this.ke=a*t+l*n+r,this.Pe=a*i+l*s+o,a=this.ie,l=this.ee,this.ie=a*t+l*n+r,this.ee=a*i+l*s+o;break;case 4:const h=this.figures.r,u=h.length;for(let c=0;c<u;c++){const u=h[c];a=u.startX,l=u.startY,u.startX=a*t+l*n+r,u.startY=a*i+l*s+o;const d=u.segments.r,f=d.length;for(let h=0;h<f;h++){const u=d[h];switch(u.type){case 2:case 1:a=u.endX,l=u.endY,u.endX=a*t+l*n+r,u.endY=a*i+l*s+o;break;case 3:a=u.point1X,l=u.point1Y,u.point1X=a*t+l*n+r,u.point1Y=a*i+l*s+o,a=u.point2X,l=u.point2Y,u.point2X=a*t+l*n+r,u.point2Y=a*i+l*s+o,a=u.endX,l=u.endY,u.endX=a*t+l*n+r,u.endY=a*i+l*s+o;break;case 4:a=u.point1X,l=u.point1Y,u.point1X=a*t+l*n+r,u.point1Y=a*i+l*s+o,a=u.endX,l=u.endY,u.endX=a*t+l*n+r,u.endY=a*i+l*s+o;break;case 5:if(a=u.centerX,l=u.centerY,u.centerX=a*t+l*n+r,u.centerY=a*i+l*s+o,0!==i){let e=180*Math.atan2(i,t)/Math.PI;e<0&&(e+=360),u.startAngle+=e}t<0&&(u.startAngle=180-u.startAngle,u.sweepAngle=-u.sweepAngle),s<0&&(u.startAngle=-u.startAngle,u.sweepAngle=-u.sweepAngle),u.radiusX*=Math.sqrt(t*t+n*n),void 0!==u.radiusY&&(u.radiusY*=Math.sqrt(i*i+s*s));break;case 6:if(a=u.endX,l=u.endY,u.endX=a*t+l*n+r,u.endY=a*i+l*s+o,0===u.radiusX||0===u.radiusY)break;if(0!==i){let e=180*Math.atan2(i,t)/Math.PI;e<0&&(e+=360),u.xAxisRotation+=e}t<0&&(u.xAxisRotation=180-u.xAxisRotation,u.isClockwiseArc=!u.isClockwiseArc),s<0&&(u.xAxisRotation=-u.xAxisRotation,u.isClockwiseArc=!u.isClockwiseArc),u.radiusX*=Math.sqrt(t*t+n*n),u.radiusY*=Math.sqrt(i*i+s*s);break;default:e.o("Unknown Segment type: "+u.type)}}}break}return this.kt=!0,this}containsPoint(t,e){void 0===e&&(e=0);const i=this.ke,n=this.Pe,s=this.ie,r=this.ee;switch(this.type){case 1:return w.Ei(i,n,s,r,e,t.x,t.y);case 2:{const o=Math.min(i,s)-e,a=Math.min(n,r)-e,l=Math.abs(s-i)+2*e,h=Math.abs(r-n)+2*e,u=v.X(o,a,l,h),c=u.containsPoint(t);return v.e(u),c}case 3:{let o=Math.min(i,s)-e,a=Math.min(n,r)-e;const l=Math.abs(s-i)+2*e,h=Math.abs(r-n)+2*e,u=l/2,c=h/2;return!(u<=0||c<=0)&&(o=t.x-(o+u),a=t.y-(a+c),o*o/(u*u)+a*a/(c*c)<=1)}case 4:return this.zk(t,e,!0,!1);default:return!1}}zk(t,i,n,s){const r=t.x,o=t.y,a=this.bounds.x-20,l=o;let h=0,u=0,c=0,d=0,f=0,m=0;const g=this.figures.r,p=g.length;for(let y=0;y<p;y++){const t=g[y],p=!t.isEvenOdd;if(!t.isFilled){if(t.Xk(r,o,s?i:i+2))return!0;continue}if(n&&t.Xk(r,o,i))return!0;const _=t.segments;u=t.startX,c=t.startY;let v=u,b=c;const x=_.r;for(let i=0;i<=_.length;i++){let n,s;switch(i!==_.length?(n=x[i],s=n.type,f=n.endX,m=n.endY):(s=2,f=v,m=b),s){case 1:{const t=this.Nw(r,o,a,l,u,c,v,b);if(isNaN(t))return!0;h+=t,v=f,b=m;break}case 2:{const t=this.Nw(r,o,a,l,u,c,f,m);if(isNaN(t))return!0;h+=t;break}case 3:d=w.Xg(u,c,n.point1X,n.point1Y,n.point2X,n.point2Y,f,m,a,l,r,o,.5),h+=d;break;case 4:{const t=(u+2*n.point1X)/3,e=(c+2*n.point1Y)/3,i=(2*n.point1X+f)/3,s=(2*n.point1Y+m)/3;d=w.Xg(u,c,t,e,i,s,f,m,a,l,r,o,.5),h+=d;break}case 5:case 6:{const e=5===n.type?n.Ao(t):n.Yh(t,u,c),i=e.length;if(0===i){const t=this.Nw(r,o,a,l,u,c,5===n.type?n.centerX:n.endX,5===n.type?n.centerY:n.endY);if(isNaN(t))return!0;h+=t;break}let s=null;for(let t=0;t<i;t++){if(s=e[t],0===t){const t=this.Nw(r,o,a,l,u,c,s[0],s[1]);if(isNaN(t))return!0;h+=t}d=w.Xg(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],a,l,r,o,.5),h+=d}null!==s&&(f=s[6],m=s[7]);break}default:e.o("Unknown Segment type: "+n.type)}u=f,c=m}if(p){if(0!==h)return!0}else if(h%2!==0)return!0;h=0}return!1}Nw(t,e,i,n,s,r,o,a){if(w.Ei(s,r,o,a,.05,t,e))return NaN;const l=(t-i)*(r-a);if(0===l)return 0;const h=((t*n-e*i)*(s-o)-(t-i)*(s*a-r*o))/l,u=(t*n-e*i)*(r-a)/l;if(h>=t)return 0;if((s>o?s-o:o-s)<(r>a?r-a:a-r)){if(r<a){if(u<r||u>a)return 0}else if(u<a||u>r)return 0}else if(s<o){if(h<s||h>o)return 0}else if(h<o||h>s)return 0;return l>0?1:-1}DC(t,e,i){const n=this.figures.r,s=n.length;for(let r=0;r<s;r++)if(n[r].Xk(t,e,i))return!0;return!1}getPointAlongPath(t,e){if(t<0?t=0:t>1&&(t=1),void 0===e&&(e=new y),1===this.type)return e.i(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;const i=this.flattenedSegments,n=this.flattenedLengths,s=this.flattenedTotalLength,r=i.length,o=s*t;let a=0;for(let l=0;l<r;l++){const t=n[l],s=t.length;for(let n=0;n<s;n++){const s=t[n];if(a+s>=o){const t=o-a,r=0===s?0:t/s,h=i[l],u=h[2*n],c=h[2*n+1],d=h[2*n+2],f=h[2*n+3];return e.i(u+(d-u)*r,c+(f-c)*r),e}a+=s}}return e}getAngleAlongPath(t){if(t<0?t=0:t>1&&(t=1),1===this.type)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;const e=this.flattenedSegments,i=this.flattenedLengths,n=this.flattenedTotalLength,s=e.length,r=n*t;let o=0;for(let a=0;a<s;a++){const t=i[a],n=t.length;for(let i=0;i<n;i++){const n=t[i];if(o+n>=r){const t=e[a],n=t[2*i],s=t[2*i+1],r=t[2*i+2],o=t[2*i+3];return Math.abs(r-n)<1&&Math.abs(o-s)<1?0:Math.abs(r-n)<1?o-s>=0?90:270:Math.abs(o-s)<1?r-n>=0?0:180:180*Math.atan2(o-s,r-n)/Math.PI}o+=n}}return NaN}getPointAndAngleAlongPath(t,e){if(t<0?t=0:t>1&&(t=1),void 0===e&&(e=[]),e.length=3,1===this.type)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;const i=this.flattenedSegments,n=this.flattenedLengths,s=this.flattenedTotalLength,r=i.length,o=s*t;let a=0;for(let l=0;l<r;l++){const t=n[l],s=t.length;for(let n=0;n<s;n++){const s=t[n];if(a+s>=o){const t=o-a,r=0===s?0:t/s,h=i[l],u=h[2*n],c=h[2*n+1],d=h[2*n+2],f=h[2*n+3];let m;return e[0]=u+(d-u)*r,e[1]=c+(f-c)*r,m=Math.abs(d-u)<1&&Math.abs(f-c)<1?0:Math.abs(d-u)<1?f-c>=0?90:270:Math.abs(f-c)<1?d-u>=0?0:180:180*Math.atan2(f-c,d-u)/Math.PI,e[2]=m,e}a+=s}}return e}getFractionForPoint(t){if(1===this.type){const e=this.startX,i=this.startY,n=this.endX,s=this.endY;if(e===n&&i===s)return 0;{const r=t.x,o=t.y;let a=0,l=0;if(e===n)return i<s?(a=i,l=s):(a=s,l=i),o<=a?a===i?0:1:o>=l?l===i?0:1:Math.abs(o-i)/(l-a);if(i===s)return e<n?(a=e,l=n):(a=n,l=e),r<=a?a===e?0:1:r>=l?l===e?0:1:Math.abs(r-e)/(l-a);{const t=(n-e)**2+(s-i)**2,a=y.l();w.bl(e,i,n,s,r,o,a);const l=a.x,h=a.y;return y.e(a),Math.sqrt(((l-e)**2+(h-i)**2)/t)}}}if(2!==this.type){const e=this.flattenedSegments,i=this.flattenedLengths,n=this.flattenedTotalLength,s=y.l();let r=1/0,o=0,a=0;const l=e.length;let h=0,u=0;for(let d=0;d<l;d++){const n=e[d],l=i[d],c=n.length;for(let e=0;e<c;e+=2){const i=n[e],c=n[e+1];if(0===e){h=i,u=c;continue}w.bl(h,u,i,c,t.x,t.y,s);const d=(s.x-t.x)**2+(s.y-t.y)**2;d<r&&(r=d,o=a,o+=Math.sqrt((s.x-h)**2+(s.y-u)**2)),a+=l[(e-2)/2],h=i,u=c}}y.e(s);const c=o/n;return c<0?0:c>1?1:c}{const e=this.startX,i=this.startY,n=this.endX,s=this.endY;if(e===n&&i===s)return 0;{const r=n-e,o=s-i,a=2*r+2*o;let l=t.x,h=t.y;l=Math.min(Math.max(l,e),n),h=Math.min(Math.max(h,i),s);const u=Math.abs(l-e),c=Math.abs(l-n),d=Math.abs(h-i),f=Math.abs(h-s),m=Math.min(u,c,d,f);if(m===d)return l/a;if(m===c)return(r+h)/a;if(m===f)return(2*r+o-l)/a;if(m===u)return(2*r+2*o-h)/a}}return 0}get flattenedSegments(){return this.FC(),this.cc}FC(){if(null===this.cc){const t=this.cc=[],e=this.fu=[];this.nF(t,e)}}get flattenedLengths(){return this.FC(),this.fu}get flattenedTotalLength(){let t=this.uu;if(isNaN(t)){if(1===this.type){const e=Math.abs(this.endX-this.startX),i=Math.abs(this.endY-this.startY);t=Math.sqrt(e*e+i*i)}else if(2===this.type){const e=Math.abs(this.endX-this.startX),i=Math.abs(this.endY-this.startY);t=2*e+2*i}else{const e=this.flattenedLengths,i=e.length;t=0;for(let n=0;n<i;n++){const i=e[n],s=i.length;for(let e=0;e<s;e++)t+=i[e]}}this.uu=t}return t}Yk(t){const e=[];let i=0,n=0;const s=t.length;for(let r=0;r<s;r+=2){const s=t[r],o=t[r+1];if(0===r){i=s,n=o;continue}const a=Math.sqrt(y.distanceSquared(i,n,s,o));e.push(a),i=s,n=o}return e}nF(t,i){let n=[];const s=[];if(1===this.type)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.endY),t.push(n),s.push(Math.sqrt((this.startX-this.endX)**2+(this.startY-this.endY)**2)),i.push(s);else if(2===this.type)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.startY),n.push(this.endX),n.push(this.endY),n.push(this.startX),n.push(this.endY),n.push(this.startX),n.push(this.startY),t.push(n),s.push(Math.abs(this.startX-this.endX)),s.push(Math.abs(this.startY-this.endY)),s.push(Math.abs(this.startX-this.endX)),s.push(Math.abs(this.startY-this.endY)),i.push(s);else if(3===this.type){const e=new T;e.startX=this.endX,e.startY=(this.startY+this.endY)/2;const s=new P(5);s.startAngle=0,s.sweepAngle=360,s.centerX=(this.startX+this.endX)/2,s.centerY=(this.startY+this.endY)/2,s.radiusX=Math.abs(this.startX-this.endX)/2,s.radiusY=Math.abs(this.startY-this.endY)/2,e.add(s);const r=s.Ao(e),o=r.length;if(0===o)n.push(s.centerX),n.push(s.centerY);else{let t=e.startX,i=e.startY;for(let e=0;e<o;e++){const s=r[e];w.Yn(t,i,s[2],s[3],s[4],s[5],s[6],s[7],.5,n),t=s[6],i=s[7]}}t.push(n),i.push(this.Yk(n))}else{const s=this.figures.iterator;for(;s.next();){const r=s.value;n=[],n.push(r.startX),n.push(r.startY);let o=r.startX,a=r.startY,l=o,h=a;const u=r.segments.r,c=u.length;for(let s=0;s<c;s++){const c=u[s];switch(c.type){case 1:n.length>=4&&(t.push(n),i.push(this.Yk(n))),n=[],n.push(c.endX),n.push(c.endY),o=c.endX,a=c.endY,l=o,h=a;break;case 2:n.push(c.endX),n.push(c.endY),o=c.endX,a=c.endY;break;case 3:w.Yn(o,a,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,n),o=c.endX,a=c.endY;break;case 4:w.Vg(o,a,c.point1X,c.point1Y,c.endX,c.endY,.5,n),o=c.endX,a=c.endY;break;case 5:{const t=c.Ao(r),e=t.length;if(0===e){n.push(c.centerX),n.push(c.centerY),o=c.centerX,a=c.centerY;break}for(let i=0;i<e;i++){const e=t[i];w.Yn(o,a,e[2],e[3],e[4],e[5],e[6],e[7],.5,n),o=e[6],a=e[7]}break}case 6:{const t=c.Yh(r,o,a),e=t.length,i=c.endX,s=c.endY;if(0===e){n.push(i),n.push(s),o=i,a=s;break}for(let r=0;r<e;r++){const e=t[r];w.Yn(o,a,e[2],e[3],e[4],e[5],e[6],e[7],.5,n),o=e[6],a=e[7]}break}default:e.o("Segment not of valid type: "+c.type)}c.isClosed&&(n.push(l),n.push(h))}n.length>=4&&(t.push(n),i.push(this.Yk(n)))}}}get type(){return this.$}set type(t){this.$!==t&&(this.h&&e.D(this,t),this.$=t,4===t?this.Bs=new l:(null===S.Pw&&(S.Pw=(new l).u()),this.Bs=S.Pw),this.kt=!0)}get startX(){return this.ke}set startX(t){this.ke!==t&&(this.h&&e.D(this,t),this.ke=t,this.kt=!0)}get startY(){return this.Pe}set startY(t){this.Pe!==t&&(this.h&&e.D(this,t),this.Pe=t,this.kt=!0)}get endX(){return this.ie}set endX(t){this.ie!==t&&(this.h&&e.D(this,t),this.ie=t,this.kt=!0)}get endY(){return this.ee}set endY(t){this.ee!==t&&(this.h&&e.D(this,t),this.ee=t,this.kt=!0)}get figures(){return this.Bs}set figures(t){this.Bs!==t&&(this.h&&e.D(this,t),this.Bs=t,this.kt=!0)}add(t){return this.Bs.add(t),this}setSpots(t,i,n,s,r,o,a,l){return this.h&&e.D(this),this.Hn=new x(t,i,r,o).u(),this.jn=new x(n,s,a,l).u(),this}get spot1(){return this.Hn}set spot1(t){this.h&&e.D(this,t),this.Hn=t.N()}get spot2(){return this.jn}set spot2(t){this.h&&e.D(this,t),this.jn=t.N()}get defaultStretch(){return this.qn}set defaultStretch(t){this.qn=t}get bounds(){return this.Vk()&&this.Mw(),this.jg}}S.stringify=S.stringify,S.stringifyFixed=S.stringifyFixed,S.fillPath=S.fillPath,S.parse=S.parse;class T{n;ke;Pe;dc;Jg;Ve;constructor(t,e,i,n,s){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===s&&(s=!1),this.n=2|(i?4:0)|(n?8:0)|(s?16:0),this.ke=void 0!==t?t:0,this.Pe=void 0!==e?e:0,this.dc=new l,this.Jg=this.dc.ht,this.Ve=null}copy(){const t=new T;t.n=-2&this.n,t.ke=this.ke,t.Pe=this.Pe;const e=this.dc.r,i=e.length,n=t.dc;for(let s=0;s<i;s++){const t=e[s].copy();n.add(t)}return t.Jg=this.Jg,t.Ve=this.Ve,t}equalsApprox(t){if(!(t instanceof T)||!w.f(this.startX,t.startX)||!w.f(this.startY,t.startY))return!1;const e=this.segments.r,i=t.segments.r,n=e.length;if(n!==i.length)return!1;for(let s=0;s<n;s++){const t=e[s],n=i[s];if(!t.equalsApprox(n))return!1}return!0}toString(t){void 0===t&&(t=-1);let e="";if(t<0)e="M"+this.startX.toString()+" "+this.startY.toString();else{const i=e=>0===e?"0":e.toFixed(t);e="M"+i(this.startX)+" "+i(this.startY)}const i=this.segments.r,n=i.length;for(let s=0;s<n;s++){const n=i[s];e+=" "+n.toString(t)}return e}get h(){return 0!==(1&this.n)}set h(t){t?this.n|=1:this.n&=-2}get kt(){return 0!==(2&this.n)}set kt(t){t?this.n|=2:this.n&=-3}u(){this.h=!0;const t=this.segments;t.u();const e=t.r,i=t.length;for(let n=0;n<i;n++)e[n].u();return this}Vk(){if(this.kt)return!0;const t=this.segments;if(this.Jg!==t.ht)return!0;for(const e of t)if(e.kt)return!0;return!1}eF(){this.kt=!1,this.Ve=null;const t=this.segments;this.Jg=t.ht;for(const e of t)e.kt=!1,e.Us=null}get isFilled(){return 0!==(4&this.n)}set isFilled(t){this.h&&e.D(this,t),t?this.n|=4:this.n&=-5}get isShadowed(){return 0!==(8&this.n)}set isShadowed(t){this.h&&e.D(this,t),t?this.n|=8:this.n&=-9}get isEvenOdd(){return 0!==(16&this.n)}set isEvenOdd(t){this.h&&e.D(this,t),t?this.n|=16:this.n&=-17}get startX(){return this.ke}set startX(t){this.h&&e.D(this,t),this.ke=t,this.Ve=null,this.kt=!0}get startY(){return this.Pe}set startY(t){this.h&&e.D(this,t),this.Pe=t,this.Ve=null,this.kt=!0}get segments(){return this.dc}set segments(t){this.h&&e.D(this,t),this.dc=t,this.Ve=null,this.kt=!0}add(t){return this.dc.add(t),this.Ve=null,this}Xk(t,i,n){const s=this;let r=s.startX,o=s.startY,a=r,l=o;const h=s.segments.r,u=h.length;for(let c=0;c<u;c++){const u=h[c];switch(u.type){case 1:a=u.endX,l=u.endY,r=u.endX,o=u.endY;break;case 2:if(w.Ei(r,o,u.endX,u.endY,n,t,i))return!0;r=u.endX,o=u.endY;break;case 3:if(w.bw(r,o,u.point1X,u.point1Y,u.point2X,u.point2Y,u.endX,u.endY,.5,t,i,n))return!0;r=u.endX,o=u.endY;break;case 4:if(w.Bk(r,o,u.point1X,u.point1Y,u.endX,u.endY,.5,t,i,n))return!0;r=u.endX,o=u.endY;break;case 5:case 6:const h=5===u.type?u.Ao(s):u.Yh(s,r,o),c=h.length,d=5===u.type?u.centerX:u.endX,f=5===u.type?u.centerY:u.endY;if(0===c){if(w.Ei(r,o,d,f,n,t,i))return!0;r=d,o=f;break}let m=null;for(let e=0;e<c;e++)if(m=h[e],0===e&&w.Ei(r,o,m[0],m[1],n,t,i)||w.bw(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],.5,t,i,n))return!0;null!==m&&(r=m[6],o=m[7]);break;default:e.o("Unknown Segment type: "+u.type)}if(u.isClosed&&(r!==a||o!==l)&&w.Ei(r,o,a,l,n,t,i))return!0}return!1}}var D=(t=>(t[t.Move=1]="Move",t[t.Line=2]="Line",t[t.Bezier=3]="Bezier",t[t.QuadraticBezier=4]="QuadraticBezier",t[t.Arc=5]="Arc",t[t.SvgArc=6]="SvgArc",t))(D||{});class P{$;n;ie;ee;cn;Pl;Sl;yr;Us;constructor(t,e,i,n,s,r,o,a){if(u.qi(this),void 0===t&&(t=2),this.$=t,this.n=2,this.ie=void 0!==e?e:0,this.ee=void 0!==i?i:0,void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=0),6===t){let t=r;t%=360,t<0&&(t+=360),this.cn=t,this.Pl=0,this.Sl=Math.max(n,0),this.yr=Math.max(s,0),"boolean"==typeof o?o&&(this.isLargeArc=!0):"number"==typeof o&&o&&(this.isLargeArc=!0),a&&(this.isClockwiseArc=!0)}else this.cn=n,this.Pl=s,5===t&&(r=Math.max(r,0)),this.Sl=r,"number"==typeof o?(5===t&&(o=Math.max(o,0)),this.yr=o):this.yr=0;this.Us=null}copy(){const t=new P;return t.$=this.$,t.n=-2&this.n,t.ie=this.ie,t.ee=this.ee,t.cn=this.cn,t.Pl=this.Pl,t.Sl=this.Sl,t.yr=this.yr,t}equalsApprox(t){if(!(t instanceof P)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case 1:case 2:return w.f(this.endX,t.endX)&&w.f(this.endY,t.endY);case 3:return w.f(this.endX,t.endX)&&w.f(this.endY,t.endY)&&w.f(this.point1X,t.point1X)&&w.f(this.point1Y,t.point1Y)&&w.f(this.point2X,t.point2X)&&w.f(this.point2Y,t.point2Y);case 4:return w.f(this.endX,t.endX)&&w.f(this.endY,t.endY)&&w.f(this.point1X,t.point1X)&&w.f(this.point1Y,t.point1Y);case 5:return w.f(this.startAngle,t.startAngle)&&w.f(this.sweepAngle,t.sweepAngle)&&w.f(this.centerX,t.centerX)&&w.f(this.centerY,t.centerY)&&w.f(this.radiusX,t.radiusX)&&w.f(this.radiusY,t.radiusY);case 6:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&w.f(this.xAxisRotation,t.xAxisRotation)&&w.f(this.endX,t.endX)&&w.f(this.endY,t.endY)&&w.f(this.radiusX,t.radiusX)&&w.f(this.radiusY,t.radiusY);default:return!1}}hi(t){t in D?this.type=t:e.cr(this,t)}toString(t){void 0===t&&(t=-1);const e=e=>0===e?"0":e.toFixed(t);let i="";switch(this.type){case 1:i=t<0?"M"+this.endX.toString()+" "+this.endY.toString():"M"+e(this.endX)+" "+e(this.endY);break;case 2:i=t<0?"L"+this.endX.toString()+" "+this.endY.toString():"L"+e(this.endX)+" "+e(this.endY);break;case 3:i=t<0?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.point2X)+" "+e(this.point2Y)+" "+e(this.endX)+" "+e(this.endY);break;case 4:i=t<0?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.endX)+" "+e(this.endY);break;case 5:i=t<0?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+e(this.startAngle)+" "+e(this.sweepAngle)+" "+e(this.centerX)+" "+e(this.centerY)+" "+e(this.radiusX)+" "+e(this.radiusY);break;case 6:i=t<0?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+e(this.radiusX)+" "+e(this.radiusY)+" "+e(this.xAxisRotation)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+e(this.endX)+" "+e(this.endY);break;default:i=D[this.type]}return i+(this.isClosed?"z":"")}static Move=1;static Line=2;static Bezier=3;static QuadraticBezier=4;static Arc=5;static SvgArc=6;get h(){return 0!==(1&this.n)}set h(t){t?this.n|=1:this.n&=-2}get kt(){return 0!==(2&this.n)}set kt(t){t?this.n|=2:this.n&=-3}u(){return this.h=!0,this}close(){return this.isClosed=!0,this}Ao(t){if(null!==this.Us&&!1===t.kt)return this.Us;const e=this.radiusX;let i=this.radiusY;if(void 0===i&&(i=e),0===e||0===i)return this.Us=[],this.Us;const n=this.cn,s=this.Pl,r=w.SC(0,0,e<i?e:i,this.startAngle,this.startAngle+this.sweepAngle,!1);if(e!==i){const t=M.l();t.Ii(),e<i?t.nt(1,i/e):t.nt(e/i,1),S.AC(r,t),M.e(t)}const o=r.length;for(let a=0;a<o;a++){const t=r[a];t[0]+=n,t[1]+=s,t[2]+=n,t[3]+=s,t[4]+=n,t[5]+=s,t[6]+=n,t[7]+=s}return this.Us=r,this.Us}Yh(t,e,i){if(null!==this.Us&&!1===t.kt)return this.Us;if(0===this.radiusX||0===this.radiusY)return this.Us=[],this.Us;const n=e,s=i;let r=this.Sl,o=this.yr;0===r&&(r=1e-4),0===o&&(o=1e-4);const a=this.cn*(Math.PI/180),l=this.isLargeArc,h=this.isClockwiseArc,u=this.ie,c=this.ee,d=Math.cos(a),f=Math.sin(a),m=d*(n-u)/2+f*(s-c)/2,g=-f*(n-u)/2+d*(s-c)/2,p=m*m/(r*r)+g*g/(o*o);p>1&&(r*=Math.sqrt(p),o*=Math.sqrt(p));let y=(l===h?-1:1)*Math.sqrt((r*r*o*o-r*r*g*g-o*o*m*m)/(r*r*g*g+o*o*m*m));isNaN(y)&&(y=0);let _=y*r*g/o,v=y*-o*m/r;isNaN(_)&&(_=0),isNaN(v)&&(v=0);const b=(n+u)/2+d*_-f*v,x=(s+c)/2+f*_+d*v,k=(t,e)=>Math.sqrt(t*t+e*e),L=(t,e,i,n)=>(t*i+e*n)/(k(t,e)*k(i,n)),T=(t,e,i,n)=>(t*n<e*i?-1:1)*Math.acos(L(t,e,i,n)),D=T(1,0,(m-_)/r,(g-v)/o),P=(m-_)/r,Y=(g-v)/o,C=(-m-_)/r,N=(-g-v)/o;let A=T(P,Y,C,N);const O=L(P,Y,C,N);O<=-1?A=Math.PI:O>=1&&(A=0),!h&&A>0&&(A-=2*Math.PI),h&&A<0&&(A+=2*Math.PI);const F=r>o?r:o,R=r>o?1:r/o,E=r>o?o/r:1,I=w.SC(0,0,F,D,D+A,!0),j=M.l();return j.Ii(),j.Es(b,x),j.ds(this.cn,0,0),j.nt(R,E),S.AC(I,j),M.e(j),this.Us=I,this.Us}get isClosed(){return 0!==(8&this.n)}set isClosed(t){this.isClosed!==t&&(t?this.n|=8:this.n&=-9,this.kt=!0)}get type(){return this.$}set type(t){this.h&&e.D(this,t),this.$=t,this.kt=!0}get endX(){return this.ie}set endX(t){this.h&&e.D(this,t),this.ie=t,this.kt=!0}get endY(){return this.ee}set endY(t){this.h&&e.D(this,t),this.ee=t,this.kt=!0}get point1X(){return this.cn}set point1X(t){this.h&&e.D(this,t),this.cn=t,this.kt=!0}get point1Y(){return this.Pl}set point1Y(t){this.h&&e.D(this,t),this.Pl=t,this.kt=!0}get point2X(){return this.Sl}set point2X(t){this.h&&e.D(this,t),this.Sl=t,this.kt=!0}get point2Y(){return this.yr}set point2Y(t){this.h&&e.D(this,t),this.yr=t,this.kt=!0}get centerX(){return this.cn}set centerX(t){this.h&&e.D(this,t),this.cn=t,this.kt=!0}get centerY(){return this.Pl}set centerY(t){this.h&&e.D(this,t),this.Pl=t,this.kt=!0}get radiusX(){return this.Sl}set radiusX(t){t<0&&e._(t,">= zero",P,"radiusX"),this.h&&e.D(this,t),this.Sl=t,this.kt=!0}get radiusY(){return this.yr}set radiusY(t){t<0&&e._(t,">= zero",P,"radiusY"),this.h&&e.D(this,t),this.yr=t,this.kt=!0}get startAngle(){return this.ie}set startAngle(t){this.h&&e.D(this,t),t%=360,t<0&&(t+=360),this.ie=t,this.kt=!0}get sweepAngle(){return this.ee}set sweepAngle(t){this.h&&e.D(this,t),t>360&&(t=360),t<-360&&(t=-360),this.ee=t,this.kt=!0}get isClockwiseArc(){return 0!==(4&this.n)}set isClockwiseArc(t){this.h&&e.D(this,t),t?this.n|=4:this.n&=-5,this.kt=!0}get isLargeArc(){return 0!==(16&this.n)}set isLargeArc(t){this.h&&e.D(this,t),t?this.n|=16:this.n&=-17,this.kt=!0}get xAxisRotation(){return this.cn}set xAxisRotation(t){this.h&&e.D(this,t),t%=360,t<0&&(t+=360),this.cn=t,this.kt=!0}}class Y{L;Cw;Lw;$g;Zg;Qg;_g;tm;im;em;sm;nm;om;rm;To;lm;hm;am;Se;constructor(){this.L=null,this.Cw=new y(0,0).u(),this.Lw=new y(0,0).u(),this.$g=0,this.Zg=0,this.Qg=1,this._g="",this.tm="",this.im=!1,this.em=!1,this.sm=0,this.nm=0,this.om=!1,this.rm=!1,this.To=!1,this.lm=null,this.hm=0,this.am=null,this.Se=null}copy(){const t=new Y;return this.clone(t)}clone(t){return t.L=this.L,t.Cw.a(this.viewPoint),t.Lw.a(this.documentPoint),t.$g=this.$g,t.Zg=this.Zg,t.Qg=this.Qg,t._g=this._g,t.tm=this.tm,t.im=this.im,t.em=this.em,t.sm=this.sm,t.nm=this.nm,t.om=this.om,t.rm=this.rm,t.To=this.To,t.lm=this.lm,t.hm=this.hm,t.am=this.am,t.Se=this.Se,t}toString(){let t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t}get diagram(){return this.L}set diagram(t){this.L=t}get viewPoint(){return this.Cw}set viewPoint(t){this.Cw.a(t)}get documentPoint(){return this.Lw}set documentPoint(t){this.Lw.a(t)}getMultiTouchViewPoint(t,e){const i=this.diagram;return null===i||i.RC(this.event,t,e),e}getMultiTouchDocumentPoint(t,e){const i=this.diagram;return null===i||(i.RC(this.event,t,e),e.a(i.transformViewToDoc(e))),e}get modifiers(){return this.$g}set modifiers(t){this.$g=t}get button(){return this.Zg}set button(t){if(this.Zg=t,null===this.event)switch(t){case 0:return void(this.buttons=1);case 1:return void(this.buttons=4);case 2:return void(this.buttons=2)}}get buttons(){return this.Qg}set buttons(t){this.Qg=t}get key(){return this._g}set key(t){this._g=t}get code(){return this.tm}set code(t){this.tm=t}get down(){return this.im}set down(t){this.im=t}get up(){return this.em}set up(t){this.em=t}get clickCount(){return this.sm}set clickCount(t){this.sm=t}get delta(){return this.nm}set delta(t){this.nm=t}get isMultiTouch(){return this.om}set isMultiTouch(t){this.om=t}get handled(){return this.rm}set handled(t){this.rm=t}get bubbles(){return this.To}set bubbles(t){this.To=t}get event(){return this.lm}set event(t){this.lm=t}get isTouchEvent(){const t=this.event;return null!==t&&("touch"===t.pointerType||"pen"===t.pointerType)}get timestamp(){return this.hm}set timestamp(t){this.hm=t}get targetDiagram(){return this.am}set targetDiagram(t){this.am=t}get targetObject(){return this.Se}set targetObject(t){this.Se=t}get control(){return 0!==(1&this.modifiers)}set control(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}get shift(){return 0!==(4&this.modifiers)}set shift(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}get alt(){return 0!==(2&this.modifiers)}set alt(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}get meta(){return 0!==(8&this.modifiers)}set meta(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}get left(){const t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(1&this.buttons):0===this.button}set left(t){t?this.buttons|=1:this.buttons&=-2}get right(){const t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(2&this.buttons):2===this.button}set right(t){t?this.buttons|=2:this.buttons&=-3}get middle(){const t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(4&this.buttons):1===this.button}set middle(t){t?this.buttons|=4:this.buttons&=-5}get commandKey(){const t=this.code,e=this.key;return"cxvyzagCXVYZAG".includes(e)?e.toLowerCase():"KeyC"===t?"c":"KeyX"===t?"x":"KeyV"===t?"v":"KeyY"===t?"y":"KeyZ"===t?"z":"KeyA"===t?"a":"KeyG"===t?"g":""!==t?t:e}}class C{L;Nt;cm;fm;constructor(){this.L=null,this.Nt="",this.cm=null,this.fm=null}copy(){const t=new C;return t.L=this.L,t.Nt=this.Nt,t.cm=this.cm,t.fm=this.fm,t}toString(){let t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t}get diagram(){return this.L}set diagram(t){this.L=t}get name(){return this.Nt}set name(t){this.Nt=t}get subject(){return this.cm}set subject(t){this.cm=t}get parameter(){return this.fm}set parameter(t){this.fm=t}}var N=(t=>(t[t.Transaction=1]="Transaction",t[t.Property=2]="Property",t[t.Insert=3]="Insert",t[t.Remove=4]="Remove",t))(N||{});class A{gu;um;fn;Mi;L;mu;gc;mc;pc;yc;constructor(){this.gu=2,this.um="",this.fn="",this.Mi=null,this.L=null,this.mu=null,this.gc=null,this.mc=null,this.pc=null,this.yc=null}static Transaction=1;static Property=2;static Insert=3;static Remove=4;clear(){this.Mi=null,this.L=null,this.mu=null,this.gc=null,this.mc=null,this.pc=null,this.yc=null}copy(){const t=new A;t.gu=this.gu,t.um=this.um,t.fn=this.fn,t.Mi=this.Mi,t.L=this.L,t.mu=this.mu;let i=this.gc;return e.H(i)&&e.ot(i.copyFrozen)?t.gc=i.copyFrozen():t.gc=i,i=this.mc,e.H(i)&&e.ot(i.copyFrozen)?t.mc=i.copyFrozen():t.mc=i,i=this.pc,e.H(i)&&e.ot(i.copyFrozen)?t.pc=i.copyFrozen():t.pc=i,i=this.yc,e.H(i)&&e.ot(i.copyFrozen)?t.yc=i.copyFrozen():t.yc=i,t}hi(t){t in N?this.change=t:e.cr(this,t)}toString(){let t="";return 1===this.change?t+="* ":2===this.change?t+=null!==this.model?"!m":"!d":t+=(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",1===this.change?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=e.toString(this.object)),null!==this.oldValue&&(t+="  old: "+e.toString(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+e.toString(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t}getValue(t){return t?this.oldValue:this.newValue}getParam(t){return t?this.oldParam:this.newParam}canUndo(){return null!==this.model||null!==this.diagram}undo(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.vC(this,!0))}canRedo(){return null!==this.model||null!==this.diagram}redo(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.vC(this,!1))}get model(){return this.Mi}set model(t){this.Mi=t}get diagram(){return this.L}set diagram(t){this.L=t}get change(){return this.gu}set change(t){this.gu=t}get modelChange(){return this.um}set modelChange(t){this.um=t}get propertyName(){return this.fn}set propertyName(t){this.fn=t}get isTransactionFinished(){return 1===this.gu&&("CommittedTransaction"===this.fn||"FinishedUndo"===this.fn||"FinishedRedo"===this.fn)}get object(){return this.mu}set object(t){this.mu=t}get oldValue(){return this.gc}set oldValue(t){this.gc=t}get oldParam(){return this.mc}set oldParam(t){this.mc=t}get newValue(){return this.pc}set newValue(t){this.pc=t}get newParam(){return this.yc}set newParam(t){this.yc=t}}class O{OC;Nt;Kk;constructor(){this.OC=(new l).u(),this.Nt="",this.Kk=!1}toString(t){let e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&t>0){const t=this.changes.count;for(let i=0;i<t;i++){const t=this.changes.elt(i);null!==t&&(e+="\n  "+t.toString())}}return e}clear(){const t=this.changes;t.At();for(let e=t.count-1;e>=0;e--){const i=t.elt(e);null!==i&&i.clear()}t.clear(),t.u()}canUndo(){return this.isComplete}undo(){if(this.canUndo())for(let t=this.changes.count-1;t>=0;t--){const e=this.changes.elt(t);null!==e&&e.undo()}}canRedo(){return this.isComplete}redo(){if(!this.canRedo())return;const t=this.changes.count;for(let e=0;e<t;e++){const t=this.changes.elt(e);null!==t&&t.redo()}}oF(t){const e=this.changes;for(let i=e.count-1;i>=t;i--){const t=e.elt(i);null!==t&&t.undo(),e.At(),e.removeAt(i)}e.u()}optimize(){if(!this.isComplete)return;const t=this.changes;t.At();const e=new p;for(let n=0;n<t.count;n++){const i=t.elt(n);if(null===i||2!==i.change||!i.object)continue;let s=e.get(i.object);s||(s=new p,e.set(i.object,s));const r=s.get(i.propertyName);null===r?s.set(i.propertyName,-1):(r>0&&t.setElt(r,null),s.set(i.propertyName,n))}let i=0;for(let n=0;n<t.count;n++){const e=t.elt(n);null!==e&&(n>i&&t.setElt(i,e),i++)}for(;t.length>i;)t.pop();t.u()}get changes(){return this.OC}get name(){return this.Nt}set name(t){this.Nt=t}get isComplete(){return this.Kk}set isComplete(t){this.Kk=t}}class F{Aw;Bi;IC;Vs;Gk;dm;Wn;Hk;jk;un;wc;Tw;zs;Dw;Fw;gm;Rw;constructor(t){this.Aw=new u,this.Bi=!1,this.IC=(new l).u(),this.Vs=-1,this.Gk=999,this.zs=!1,this.dm=null,this.Wn=0,this.Hk=!1,this.jk=23,this.un=(new l).u(),this.wc=new l,this.Tw=!0,this.Dw=!1,this.Fw=!1,this.gm=!1,this.Rw=!1,t&&Object.assign(this,t)}toString(t){let e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";let i=this.nestedTransactionNames.count;for(let n=0;n<i;n++)n>0&&(e+=" "),e+=this.nestedTransactionNames.elt(n);if(e+="]",void 0!==t&&t>0){i=this.history.count;for(let n=0;n<i;n++)e+="\n "+this.history.elt(n).toString(t-1)}return e}clear(){const t=this.history;t.At();for(let e=t.count-1;e>=0;e--){const i=t.elt(e);null!==i&&i.clear()}t.clear(),this.Vs=-1,t.u(),this.zs=!1,this.dm=null,this.Wn=0,this.un.At(),this.un.clear(),this.un.u(),this.wc.clear(),this.Dw=!1,this.Fw=!1,this.gm=!1,this.Rw=!1}copyProperties(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.mm=t.mm}addModel(t){this.Aw.add(t)}removeModel(t){this.Aw.delete(t)}startTransaction(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Tw&&(this.Tw=!1,this.Wn++,this.Ml||this.Nl("StartingFirstTransaction",t,this.currentTransaction),this.Wn>0&&this.Wn--),this.isEnabled&&(this.un.At(),this.un.add(t),this.un.u(),null===this.currentTransaction?this.wc.add(0):this.wc.add(this.currentTransaction.changes.count)),this.Wn++;const e=1===this.transactionLevel;return e&&(this.Ml||this.Nl("StartedTransaction",t,this.currentTransaction)),e}commitTransaction(t){return void 0===t&&(t=""),this.EC(!0,t)}rollbackTransaction(){return this.EC(!1,"")}EC(t,i){if(this.isUndoingRedoing)return!1;this.mm&&this.transactionLevel<1&&e.li("Ending transaction without having started a transaction: "+i);const n=1===this.transactionLevel;let s=this.currentTransaction;n&&t&&(this.Ml||this.Nl("CommittingTransaction",i,s));let r=0;if(this.transactionLevel>0&&(this.Wn--,this.isEnabled)){const t=this.un.count;t>0&&(""===i&&(i=this.un.elt(0)),this.un.At(),this.un.removeAt(t-1),this.un.u());const e=this.wc.count;e>0&&(r=this.wc.elt(e-1),this.wc.removeAt(e-1))}if(n){if(t){if(this.gm=!1,null===s&&""!==i&&(s=this.currentTransaction),this.isEnabled&&null!==s){const t=s;t.isComplete||(t.isComplete=!0,t.name=i),this.discardHistoryAfterIndex();const e=this.history;e.At();const n=this.maxHistoryLength;if(n>=0)if(0===n)e.clear();else if(e.count>=n){const t=e.elt(0);null!==t&&t.clear(),e.removeAt(0),this.Vs--}0!==n&&(0===e.count||e.get(e.count-1)!==t)&&(e.add(t),this.Vs++),e.u(),s=t}this.Ml||this.Nl("CommittedTransaction",i,s)}else{this.zs=!0;try{this.isEnabled&&null!==s&&(s.isComplete=!0,s.undo())}finally{this.Ml||this.Nl("RolledBackTransaction",i,s),this.zs=!1}null!==s&&s.clear()}return this.dm=null,this.vw&&this.clear(),this.vw=!1,this.Ow=!1,!0}return this.isEnabled&&!t&&null!==s&&s.oF(r),!1}discardHistoryAfterIndex(){if(this.isUndoingRedoing||!this.canRedo())return;const t=this.history;t.At();for(let e=t.count-1;e>this.historyIndex;e--){const i=t.elt(e);null!==i&&i.clear(),t.removeAt(e),this.gm=!0}t.u()}pE(t){this.Wn+=t,this.Wn<0&&(this.Wn=0)}canUndo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const t=this.transactionToUndo;return!(null===t||!t.canUndo())}undo(){if(!this.canUndo())return;const t=this.transactionToUndo;try{this.zs=!0,this.Nl("StartingUndo","Undo",t),this.Vs--,t.undo()}catch(i){e.li("undo error: "+i.toString())}finally{this.Nl("FinishedUndo","Undo",t),this.zs=!1}}canRedo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const t=this.transactionToRedo;return!(null===t||!t.canRedo())}redo(){if(!this.canRedo())return;const t=this.transactionToRedo;try{this.zs=!0,this.Nl("StartingRedo","Redo",t),this.Vs++,t.redo()}catch(i){e.li("redo error: "+i.toString())}finally{this.Nl("FinishedRedo","Redo",t),this.zs=!1}}Nl(t,e,i){void 0===i&&(i=null);const n=new A;n.change=1,n.propertyName=t,n.object=i,n.oldValue=e;const s=this.models;for(;s.next();){const t=s.value;n.model=t,t.rF(n)}}handleChanged(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){let i=this.currentTransaction;null===i&&(i=new O,this.dm=i);const n=t.copy(),s=i.changes;if(s.At(),s.add(n),s.u(),this.mm&&this.jk>0&&this.transactionLevel<=0&&!this.Tw){const i=t.diagram;if(null!==i&&!1===i.Kh)return;e.li("Change not within a transaction: "+n.toString()),this.jk--}}}skipsEvent(t){if(null===t||1===t.change)return!0;const e=t.object;if(null===e)return!1;if(void 0!==e.layer){const t=e.layer;if(null!==t&&t.isTemporary)return!0}else if(e.isTemporary)return!0;return!1}get models(){return this.Aw.iterator}get isEnabled(){return this.Bi}set isEnabled(t){this.Bi=t}get transactionToUndo(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.elt(this.historyIndex):null}get transactionToRedo(){return this.historyIndex<this.history.count-1?this.history.elt(this.historyIndex+1):null}get isUndoingRedoing(){return this.zs}get history(){return this.IC}get maxHistoryLength(){return this.Gk}set maxHistoryLength(t){this.Gk=t}get historyIndex(){return this.Vs}get currentTransaction(){return this.dm}get transactionLevel(){return this.Wn}get isInTransaction(){return this.Wn>0}get mm(){return this.Hk}set mm(t){this.Hk=t}get nestedTransactionNames(){return this.un}get vw(){return this.Dw}set vw(t){this.Dw=t}get Ow(){return this.Fw}set Ow(t){this.Fw=t}get Ml(){return this.Rw}set Ml(t){this.Rw=t}get isJustDiscarded(){return this.gm}}class R{L;Nt;Bi;qk;Wk;pm;BC;constructor(){u.qi(this),this.L=_t.ym(),this.Nt="",this.Bi=!0,this.qk=!1,this.Wk=null,this.BC=new Y,this.pm=-1}get diagram(){return this.L}set diagram(t){t instanceof _t&&(this.L=t)}toString(){return""!==this.name?this.name+" Tool":e.Vn(this.constructor)}updateAdornments(t){}canStart(){return this.isEnabled}doStart(){}doActivate(){this.isActive=!0}doDeactivate(){this.isActive=!1}doStop(){}doCancel(){this.transactionResult=null,this.stopTool()}stopTool(){const t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")}doMouseDown(){!this.isActive&&this.canStart()&&this.doActivate()}doMouseMove(){}doMouseUp(){this.stopTool()}doMouseWheel(){}canStartMultiTouch(){return!0}standardPinchZoomStart(){const t=this.diagram,e=t.lastInput,i=e.getMultiTouchViewPoint(0,y.X(NaN,NaN)),n=e.getMultiTouchViewPoint(1,y.X(NaN,NaN));if(!i.isReal()||!n.isReal())return y.e(i),void y.e(n);if(this.doCancel(),t.getInputOption("hasGestureZoom")){t.Jk=t.scale;const s=n.x-i.x,r=n.y-i.y,o=Math.sqrt(s*s+r*r);t.$k=o,e.bubbles=!1}y.e(i),y.e(n)}standardPinchZoomMove(){const t=this.diagram,e=t.lastInput,i=e.getMultiTouchViewPoint(0,y.X(NaN,NaN)),n=e.getMultiTouchViewPoint(1,y.X(NaN,NaN));if(!i.isReal()||!n.isReal())return y.e(i),void y.e(n);if(this.doCancel(),t.getInputOption("hasGestureZoom")){const s=n.x-i.x,r=n.y-i.y,o=Math.sqrt(s*s+r*r)/t.$k,a=new y((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2),l=t.Jk*o,h=t.commandHandler;if(l!==t.scale&&h.canResetZoom(l)){const e=t.zoomPoint;t.zoomPoint=a,h.resetZoom(l),t.zoomPoint=e}e.bubbles=!1}y.e(i),y.e(n)}doKeyDown(){"Escape"===this.diagram.lastInput.code&&this.doCancel()}doKeyUp(){}startTransaction(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.startTransaction(t)}stopTransaction(){const t=this.diagram;return null===this.transactionResult?t.rollbackTransaction():t.commitTransaction(this.transactionResult)}standardMouseSelect(){const t=this.diagram;if(!t.allowSelect)return;const i=t.lastInput,n=t.findPartAt(i.documentPoint,!1);if(null!==n){if(e.hr?i.meta:i.control){t.v("ChangingSelection",t.selection);let e=n;for(;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.v("ChangedSelection",t.selection)}else if(i.shift){if(!n.isSelected){t.v("ChangingSelection",t.selection);let e=n;for(;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.v("ChangedSelection",t.selection)}}else if(!n.isSelected){let e=n;for(;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else i.left&&!(e.hr?i.meta:i.control)&&!i.shift&&t.clearSelection()}standardMouseClick(t,e){void 0===t&&(t=null),void 0===e&&(e=t=>!t.layer?.isTemporary);const i=this.diagram,n=i.lastInput,s=i.findObjectAt(n.documentPoint,t,e);return n.targetObject=s,this.lF(s,n,i),n.handled}lF(t,e,i){if(e.handled=!1,null!==t&&!t.isEnabledObject())return;let n=0;e.left?n=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(n=3);let s="ObjectSingleClicked";if(null!==t){switch(n){case 1:s="ObjectSingleClicked";break;case 2:s="ObjectDoubleClicked";break;case 3:s="ObjectContextClicked";break}0!==n&&i.v(s,t)}else{switch(n){case 1:s="BackgroundSingleClicked";break;case 2:s="BackgroundDoubleClicked";break;case 3:s="BackgroundContextClicked";break}0!==n&&i.v(s)}if(null!==t)for(;null!==t;){let i=null;switch(n){case 1:i=t.click;break;case 2:i=t.doubleClick?t.doubleClick:t.click;break;case 3:i=t.contextClick;break}if(null!==i&&(i(e,t),e.handled))break;t=t.panel}else{let t=null;switch(n){case 1:t=i.click;break;case 2:t=i.doubleClick?i.doubleClick:i.click;break;case 3:t=i.contextClick;break}null!==t&&t(e)}}standardMouseOver(){const t=this.diagram,e=t.lastInput;if(!0===t.animationManager.xi)return;const i=t.skipsUndoManager;t.skipsUndoManager=!0;let n=t.viewportBounds.containsPoint(e.documentPoint)?t.findObjectAt(e.documentPoint,null,null):null;e.event&&("pointercancel"===e.event.type||"pointerout"===e.event.type)&&(n=null),e.targetObject=n;let s=!1;if(n!==t.xc){let i=t.xc;const r=i;for(t.xc=n,this.doCurrentObjectChanged(i,n),e.handled=!1;null!==i;){const t=i.mouseLeave;if(null!==t&&(n===i||null!==n&&n.isContainedBy(i)||(t(e,i,n),s=!0,e.handled)))break;i=i.panel}for(i=r,e.handled=!1;null!==n;){const t=n.mouseEnter;if(null!==t&&(i===n||null!==i&&i.isContainedBy(n)||(t(e,n,i),s=!0,e.handled)))break;n=n.panel}n=t.xc}if(null!==n){let i=n,r="";for(;null!==i&&(r=i.cursor,""===r);)i=i.panel;for(t.currentCursor=r,e.handled=!1,i=n;null!==i;){const t=i.mouseOver;if(null!==t&&(t(e,i),s=!0,e.handled))break;i=i.panel}}else{this.doUpdateCursor(null);const i=t.mouseOver;null!==i&&(i(e),s=!0)}s&&t.requestUpdate(),t.skipsUndoManager=i}doUpdateCursor(t){const e=this.diagram;e&&(e.currentCursor="")}doCurrentObjectChanged(t,e){}standardMouseWheel(){const t=this.diagram,e=t.lastInput;let i=e.delta;if(0===i||!t.documentBounds.isReal())return;const n=t.commandHandler,s=t.toolManager.mouseWheelBehavior;if(null!==n&&(2===s&&!e.shift||1===s&&e.control)){if(i>0?n.canIncreaseZoom():n.canDecreaseZoom()){const s=t.zoomPoint;t.zoomPoint=e.viewPoint,i>0?n.increaseZoom():n.decreaseZoom(),t.zoomPoint=s}e.bubbles=!1}else if(2===s&&e.shift||1===s&&!e.control){const n=t.position.copy(),s=e.event,r=s.deltaMode;let o=s.deltaX,a=s.deltaY,l="pixel";if(0===o&&0===a||e.shift)!e.shift&&t.allowVerticalScroll?(i=3*i*t.scrollVerticalLineChange,t.scroll(l,i>0?"up":"down",Math.abs(i))):e.shift&&t.allowHorizontalScroll&&(i=3*i*t.scrollHorizontalLineChange,t.scroll(l,i>0?"left":"right",Math.abs(i)));else{switch(r){case 0:l="pixel";break;case 1:l="line";break;case 2:l="page";break}if(0!==o&&t.allowHorizontalScroll){const e=t.scrollHorizontalLineChange;o*=e/16,t.scroll(l,o>0?"right":"left",Math.abs(o))}if(0!==a&&t.allowVerticalScroll){const e=t.scrollVerticalLineChange;a*=e/16,t.scroll(l,a>0?"down":"up",Math.abs(a))}}this.doWheelChange(t,n,e)}}doWheelChange(t,e,i){(!t.position.equals(e)||0!==i.event.wheelDeltaX)&&(i.bubbles=!1)}standardWaitAfter(t,i){void 0===i&&(i=this.diagram.lastInput),this.cancelWaitAfter();const n=this,s=i.clone(this.BC);this.pm=e.ar((()=>n.doWaitAfter(s)),t)}cancelWaitAfter(){-1!==this.pm&&e.Og(this.pm),this.pm=-1}doWaitAfter(t){}findToolHandleAt(t,e){const i=this.diagram.findObjectAt(t,(t=>{for(;null!==t&&!(t.panel instanceof ke);)t=t.panel;return t}));return null===i?null:i.part.category===e?i:null}isBeyondDragSize(t,e){const i=this.diagram;void 0===t&&(t=i.firstInput.viewPoint),void 0===e&&(e=i.lastInput.viewPoint);const n=i.toolManager.dragSize;let s=n.width,r=n.height;return i.firstInput.isTouchEvent&&(s+=6,r+=6),Math.abs(e.x-t.x)>s||Math.abs(e.y-t.y)>r}get name(){return this.Nt}set name(t){e.s(t,"string",R,"name"),this.Nt=t}get isEnabled(){return this.Bi}set isEnabled(t){e.s(t,"boolean",R,"isEnabled"),this.Bi=t}get isActive(){return this.qk}set isActive(t){e.s(t,"boolean",R,"isActive"),this.qk=t}get transactionResult(){return this.Wk}set transactionResult(t){null!==t&&e.s(t,"string",R,"transactionResult"),this.Wk=t}}var E=(t=>(t[t.Scroll=1]="Scroll",t[t.Zoom=2]="Zoom",t[t.None=3]="None",t))(E||{}),I=(t=>(t[t.Zoom=1]="Zoom",t[t.Cancel=2]="Cancel",t[t.None=3]="None",t))(I||{});class j extends R{UC;VC;zC;Zk;Qk;_k;tP;iP;eP;sP;wm;Gh;constructor(t){super(),this.name="ToolManager",this.UC=new l,this.VC=new l,this.zC=new l,this.Zk=850,this.Qk=850,this._k=new _(2,2).it(),this.tP=5e3,this.iP=1,this.eP=1,this.sP=null,this.wm=null,this.Gh=-1,t&&Object.assign(this,t)}static WheelScroll=1;static WheelZoom=2;static WheelNone=3;static GestureZoom=1;static GestureCancel=2;static GestureNone=3;get mouseWheelBehavior(){return this.iP}set mouseWheelBehavior(t){this.iP=t}get gestureBehavior(){return this.eP}set gestureBehavior(t){this.eP=t}initializeStandardTools(){}updateAdornments(t){const e=this.currentToolTip;if(e instanceof ke&&this.wm===t){const i=e.adornedObject;(null!==t?null!==i&&i.part===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}}doMouseDown(){const t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&2===this.gestureBehavior&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),3===this.gestureBehavior)return void(e.bubbles=!0);if(2===this.gestureBehavior)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}t.undoManager;const i=this.mouseDownTools.length;for(let n=0;n<i;n++){const e=this.mouseDownTools.elt(n);if(e.diagram=this.diagram,e.canStart())return t.doFocus(),t.currentTool=e,void(t.currentTool===e&&(e.isActive||e.doActivate(),e.doMouseDown()))}1===t.lastInput.button&&(1===this.mouseWheelBehavior?this.mouseWheelBehavior=2:2===this.mouseWheelBehavior&&(this.mouseWheelBehavior=1)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)}doMouseMove(){const t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(3===this.gestureBehavior)return void(e.bubbles=!0);if(2===this.gestureBehavior)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive){const e=this.mouseMoveTools.length;for(let i=0;i<e;i++){const e=this.mouseMoveTools.elt(i);if(e.diagram=this.diagram,e.canStart())return t.doFocus(),t.currentTool=e,void(t.currentTool===e&&(e.isActive||e.doActivate(),e.doMouseMove()))}}this.standardMouseActivity(t);const i=e.event;null!==i&&("pointermove"===i.type||!i.cancelable)&&(e.bubbles=!0)}standardMouseActivity(t){this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.isActive?this.holdDelay:this.hoverDelay,t.lastInput)}doCurrentObjectChanged(t,e){const i=this.currentToolTip;null!==i&&(null!==e&&i instanceof ke&&(e===i||e.isContainedBy(i))||this.hideToolTip())}doWaitAfter(t){const e=this.diagram;if(e.hF()&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled)){const i=t.copy();return i.button=2,e.lastInput=i,e.Iw=!0,void e.doMouseUp()}}doMouseHover(){const t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.findObjectAt(e.documentPoint,null,null));let i=e.targetObject;if(null!==i)for(e.handled=!1;null!==i;){const t=this.isActive?i.mouseHold:i.mouseHover;if(null!==t&&(t(e,i),e.handled))break;i=i.panel}else{const i=this.isActive?t.mouseHold:t.mouseHover;null!==i&&i(e)}}doToolTip(){const t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.findObjectAt(e.documentPoint,null,null));let i=e.targetObject;if(null!==i){const t=this.currentToolTip;if(t instanceof ke&&(i===t||i.isContainedBy(t)))return;for(;null!==i;){const t=i.toolTip;if(null!==t)return void this.showToolTip(t,i);i=i.panel}this.hideToolTip()}else{const e=t.toolTip;null!==e?this.showToolTip(e,null):this.hideToolTip()}}showToolTip(t,i){const n=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof ke){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category="ToolTip",t.hasPlaceholder()&&(t.placeholder.scale=n.scale);const e=t.diagram;null!==e&&e!==n&&e.remove(t),n.add(t),null!==i?t.adornedObject=i:t.data=n.model,t.ensureBounds(),this.positionToolTip(t,i)}else t instanceof tt&&t!==this.currentToolTip&&null!==t.show&&t.show(i,n,this);this.currentToolTip=t,-1!==this.Gh&&(e.Og(this.Gh),this.Gh=-1);const s=this.toolTipDuration;if(s>0&&s!==1/0){const t=this;this.Gh=e.ar((()=>t.hideToolTip()),s)}}positionToolTip(t,e){if(t.hasPlaceholder())return;const i=t,n=this.diagram,s=n.lastInput.documentPoint.copy(),r=i.measuredBounds,o=n.viewportBounds;n.lastInput.isTouchEvent&&(s.x-=r.width),s.x+r.width>o.right&&(s.x-=r.width+5/n.scale),s.x<o.x&&(s.x=o.x),s.y+20/n.scale+r.height>o.bottom?s.y-=r.height+5/n.scale:s.y+=20/n.scale,s.y<o.y&&(s.y=o.y),i.position=s}hideToolTip(){-1!==this.Gh&&(e.Og(this.Gh),this.Gh=-1);const t=this.diagram,i=this.currentToolTip;null!==i&&(i instanceof ke?(t.remove(i),null!==this.wm&&this.wm.removeAdornment(i.category),i.data=null,i.adornedObject=null):i instanceof tt&&null!==i.hide&&i.hide(t,this),this.currentToolTip=null)}get currentToolTip(){return this.sP}set currentToolTip(t){this.sP=t,this.wm=null!==t&&t instanceof ke?t.adornedPart:null}doMouseUp(){this.cancelWaitAfter();const t=this.diagram;if(this.isActive){const e=this.mouseUpTools.length;for(let i=0;i<e;i++){const e=this.mouseUpTools.elt(i);if(e.diagram=this.diagram,e.canStart())return t.doFocus(),t.currentTool=e,void(t.currentTool===e&&(e.isActive||e.doActivate(),e.doMouseUp()))}}t.doFocus(),this.doDeactivate()}doMouseWheel(){this.standardMouseWheel()}doKeyDown(){const t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()}doKeyUp(){const t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()}findTool(t){e.s(t,"string",j,"findTool:name");let i=this.mouseDownTools.length;for(let e=0;e<i;e++){const i=this.mouseDownTools.elt(e);if(i.name===t)return i}i=this.mouseMoveTools.length;for(let e=0;e<i;e++){const i=this.mouseMoveTools.elt(e);if(i.name===t)return i}i=this.mouseUpTools.length;for(let e=0;e<i;e++){const i=this.mouseUpTools.elt(e);if(i.name===t)return i}return null}replaceTool(t,i){e.s(t,"string",j,"replaceTool:name"),null!==i&&(i.diagram=this.diagram);let n=this.mouseDownTools.length;for(let e=0;e<n;e++){const n=this.mouseDownTools.elt(e);if(n.name===t)return null!==i?this.mouseDownTools.setElt(e,i):this.mouseDownTools.removeAt(e),n}n=this.mouseMoveTools.length;for(let e=0;e<n;e++){const n=this.mouseMoveTools.elt(e);if(n.name===t)return null!==i?this.mouseMoveTools.setElt(e,i):this.mouseMoveTools.removeAt(e),n}n=this.mouseUpTools.length;for(let e=0;e<n;e++){const n=this.mouseUpTools.elt(e);if(n.name===t)return null!==i?this.mouseUpTools.setElt(e,i):this.mouseUpTools.removeAt(e),n}return null}replaceStandardTool(t,e,i){this.Qt(t,e,i)}Qt(t,i,n){e.s(t,"string",j,"replaceStandardTool:name"),null!==i&&(i.name=t,i.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,i):null!==i&&n.add(i)}get mouseDownTools(){return this.UC}get mouseMoveTools(){return this.VC}get mouseUpTools(){return this.zC}get hoverDelay(){return this.Zk}set hoverDelay(t){e.s(t,"number",j,"hoverDelay"),this.Zk=t}get holdDelay(){return this.Qk}set holdDelay(t){e.s(t,"number",j,"holdDelay"),this.Qk=t}get dragSize(){return this._k}set dragSize(t){this._k=t.N()}get toolTipDuration(){return this.tP}set toolTipDuration(t){e.s(t,"number",j,"toolTipDuration"),this.tP=t}get actionTool(){return this.findTool("Action")}set actionTool(t){this.Qt("Action",t,this.mouseDownTools)}get relinkingTool(){return this.findTool("Relinking")}set relinkingTool(t){this.Qt("Relinking",t,this.mouseDownTools)}get linkReshapingTool(){return this.findTool("LinkReshaping")}set linkReshapingTool(t){this.Qt("LinkReshaping",t,this.mouseDownTools)}get resizingTool(){return this.findTool("Resizing")}set resizingTool(t){this.Qt("Resizing",t,this.mouseDownTools)}get rotatingTool(){return this.findTool("Rotating")}set rotatingTool(t){this.Qt("Rotating",t,this.mouseDownTools)}get linkingTool(){return this.findTool("Linking")}set linkingTool(t){this.Qt("Linking",t,this.mouseMoveTools)}get draggingTool(){return this.findTool("Dragging")}set draggingTool(t){this.Qt("Dragging",t,this.mouseMoveTools)}get dragSelectingTool(){return this.findTool("DragSelecting")}set dragSelectingTool(t){this.Qt("DragSelecting",t,this.mouseMoveTools)}get panningTool(){return this.findTool("Panning")}set panningTool(t){this.Qt("Panning",t,this.mouseMoveTools)}get contextMenuTool(){return this.findTool("ContextMenu")}set contextMenuTool(t){this.Qt("ContextMenu",t,this.mouseUpTools)}get textEditingTool(){return this.findTool("TextEditing")}set textEditingTool(t){this.Qt("TextEditing",t,this.mouseUpTools)}get clickCreatingTool(){return this.findTool("ClickCreating")}set clickCreatingTool(t){this.Qt("ClickCreating",t,this.mouseUpTools)}get clickSelectingTool(){return this.findTool("ClickSelecting")}set clickSelectingTool(t){this.Qt("ClickSelecting",t,this.mouseUpTools)}}class H extends R{nP;oP;dn;rP;lP;hP;aP;bc;xm;cP;Hh;wr;XC;fP;pu;yu;uP;dP;gP;mP;constructor(t){super(),this.name="Dragging",this.nP=!0,this.mP=!0,this.oP=!0,this.dn=null,this.rP=null,this.lP=null,this.hP=null,this.aP=!1,this.pu=!1,this.bc=new y(NaN,NaN),this.xm=new y,this.cP=!0,this.Hh=100,this.wr=[],this.XC=(new u).u(),this.fP=new Mt,this.yu=null,this.uP="copy",this.dP="",this.gP="no-drop",t&&Object.assign(this,t)}get isCopyEnabled(){return this.nP}set isCopyEnabled(t){e.s(t,"boolean",H,"isCopyEnabled"),this.nP=t}get copiesEffectiveCollection(){return this.oP}set copiesEffectiveCollection(t){e.s(t,"boolean",H,"copiesEffectiveCollection"),this.oP=t}get dragOptions(){return this.fP}set dragOptions(t){this.fP=t}get isGridSnapEnabled(){return this.dragOptions.isGridSnapEnabled}set isGridSnapEnabled(t){e.s(t,"boolean",H,"isGridSnapEnabled"),this.dragOptions.isGridSnapEnabled=t}get isComplexRoutingRealtime(){return this.cP}set isComplexRoutingRealtime(t){this.cP=t;const e=this.diagram.findRouter("AvoidsLinks");null!==e&&(e.isRealtime=t)}get isGridSnapRealtime(){return this.dragOptions.isGridSnapRealtime}set isGridSnapRealtime(t){e.s(t,"boolean",H,"isGridSnapRealtime"),this.dragOptions.isGridSnapRealtime=t}get gridSnapCellSize(){return this.dragOptions.gridSnapCellSize}set gridSnapCellSize(t){this.dragOptions.gridSnapCellSize.equals(t)||(t=t.N(),this.dragOptions.gridSnapCellSize=t)}get gridSnapCellSpot(){return this.dragOptions.gridSnapCellSpot}set gridSnapCellSpot(t){this.dragOptions.gridSnapCellSpot.equals(t)||(t=t.N(),this.dragOptions.gridSnapCellSpot=t)}get gridSnapOrigin(){return this.dragOptions.gridSnapOrigin}set gridSnapOrigin(t){this.dragOptions.gridSnapOrigin.equals(t)||(t=t.N(),this.dragOptions.gridSnapOrigin=t)}get dragsLink(){return this.dragOptions.dragsLink}set dragsLink(t){e.s(t,"boolean",H,"dragsLink"),this.dragOptions.dragsLink=t}get dragsTree(){return this.dragOptions.dragsTree}set dragsTree(t){e.s(t,"boolean",H,"dragsTree"),this.dragOptions.dragsTree=t}get copyCursor(){return this.uP}set copyCursor(t){this.uP=t}get moveCursor(){return this.dP}set moveCursor(t){this.dP=t}get nodropCursor(){return this.gP}set nodropCursor(t){this.gP=t}get currentPart(){return this.rP}set currentPart(t){this.rP=t}get copiedParts(){return this.hP}set copiedParts(t){this.hP=t}get draggedParts(){return this.lP}set draggedParts(t){this.lP=t}get draggingParts(){return null!==this.copiedParts?this.copiedParts.toKeySet():null!==this.draggedParts?this.draggedParts.toKeySet():this.XC}get draggedLink(){return this.diagram.draggedLink}set draggedLink(t){this.diagram.draggedLink=t}get isDragOutStarted(){return this.aP}set isDragOutStarted(t){this.aP=t}get startPoint(){return this.xm}set startPoint(t){this.xm.equals(t)||this.xm.a(t)}get delay(){return this.Hh}set delay(t){e.s(t,"number",H,"delay"),this.Hh=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(null===t||t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;const e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.Hh))&&null!==this.findDraggablePart()}findDraggablePart(){const t=this.diagram;let e=t.findPartAt(t.firstInput.documentPoint,!1);if(null===e)return null;for(;null!==e&&!e.canSelect();)e=e.containingGroup;return null!==e&&(e.canMove()||e.canCopy())?e:null}standardMouseSelect(){const t=this.diagram;if(!t.allowSelect)return;let i=t.findPartAt(t.firstInput.documentPoint,!1);if(null!==i){for(;null!==i&&!i.canSelect();)i=i.containingGroup;if(this.currentPart=i,null!==this.currentPart&&!this.currentPart.isSelected){t.v("ChangingSelection",t.selection);const i=t.lastInput;!(e.hr?i.meta:i.control)&&!i.shift&&t.clearSelection(!0),this.currentPart.isSelected=!0,t.v("ChangedSelection",t.selection)}}}doActivate(){const t=this.diagram;this.yu=null,null===this.currentPart&&this.standardMouseSelect();const e=this.currentPart;if(null===e||!e.canMove()&&!e.canCopy())return;t.cacheGroupExternalLinks(!0),H.wt=null,this.isActive=!0,this.bc.set(t.position),this.pP(t.selection),this.wr.length=0,t.animationManager.stopAnimation();const i=this.computeEffectiveCollection(t.selection,this.dragOptions);this.draggedParts=i,this.mP=!!this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.wu=!0,!0===t.getRenderingHint("temporaryPixelRatio")&&t.avgSpf>30&&t.Ew(),t.YC(this.draggedParts),t.xu=!0,this.startTransaction("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&this.aF()}pP(t){if(!this.dragsLink)return;const e=this.diagram,i=e.model.bm(),n=t.first();i&&1===t.count&&n instanceof Ce&&this.mayDragLink(n)?(this.draggedLink=n,this.draggedLink.canRelinkFrom()&&this.draggedLink.canRelinkTo()&&this.draggedLink.clearAdornments(),this.dn=e.toolManager.findTool("Relinking"),null===this.dn&&(this.dn=new W,this.dn.diagram=e),this.dn.originalLink=this.draggedLink):(this.draggedLink=null,this.dn=null)}mayDragLink(t){const e=this.diagram;return null!==e&&e.allowRelink}computeEffectiveCollection(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)}Xs(t){return void 0===t?new bt(y.Lo):this.isGridSnapEnabled?new bt(new y(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3)):new bt(t.copy())}doDeactivate(){this.isActive=!1;const t=this.diagram;this.diagram.layout.isRealtime=this.mP,t.xu=!1,t.Cl=!0,t.cacheGroupExternalLinks(!1),t.stopAutoScroll(),this.yP(),t.wP(this.draggedParts),this.yu=null,this.currentPart=null,this.draggedParts=null,this.isDragOutStarted=!1,this.pu=!1,H.cF(),this.KC(),this.bc.i(NaN,NaN),null!==H.jh&&(H.jh.currentCursor=""),H.jh=null,H.wt=null,this.Ll(),t.isMouseCaptured=!1,t.currentCursor="",t.wu=!1,this.stopTransaction(),t.xP(!0)}stopTransaction(){const t=this.diagram,e=super.stopTransaction();return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.optimize(),e}yP(){const t=this.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const i=t.lastInput;this.GC(i,null),t.skipsUndoManager=e,this.wr.length=0}HC(){this.Ll(),this.bP();const t=this.diagram;this.bc.isReal()&&(t.position=this.bc),t.stopAutoScroll()}doCancel(){this.Ll(),this.bP();const t=this.diagram;this.bc.isReal()&&(t.position=this.bc),this.stopTool()}doKeyDown(){const t=this.diagram;if(!this.isActive)return;const e=t.lastInput,i=t.previousInput;"Escape"===e.code?this.doCancel():(e.code!==i.code||e.modifiers!==i.modifiers)&&this.doMouseMove()}doKeyUp(){this.isActive&&this.doMouseMove()}fF(t,e){let i=1/0,n=1/0,s=-1/0,r=-1/0;const o=t.iterator;for(;o.next();){const t=o.value;if(!t.isVisible())continue;const e=t.location,a=e.x,l=e.y;isNaN(a)||isNaN(l)||(a<i&&(i=a),l<n&&(n=l),a>s&&(s=a),l>r&&(r=l))}return i===1/0?e.i(0,0,0,0):e.i(i,n,s-i,r-n),e}kP(t){if(null!==this.copiedParts)return;const e=this.diagram;if(t&&(e.isReadOnly||e.isModelReadOnly)||null===this.draggedParts)return;const i=e.undoManager;i.isEnabled&&i.isInTransaction?null!==i.currentTransaction&&i.currentTransaction.changes.count>0&&(e.undoManager.rollbackTransaction(),e.startTransaction("Drag")):this.bP(),e.skipsUndoManager=!t,e.partManager.addsToTemporaryLayer=!t,this.startPoint=e.firstInput.documentPoint;const n=this.copiesEffectiveCollection?this.draggedParts.toKeySet():e.selection,s=e.copyParts(n,e,!0),r=new p,o=this.draggedParts.iterator;for(;o.next();){const t=o.key;if(t.Me()&&t.canCopy()){const e=s.get(t);if(null===e)continue;e.location=t.location,e.ensureBounds(),r.set(e,this.Xs(e.location))}}const a=s.iterator;for(;a.next();){const t=a.value;t instanceof Ce&&t.canCopy()&&r.set(t,this.Xs())}if(this.copiedParts=r,this.pP(r.toKeySet()),null!==this.draggedLink){const t=this.draggedLink,e=t.routeBounds;t.xr(this.startPoint.x-(e.x+e.width/2),this.startPoint.y-(e.y+e.height/2))}this.doUpdateCursor(null)}Ll(){const t=this.diagram;if(null!==this.copiedParts){if(t.removeParts(this.copiedParts.toKeySet(),!1),this.copiedParts=null,null!==this.draggedParts){const t=this.draggedParts.iterator;for(;t.next();)if(t.key instanceof Ce){const e=t.value;e.point=new y(0,0)}}this.doUpdateCursor(null)}t.skipsUndoManager=!1,t.partManager.addsToTemporaryLayer=!1,this.startPoint=t.firstInput.documentPoint}KC(){null!==this.draggedLink&&(this.dragsLink&&null!==this.dn&&(this.dn.stopDraggingMouseMove(),this.dn.originalLink=null),this.draggedLink=null,this.dn=null)}kc(t,e){if(null===t)return;const i=this.diagram,n=this.startPoint,s=y.l();s.a(i.lastInput.documentPoint),this.moveParts(t,s.subtract(n),e),y.e(s),!0===i.getRenderingHint("temporaryPixelRatio")&&null===i.Al&&i.avgSpf>30&&(i.Ew(),i.bu())}moveParts(t,e,i){void 0===i&&(i=!1);const n=this.diagram;null!==n&&n.PP(t,e,this.dragOptions,i)}bP(){if(null===this.draggedParts)return;const t=this.diagram;let e=this.draggedParts.iterator;for(;e.next();){const t=e.key;t.Me()&&(t.location=e.value.point)}for(e=this.draggedParts.iterator;e.next();){const t=e.key;if(t instanceof Ce&&t.suspendsRouting){const i=e.value.point;this.draggedParts.set(t,this.Xs()),t.xr(-i.x,-i.y)}}t.maybeUpdate()}uF(t){if(null===t)return!0;const e=t.part;return!!(null===e||e instanceof ke||e.layer?.isTemporary||this.draggedParts&&this.draggedParts.has(e)||this.copiedParts&&this.copiedParts.has(e))}SP(t){const e=this.diagram;this.dragsLink&&(null!==this.draggedLink&&(this.draggedLink.fromNode=null,this.draggedLink.toNode=null),this.jC(!1));const i=this.findDragOverObject(t),n=e.lastInput;n.targetObject=i,this.doUpdateCursor(i);const s=e.skipsUndoManager;let r=!1;try{if(e.skipsUndoManager=!0,r=this.GC(n,i),!this.isActive&&null===H.wt)return;const s=null!==i?i.part:null;if(null===s||e.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof Ie)){const t=e.mouseDragOver;null!==t&&(t(n),r=!0)}if(!this.isActive&&null===H.wt||(this.doDragOver(t,i),!this.isActive&&null===H.wt))return}finally{e.skipsUndoManager=s,r&&e.maybeUpdate()}this.yu=i,!e.isReadOnly&&(e.allowMove||e.allowCopy)&&(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(n.viewPoint)}findDragOverObject(t){return this.diagram.MP(t,null,(t=>!this.uF(t)))}doUpdateCursor(t){const e=this.diagram;(null===t||this.yu!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))}GC(t,e){let i=!1,n=this.wr.length;const s=n>0?this.wr[0]:null;if(e===s)return!1;t.handled=!1;for(let o=0;o<n;o++){const n=this.wr[o],s=n.mouseDragLeave;if(null!==s&&(s(t,n,e),i=!0,t.handled))break}if(this.wr.length=0,!this.isActive&&null===H.wt||null===e)return i;t.handled=!1;let r=e;for(;null!==r;)this.wr.push(r),r=this.qC(r);n=this.wr.length;for(let o=0;o<n;o++){const e=this.wr[o],n=e.mouseDragEnter;if(null!==n&&(n(t,e,s),i=!0,t.handled))break}return i}yE(t,e){return null!==t&&!!(t===e||t.isContainedBy(e)||e instanceof Ie&&!(t instanceof Ie)&&e.handlesDragDropForMembers&&t.part?.isMemberOf(e))}qC(t){const e=t.panel;if(null!==e)return e;if(t instanceof Me&&!(t instanceof Ie)){const e=t.containingGroup;if(null!==e&&e.handlesDragDropForMembers)return e}return null}WC(t,e){const i=this.diagram,n=this.dn;if(null===n)return null;const s=n.portGravity,r=i.findObjectsNear(t,s,(t=>n.findValidLinkablePort(t,e))),o=y.l();let a=1/0,l=null;for(const h=r.iterator;h.next();){const e=h.value;if(null===e.part)continue;const i=e.getDocumentPoint(x.Center,o),n=t.distanceSquaredPoint(i);n<a&&(l=e,a=n)}return y.e(o),l}jC(t){const e=this.draggedLink;if(null!==e){if(e.pointsCount<2)return;const i=this.diagram;if(i.isReadOnly)return;const n=this.dn;if(null===n)return;let s=null,r=null;null===e.fromNode&&(s=this.WC(e.getPoint(0),!1),null!==s&&(r=s.part));let o=null,a=null;null===e.toNode&&(o=this.WC(e.getPoint(e.pointsCount-1),!0),null!==o&&(a=o.part)),n.isValidLink(r,s,a,o)?t?(e.defaultFromPoint=e.getPoint(0),e.defaultToPoint=e.getPoint(e.pointsCount-1),e.suspendsRouting=!1,e.fromNode=r,null!==s&&(e.fromPortId=s.portId),e.toNode=a,null!==o&&(e.toPortId=o.portId),e.fromPort!==i.NP&&i.v("LinkRelinked",e,i.NP),e.toPort!==i.CP&&i.v("LinkRelinked",e,i.CP)):n.doDraggingMouseMove(r,s,a,o):n.doDraggingMouseMove(null,null,null,null)}}doDragOver(t,e){}JC(t){const e=this.diagram;this.dragsLink&&this.jC(!0),this.yP();const i=this.findDragOverObject(t),n=e.lastInput;if(n.targetObject=i,null!==i){n.handled=!1;let t=i;for(;null!==t;){const e=t.mouseDrop;if(null!==e&&(e(n,t),n.handled))break;this.dF(n,t),t=this.qC(t)}}else{const t=e.mouseDrop;null!==t&&t(n)}if(!this.isActive&&null===H.wt)return;const s=this.copiedParts||this.draggedParts;if(null!==s){const t=s.iterator;for(;t.next();){const e=t.key;e instanceof Se&&e.linksConnected.each((t=>t.suspendsRouting=!1))}}if(this.doDropOnto(t,i),!this.isActive&&null===H.wt)return;const r=v.l(),o=e.selection.iterator;for(;o.next();){const t=o.value;t instanceof Se&&this.gF(e,t,r)}v.e(r)}dF(t,e){const i=this.diagram,n=e.part;if(i.handlesDragDropForTopLevelParts&&null!==n&&n.isTopLevel&&!(n instanceof Ie)){const e=i.mouseDrop;null!==e&&e(t)}}gF(t,e,i){if(!e.canAvoid())return;let n=!1;i=e.getAvoidableRect(i),t.viewportBounds.containsRect(i)&&(n=!0);const s=this.copiedParts||this.draggedParts;if(null===s)return;const r=t.LP(i,(t=>t.part),(t=>t instanceof Ce),!0,(t=>t instanceof Ce),n);if(0===r.count)return;const o=r.iterator;for(;o.next();){const t=o.value;s.has(t)&&s.has(e)||!t.isMemberOf(e)&&t.isAvoiding&&t.invalidateRoute()}}doDropOnto(t,e){}doMouseMove(){if(!this.isActive)return;const t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null!==this.currentPart&&null!==this.draggedParts&&(this.mayCopy()?(this.kP(!1),this.kc(this.copiedParts,!1)):this.mayMove()?(this.Ll(),this.kc(this.draggedParts,!0)):this.mayDragOut()?(this.kP(!1),this.kc(this.copiedParts,!1)):this.Ll(),this.SP(t.lastInput.documentPoint))}doMouseUp(){if(!this.isActive)return;const t=this.diagram,e=t.lastInput;if(this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram))return;let i=!1;const n=this.mayCopy();if(n&&null!==this.copiedParts?(this.Ll(),this.kP(!0),this.kc(this.copiedParts,!1),null!==this.copiedParts&&(t.v("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each((t=>{t.isSelected=!0})))):(i=!0,this.Ll(),this.mayMove()&&(this.kc(this.draggedParts,!0),this.SP(t.lastInput.documentPoint))),this.pu=!0,this.JC(t.lastInput.documentPoint),this.isActive){const e=n&&this.copiedParts,s=e?this.copiedParts?.toKeySet():this.draggedParts?this.draggedParts.toKeySet():null;this.copiedParts=null,i&&this.mF(),t.invalidateDocumentBounds(),t.wP(this.draggedParts),this.transactionResult=e?"Copy":"Move",t.v(e?"SelectionCopied":"SelectionMoved",s)}this.stopTool(),n&&t.v("ChangedSelection",t.selection)}simulatedMouseMove(t,e,i){if(null===H.wt)return!1;const n=H.wt.diagram;i instanceof _t||(i=null);const s=H.jh;if(i!==s){if(null!==s&&s!==n){s.stopAutoScroll(),H.wt.isDragOutStarted=!1;const t=s.toolManager.findTool("Dragging");null!==t&&t.doSimulatedDragLeave()}if(H.jh=i,null!==i&&i!==n){H.wt.HC();const t=i.toolManager.findTool("Dragging");null!==t&&(t.$C(),t.doSimulatedDragEnter())}this.doUpdateCursor(null)}if(null===i||i===n||!i.allowDrop||i.isReadOnly||!i.allowInsert)return!1;const r=i.toolManager.findTool("Dragging");if(null!==r){let n=e;null!==t&&(void 0!==t.targetTouches&&(t.targetTouches.length>0?t=t.targetTouches[0]:t.changedTouches.length>0&&(t=t.changedTouches[0])),n=i.getMouse(t)),i.lastInput.documentPoint=n,i.lastInput.viewPoint=i.transformDocToView(n),i.lastInput.down=!1,i.lastInput.up=!1,r.doSimulatedDragOver()}return!0}simulatedMouseUp(t,e,i){if(null===H.wt)return!1;const n=H.jh,s=H.wt.diagram;if(null===i)return H.wt.doCancel(),!0;if(i!==n){if(null!==n){const t=n.toolManager.findTool("Dragging");if(null!==n&&n!==s&&null!==t)return n.stopAutoScroll(),H.wt.isDragOutStarted=!1,t.doSimulatedDragLeave(),!1}H.jh=i;const t=i.toolManager.findTool("Dragging");null!==t&&(H.wt.HC(),t.$C(),t.doSimulatedDragEnter())}if(i!==this.diagram){let n=e;null!==t?(void 0!==t.targetTouches&&(t.targetTouches.length>0?t=t.targetTouches[0]:t.changedTouches.length>0&&(t=t.changedTouches[0])),n=i.getMouse(t)):null===n&&(n=new y),i.lastInput.documentPoint=n,i.lastInput.viewPoint=i.transformDocToView(n),i.lastInput.down=!1,i.lastInput.up=!0;const s=i.toolManager.findTool("Dragging");null!==s&&s.doSimulatedDrop();const r=H.wt;if(null!==r){const t=r.mayCopy();r.transactionResult=t?"Copy":"Move",r.stopTool()}return!0}return!1}mF(){if(null===this.draggedParts)return;const t=this.draggedParts.iterator;for(;t.next();){const e=t.key;if(e instanceof Se){const t=e.containingGroup;null!==t&&t.hasPlaceholder()&&!this.draggedParts.has(t)&&t.placeholder.c()}}}mayCopy(){if(!this.isCopyEnabled)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||!(e.hr?t.lastInput.alt:t.lastInput.control))return!1;const i=t.selection.iterator;for(;i.next();)if(i.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())}mayDragOut(){if(!this.isCopyEnabled)return!1;const t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;const e=t.selection.iterator;for(;e.next();)if(e.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())}mayMove(){const t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;const e=t.selection.iterator;for(;e.next();)if(e.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())}$C(){H.Bw.has(this)||H.Bw.add(this)}static cF(){if(H.Bw.count>0){const t=H.Bw,e=t.length;for(let i=0;i<e;i++){const e=t.elt(i);e.KC(),e.Ll(),e.yP(),e.diagram.stopAutoScroll()}t.clear()}}computeBorder(t,e,i){return this.pu||null===this.draggedParts||this.draggedParts.has(t)?null:i.a(e)}getDraggingSource(){return H.wt}mayDragIn(){const t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;const e=H.wt;return!(null===e||e.diagram.model.dataFormat!==t.model.dataFormat)}doSimulatedDragEnter(){if(!this.mayDragIn())return;const t=this.diagram;t.animationManager.stopAnimation(),t.br(),t.animationManager.stopAnimation();const e=H.wt;null!==e&&(this.diagram.wu=!0,null===t.lastInput.event&&(t.lastInput.event=e.diagram.lastInput.event)),this.doUpdateCursor(null)}doSimulatedDragLeave(){const t=H.wt;null!==t&&t.doSimulatedDragOut(),this.diagram.wu=!1,this.doCancel()}doSimulatedDragOver(){const t=this.diagram;t.animationManager.ku=!0;const e=H.wt;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;this.ZC(e.draggedParts.toKeySet(),!1,t.firstInput),this.kc(this.copiedParts,!1),this.SP(t.lastInput.documentPoint)}t.animationManager.ku=!1}doSimulatedDrop(){const t=this.diagram,e=H.wt;if(null!==e){const i=e.diagram;if(e.pu=!0,this.Ll(),null===e.draggedParts||!this.mayDragIn())return;t.animationManager.ku=!0,t.v("ChangingSelection",t.selection),this.startTransaction("Drop"),this.ZC(e.draggedParts.toKeySet(),!0,t.lastInput),this.kc(this.copiedParts,!1);const n=new u;null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each((t=>{t.isSelected=!0,n.add(t)}))),this.JC(t.lastInput.documentPoint),t.invalidateDocumentBounds(),null!==this.copiedParts&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,t.doFocus(),t.wu=!1,t.v("ExternalObjectsDropped",n,i),this.stopTransaction(),t.v("ChangedSelection",t.selection)}t.animationManager.ku=!1}ZC(t,e,i){if(null!==this.copiedParts)return;const n=this.diagram;if(n.isReadOnly||n.isModelReadOnly)return;n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,this.startPoint=i.documentPoint;const s=n.copyParts(t,n,!0),r=v.l();this.fF(t,r);const o=r.x+r.width/2,a=r.y+r.height/2;v.e(r);const l=this.xm,h=new p,u=y.l(),c=t.iterator;for(;c.next();){const t=c.value;if(t instanceof Ce&&t.canCopy()){const e=s.get(t);if(null===e)continue;e.points=t.points,e.xr(l.x-o,l.y-a),e.suspendsRouting=!0,h.set(e,this.Xs())}}const d=t.iterator;for(;d.next();){const t=d.value;if(t.Me()&&t.canCopy()){const e=s.get(t);if(null===e)continue;const i=t.location;u.i(l.x-(o-i.x),l.y-(a-i.y)),e.location=u,e.ensureBounds(),h.set(e,this.Xs(u))}}if(y.e(u),this.copiedParts=h,this.pP(h.toKeySet()),null!==this.draggedLink){const t=this.draggedLink,e=t.routeBounds;t.xr(this.startPoint.x-(e.x+e.width/2),this.startPoint.y-(e.y+e.height/2))}this.doUpdateCursor(null)}aF(){this.isDragOutStarted=!0,this.pu=!1,H.wt=this,H.jh=this.diagram,this.doSimulatedDragOut()}doSimulatedDragOut(){const t=this.diagram;this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.yu=null}computeMove(t,e,i,n){const s=this.diagram;return null!==s?s.computeMove(t,e,this.dragOptions,n):new y}static Bw=new l;static wt=null;static jh=null}j.prototype.doCancel=function(){null!==H.wt&&H.wt.doCancel(),R.prototype.doCancel.call(this)};class B extends R{AP;TP;Tl;DP;FP;qh;RP;Wh;vP;OP;IP;EP;BP;UP;QC;VP;Dl;zP;constructor(){super(),this.AP=100,this.TP=!1,this.Tl="pointer",this.DP=new Ce({layerName:"Tool"}).add(new le({isPanelMain:!0,stroke:"blue"}).theme("stroke","tempLink"),new le({toArrow:"Standard",fill:"blue",stroke:"blue"}).theme("fill","tempLink").theme("stroke","tempLink")).Vt(),this.qh=new le("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:_.Dk}).theme("stroke","tempPort"),this.FP=new Se({selectable:!1,layerName:"Tool"}).add(this.qh).Vt(),this.Wh=new le("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:_.Dk}).theme("stroke","tempPort"),this.RP=new Se({selectable:!1,layerName:"Tool"}).add(this.Wh).Vt(),this.vP=null,this.OP=null,this.IP=null,this.EP=null,this.BP=null,this.UP=!0,this.QC=new p,this.VP=null,this.Dl=null,this.zP=null}doStop(){this.diagram.stopAutoScroll(),this.originalLink=null,this.originalFromNode=null,this.originalFromPort=null,this.originalToNode=null,this.originalToPort=null,this.validPortsCache.clear(),this.targetPort=null}get portGravity(){return this.AP}set portGravity(t){e.s(t,"number",B,"portGravity"),t>=0&&(this.AP=t)}get isUnconnectedLinkValid(){return this.TP}set isUnconnectedLinkValid(t){e.s(t,"boolean",B,"isUnconnectedLinkValid"),this.TP=t}get linkingCursor(){return this.Tl}set linkingCursor(t){this.Tl=t}get temporaryLink(){return this.DP}set temporaryLink(t){t.Vt(),this.DP=t}get temporaryFromNode(){return this.FP}set temporaryFromNode(t){t.Vt(),this.FP=t,t&&(this.qh=t.port)}get temporaryFromPort(){return this.qh}set temporaryFromPort(t){if(null!==this.qh){const e=this.qh.panel;if(null!==e){const i=e.T.indexOf(this.qh);e.removeAt(i),e.insertAt(i,t)}}this.qh=t}get temporaryToNode(){return this.RP}set temporaryToNode(t){t.Vt(),this.RP=t,t&&(this.Wh=t.port)}get temporaryToPort(){return this.Wh}set temporaryToPort(t){if(null!==this.Wh){const e=this.Wh.panel;if(null!==e){const i=e.T.indexOf(this.Wh);e.removeAt(i),e.insertAt(i,t)}}this.Wh=t}get originalLink(){return this.vP}set originalLink(t){this.vP=t}get originalFromNode(){return this.OP}set originalFromNode(t){this.OP=t}get originalFromPort(){return this.IP}set originalFromPort(t){this.IP=t}get originalToNode(){return this.EP}set originalToNode(t){this.EP=t}get originalToPort(){return this.BP}set originalToPort(t){this.BP=t}get isForwards(){return this.UP}set isForwards(t){this.UP=t}get validPortsCache(){return this.QC}get targetPort(){return this.VP}set targetPort(t){this.VP=t}copyPortProperties(t,e,i,n,s){if(null===t||null===e||null===i||null===n)return;const r=e.getDocumentScale(),o=_.l();o.width=e.naturalBounds.width*r,o.height=e.naturalBounds.height*r,n.desiredSize=o,_.e(o),s?(n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength):(n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength),i.locationSpot=x.Center;const a=y.l();i.location=e.getDocumentPoint(x.Center,a),y.e(a),n.angle=e.getDocumentAngle(),null!==this.portTargeted&&this.portTargeted(t,e,i,n,s)}setNoTargetPortProperties(t,e,i){null!==e&&(e.desiredSize=_.Dk,e.fromSpot=x.None,e.toSpot=x.None),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,i)}doMouseDown(){this.isActive&&this.doMouseMove()}doMouseMove(){if(this.isActive){const t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Se){const t=this.targetPort.part;this.isForwards?this.copyPortProperties(t,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(t,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.doAutoScroll(t.lastInput.viewPoint)}}findValidLinkablePort(t,e){if(null===t)return null;const i=t.part;if(!(i instanceof Se))return null;for(;null!==t;){const n=e?t.toLinkable:t.fromLinkable;if(!0===n&&(null!==t.portId||t instanceof Se)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)return null;t=t.panel}return null}findTargetPort(t){const e=this.diagram,i=e.lastInput.documentPoint;let n=this.portGravity;const s=e.findObjectsNear(i,n,(e=>this.findValidLinkablePort(e,t)),null,!0);let r=1/0,o=null;const a=s.iterator;for(;a.next();){const e=a.value,n=e.part;if(!(n instanceof Se))continue;const s=e.getDocumentPoint(x.Center,y.l()),l=i.x-s.x,h=i.y-s.y;y.e(s);const u=l*l+h*h;if(u<r){const i=this.validPortsCache.get(e);null!==i?i&&(o=e,r=u):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,n,e)||!t&&this.isValidLink(n,e,this.originalToNode,this.originalToPort)?(this.validPortsCache.set(e,!0),o=e,r=u):this.validPortsCache.set(e,!1)}}if(null!==o){const t=o.part;if(t instanceof Se&&(null===t.layer||t.layer.allowLink))return o}return null}isValidFrom(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;const i=e.fromMaxLinks;if(i<1/0){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;let n=e.portId;if(null===n&&(n=""),t.findLinksOutOf(n).count>=i)return!1}return!0}isValidTo(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;const i=e.toMaxLinks;if(i<1/0){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;let n=e.portId;if(null===n&&(n=""),t.findLinksInto(n).count>=i)return!1}return!0}isInSameNode(t,e){if(null===t||null===e)return!1;if(t===e)return!0;const i=t.part,n=e.part;return null!==i&&i===n}isLinked(t,e){if(null===t||null===e)return!1;const i=t.part;if(!(i instanceof Se))return!1;let n=t.portId;null===n&&(n="");const s=e.part;if(!(s instanceof Se))return!1;let r=e.portId;null===r&&(r="");const o=s.findLinksInto(r);for(;o.next();){const t=o.value;if(t.fromNode===i&&t.fromPortId===n)return!0}return!1}isValidLink(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||null!==e&&null!==n&&((!e.fromLinkableSelfNode||!n.toLinkableSelfNode)&&this.isInSameNode(e,n)||(!e.fromLinkableDuplicates||!n.toLinkableDuplicates)&&this.isLinked(e,n))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==i&&this.isLabelDependentOnLink(i,this.originalLink))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.originalLink))return!1;let s;return!(null!==t&&null!==e&&(s=t.linkValidation,null!==s&&!s(t,e,i,n,this.originalLink))||null!==i&&null!==n&&(s=i.linkValidation,null!==s&&!s(t,e,i,n,this.originalLink)))&&(s=this.linkValidation,null===s||s(t,e,i,n,this.originalLink))}isLabelDependentOnLink(t,e){if(null===t)return!1;const i=t.labeledLink;if(null===i)return!1;if(i===e)return!0;const n=new u;return n.add(t),this.XP(i,e,n)}XP(t,e,i){if(t===e)return!0;const n=t.fromNode;if(null!==n&&n.labeledLink&&(i.add(n),this.XP(n.labeledLink,e,i)))return!0;const s=t.toNode;return!(null===s||!s.labeledLink||(i.add(s),!this.XP(s.labeledLink,e,i)))}isValidCycle(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.isUnconnectedLinkValid;const n=this.diagram;let s=1;if(n&&(s=n.model.km()?n.isTreePathToChildren?5:6:n.validCycle),1===s)return!0;if(5===s){const n=i||this.temporaryLink;if(null!==n&&!n.isTreeLink)return!0;const s=e.linksConnected;for(;s.next();){const t=s.value;if(t!==i&&t.isTreeLink&&t.toNode===e)return!1}return!this.Pu(t,e,i,!0)}if(6===s){const n=i||this.temporaryLink;if(null!==n&&!n.isTreeLink)return!0;const s=t.linksConnected;for(;s.next();){const e=s.value;if(e!==i&&e.isTreeLink&&e.fromNode===t)return!1}return!this.Pu(t,e,i,!0)}return 2===s?!this.pF(t,e,i):3===s?!this.Pu(t,e,i,!1):4!==s||!this.yF(t,e,i)}Pu(t,e,i,n){if(t===e)return!0;if(null===t||null===e)return!1;const s=t.linksConnected;for(;s.next();){const r=s.value;if(r===i||n&&!r.isTreeLink||r.toNode!==t)continue;const o=r.fromNode;if(o!==t&&null!==o&&this.Pu(o,e,i,n))return!0}return!1}pF(t,e,i){if(t===e)return!0;const n=new u;return n.add(e),this._C(n,t,e,i)}_C(t,e,i,n){if(e===i)return!0;if(null===e||null===i||t.has(e))return!1;t.add(e);const s=e.linksConnected;for(;s.next();){const r=s.value;if(r===n||r.toNode!==e)continue;const o=r.fromNode;if(o!==e&&null!==o&&this._C(t,o,i,n))return!0}return!1}yF(t,e,i){if(t===e)return!0;const n=new u;return n.add(e),this.tL(n,t,e,i)}tL(t,e,i,n){if(e===i)return!0;if(null===e||null===i||t.has(e))return!1;t.add(e);const s=e.linksConnected;for(;s.next();){const r=s.value;if(r===n)continue;const o=r.fromNode,a=r.toNode,l=o===e?a:o;if(l!==e&&null!==l&&this.tL(t,l,i,n))return!0}return!1}get linkValidation(){return this.Dl}set linkValidation(t){null!==t&&e.S(t,B,"linkValidation"),this.Dl=t}get portTargeted(){return this.zP}set portTargeted(t){null!==t&&e.S(t,B,"portTargeted"),this.zP=t}}var z=(t=>(t[t.Either=1]="Either",t[t.ForwardsOnly=2]="ForwardsOnly",t[t.BackwardsOnly=3]="BackwardsOnly",t))(z||{});class V extends B{YP;KP;P;GP;constructor(t){super(),this.name="Linking",this.YP={},this.KP=null,this.P=1,this.GP=null,t&&Object.assign(this,t)}static Either=1;static ForwardsOnly=2;static BackwardsOnly=3;get archetypeLinkData(){return this.YP}set archetypeLinkData(t){null!==t&&e.lc(t,V,"archetypeLinkData"),this.YP=t}get archetypeLabelNodeData(){return this.KP}set archetypeLabelNodeData(t){null!==t&&e.lc(t,V,"archetypeLabelNodeData"),this.KP=t}get direction(){return this.P}set direction(t){this.P=t}get startObject(){return this.GP}set startObject(t){this.GP=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Uw()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()}findLinkablePort(){const t=this.diagram;let e=this.startObject;if(null===e&&(e=t.findObjectAt(t.firstInput.documentPoint,null,null)),null===e)return null;const i=e.part;if(!(i instanceof Se))return null;const n=this.direction;if(1===n||2===n){const t=this.findValidLinkablePort(e,!1);if(null!==t)return this.isForwards=!0,t;if(this.startObject===i){const t=i.port;if(this.findValidLinkablePort(t,!1))return this.isForwards=!0,t}}if(1===n||3===n){const t=this.findValidLinkablePort(e,!0);if(null!==t)return this.isForwards=!1,t;if(this.startObject===i){const t=i.port;if(this.findValidLinkablePort(t,!0))return this.isForwards=!1,t}}return null}doActivate(){const t=this.diagram,e=this.findLinkablePort();if(null!==e){if(this.startTransaction(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards){null!==this.temporaryToNode&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e;const i=this.originalFromPort.part;i instanceof Se&&(this.originalFromNode=i),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else{null!==this.temporaryFromNode&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e;const i=this.originalToPort.part;i instanceof Se&&(this.originalToNode=i),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)}t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.ensureBounds(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.ensureBounds(),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.invalidateRoute(),t.add(this.temporaryLink)),this.isActive=!0}else this.stopTool()}doDeactivate(){this.isActive=!1;const t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.startObject=null}doMouseUp(){if(this.isActive){const t=this.diagram;this.transactionResult=null;let e=null,i=null,n=null,s=null,r=null;try{this.targetPort=this.findTargetPort(this.isForwards);const o=this.targetPort;if(null!==o){const t=o.part;t instanceof Se&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,i=this.originalFromPort),n=t,s=o):(e=t,i=o,null!==this.originalToNode&&(n=this.originalToNode,s=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,i=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(n=this.originalToNode,s=this.originalToPort);null!==e||null!==n?(r=this.insertLink(e,i,n,s),null!==r?(null===o&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.v("ChangingSelection",t.selection),t.clearSelection(!0),r.isSelected=!0),this.transactionResult=this.name,t.v("LinkDrawn",r)):this.doNoLink(e,i,n,s)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),r&&t.allowSelect&&t.v("ChangedSelection",t.selection)}}}isNewTreeLink(){const t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Ce)return t.isTreeLink;const e=this.diagram;if(null===e)return!0;const i=e.partManager.getLinkCategoryForData(t),n=e.partManager.findLinkTemplateForCategory(i);return null===n||n.isTreeLink}insertLink(t,e,i,n){return this.diagram.partManager.insertLink(t,e,i,n)}doNoLink(t,e,i,n){}}class W extends B{iL=null;eL=null;HP=null;jP=null;gs;qP;constructor(t){super(),this.name="Relinking",this.fromHandleArchetype=new le("Diamond",{desiredSize:_.au,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:0}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.toHandleArchetype=new le("Diamond",{desiredSize:_.au,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:-1}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.gs=null,this.qP=new v,t&&Object.assign(this,t)}updateAdornments(t){if(null===t||!(t instanceof Ce))return;let e="RelinkFrom",i=null;if(t.isSelected&&!this.diagram.isReadOnly){const n=t.selectionObject;null!==n&&t.canRelinkFrom()&&t.actualBounds.isReal()&&t.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&(i=t.findAdornment(e),null===i&&(i=this.makeAdornment(n,!1),t.addAdornment(e,i)))}if(null===i&&t.removeAdornment(e),e="RelinkTo",i=null,t.isSelected&&!this.diagram.isReadOnly){const n=t.selectionObject;null!==n&&t.canRelinkTo()&&t.actualBounds.isReal()&&t.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&(i=t.findAdornment(e),null===i?(i=this.makeAdornment(n,!0),t.addAdornment(e,i)):i.c())}null===i&&t.removeAdornment(e)}makeAdornment(t,e){let i=e?this.jP:this.HP;return i&&(i=i.copy(),i.adornedObject=t),i}get fromHandleArchetype(){return this.iL}set fromHandleArchetype(t){this.iL=t,this.HP=null!==t?new ke(ie.Link).add(t).Vt():null}get toHandleArchetype(){return this.eL}set toHandleArchetype(t){this.eL=t,this.jP=null!==t?new ke(ie.Link).add(t).Vt():null}get handle(){return this.gs}set handle(t){null!==t&&(t.part instanceof ke||e.o("new handle is not in an Adornment: "+t)),this.gs=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Uw()||!t.lastInput.left)return!1;let e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e}doActivate(){const t=this.diagram;if(null===this.originalLink){let e=this.handle;if(null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;const i=e.part;if(!(i instanceof ke)||!(i.adornedPart instanceof Ce))return;this.handle=e,this.isForwards=null===i||"RelinkTo"===i.category,this.originalLink=i.adornedPart}const e=this.originalLink;null!==e&&(this.startTransaction(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=e.fromPort,this.originalFromNode=e.fromNode,this.originalToPort=e.toPort,this.originalToNode=e.toNode,this.qP.set(e.actualBounds),e.pointsCount>0&&(null===e.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=_.hc),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=e.getPoint(0))),null===e.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=_.hc),null!==this.temporaryToNode&&(this.temporaryToNode.location=e.getPoint(e.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(e,this.temporaryLink),this.temporaryLink.invalidateRoute(),t.add(this.temporaryLink)),this.isActive=!0)}copyLinkProperties(t,e){if(null===t||null===e)return;e.adjusting=t.adjusting,e.corner=t.corner;let i=t.curve;(11===i||10===i)&&(i=0),e.curve=i,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}doDeactivate(){this.isActive=!1;const t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.handle=null}doMouseUp(){if(this.isActive){const t=this.diagram;this.transactionResult=null;let e=this.originalFromNode,i=this.originalFromPort,n=this.originalToNode,s=this.originalToPort,r=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){const t=this.targetPort.part;t instanceof Se&&(this.isForwards?(n=t,s=this.targetPort):(e=t,i=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(n=null,s=null):(e=null,i=null):r=null;null!==r?(this.reconnectLink(r,this.isForwards?n:e,this.isForwards?s:i,this.isForwards),null===this.targetPort&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint,r.invalidateRoute()),this.transactionResult=this.name,t.v("LinkRelinked",r,this.isForwards?this.originalToPort:this.originalFromPort)):null!==this.originalLink&&this.doNoRelink(this.originalLink,this.isForwards),null!==this.originalLink&&this.originalLink.invalidateOtherJumpOvers(this.qP)}finally{this.stopTool()}}}reconnectLink(t,e,i,n){const s=null!==i&&null!==i.portId?i.portId:"";return n?(t.toNode=e,t.toPortId=s):(t.fromNode=e,t.fromPortId=s),!0}doNoRelink(t,e){}doDraggingMouseMove(t,e,i,n){null!==t?(this.copyPortProperties(t,e,this.temporaryFromNode,this.temporaryFromPort,!1),this.diagram.add(this.temporaryFromNode)):this.diagram.remove(this.temporaryFromNode),null!==i?(this.copyPortProperties(i,n,this.temporaryToNode,this.temporaryToPort,!0),this.diagram.add(this.temporaryToNode)):this.diagram.remove(this.temporaryToNode)}stopDraggingMouseMove(){this.diagram.remove(this.temporaryFromNode),this.diagram.remove(this.temporaryToNode)}}var G=(t=>(t[t.None=0]="None",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical",t[t.All=3]="All",t))(G||{});class U extends R{kr;WP;JP;gs;Vw;$P;Pm;constructor(t){super(),this.name="LinkReshaping",this.kr=new le("Rectangle",{desiredSize:_.fC,fill:"lightblue",stroke:"dodgerblue"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.WP=new le("Diamond",{desiredSize:_.au,fill:"lightblue",stroke:"dodgerblue",cursor:"move"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.JP=3,this.gs=null,this.Vw=null,this.$P=new y,this.Pm=new l,t&&Object.assign(this,t)}static None=0;static Horizontal=1;static Vertical=2;static All=3;getReshapingBehavior(t){return t?t.Pr:0}setReshapingBehavior(t,e){t.Pr=e}updateAdornments(t){if(null===t||!(t instanceof Ce))return;let e=null;if(t.isSelected&&!this.diagram.isReadOnly){const i=t.path;null!==i&&t.canReshape()&&t.actualBounds.isReal()&&t.isVisible()&&i.actualBounds.isReal()&&i.isVisibleObject()&&(e=t.findAdornment(this.name),(null===e||e.ZP!==t.pointsCount||e.QP!==t.resegmentable)&&(e=this.makeAdornment(i),null!==e&&(e.ZP=t.pointsCount,e.QP=t.resegmentable,t.addAdornment(this.name,e))))}null===e&&t.removeAdornment(this.name)}makeAdornment(t){const e=t.part,i=e.points,n=e.pointsCount,s=e.isOrthogonal;let r=null;if(null!==i&&n>1){r=new ke,r.type=ie.Link;const i=e.firstPickIndex,n=e.lastPickIndex,o=s?1:0;if(e.resegmentable&&9!==e.computeCurve())for(let e=i+o;e<n-o;e++){const i=this.makeResegmentHandle(t,e);null!==i&&(i.segmentIndex=e,i.segmentFraction=.5,i.fromMaxLinks=999,r.add(i))}for(let a=i+1;a<n;a++){const o=this.makeHandle(t,a);if(null!==o){if(o.segmentIndex=a,a!==i)if(a===i+1&&s){const t=e.getPoint(i);let n=e.getPoint(i+1);w.f(t.x,n.x)&&w.f(t.y,n.y)?(n=e.getPoint(i-1),w.f(t.x,n.x)?(this.setReshapingBehavior(o,2),o.cursor="n-resize"):w.f(t.y,n.y)&&(this.setReshapingBehavior(o,1),o.cursor="w-resize")):w.f(t.x,n.x)?(this.setReshapingBehavior(o,2),o.cursor="n-resize"):w.f(t.y,n.y)&&(this.setReshapingBehavior(o,1),o.cursor="w-resize")}else if(a===n-1&&s){let t=e.getPoint(n-1);const i=e.getPoint(n);w.f(t.x,i.x)&&w.f(t.y,i.y)?(t=e.getPoint(n+1),w.f(t.x,i.x)?(this.setReshapingBehavior(o,2),o.cursor="n-resize"):w.f(t.y,i.y)&&(this.setReshapingBehavior(o,1),o.cursor="w-resize")):w.f(t.x,i.x)?(this.setReshapingBehavior(o,2),o.cursor="n-resize"):w.f(t.y,i.y)&&(this.setReshapingBehavior(o,1),o.cursor="w-resize")}else a===n||(this.setReshapingBehavior(o,3),o.cursor="move");r.add(o)}}r.adornedObject=t}return r}makeHandle(t,e){const i=this.handleArchetype;return null===i?null:i.copy()._P()}get handleArchetype(){return this.kr}set handleArchetype(t){this.kr=t}makeResegmentHandle(t,e){const i=this.midHandleArchetype;return null===i?null:i.copy()._P()}get midHandleArchetype(){return this.WP}set midHandleArchetype(t){this.WP=t}get handle(){return this.gs}set handle(t){null!==t&&(t.part instanceof ke||e.o("new handle is not in an Adornment: "+t)),this.gs=t}get adornedLink(){return this.Vw}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)}doActivate(){const t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;const e=this.handle.part.adornedPart;if(e instanceof Ce){if(this.Vw=e,t.isMouseCaptured=!0,this.startTransaction(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){const i=e.points.copy(),n=this.getResegmentingPoint();if(i.insertAt(this.handle.segmentIndex+1,n),e.isOrthogonal&&i.insertAt(this.handle.segmentIndex+1,n),e.points=i,e.invalidateAdornments(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.$P=e.getPoint(this.handle.segmentIndex),this.Pm=e.points.copy(),this.isActive=!0}}doDeactivate(){this.stopTransaction(),this.handle=null,this.Vw=null;const t=this.diagram;t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,e=super.stopTransaction();return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.optimize(),e}doCancel(){const t=this.adornedLink;null!==t&&(t.points=this.Pm),this.stopTool()}getResegmentingPoint(){return null===this.handle?this.diagram.lastInput.documentPoint:this.handle.getDocumentPoint(x.Center)}doMouseMove(){const t=this.diagram;if(this.isActive){const e=this.computeReshape(t.lastInput.documentPoint);this.reshape(e)}}doMouseUp(){const t=this.diagram;if(this.isActive){const e=this.computeReshape(t.lastInput.documentPoint);this.reshape(e);const i=this.adornedLink;if(null!==i&&i.resegmentable&&null!==this.handle){const t=this.handle.segmentIndex,e=i.getPoint(t-1),n=i.getPoint(t),s=i.getPoint(t+1);if(i.isOrthogonal){if(t>i.firstPickIndex+1&&t<i.lastPickIndex-1){let r=i.getPoint(t-2);if(this.isWithinResegmentingDistance(e,n)&&(this.isInLineOrtho(r,e,n,s,!0)||this.isInLineOrtho(r,e,n,s,!1))){const o=i.points.copy();this.isInLineOrtho(r,e,n,s,!0)?(o.setElt(t-2,new y(r.x,(s.y+r.y)/2)),o.setElt(t+1,new y(s.x,(s.y+r.y)/2))):(o.setElt(t-2,new y((s.x+r.x)/2,r.y)),o.setElt(t+1,new y((s.x+r.x)/2,s.y))),o.removeAt(t),o.removeAt(t-1),i.points=o,i.invalidateAdornments()}else if(r=i.getPoint(t+2),this.isWithinResegmentingDistance(n,s)&&(this.isInLineOrtho(e,n,s,r,!0)||this.isInLineOrtho(e,n,s,r,!1))){const o=i.points.copy();this.isInLineOrtho(e,n,s,r,!0)?(o.setElt(t-1,new y(e.x,(e.y+r.y)/2)),o.setElt(t+2,new y(r.x,(e.y+r.y)/2))):(o.setElt(t-1,new y((e.x+r.x)/2,e.y)),o.setElt(t+2,new y((e.x+r.x)/2,r.y))),o.removeAt(t+1),o.removeAt(t),i.points=o,i.invalidateAdornments()}}}else{const r=y.l();if(w.bl(e.x,e.y,s.x,s.y,n.x,n.y,r)&&r.distanceSquaredPoint(n)<this.resegmentingDistance*this.resegmentingDistance){const e=i.points.copy();e.removeAt(t),i.points=e,i.invalidateAdornments()}y.e(r)}}t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("LinkReshaped",this.adornedLink,this.Pm)}this.stopTool()}isWithinResegmentingDistance(t,e){return Math.abs(t.x-e.x)<this.resegmentingDistance&&Math.abs(t.y-e.y)<this.resegmentingDistance}isInLineOrtho(t,e,i,n,s){return s?Math.abs(t.y-e.y)<this.resegmentingDistance&&Math.abs(e.y-i.y)<this.resegmentingDistance&&Math.abs(i.y-n.y)<this.resegmentingDistance:Math.abs(t.x-e.x)<this.resegmentingDistance&&Math.abs(e.x-i.x)<this.resegmentingDistance&&Math.abs(i.x-n.x)<this.resegmentingDistance}get resegmentingDistance(){return this.JP}set resegmentingDistance(t){e.s(t,"number",U,"resegmentingDistance"),this.JP=t}reshape(t){const e=this.adornedLink;if(null===e)return;const i=this.handle;if(null===i)return;e.startRoute();let n=i.segmentIndex;const s=this.getReshapingBehavior(i);if(e.isOrthogonal)if(n===e.firstPickIndex+1){const i=e.firstPickIndex+1;2===s?(e.setPointAt(i,e.getPoint(i-1).x,t.y),e.setPointAt(i+1,e.getPoint(i+2).x,t.y)):1===s&&(e.setPointAt(i,t.x,e.getPoint(i-1).y),e.setPointAt(i+1,t.x,e.getPoint(i+2).y))}else if(n===e.lastPickIndex-1){const i=e.lastPickIndex-1;2===s?(e.setPointAt(i-1,e.getPoint(i-2).x,t.y),e.setPointAt(i,e.getPoint(i+1).x,t.y)):1===s&&(e.setPointAt(i-1,t.x,e.getPoint(i-2).y),e.setPointAt(i,t.x,e.getPoint(i+1).y))}else{let i=n;const s=e.getPoint(i),r=e.getPoint(i-1),o=e.getPoint(i+1);w.f(r.x,s.x)&&w.f(s.y,o.y)?(w.f(r.x,e.getPoint(i-2).x)&&!w.f(r.y,e.getPoint(i-2).y)?(e.insertPointAt(i,t.x,r.y),n++,i++):e.setPointAt(i-1,t.x,r.y),w.f(o.y,e.getPoint(i+2).y)&&!w.f(o.x,e.getPoint(i+2).x)?e.insertPointAt(i+1,o.x,t.y):e.setPointAt(i+1,o.x,t.y)):w.f(r.y,s.y)&&w.f(s.x,o.x)?(w.f(r.y,e.getPoint(i-2).y)&&!w.f(r.x,e.getPoint(i-2).x)?(e.insertPointAt(i,r.x,t.y),n++,i++):e.setPointAt(i-1,r.x,t.y),w.f(o.x,e.getPoint(i+2).x)&&!w.f(o.y,e.getPoint(i+2).y)?e.insertPointAt(i+1,t.x,o.y):e.setPointAt(i+1,t.x,o.y)):w.f(r.x,s.x)&&w.f(s.x,o.x)?(w.f(r.x,e.getPoint(i-2).x)&&!w.f(r.y,e.getPoint(i-2).y)?(e.insertPointAt(i,t.x,r.y),n++,i++):e.setPointAt(i-1,t.x,r.y),w.f(o.x,e.getPoint(i+2).x)&&!w.f(o.y,e.getPoint(i+2).y)?e.insertPointAt(i+1,t.x,o.y):e.setPointAt(i+1,t.x,o.y)):w.f(r.y,s.y)&&w.f(s.y,o.y)&&(w.f(r.y,e.getPoint(i-2).y)&&!w.f(r.x,e.getPoint(i-2).x)?(e.insertPointAt(i,r.x,t.y),n++,i++):e.setPointAt(i-1,r.x,t.y),w.f(o.y,e.getPoint(i+2).y)&&!w.f(o.x,e.getPoint(i+2).x)?e.insertPointAt(i+1,o.x,t.y):e.setPointAt(i+1,o.x,t.y)),e.setPointAt(n,t.x,t.y)}else{e.setPointAt(n,t.x,t.y);let i=e.fromNode,s=e.fromPort;if(null!==i){const t=i.findVisibleNode();null!==t&&t!==i&&(i=t,s=i.port)}if(1===n&&null!==s&&e.computeSpot(!0,s).isNoSpot()){const n=s.getDocumentPoint(x.Center,y.l()),r=e.getLinkPointFromPoint(i,s,n,t,!0,y.l());e.setPointAt(0,r.x,r.y),y.e(n),y.e(r)}let r=e.toNode,o=e.toPort;if(null!==r){const t=r.findVisibleNode();null!==t&&t!==r&&(r=t,o=r.port)}if(n===e.pointsCount-2&&null!==o&&e.computeSpot(!1,o).isNoSpot()){const i=o.getDocumentPoint(x.Center,y.l()),n=e.getLinkPointFromPoint(r,o,i,t,!1,y.l());e.setPointAt(e.pointsCount-1,n.x,n.y),y.e(i),y.e(n)}}e.commitRoute()}computeReshape(t){const e=this.adornedLink;if(null===e)return t;const i=this.handle;if(null===i)return t;const n=i.segmentIndex;switch(this.getReshapingBehavior(i)){case 3:return t;case 2:{const i=e.getPoint(n);return new y(i.x,t.y)}case 1:{const i=e.getPoint(n);return new y(t.x,i.y)}default:case 0:return e.getPoint(n)}}get originalPoint(){return this.$P}get originalPoints(){return this.Pm}}class K extends R{Sr;Mr;Do;Pc;tS;ms;kr;gs;Sm;iS;Sc;zw;Xw;Yw;constructor(t){super(),this.name="Resizing",this.Sr=new _(1,1).u(),this.Mr=new _(9999,9999).u(),this.Do=new _(NaN,NaN).u(),this.Pc=!1,this.tS=!0,this.ms=null,this.kr=new le("Rectangle",{alignmentFocus:x.Center,desiredSize:_.fC,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.gs=null,this.Sm=new y,this.iS=new _,this.Sc=new y,this.zw=new _(0,0),this.Xw=new _(1/0,1/0),this.Yw=new _(1,1),t&&Object.assign(this,t)}updateAdornments(t){if(!(null===t||t instanceof Ce)){if(t.isSelected&&!this.diagram.isReadOnly){const e=t.resizeObject;let i=t.findAdornment(this.name);if(null!==e&&t.canResize()&&t.actualBounds.isReal()&&t.isVisible()&&e.actualBounds.isReal()&&e.isVisibleObject()&&((null===i||i.adornedObject!==e)&&(i=this.makeAdornment(e)),null!==i)){const n=e.getDocumentAngle();return t.Fl()&&this.updateResizeHandles(i,n),void t.addAdornment(this.name,i)}}t.removeAdornment(this.name)}}makeAdornment(t){let e=null;const i=t.part?.resizeAdornmentTemplate;if(i){if(e=i.copy(),null===e)return null}else{e=new ke,e.type=ie.Spot,e.locationSpot=x.Center;const i=new je;i.isPanelMain=!0,e.add(i);let n=this.makeHandle(t,x.TopLeft);null!==n&&e.add(n),n=this.makeHandle(t,x.TopRight),null!==n&&e.add(n),n=this.makeHandle(t,x.BottomRight),null!==n&&e.add(n),n=this.makeHandle(t,x.BottomLeft),null!==n&&e.add(n),n=this.makeHandle(t,x.MiddleTop),null!==n&&e.add(n),n=this.makeHandle(t,x.MiddleRight),null!==n&&e.add(n),n=this.makeHandle(t,x.MiddleBottom),null!==n&&e.add(n),n=this.makeHandle(t,x.MiddleLeft),null!==n&&e.add(n)}return e.adornedObject=t,e}makeHandle(t,e){const i=this.handleArchetype;if(null===i)return null;const n=i.copy()._P();return n.alignment=e,n}updateResizeHandles(t,e){if(null!==t)if(!t.alignment.isDefault()&&("pointer"===t.cursor||t.cursor.indexOf("resize")>0))this.wF(t,e);else if(t instanceof ie){const i=t.elements;for(;i.next();){const t=i.value;this.updateResizeHandles(t,e)}}}wF(t,e){let i=t.alignment;i.isNoSpot()&&(i=x.Center);let n=e;if(i.x<=0)i.y<=0?n+=225:i.y>=1?n+=135:n+=180;else if(i.x>=1)i.y<=0?n+=315:i.y>=1&&(n+=45);else if(i.y<=0)n+=270;else{if(!(i.y>=1))return;n+=90}n<0?n+=360:n>=360&&(n-=360),t.cursor=n<22.5?"e-resize":n<67.5?"se-resize":n<112.5?"s-resize":n<157.5?"sw-resize":n<202.5?"w-resize":n<247.5?"nw-resize":n<292.5?"n-resize":n<337.5?"ne-resize":"e-resize"}get handleArchetype(){return this.kr}set handleArchetype(t){this.kr=t}get handle(){return this.gs}set handle(t){null!==t&&(t.part instanceof ke||e.o("new handle is not in an Adornment: "+t)),this.gs=t}get adornedObject(){return this.ms}set adornedObject(t){null!==t&&t.part instanceof ke&&e.o("new handle must not be in an Adornment: "+t),this.ms=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)}doActivate(){const t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&null!==this.adornedObject.part&&(t.isMouseCaptured=!0,t.animationManager.stopAnimation(),t.xu=!0,this.startTransaction(this.name),this.Sm.set(this.adornedObject.getDocumentPoint(this.handle.alignment.opposite())),this.Sc.set(this.adornedObject.part.location),this.iS.set(this.adornedObject.desiredSize),this.Yw=this.computeCellSize(),this.zw=this.computeMinSize(),this.Xw=this.computeMaxSize(),this.isActive=!0))}doDeactivate(){const t=this.diagram;t.xu=!1,t.Cl=!0,this.stopTransaction(),this.handle=null,this.ms=null,t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,e=super.stopTransaction();return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.optimize(),e}doCancel(){null!==this.adornedObject&&null!==this.adornedObject.part&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()}doMouseMove(){const t=this.diagram;if(!this.isActive||null===this.adornedObject||null===this.handle)return;const e=this.zw,i=this.Xw,n=this.Yw,s=t.lastInput.documentPoint,r=this.adornedObject.getLocalPoint(s,y.l()),o=this.computeReshape(),a=this.computeResize(r,this.handle.alignment,e,i,n,o);this.resize(a),t.maybeUpdate(),y.e(r)}doMouseUp(){const t=this.diagram;if(this.isActive&&null!==this.adornedObject&&null!==this.handle){const e=this.zw,i=this.Xw,n=this.Yw,s=this.adornedObject.getLocalPoint(t.lastInput.documentPoint,y.l()),r=this.computeReshape(),o=this.computeResize(s,this.handle.alignment,e,i,n,r);this.resize(o),y.e(s),t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()}resize(t){const e=this.diagram,i=this.adornedObject;if(null===i)return;i.desiredSize=t.size;const n=i.part;if(null===n||null===this.handle)return;n.ensureBounds();const s=i.getDocumentPoint(this.handle.alignment.opposite());if(n instanceof Ie){const t=new l;let i;t.add(n),!this.dragsMembers&&!n.hasPlaceholder()&&(i=new Mt,i.dragsMembers=!1),e.moveParts(t,this.oppositePoint.copy().subtract(s),!0,i)}else n.location=n.location.copy().subtract(s).add(this.oppositePoint);e.maybeUpdate()}computeResize(t,e,i,n,s,r){if(null===this.adornedObject)return v.Eg;e.isNoSpot()&&(e=x.Center);const o=this.adornedObject.naturalBounds,a=o.x,l=o.y,h=o.x+o.width,u=o.y+o.height;let c=1;if(!r){let t=o.width,e=o.height;t<=0&&(t=1),e<=0&&(e=1),c=e/t}const d=y.l();w.Ig(t.x,t.y,a,l,s.width,s.height,d);const f=o.copy();return e.x<=0?e.y<=0?(f.x=Math.max(d.x,h-n.width),f.x=Math.min(f.x,h-i.width),f.width=Math.max(h-f.x,i.width),f.y=Math.max(d.y,u-n.height),f.y=Math.min(f.y,u-i.height),f.height=Math.max(u-f.y,i.height),r||(f.height/f.width>=1?(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c):(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width),f.x=h-f.width,f.y=u-f.height)):e.y>=1?(f.x=Math.max(d.x,h-n.width),f.x=Math.min(f.x,h-i.width),f.width=Math.max(h-f.x,i.width),f.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(f.height/f.width>=1?(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c):(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width),f.x=h-f.width)):(f.x=Math.max(d.x,h-n.width),f.x=Math.min(f.x,h-i.width),f.width=h-f.x,r||(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c,f.y=l+.5*(u-l-f.height))):e.x>=1?e.y<=0?(f.width=Math.max(Math.min(d.x-a,n.width),i.width),f.y=Math.max(d.y,u-n.height),f.y=Math.min(f.y,u-i.height),f.height=Math.max(u-f.y,i.height),r||(f.height/f.width>=1?(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c):(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width),f.y=u-f.height)):e.y>=1?(f.width=Math.max(Math.min(d.x-a,n.width),i.width),f.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(f.height/f.width>=1?(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c):(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width))):(f.width=Math.max(Math.min(d.x-a,n.width),i.width),r||(f.height=Math.max(Math.min(c*f.width,n.height),i.height),f.width=f.height/c,f.y=l+.5*(u-l-f.height))):e.y<=0?(f.y=Math.max(d.y,u-n.height),f.y=Math.min(f.y,u-i.height),f.height=u-f.y,r||(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width,f.x=a+.5*(h-a-f.width))):e.y>=1&&(f.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(f.width=Math.max(Math.min(f.height/c,n.width),i.width),f.height=c*f.width,f.x=a+.5*(h-a-f.width))),y.e(d),f}computeReshape(){let t=0;return this.adornedObject instanceof le&&(t=this.adornedObject.eS()),!(6===t||this.diagram.lastInput.shift)}computeMinSize(){if(null===this.adornedObject)return _.hc;const t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t}computeMaxSize(){if(null===this.adornedObject)return _.Fk;const t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t}computeCellSize(){const t=new _(NaN,NaN),e=this.adornedObject?.part;if(e){const i=e.resizeCellSize;!isNaN(i.width)&&i.width>0&&(t.width=i.width),!isNaN(i.height)&&i.height>0&&(t.height=i.height)}let i=this.cellSize;isNaN(t.width)&&!isNaN(i.width)&&i.width>0&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&i.height>0&&(t.height=i.height);const n=this.diagram;if((isNaN(t.width)||isNaN(t.height))&&n){const e=n.grid;null!==e&&e.visible&&this.isGridSnapEnabled&&(i=e.gridCellSize,isNaN(t.width)&&!isNaN(i.width)&&i.width>0&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&i.height>0&&(t.height=i.height))}return(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t}get minSize(){return this.Sr}set minSize(t){if(!this.Sr.equals(t)){let e=t.width;isNaN(e)&&(e=0);let i=t.height;isNaN(i)&&(i=0),this.Sr.i(e,i)}}get maxSize(){return this.Mr}set maxSize(t){if(!this.Mr.equals(t)){let e=t.width;isNaN(e)&&(e=1/0);let i=t.height;isNaN(i)&&(i=1/0),this.Mr.i(e,i)}}get cellSize(){return this.Do}set cellSize(t){this.Do.equals(t)||this.Do.a(t)}get isGridSnapEnabled(){return this.Pc}set isGridSnapEnabled(t){e.s(t,"boolean",K,"isGridSnapEnabled"),this.Pc=t}get dragsMembers(){return this.tS}set dragsMembers(t){e.s(t,"boolean",K,"dragsMembers"),this.tS=t}get oppositePoint(){return this.Sm}set oppositePoint(t){this.Sm.equals(t)||this.Sm.a(t)}get originalDesiredSize(){return this.iS}get originalLocation(){return this.Sc}}class X extends R{sS;nS;ms=null;kr=null;Kw=null;gs=null;oS;Mm;Sc;rS;lS;constructor(t){super(),this.name="Rotating",this.sS=45,this.nS=2,this.Sc=new y,this.ms=null,this.handleArchetype=new le("Ellipse",{desiredSize:_.au,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.gs=null,this.oS=0,this.Mm=new y(NaN,NaN),this.rS=0,this.lS=50,t&&Object.assign(this,t)}updateAdornments(t){if(null!==t){if(t.Rl()){const e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly){const e=t.rotateObject;if(null!==e&&t.canRotate()&&t.actualBounds.isReal()&&t.isVisible()&&e.actualBounds.isReal()&&e.isVisibleObject()){let i=t.findAdornment(this.name);if((null===i||i.adornedObject!==e)&&(i=this.makeAdornment(e)),null!==i)return i.angle=e.getDocumentAngle(),i.hasPlaceholder()||(i.location=this.computeAdornmentLocation(e)),void t.addAdornment(this.name,i)}}t.removeAdornment(this.name)}}makeAdornment(t){let e=null;const i=t.part?.rotateAdornmentTemplate;return i?e=i.copy():null!==this.Kw&&(e=this.Kw.copy()),null===e?null:(e.adornedObject=t,e)}get handleArchetype(){return this.kr}set handleArchetype(t){this.kr=t,this.Kw=null!==t?new ke(ie.Position,{locationSpot:x.Center}).add(t).Vt():null}get handle(){return this.gs}set handle(t){null!==t&&(t.part instanceof ke||e.o("new handle is not in an Adornment: "+t)),this.gs=t}get adornedObject(){return this.ms}set adornedObject(t){null!==t&&t.part instanceof ke&&e.o("new handle must not be in an Adornment: "+t),this.ms=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)}doActivate(){const t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null===this.adornedObject||null===this.adornedObject.part||(t.isMouseCaptured=!0,t.delaysLayout=!0,this.startTransaction(this.name),this.oS=this.adornedObject.angle,this.Mm=this.computeRotationPoint(this.adornedObject),this.Sc=this.adornedObject.part.location.copy(),this.isActive=!0)}computeRotationPoint(t){const e=t.part;if(null!==e){const i=e.locationObject;if(e.rotationSpot.isSpot())return t.getDocumentPoint(e.rotationSpot);if(t===e||t===i)return i.getDocumentPoint(e.locationSpot)}return t.getDocumentPoint(x.Center)}computeAdornmentLocation(t){let e=this.rotationPoint;e.isReal()||(e=this.computeRotationPoint(t));const i=t.getLocalPoint(e);let n=this.handleAngle;n<0?n+=360:n>=360&&(n-=360),n=Math.round(45*Math.round(n/45));const s=this.handleDistance;return 0===n?i.x=t.naturalBounds.width+s:45===n?(i.x=t.naturalBounds.width+s,i.y=t.naturalBounds.height+s):90===n?i.y=t.naturalBounds.height+s:135===n?(i.x=-s,i.y=t.naturalBounds.height+s):180===n?i.x=-s:225===n?(i.x=-s,i.y=-s):270===n?i.y=-s:315===n&&(i.x=t.naturalBounds.width+s,i.y=-s),t.getDocumentPoint(i)}doDeactivate(){const t=this.diagram;this.stopTransaction(),this.handle=null,this.ms=null,this.Mm=new y(NaN,NaN),t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,e=super.stopTransaction();return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.optimize(),e}doCancel(){const t=this.diagram;t.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()}doMouseMove(){const t=this.diagram;if(this.isActive){const e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e)}}doMouseUp(){const t=this.diagram;if(this.isActive){t.delaysLayout=!1;const e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()}rotate(t){const e=this.adornedObject;if(null===e||null===e.part)return;e.angle=t;const i=e.part;i.ensureBounds();const n=i.locationObject,s=i.rotateObject;if(n===s||n.isContainedBy(s)){const e=this.Sc.copy();i.location=e.subtract(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)}this.diagram.maybeUpdate()}computeRotate(t){let e=this.rotationPoint.directionPoint(t)-this.handleAngle;const i=this.adornedObject?.panel;i&&(e-=i.getDocumentAngle()),e>=360?e-=360:e<0&&(e+=360);const n=Math.min(Math.abs(this.snapAngleMultiple),180),s=Math.min(Math.abs(this.snapAngleEpsilon),n/2);return!this.diagram.lastInput.shift&&n>0&&s>0&&(e%n<s?e=Math.floor(e/n)*n:e%n>n-s&&(e=(Math.floor(e/n)+1)*n)),e>=360?e-=360:e<0&&(e+=360),e}get snapAngleMultiple(){return this.sS}set snapAngleMultiple(t){e.s(t,"number",X,"snapAngleMultiple"),this.sS=t}get snapAngleEpsilon(){return this.nS}set snapAngleEpsilon(t){e.s(t,"number",X,"snapAngleEpsilon"),this.nS=t}get originalAngle(){return this.oS}get rotationPoint(){return this.Mm}set rotationPoint(t){this.Mm=t.copy()}get handleAngle(){return this.rS}set handleAngle(t){e.s(t,"number",X,"handleAngle"),this.rS=t}get handleDistance(){return this.lS}set handleDistance(t){e.s(t,"number",X,"handleDistance"),this.lS=t}}class q extends R{constructor(t){super(),this.name="ClickSelecting",t&&Object.assign(this,t)}canStart(){return!(!this.isEnabled||this.isBeyondDragSize())}doMouseUp(){this.isActive&&(this.standardMouseSelect(),this.standardMouseClick()||this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()}}class J extends R{Mc;constructor(t){super(),this.name="Action",this.Mc=null,t&&Object.assign(this,t)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram,e=t.lastInput,i=t.findObjectAt(e.documentPoint,(t=>{for(;null!==t.panel;){if(t.isActionable)return t;t=t.panel}return t}));return!(null===i||!i.isActionable)&&(this.Mc=i,t.xc=t.findObjectAt(e.documentPoint,null,null),!0)}doMouseDown(){if(this.isActive){const t=this.diagram.lastInput,e=this.Mc;if(null===e)return;t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e)}else this.canStart()&&this.doActivate()}doMouseMove(){if(this.isActive){const t=this.diagram.lastInput,e=this.Mc;if(null===e)return;t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e)}}doMouseUp(){if(this.isActive){const t=this.diagram.lastInput,e=this.Mc;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick((t=>{for(;null!==t.panel;){if(t.isActionable&&t===e)return t;t=t.panel}return t}),(t=>t===e))}this.stopTool()}doCancel(){const t=this.diagram.lastInput,e=this.Mc;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())}doStop(){this.Mc=null}}class $ extends R{vl;hS;Pc;aS;constructor(t){super(),this.name="ClickCreating",this.vl=null,this.hS=!0,this.Pc=!1,this.aS=new y(0,0),t&&Object.assign(this,t)}canStart(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.aS=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.aS))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.findPartAt(t.lastInput.documentPoint,!0))}doMouseUp(){const t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()}insertPart(t){const i=this.diagram,n=this.archetypeNodeData;if(null===n)return null;let s=null;try{if(i.v("ChangingSelection",i.selection),this.startTransaction(this.name),n instanceof Me)n.Me()&&(n.Vt(),s=n.copy(),null!==s&&i.add(s));else if(null!==n){const t=i.model.copyNodeData(n);e.H(t)&&(i.model.addNodeData(t),s=i.findPartForData(t))}if(null!==s){const e=y.X(t.x,t.y);this.isGridSnapEnabled&&this.diagram.cS(s,t,e),s.location=e,i.allowSelect&&(i.clearSelection(!0),s.isSelected=!0),y.e(e)}i.invalidateDocumentBounds(),this.transactionResult=this.name,i.v("PartCreated",s)}finally{this.stopTransaction(),i.v("ChangedSelection",i.selection)}return s}get archetypeNodeData(){return this.vl}set archetypeNodeData(t){null!==t&&e.lc(t,$,"archetypeNodeData"),this.vl=t}get isDoubleClick(){return this.hS}set isDoubleClick(t){e.s(t,"boolean",$,"isDoubleClick"),this.hS=t}get isGridSnapEnabled(){return this.Pc}set isGridSnapEnabled(t){e.s(t,"boolean",$,"isGridSnapEnabled"),this.Pc=t}}class Z extends R{Hh;fS;Ol;constructor(t){super(),this.name="DragSelecting",this.Hh=175,this.fS=!1,this.Ol=new Me({layerName:"Tool",selectable:!1}).add(new le("Rectangle",{name:"SHAPE",fill:null,stroke:"magenta"}).theme("stroke","dragSelect")).Vt(),t&&Object.assign(this,t)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(!t.allowSelect)return!1;const e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.findPartAt(e.documentPoint,!0)))}doActivate(){const t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,this.box&&t.add(this.box),this.doMouseMove()}doDeactivate(){const t=this.diagram;t.stopAutoScroll(),this.box&&t.remove(this.box),t.skipsUndoManager=!1,t.isMouseCaptured=!1,this.isActive=!1}doMouseMove(){const t=this.diagram;if(this.isActive&&null!==this.box){const e=this.computeBoxBounds();let i=this.box.findObject("SHAPE");null===i&&(i=this.box.findMainElement());const n=_.l().i(e.width,e.height);null!==i&&(i.desiredSize=n),this.box.Nc(e.x,e.y,!1),_.e(n),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.doAutoScroll(t.lastInput.viewPoint)}}doMouseUp(){if(this.isActive){const t=this.diagram;this.box&&t.remove(this.box);try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.v("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()}computeBoxBounds(){const t=this.diagram;return new v(t.firstInput.documentPoint,t.lastInput.documentPoint)}selectInRect(t){const i=this.diagram,n=i.lastInput,s=i.findPartsIn(t,this.isPartialInclusion);if(e.hr?n.meta:n.control)if(n.shift){const t=s.iterator;for(;t.next();){const e=t.value;e.isSelected&&(e.isSelected=!1)}}else{const t=s.iterator;for(;t.next();){const e=t.value;e.isSelected=!e.isSelected}}else if(n.shift){const t=s.iterator;for(;t.next();){const e=t.value;e.isSelected||(e.isSelected=!0)}}else{const t=new l,e=i.selection.iterator;for(;e.next();){const i=e.value;s.has(i)||t.add(i)}const n=t.iterator;for(;n.next();){const t=n.value;t.isSelected=!1}const r=s.iterator;for(;r.next();){const t=r.value;t.isSelected||(t.isSelected=!0)}}}get delay(){return this.Hh}set delay(t){e.s(t,"number",Z,"delay"),this.Hh=t}get isPartialInclusion(){return this.fS}set isPartialInclusion(t){e.s(t,"boolean",Z,"isPartialInclusion"),this.fS=t}get box(){return this.Ol}set box(t){null!==t&&t.Vt(),this.Ol=t}}class Q extends R{Gw;sL;To;uS;constructor(e){super(),this.name="Panning",this.Gw=new y,this.sL=new y,this.To=!1;const i=this;this.uS=()=>{const e=i.diagram;null!==e&&e.Ni(t.document,"scroll",i.uS,!1),i.stopTool()},e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())}doActivate(){const e=this.diagram;this.To?(e.lastInput.bubbles=!0,e.zt(t.document,"scroll",this.uS,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.Gw.a(e.position)),this.isActive=!0}doDeactivate(){const t=this.diagram;t.currentCursor="",t.isMouseCaptured=!1,this.isActive=!1}doCancel(){const t=this.diagram;t.position=this.Gw,t.isMouseCaptured=!1,this.stopTool()}doMouseMove(){this.nL()}doMouseUp(){this.nL(),this.stopTool()}nL(){const t=this.diagram;if(this.isActive&&t){if(this.To)return void(t.lastInput.bubbles=!0);const e=t.position,i=t.firstInput.documentPoint,n=t.lastInput.documentPoint;let s=e.x+i.x-n.x,r=e.y+i.y-n.y;t.allowHorizontalScroll||(s=e.x),t.allowVerticalScroll||(r=e.y),t.position=this.sL.i(s,r)}}get bubbles(){return this.To}set bubbles(t){e.s(t,"boolean",Q,"bubbles"),this.To=t}get originalPosition(){return this.Gw}}class tt{Hw;jw;dS;gS;constructor(t){this.Hw=null,this.jw=null,this.dS=null,this.gS=null,t&&Object.assign(this,t)}get mainElement(){return this.dS}set mainElement(t){this.dS=t}get show(){return this.Hw}set show(t){this.Hw!==t&&(null!==t&&e.S(t,tt,"show"),this.Hw=t)}get hide(){return this.jw}set hide(t){this.jw!==t&&(null!==t&&e.S(t,tt,"hide"),this.jw=t)}get valueFunction(){return this.gS}set valueFunction(t){this.gS=t}}class et{ai;qw;Cc;constructor(t,e,i){this.ai=t,this.qw=e,this.Cc=i}}class it extends R{mS;Ww;pS;yS;Jw;$w;Nm;constructor(t){super(),this.name="ContextMenu",this.mS=null,this.Ww=null,this.pS=null,this.yS=new y,this.Jw=null,this.Nm=!1;const e=this;this.$w=()=>e.stopTool(),t&&Object.assign(this,t)}xF(){const i=new tt;i.show=(t,e,i)=>i.showDefaultContextMenu(),i.hide=(t,e)=>e.hideDefaultContextMenu(),it.Su=i;const n=this;this.$w=()=>n.stopTool();const s=e.fs("div"),r=e.fs("div");s.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",r.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";const o=e.fs("style");t.document.getElementsByTagName("head")[0].appendChild(o),o.sheet.insertRule(".goCXul { list-style: none; }",0),o.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),o.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);const a=this.diagram;null!==a&&(a.zt(s,"contextmenu",it.Jh,!1),a.zt(s,"selectstart",it.Jh,!1),a.zt(r,"contextmenu",it.Jh,!1)),s.className="goCXforeground",r.className="goCXbackground",t.document.body&&(t.document.body.appendChild(s),t.document.body.appendChild(r)),it.Cm=s,it.Lm=r,it.wS=!0}static Su=null;static wS=!1;static Lm;static Cm;static Jh(t){return t.preventDefault(),!1}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||t.lastInput.clickCount>1)&&!!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())}doStart(){const t=this.diagram;this.yS.set(t.firstInput.documentPoint)}doStop(){this.hideContextMenu(),this.currentObject=null,this.Nm=!1}findObjectWithContextMenu(t){void 0===t&&(t=null);const e=this.diagram,i=e.lastInput;let n=null;if(t instanceof _t||(n=t instanceof Yt?t:e.findObjectAt(i.documentPoint,null,(t=>!t.layer?.isTemporary))),null!==n){let t=n;for(;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return n.part}else if(null!==e.contextMenu)return e;return null}doActivate(){}doMouseDown(){if(super.doMouseDown(),this.isActive&&this.currentContextMenu instanceof ke){const t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.has(this)&&this.doContextClick()}doMouseUp(){if(this.isActive&&this.currentContextMenu instanceof ke){const t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}this.doContextClick()}doContextClick(){const t=this.diagram;if(this.isActive){const e=this.currentContextMenu;if(null===e)return;let i=null;e instanceof tt||(i=t.findObjectAt(t.lastInput.documentPoint,null,null),null!==i&&i.isContainedBy(e)&&this.standardMouseClick(null,null)),this.maybeStopTool(i)}else this.canStart()&&(this.openMenu(!0),this.isActive||this.stopTool())}maybeStopTool(t){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())}openMenu(t,e){if(void 0===e&&(e=null),this.Nm)return;this.Nm=!0,t&&this.standardMouseSelect();const i=this.standardMouseClick();if(this.Nm=!1,!i){this.isActive=!0;const t=it.Su;if(null===e&&(e=this.findObjectWithContextMenu()),null!==e){const i=e.contextMenu;null!==i?(this.currentObject=e instanceof Yt?e:null,this.showContextMenu(i,this.currentObject)):null!==t&&this.showContextMenu(t,this.currentObject)}else null!==t&&this.showContextMenu(t,null);this.currentContextMenu instanceof ke&&!this.currentContextMenu.visible&&this.stopTool()}}doMouseMove(){const t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()}showContextMenu(t,e){const i=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof ke){const n=t;n.layerName="Tool",n.selectable=!1,n.scale=1/i.scale,n.category=this.name,n.hasPlaceholder()&&(n.placeholder.scale=i.scale);const s=n.diagram;null!==s&&s!==i&&s.remove(n),i.add(n),null!==e?n.adornedObject=e:n.data=i.model,n.ensureBounds(),this.positionContextMenu(n,e)}else t instanceof tt&&null!==t.show&&t.show(e,i,this);this.currentContextMenu=t}positionContextMenu(t,e){if(t.hasPlaceholder())return;const i=t,n=this.diagram,s=n.lastInput.documentPoint.copy(),r=i.measuredBounds,o=n.viewportBounds;n.lastInput.isTouchEvent&&(s.x-=r.width),s.x+r.width>o.right&&(s.x-=r.width+5/n.scale),s.x<o.x&&(s.x=o.x),s.y+r.height>o.bottom&&(s.y-=r.height+5/n.scale),s.y<o.y&&(s.y=o.y),i.position=s}hideContextMenu(){const t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof ke?(t.remove(e),null!==this.Ww&&this.Ww.removeAdornment(e.category),e.data=null,e.adornedObject=null):e instanceof tt&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())}bF(){const t=this,e=new l;return e.add(new et("Copy",(t=>t.commandHandler.copySelection()),(t=>t.commandHandler.canCopySelection()))),e.add(new et("Cut",(t=>t.commandHandler.cutSelection()),(t=>t.commandHandler.canCutSelection()))),e.add(new et("Delete",(t=>t.commandHandler.deleteSelection()),(t=>t.commandHandler.canDeleteSelection()))),e.add(new et("Paste",(e=>e.commandHandler.pasteSelection(t.mouseDownPoint)),(e=>e.commandHandler.canPasteSelection(t.mouseDownPoint)))),e.add(new et("Select All",(t=>t.commandHandler.selectAll()),(t=>t.commandHandler.canSelectAll()))),e.add(new et("Undo",(t=>t.commandHandler.undo()),(t=>t.commandHandler.canUndo()))),e.add(new et("Redo",(t=>t.commandHandler.redo()),(t=>t.commandHandler.canRedo()))),e.add(new et("Scroll To Part",(t=>t.commandHandler.scrollToPart()),(t=>t.commandHandler.canScrollToPart()))),e.add(new et("Zoom To Fit",(t=>t.commandHandler.zoomToFit()),(t=>t.commandHandler.canZoomToFit()))),e.add(new et("Reset Zoom",(t=>t.commandHandler.resetZoom()),(t=>t.commandHandler.canResetZoom()))),e.add(new et("Group Selection",(t=>t.commandHandler.groupSelection()),(t=>t.commandHandler.canGroupSelection()))),e.add(new et("Ungroup Selection",(t=>t.commandHandler.ungroupSelection()),(t=>t.commandHandler.canUngroupSelection()))),e.add(new et("Edit Text",(t=>t.commandHandler.editTextBlock()),(t=>t.commandHandler.canEditTextBlock()))),e}showDefaultContextMenu(){const t=this.diagram;null===this.Jw&&(this.Jw=this.bF()),it.Cm.innerHTML="",it.Lm.addEventListener("pointerdown",this.$w,!1);const i=this,n=e.fs("ul");n.className="goCXul",it.Cm.appendChild(n),n.innerHTML="";const s=this.Jw.iterator;for(;s.next();){const r=s.value,o=r.qw,a=r.Cc;if(!e.ot(o)||e.ot(a)&&!a(t))continue;const l=e.fs("li");l.className="goCXli";const h=e.fs("a");h.className="goCXa",h.href="#",h.qw=o,h.addEventListener("pointerdown",(function(e){return this.qw(t),i.stopTool(),e.preventDefault(),!1}),!1),h.textContent=r.ai,l.appendChild(h),n.appendChild(l)}it.Cm.style.display="block",it.Lm.style.display="block"}hideDefaultContextMenu(){if(null===this.currentContextMenu||this.currentContextMenu!==it.Su)return;it.Cm.style.display="none",it.Lm.style.display="none";const t=this.diagram;null!==t&&t.Ni(it.Lm,"pointerdown",this.$w,!1),this.currentContextMenu=null}get currentContextMenu(){return this.mS}set currentContextMenu(t){this.mS=t,this.Ww=t instanceof ke?t.adornedPart:null}get defaultTouchContextMenu(){return!1===it.wS&&null===it.Su&&_t.isUsingDOM()&&this.xF(),it.Su}set defaultTouchContextMenu(t){null===t&&(it.wS=!0),it.Su=t}get currentObject(){return this.pS}set currentObject(t){this.pS=t}get mouseDownPoint(){return this.yS}}var nt=(t=>(t[t.LostFocus=1]="LostFocus",t[t.MouseDown=2]="MouseDown",t[t.Tab=3]="Tab",t[t.Enter=4]="Enter",t))(nt||{}),st=(t=>(t[t.SingleClick=1]="SingleClick",t[t.SingleClickSelected=2]="SingleClickSelected",t[t.DoubleClick=3]="DoubleClick",t))(st||{}),rt=(t=>(t[t.None=1]="None",t[t.Active=2]="Active",t[t.Editing=3]="Editing",t[t.Validating=4]="Validating",t[t.Invalid=5]="Invalid",t[t.Validated=6]="Validated",t))(rt||{});class ot extends R{Ne;xS;bS;Il;jt;kS;PS;SS;Zw;MS;constructor(t){super(),this.name="TextEditing",this.Ne=new fe,this.xS=null,this.bS=2,this.Il=null,this.jt=1,this.kS=1,this.PS=!0,this.SS=null,this.Zw=new tt,this.kF(this.Zw),t&&Object.assign(this,t)}static LostFocus=1;static MouseDown=2;static Tab=3;static Enter=4;static SingleClick=1;static SingleClickSelected=2;static DoubleClick=3;static StateNone=1;static StateActive=2;static StateEditing=3;static StateValidating=4;static StateInvalid=5;static StateValidated=6;kF(t){if(!_t.isUsingDOM())return;const i=e.fs("textarea");this.MS=i;const n=this;i.addEventListener("input",(function(t){if(null===n.textBlock)return;const e=n.measureTemporaryTextBlock(this.value),i=this.textScale;this.style.width=20+Math.max(n.textBlock.measuredBounds.width,e.measuredBounds.width)*i+"px",this.rows=Math.max(n.textBlock.lineCount,e.lineCount)}),!1),i.addEventListener("keydown",(function(t){if(t.isComposing||null===n.textBlock)return;const e=t.key;return"Enter"===e?(!1===n.textBlock.isMultiline&&t.preventDefault(),void n.acceptText(4)):"Tab"===e?(n.acceptText(3),void t.preventDefault()):void("Escape"===e&&(n.doCancel(),null!==n.diagram&&n.diagram.doFocus()))}),!1),i.addEventListener("focus",(function(t){n.PF(t)}),!1),i.addEventListener("blur",(function(t){n.SF(t)}),!1),t.valueFunction=()=>i.value,t.mainElement=i,t.show=(t,e,n)=>{if(!(t instanceof fe)||!e||!e.div||!(n instanceof ot))return;if(5===n.state)return i.style.border="3px solid red",void i.focus();const s=t.getDocumentPoint(x.Center),r=e.position,o=e.scale;let a=t.getDocumentScale()*o;a<n.minimumEditorScale&&(a=n.minimumEditorScale);const l=t.naturalBounds.width*a+6,h=t.naturalBounds.height*a+2,u=(s.x-r.x)*o,c=(s.y-r.y)*o,d=t.verticalAlignment,f=(t.lineHeight+t.spacingAbove+t.spacingBelow)*t.lineCount*a,m=.5*h-.5*f,g=d.y*h-d.y*f+d.offsetY-m-f/2;i.value=t.text,e.div.style.font=t.font;const p=1;i.style.position="absolute",i.style.zIndex="100",i.style.font="inherit",i.style.fontSize=100*a+"%",i.style.lineHeight="normal",i.style.width=l+"px",i.style.left=(u-l/2|0)-p+"px",i.style.top=(c+g|0)-p+"px",i.style.textAlign=t.textAlign,i.style.margin="0",i.style.padding=p+"px",i.style.border="0",i.style.outline="none",i.style.whiteSpace="pre-wrap",i.style.overflow="hidden",i.rows=t.lineCount,i.textScale=a,i.className="goTXarea",e.div.appendChild(i),i.focus(),n.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))},t.hide=(t,e)=>{t.div&&t.div.removeChild(i)}}get textBlock(){return this.xS}set textBlock(t){this.xS=t}get currentTextEditor(){return this.SS}set currentTextEditor(t){this.SS=t}get defaultTextEditor(){return this.Zw}set defaultTextEditor(t){this.Zw=t}get starting(){return this.bS}set starting(t){this.bS=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(null===t||t.isReadOnly||ot.Lc&&ot.Lc!==this&&(ot.Lc.acceptText(2),ot.Lc&&ot.Lc!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;const e=t.lastInput.documentPoint,i=t.findObjectAt(e);if(null===i||!(i instanceof fe)||!i.editable||null===i.part||!i.part.canEdit())return!1;const n=i.part;return!(null===n||2===this.starting&&!n.isSelected||3===this.starting&&t.lastInput.clickCount<2)}doStart(){ot.Lc=this,null!==this.textBlock&&this.doActivate()}doActivate(){if(this.isActive)return;const t=this.diagram;if(null===t)return;let e=this.textBlock;if(null===e&&(e=t.findObjectAt(t.lastInput.documentPoint)),null===e||!(e instanceof fe)||(this.textBlock=e,null===e.part))return;t.animationManager.stopAnimation(),this.isActive=!0,this.jt=2;let i=this.defaultTextEditor;null!==e.textEditor&&(i=e.textEditor),this.Ne=this.textBlock.copy();const n=new v(this.textBlock.getDocumentPoint(x.TopLeft),this.textBlock.getDocumentPoint(x.BottomRight));t.scrollToRect(n),null!==i&&null!==i.show&&i.show(e,t,this),this.currentTextEditor=i}doCancel(){this.stopTool()}doMouseUp(){this.canStart()&&this.doActivate()}doMouseDown(){this.isActive&&this.acceptText(2)}acceptText(t){switch(t){case 2:6===this.jt?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(2===this.jt||5===this.jt||3===this.jt)&&(this.jt=4,this.oL());break;case 1:case 4:case 3:if(4===t&&null!==this.textBlock&&!0===this.textBlock.isMultiline)return;(2===this.jt||5===this.jt||3===this.jt)&&(this.jt=4,this.oL());break}}oL(){const t=this.textBlock,e=this.diagram,i=this.currentTextEditor;if(null!==t&&null!==i){const n=t.text;let s="";if(null!==i.valueFunction&&(s=i.valueFunction()),!this.isValidText(t,n,s))return this.jt=5,void this.doError(n,s);this.startTransaction(this.name),this.jt=6,this.transactionResult=this.name,t.text=s,this.doSuccess(n,s),null!==e&&e.v("TextEdited",t,n),this.stopTransaction(),this.stopTool(),null!==e&&e.doFocus()}}doError(t,e){const i=this.textBlock;if(null===i)return;null!==i.errorFunction&&i.errorFunction(this,t,e);const n=this.currentTextEditor;null!==n&&null!==n.show&&n.show(i,this.diagram,this)}doSuccess(t,e){const i=this.textBlock;null!==i&&null!==i.textEdited&&i.textEdited(i,t,e)}doDeactivate(){const t=this.diagram;if(null!==t){if(this.jt=1,null!==this.currentTextEditor){const e=this.currentTextEditor;null!==e&&null!==e.hide&&e.hide(t,this)}this.textBlock=null,this.isActive=!1}}doStop(){ot.Lc=null}PF(t){if(null===this.currentTextEditor||1===this.state)return;const i=this.MS;2===this.jt&&(this.jt=3),e.ot(i.select)&&this.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))}SF(t){if(null===this.currentTextEditor||1===this.state)return;const i=this.MS;e.ot(i.focus)&&i.focus(),e.ot(i.select)&&this.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))}isValidText(t,e,i){const n=this.textValidation;if(null!==n&&!n(t,e,i))return!1;const s=t.textValidation;return!(null!==s&&!s(t,e,i))}get textValidation(){return this.Il}set textValidation(t){null!==t&&e.S(t,ot,"textValidation"),this.Il=t}get minimumEditorScale(){return this.kS}set minimumEditorScale(t){null!==t&&e.s(t,"number",ot,"minimumEditorScale"),this.kS=t}get selectsTextOnActivate(){return this.PS}set selectsTextOnActivate(t){null!==t&&e.s(t,"boolean",ot,"selectsTextOnActivate"),this.PS=t}get state(){return this.jt}set state(t){this.jt!==t&&(this.jt=t)}measureTemporaryTextBlock(t){const e=this.Ne;return e.text=t,null!==this.textBlock&&e.ut(this.textBlock.El,1/0),e}static Lc=null}var at=(t=>(t[t.Default=1]="Default",t[t.AnimateLocations=2]="AnimateLocations",t[t.None=3]="None",t))(at||{});class lt{L;Ci;Bi;Nr;Jn;Fo;NS;CS;Am;xi;Ac;gn;Tm;$h;Qw;Dm;_w;Tc;ku;Fm;constructor(t){this.L=_t.ym(),this.Ci=!1,this.Am=!1,this.xi=!1,this.Ac=!1,this._w=!0,this.Tc=1,this.ku=!1,this.Bi=!0,this.Nr=!0,this.Fo=600,this.NS=!1,this.CS=!1,this.Jn=new u,this.gn=new ht,this.Tm=new ht,this.gn.ps=this,this.$h=new u,this.Qw=new u,this.Dm=new u,this.Fm=new u,t&&Object.assign(this,t)}Ro(t){this.L=t}wE(){return this.L}canStart(t){return!0}Bl(t){return!(!this.Bi||!this.canStart(t))&&(this.Jn.add(t),this.defaultAnimation.isAnimating&&this.stopAnimation(),this.L.Li(),this.xi=!0,!0)}getBundleAnimation(){return this.Tm}LS(){if(!this.Bi||(this.Tm.de.count>0&&this.Tm.start(),!this.xi))return;const e=this.gn,i=this.L,n=this.Jn.has("Model");if(n&&(this.Ac=!0,1===this.Tc?(e.isViewportUnconstrained=!0,e.de.clear(),e.add(i,"position",i.position.copy().offset(0,-200),i.position),e.add(i,"opacity",0,1)):3===this.Tc&&e.de.clear(),2===this.Tc&&i.tx.equals(i.dt)?this._w=!0:this._w=!1,i.v("InitialAnimationStarting",this)),n&&!this.Nr||0===e.de.count)return this.Jn.clear(),this.xi=!1,e.de.clear(),e.ix(i),this.Ac=!1,void i.C();this.Jn.clear(),i.Cr=!1;const s=e.de.get(i);1!==i.autoScale&&null!==s&&(delete s.oi.scale,delete s.ys.scale);const r=this;t.requestAnimationFrame((()=>{!1===r.xi||e.Ci||(i.getRenderingHint("temporaryPixelRatio")&&i.Ew(),i.AS(),r.xi=!1,e.start(),e.Ci&&(r.Mu(),i.invalidateDocumentBounds(),e.rL(0),i.br(!0),r.Nu(),i.v("AnimationStarting",r)))}))}TS(){return this.Jn.has("Trigger")&&1===this.Jn.count}lL(t,e,i,n){this.isTicking||this.TS()||t instanceof Ce&&(null!==t.fromNode||null!==t.toNode)||this.gn.add(t,"position",e,i,n)}ex(t){return this.gn.ex(t)}DS(t){return this.gn.DS(t)}MF(e){const i=this.$h,n=this;function s(){if(n.Dm.count>0&&(i.addAll(n.Dm),n.Dm.clear(),n.Ci=!0),!1===n.Ci||0===i.count)return;n.Qw.addAll(i);const e=n.Qw.iterator;for(;e.next();){const t=e.value;!1!==t.Ci&&(t.NF()?t.hL(!1):t.Dc=!0)}n.Qw.clear(),!1!==n.Ci?(n.Mu(),n.L.br(),n.Nu(),t.requestAnimationFrame(s)):t.requestAnimationFrame(s)}this.Ci?this.CF(e):(this.Ci=!0,i.add(e),t.requestAnimationFrame((()=>s())))}CF(t){this.Dm.add(t)}LF(){const t=this.$h.iterator;for(;t.next();)t.value.Dc=!1}Mu(){if(this.Am)return;const t=this.L;this.NS=t.skipsUndoManager,this.CS=t.ge,t.skipsUndoManager=!0,t.ge=!0,this.Am=!0}Nu(){const t=this.L;t.skipsUndoManager=this.NS,t.ge=this.CS,this.Am=!1}stopAnimation(t){const e=this.gn;if(!0===this.xi&&(this.xi=!1,this.Ac=!1,this.Jn.clear(),e.AF()&&this.L.requestUpdate()),!this.Ci)return e.de.clear(),void e.ix(this.L);if(e.Cu(!0),e.ix(null),!0===t){const t=this.$h.toArray();for(let e=0;e<t.length;e++)t[e].Cu(!0)}}Cu(t){this.$h.delete(t),0===this.$h.count&&(this.Ci=!1,this.L.requestUpdate()),t===this.defaultAnimation&&this.L.v("AnimationFinished",this)}Fc(t,e){this.xi&&(!this.Jn.has("Expand Tree")&&!this.Jn.has("Expand SubGraph")||(this.gn.Fc(t,e),this.aL(t)))}Rc(t,e){this.xi&&(!this.Jn.has("Collapse Tree")&&!this.Jn.has("Collapse SubGraph")||(this.gn.Rc(t,e),this.gn.FS(e,"position",e.position,e.position),this.aL(t)))}cL(t,e){!this.xi||t.equals(e)||this.TS()||(this.L.Kh||(t=e.copy()),this.gn.FS(this.L,"position",t,e))}fL(t,e){this.xi&&(this.TS()||this.gn.add(this.L,"scale",t,e))}RS(t,e){t.Ce&&(t.Lr=e,this.Fm.add(t))}aL(t){const e=t.findLinksConnected();for(;e.next();){const t=e.value;t.Ce&&(t.Lr=t.points.copy(),this.Fm.add(t))}}get isEnabled(){return this.Bi}set isEnabled(t){e.s(t,"boolean",lt,"isEnabled"),this.Bi=t,t&&this.$h.each((t=>{!t.isAnimating&&t.runCount===1/0&&t.start()}))}get duration(){return this.Fo}set duration(t){e.s(t,"number",lt,"duration"),t<1&&e._(t,">= 1",lt,"duration"),this.Fo=t}get isAnimating(){return this.Ci}get isTicking(){return this.Am}get isInitial(){return this.Nr}set isInitial(t){e.s(t,"boolean",lt,"isInitial"),this.Nr=t}get defaultAnimation(){return this.gn}get activeAnimations(){return this.$h}get initialAnimationStyle(){return this.Tc}set initialAnimationStyle(t){this.Tc=t}static sx=new p;static defineAnimationEffect(t,e){lt.sx.set(t,e)}static vS(t,e,i,n,s){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);let r=t[0],o=t[1];const a=t[2],l=t[3];let h=e[0],u=e[1];const c=e[2],d=e[3];0===a||100===a?(r=h,o=u):(0===c||100===c)&&(h=r,u=o),Math.abs(h-r)>180&&(h>r?r+=360:h+=360);const f=s(i,r,h-r,n)%360,m=s(i,o,u-o,n),g=s(i,a,c-a,n),p=s(i,l,d-l,n);return"hsla("+f+", "+m+"%, "+g+"%, "+p+")"}static{const t=lt.sx,e=(t,e,i,n,s,r)=>{t.position=new y(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r))};t.set("position:diagram",e),t.set("position",e),t.set("position:part",((t,e,i,n,s,r)=>{s<r?t.Nc(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r),!1):t.position=new y(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r))})),t.set("location",((t,e,i,n,s,r)=>{s<r?t.Nc(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r),!0):t.location=new y(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r))})),t.set("position:placeholder",((t,e,i,n,s,r)=>{s<r?t.Nc(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r),!1):t.position=new y(n(s,e.x,i.x-e.x,r),n(s,e.y,i.y-e.y,r))})),t.set("position:nodeCollapse",((t,e,i,n,s,r)=>{const o=t.actualBounds,a=i.actualBounds,l=a.x+a.width/2-o.width/2,h=a.y+a.height/2-o.height/2;s<r?t.Nc(n(s,e.x,l-e.x,r),n(s,e.y,h-e.y,r),!1):t.position=new y(n(s,e.x,l-e.x,r),n(s,e.y,h-e.y,r))})),t.set("desiredSize",((t,e,i,n,s,r)=>{t.desiredSize=new _(n(s,e.width,i.width-e.width,r),n(s,e.height,i.height-e.height,r))})),t.set("width",((t,e,i,n,s,r)=>{t.width=n(s,e,i-e,r)})),t.set("height",((t,e,i,n,s,r)=>{t.height=n(s,e,i-e,r)})),t.set("fill",((t,e,i,n,s,r)=>{t.fill=lt.vS(e,i,s,r,n)})),t.set("stroke",((t,e,i,n,s,r)=>{t.stroke=lt.vS(e,i,s,r,n)})),t.set("strokeWidth",((t,e,i,n,s,r)=>{t.strokeWidth=n(s,e,i-e,r)})),t.set("strokeDashOffset",((t,e,i,n,s,r)=>{t.strokeDashOffset=n(s,e,i-e,r)})),t.set("background",((t,e,i,n,s,r)=>{t.background=lt.vS(e,i,s,r,n)})),t.set("opacity",((t,e,i,n,s,r)=>{t.opacity=n(s,e,i-e,r)})),t.set("scale",((t,e,i,n,s,r)=>{t.scale=n(s,e,i-e,r)})),t.set("angle",((t,e,i,n,s,r)=>{t.angle=n(s,e,i-e,r)}))}static Default=1;static AnimateLocations=2;static None=3}class ht{nx;Rm;Ci;Lu;Fo;ws;uL;vc;de;ox;oi;$n;Au;Oc;rx;lx;Dc;OS;hx;ps;L;IS;ES;BS;constructor(t){this.L=null,this.ps=null,this.OS=null,this.hx=null,this.IS=!1,this.Ci=!1,this.Dc=!1,this.oi=0,this.$n=0,this.nx=ht.EaseInOutQuad,this.Rm=ht.EaseInOutQuad,this.Au=!1,this.Oc=!1,this.rx=1,this.lx=0,this.Fo=NaN,this.ws=NaN,this.ES=0,this.Lu=null,this.uL=y.Lo,this.de=new p,this.ox=new p,this.vc=new u,this.BS=1,t&&Object.assign(this,t)}suspend(){this.Dc=!0}advanceTo(t,e){e&&(this.Dc=!1),this.Au&&t>=this.ws&&(this.Oc=!0,t-=this.ws),this.ES=t,this.hL(!0),this.ps.Mu(),this.L.br(),this.ps.Nu(),this.L.redraw()}ix(t){if(this.ox.clear(),this.Oc=!1,this.lx=0,this.ws=NaN,this.vc.count>0&&this.vc.clear(),null!==t){const e=t.links;for(;e.next();)e.value.Lr=null}}AF(){return this.de.count>0}start(){if(0===this.de.count)return this;if(this.Ci)return this;let t=this.L;const e=this.de.iterator;for(;e.next();){const i=e.key;null===t&&(i instanceof _t?t=i:i instanceof Yt&&(t=i.diagram))}if(null===t)return this;this.L=t,this.ps=t.animationManager;const i=this.ps;return!1===i.isEnabled||(this.ws=isNaN(this.Fo)?i.duration:this.Fo,this.Rm=this.nx,i.Ac&&1===i.Tc&&this===i.defaultAnimation&&(this.Rm=ht.EaseOutExpo,this.ws=isNaN(this.Fo)?600===i.duration?900:i.duration:this.Fo),this.BS=t.scrollMode,this.isViewportUnconstrained&&(t.Zh=2),i.Mu(),this.vc.each((e=>{e.data=null,t.add(e)})),i.Nu(),this.Ci=!0,this.oi=+new Date,this.$n=this.oi+this.ws,i.MF(this)),this}addTemporaryPart(t,e){return t.Me()?(this.vc.add(t),this.L=e,this):this}add(t,e,i,n,s){if(null===this.L&&(t instanceof _t?this.L=t:t instanceof Yt&&null!==t.diagram&&(this.L=t.diagram)),t instanceof Me){if(!t.isAnimated)return this;"position"===e&&(e="position:part")}return this.FS(t,e,i,n,s),this}FS(t,e,i,n,s){const r=this.de;let o,a,l;if(t instanceof _t&&"position"===e&&(e="position:diagram"),("fill"===e||"stroke"===e||"background"===e)&&(Bt.vo(i),Bt.US(),i=[Bt.Ui.n0,Bt.Ui.n1,Bt.Ui.n2,Bt.Ui.n3],Bt.vo(n),Bt.US(),n=[Bt.Ui.n0,Bt.Ui.n1,Bt.Ui.n2,Bt.Ui.n3]),r.has(t))o=r.get(t),a=o.oi,l=o.ys,void 0===a[e]&&(a[e]=this.Tu(i)),l[e]=this.Tu(n);else{if("position"===e&&i.equalsApprox(n))return;a={},l={},a[e]=this.Tu(i),l[e]=this.Tu(n),o=new ut(a,l,s),r.set(t,o)}const h=a[e];h instanceof y&&!h.isReal()&&h.a(this.uL),s&&0===e.indexOf("position:")&&t instanceof Me?o.ax.location=this.Tu(t.location):s&&(o.ax[e]=this.Tu(i))}Tu(t){return t instanceof y||t instanceof _?t.copy():t}TF(t){const e=this.de;if(e.has(t)){const i=e.get(t);i.cx=!0}}ex(t){if(!this.Ci)return!1;const e=this.de.get(t);return null!==e&&e.cx}DS(t){if(!this.Ci)return!1;const e=this.de.get(t);return null!==e&&!!(e.oi.position||e.oi["position:part"]||e.oi.location)}NF(){if(this.vc.count>0)return!0;const t=this.de.iterator;for(;t.next();){const e=t.key;if(e instanceof Yt&&null!==e.diagram||e instanceof _t)return!0}return!1}hL(t){if(this.Dc&&!t)return;const e=this.ps;if(!1===this.Ci)return;const i=+new Date;let n=i>this.$n?this.ws:i-this.oi;t&&(n=this.ES,n<this.ws?(this.oi=+new Date-n,this.$n=this.oi+this.ws):n=this.ws),e.Mu(),this.rL(n),this.L.br(!0),e.Nu(),i>this.$n&&(this.Au&&!this.Oc?(this.oi=+new Date,this.$n=this.oi+this.ws,this.Oc=!0):this.Cu(!1))}rL(t){const e=this.ws,i=this.de.iterator,n=this.Oc;for(;i.next();){const s=i.key;if(s instanceof Yt&&null===s.diagram)continue;const r=i.value,o=n?r.ys:r.oi,a=n?r.oi:r.ys,l=lt.sx;for(const i in a)"position"===i&&(a["position:placeholder"]||a["position:nodeCollapse"])||null!==l.get(i)&&l.get(i)(s,o[i],a[i],this.Rm,t,e,this)}}stop(){return this.Ci?(this.Cu(!0),this):this}Cu(t){if(null!==this.hx&&this.hx.DF(this.OS),!this.Ci)return;const e=this.L,i=this.ps;i.Ac=!1,this.Ci=!1,this.Dc=!1,i.Mu();const n=this.de,s=this.vc.iterator;for(;s.next();)e.remove(s.value);const r=this.Au,o=n.iterator,a=lt.sx;for(;o.next();){const t=o.key,e=o.value,i=r?e.ys:e.oi,n=r?e.oi:e.ys,s=e.ax;for(const r in n)if(null!==a.get(r)){let o=r;e.fx&&("position:nodeCollapse"===o||"position:placeholder"===o)&&(o="position"),a.get(o)(t,i[r],void 0!==s[r]?s[r]:e.fx?i[r]:n[r],this.Rm,this.ws,this.ws,this)}e.fx&&void 0!==s.location&&t instanceof Me&&(t.location=s.location),e.cx&&t instanceof Me&&t.Vi(!1)}this.lx++;const l=!t&&this.rx>this.lx;if(!l&&(this===i.Tm||this===i.defaultAnimation)&&this.de.clear(),e.ux.clear(),e.xP(!1),e.invalidateDocumentBounds(),e.C(),e.br(!0),i.defaultAnimation===this){const t=i.Fm.iterator;for(;t.next();)t.value.FF();i.Fm.clear()}if(e.br(!0),this.isViewportUnconstrained&&(e.scrollMode=this.BS),i.Nu(),l)return this.Oc=!1,void this.start();this.ix(null),e.dL(),i.Cu(this),this.Lu&&this.Lu(this),e.requestUpdate()}Fc(t,e){const i=e.actualBounds;let n=null;if(e instanceof Ie&&(n=e.placeholder),null!==n&&n.visible){const e=n.getDocumentPoint(x.TopLeft),i=n.padding;e.x+=i.left,e.y+=i.top,this.add(t,"position",e,t.position,!1)}else this.add(t,"position",new y(i.x+i.width/2,i.y+i.height/2),t.position,!1);this.add(t,"scale",.01,t.scale,!1),t instanceof Ie&&this.RF(t,e)}RF(t,e){const i=t.memberParts;for(;i.next();){const t=i.value;t instanceof Se&&this.Fc(t,e)}}Rc(t,e){if(!t.isVisible())return;let i=null;if(e instanceof Ie&&(i=e.placeholder),null!==i&&i.visible){const e=i.getDocumentPoint(x.TopLeft),n=i.padding;e.x+=n.left,e.y+=n.top,this.add(t,"position:placeholder",t.position,e,!0)}else this.add(t,"position:nodeCollapse",t.position,e,!0);this.add(t,"scale",t.scale,.01,!0),this.TF(t),t instanceof Ie&&this.vF(t,e)}vF(t,e){const i=t.memberParts;for(;i.next();){const t=i.value;t instanceof Se&&this.Rc(t,e)}}get duration(){return this.Fo}set duration(t){e.s(t,"number",ht,"duration"),t<1&&e._(t,">= 1",ht,"duration"),this.Fo=t}get reversible(){return this.Au}set reversible(t){this.Au=t}get runCount(){return this.rx}set runCount(t){t>0?this.rx=t:e.o("Animation.runCount value must be a positive integer.")}get finished(){return this.Lu}set finished(t){this.Lu!==t&&(null!==t&&e.S(t,ht,"finished"),this.Lu=t)}get easing(){return this.nx}set easing(t){this.nx=t}get isViewportUnconstrained(){return this.IS}set isViewportUnconstrained(t){this.IS=t}get isAnimating(){return this.Ci}getTemporaryState(t){let e=this.ox.get(t);return null===e&&(e={},this.ox.set(t,e)),e}static EaseLinear=(t,e,i,n)=>i*t/n+e;static EaseInOutQuad=(t,e,i,n)=>(t/=n/2,t<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e);static EaseInQuad=(t,e,i,n)=>i*(t/=n)*t+e;static EaseOutQuad=(t,e,i,n)=>-i*(t/=n)*(t-2)+e;static EaseInExpo=(t,e,i,n)=>0===t?e:i*Math.pow(2,10*(t/n-1))+e;static EaseOutExpo=(t,e,i,n)=>t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}class ut{oi;ys;ax;fx;cx;constructor(t,e,i){this.oi=t,this.ys=e,this.ax={},this.fx=i,this.cx=!1}}var ct=(t=>(t[t.Default=1]="Default",t[t.Immediate=2]="Immediate",t[t.Bundled=3]="Bundled",t))(ct||{});class dt{Se;fn;Du;Ic;constructor(t,e,i){this.Se=null,this.fn=t,this.Du=i||1,this.Ic=null,void 0!==e&&(this.Ic=e,void 0===i&&(this.Du=2))}copy(){const t=new dt(this.fn);t.Du=this.Du;const e=this.Ic;if(null!==e){const i={};void 0!==e.duration&&(i.duration=e.duration),void 0!==e.finished&&(i.finished=e.finished),void 0!==e.easing&&(i.easing=e.easing),t.Ic=i}return t}get propertyName(){return this.fn}set propertyName(t){this.fn=t}get animationSettings(){return this.Ic}set animationSettings(t){this.Ic=t}OF(t){const e=this.Ic;null!==e&&(e.duration&&(t.duration=e.duration),e.finished&&(t.finished=e.finished),e.easing&&(t.easing=e.easing))}get startCondition(){return this.Du}set startCondition(t){this.Du=t}static Default=1;static Immediate=2;static Bundled=3}class ft{L;Nt;_t;Ar;Ul;Vl;zl;Xl;Yl;Kl;Gl;Hl;jl;ql;Wl;Jl;Cc;$l;gx;vm;Fu;Tt;constructor(t){u.qi(this),this.L=null,this.Tt=new l,this.Nt="",this._t=1,this.Ar=!1,this.Ul=!0,this.Vl=!0,this.zl=!0,this.Xl=!0,this.Yl=!0,this.Kl=!0,this.Gl=!0,this.Hl=!0,this.jl=!0,this.ql=!0,this.Wl=!0,this.Jl=!0,this.Cc=!0,this.$l=!0,this.gx=!0,this.vm=!1,this.Fu=[],t&&Object.assign(this,t)}IF(){const t=this.Tt;for(let e=0;e<t.length;e++)t.r[e].VS(null);t.clear(),this.Fu.length=0}Ro(t){this.L=t}toString(t){void 0===t&&(t=0);const i='Layer "'+this.name+'"';if(t<=0)return i;let n=0,s=0,r=0,o=0,a=0;const l=this.Tt.iterator;for(;l.next();){const t=l.value;t instanceof Ie?r++:t instanceof Se?s++:t instanceof Ce?o++:t instanceof ke?a++:n++}let h="";if(n>0&&(h+=n+" Parts "),s>0&&(h+=s+" Nodes "),r>0&&(h+=r+" Groups "),o>0&&(h+=o+" Links "),a>0&&(h+=a+" Adornments "),t>1){const t=this.Tt.iterator;for(;t.next();){const i=t.value;h+="\n    "+i.toString();const n=i.data;null!==n&&u.us(n)&&(h+=" #"+u.us(n)),i instanceof Se?h+=" "+e.toString(n):i instanceof Ce&&(h+=" "+e.toString(i.fromNode)+" "+e.toString(i.toNode))}}return i+" "+this.Tt.count+": "+h}findObjectAt(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.$l)return null;let n=!1;null!==this.diagram&&this.diagram.viewportBounds.containsPoint(t)&&(n=!0);const s=y.l(),r=this.Tt.r,o=r.length;for(let a=o;a--;){const o=r[a];if(!0===n&&!1===o.Fl()||!o.isVisible())continue;s.a(t),s.Be(o.Ys);let l=o.gL(s,e,i);if(null!==l&&(null!==e&&(l=e(l)),null!==l&&(null===i||i(l))))return y.e(s),l}return y.e(s),null}findObjectsAt(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),!(n instanceof l)&&!(n instanceof u)&&(n=new u),!1===this.$l)return n;let s=!1;null!==this.diagram&&this.diagram.viewportBounds.containsPoint(t)&&(s=!0);const r=y.l(),o=this.Tt.r,a=o.length;for(let l=a;l--;){const a=o[l];if(!0===s&&!1===a.Fl()||!a.isVisible())continue;r.a(t),r.Be(a.Ys);let h=a;a.mL(r,e,i,n)&&(null!==e&&(h=e(h)),null!==h&&(null===i||i(h))&&n.add(h))}return y.e(r),n}findObjectsIn(t,e,i,n,s){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),!(s instanceof l)&&!(s instanceof u)&&(s=new u),!1===this.$l)return s;let r=!1;null!==this.diagram&&this.diagram.viewportBounds.containsRect(t)&&(r=!0);const o=this.Tt.r,a=o.length;for(let l=a;l--;){const a=o[l];if(!0===r&&!1===a.Fl()||!a.isVisible())continue;let h=a;a.Om(t,e,i,n,s)&&(null!==e&&(h=e(h)),null!==h&&(null===i||i(h))&&s.add(h))}return s}LP(t,e,i,n,s,r,o){if(!1===this.$l)return s;const a=this.Tt.r,l=a.length;for(let h=l;h--;){const l=a[h];if(!0===o&&!1===l.Fl()||!r(l)||!l.isVisible())continue;let u=l;l.Om(t,e,i,n,s)&&(null!==e&&(u=e(u)),null!==u&&(null===i||i(u))&&s.add(u))}return s}findObjectsNear(t,e,i,n,s,r){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!0),!1!==s&&!0!==s&&((s instanceof l||s instanceof u)&&(r=s),s=!0),!(r instanceof l)&&!(r instanceof u)&&(r=new u),!1===this.$l)return r;let o=!1;null!==this.diagram&&this.diagram.viewportBounds.containsPoint(t)&&(o=!0);const a=y.l(),h=y.l(),c=this.Tt.r,d=c.length;for(let l=d;l--;){const u=c[l];if(!0===o&&!1===u.Fl()||!u.isVisible())continue;a.a(t),a.Be(u.Ys),h.i(t.x+e,t.y),h.Be(u.Ys);let d=u;u.pL(a,h,i,n,s,r)&&(null!==i&&(d=i(d)),null!==d&&(null===n||n(d))&&r.add(d))}return y.e(a),y.e(h),r}zS(){return this.Tt.r}xs(t,i){if(!this.visible)return;const n=this.Tt.r,s=n.length;if(0===s)return;const r=e.rt(),o=e.rt();for(let e=0;e<s;e++){const t=n[e];if(t.XS=e,t instanceof Ce){if(!1===t.Ce)continue}else if(t instanceof ke&&null!==t.adornedPart)continue;const s=t.actualBounds;t.isVisible()&&s.intersectsRectPlus(i,10)?(t.xs(!0),r.push(t)):(t.xs(!1),null!==t.adornments&&t.adornments.count>0&&o.push(t))}for(let e=0;e<r.length;e++){const t=r[e];t.YS();const i=t.adornments;for(;i.next();){const t=i.value;t.ut(1/0,1/0),t.Xt(),t.xs(!0)}}for(let e=0;e<o.length;e++)o[e].YS();e.tt(r),e.tt(o)}Ru(t){let e=1;return 1!==this._t&&(e=t.globalAlpha,t.globalAlpha=e*this._t),e}yL(t,e){for(let i=0;i<e;i++)t[i].vu()}zi(t,e,i){if(!this.visible||0===this._t||(void 0===i&&(i=!0),!i&&this.isTemporary))return;const n=this.Tt.r,s=n.length;if(0===s)return;t.Ar&&this.yL(n,s);const r=this.Ru(t),o=this.Fu;o.length=0;const a=e.scale,l=v.l();for(let h=0;h<s;h++){const i=n[h];this.Im(t,i,e,o,a,l,!0)}v.e(l),t.Ar&&this.yL(n,s),t.globalAlpha=r}xE(t,e,i){if(!this.visible||0===this._t)return;const n=this.Tt.r,s=n.length;if(0===s)return;const r=this.Ru(t),o=this.Fu;o.length=0;const a=e.scale,l=v.l();for(let h=0;h<s;h++){const s=n[h];i.has(s)||this.Im(t,s,e,o,a,l,!0)}v.e(l),t.globalAlpha=r}EF(t,e,i,n){if(!this.visible||0===this._t||!n&&this.isTemporary)return;const s=this.Tt.r,r=s.length;if(0===r)return;const o=this.Ru(t),a=this.Fu;a.length=0;const l=e.scale,h=v.l();for(let u=0;u<r;u++){const n=s[u];i.has(n)&&this.Im(t,n,e,a,l,h,!1)}v.e(h),t.globalAlpha=o}BF(t,e,i,n,s){if(!this.visible||0===this.opacity)return;const r=this.diagram.grid.part;if(!n&&this.isTemporary){if(s&&r.layer===this){const e=this.Ru(t);r.zi(t,i),t.globalAlpha=e}}else{const e=this.Ru(t),n=i.scale,o=v.l(),a=this.Tt.r,l=a.length;for(let h=0;h<l;h++){const e=a[h];!s&&e===r||this.Im(t,e,i,null,n,o,!1)}v.e(o),t.globalAlpha=e}}bE(t,e,i){if(!this.visible||0===this._t)return;const n=this.Ru(t),s=this.Fu;s.length=0;const r=e.scale,o=v.l(),a=this.Tt.r,l=a.length,h=i.length;for(let u=0;u<l;u++){const n=a[u],l=n.Qh(n.actualBounds);this.UF(l,i,h,r)&&this.Im(t,n,e,s,r,o,!0)}v.e(o),t.globalAlpha=n}Im(t,e,i,n,s,r,o){if(o&&!e.Fl())return void t.removePartFromView(e);if(null!==n&&e instanceof Ce&&(e.isOrthogonal&&n.push(e),!1===e.Ce))return void t.removePartFromView(e);let a=!1,l=e.containingGroup;for(;null!==l;)a?null!==l.ri&&r.intersectRect(l.ri):null!==l.ri&&(a=!0,r.a(l.ri)),l=l.containingGroup;const h=e.actualBounds;let u=!1;if(a&&e.isVisible()){if(!r.intersectsRect(h))return void t.removePartFromView(e);u=!r.containsRect(h)}u&&(t.save(),t instanceof Ft?t.partClipRect=r.copy():(t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.clip())),h.width*s>i.Em||h.height*s>i.Em?e.zi(t,i):this.VF(t,e,i),u&&(t.restore(),t.clearContextCache(!0))}VF(t,e,i){if(t instanceof Ft)return void e.zi(t,i);const n=e.actualBounds,s=e.naturalBounds;if(0===n.width||0===n.height||isNaN(n.x)||isNaN(n.y)||!e.isVisible())return;const r=e.F;if(null===e.background)return e.mn(t,"rgba(0,0,0,0.3)",!0,!1,s,n),void t.fillRect(n.x,n.y,n.width,n.height);if(t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),e.mn(t,e.background,!0,!1,s,n),t.fillRect(0,0,s.width/2,s.height/2),!r.Ik()){const e=1/(r.m11*r.m22-r.m12*r.m21);t.transform(r.m22*e,-r.m12*e,-r.m21*e,r.m11*e,e*(r.m21*r.dy-r.m22*r.dx),e*(r.m12*r.dx-r.m11*r.dy))}}UF(t,e,i,n){const s=2/n,r=4/n;for(let o=0;o<i;o++){const i=e[o];if(0!==i.width&&0!==i.height&&t.intersects(i.x-s,i.y-s,i.width+r,i.height+r))return!0}return!1}t(t,e,i,n,s){const r=this.diagram;null!==r&&r.raiseChangedEvent(2,t,this,e,i,n,s)}_h(t,e,i){const n=this.Tt;if(e.VS(this),t>=n.count)t=n.count;else if(n.elt(t)===e)return-1;n.insertAt(t,e),e.Bm(i);const s=this.diagram;return null!==s&&(i?s.C():s._h(e)),this.mx(t,e),t}se(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.se(t,e,i);const n=this.Tt;if(t<0||t>=n.length){if(t=n.indexOf(e),t<0)return-1}else if(n.elt(t)!==e&&(t=n.indexOf(e),t<0))return-1;e.Um(i),n.removeAt(t);const s=this.diagram;return null!==s&&(i?s.C():s.se(e)),e.VS(null),t}mx(t,e){t=this.zF(t,e),e instanceof Ie&&this.XF(t,e),null!==e.svg&&e.svg.remove()}zF(t,e){const i=e.zOrder;if(isNaN(i))return t;const n=this.Tt,s=n.count;if(s<=1)return t;if(t<0&&(t=n.indexOf(e)),t<0)return-1;let r=t-1,o=NaN;for(;r>=0&&(o=n.elt(r).zOrder,isNaN(o));)r--;let a=t+1,l=NaN;for(;a<s&&(l=n.elt(a).zOrder,isNaN(l));)a++;if(!isNaN(o)&&o>i)for(;;){if(-1===r||o<=i)return r++,r===t?t:(n.removeAt(t),n.insertAt(r,e),r);for(o=NaN;--r>=0&&(o=n.elt(r).zOrder,isNaN(o)););}else if(!isNaN(l)&&l<i)for(;;){if(a===s||l>=i)return a--,a===t?t:(n.removeAt(t),n.insertAt(a,e),a);for(l=NaN;++a<s&&(l=n.elt(a).zOrder,isNaN(l)););}return t}XF(t,e){if(null===e||!isNaN(e.zOrder))return;this.YF(t,e);const i=e.containingGroup;null!==i&&this.mx(-1,i)}YF(t,e){if(0===e.memberParts.count)return;let i=-1;const n=this.Tt.r,s=n.length;for(let r=0;r<s;r++){const s=n[r];if(s===e&&(t=r,i>=0)||i<0&&s.containingGroup===e&&(i=r,t>=0))break}if(!(i<0)&&i<t){const n=this.Tt;n.removeAt(t),n.insertAt(i,e)}}get parts(){return this.Tt.iterator}get partsBackwards(){return this.Tt.iteratorBackwards}get diagram(){return this.L}get name(){return this.Nt}set name(t){e.s(t,"string",ft,"name");const i=this.Nt;if(i!==t){const n=this.diagram;if(null!==n){""===i&&e.o("Cannot rename default Layer to: "+t);const s=n.layers;for(;s.next();)s.value.name===t&&e.o("Layer.name is already present in this diagram: "+t)}this.Nt=t,this.t("name",i,t);const s=this.Tt.iterator;for(;s.next();){const t=s.value;t.layerName=this.Nt}}}get opacity(){return this._t}set opacity(t){const i=this._t;if(i!==t){e.s(t,"number",ft,"opacity"),(t<0||t>1)&&e._(t,"0 <= value <= 1",ft,"opacity"),this._t=t;const n=this.diagram;null!==n&&n.C(),this.t("opacity",i,t)}}get isViewportAligned(){return this.vm}set isViewportAligned(t){const e=this.vm;e!==t&&(this.vm=t,this.diagram&&(this.wL(),this.diagram.C()),this.t("isViewportAligned",e,t),t&&(this.isInDocumentBounds=!1))}wL(){if(!this.vm)return;const t=this.diagram,e=this.Tt.r,i=e.length,n=t.Pt,s=t.St;for(let r=0;r<i;r++){const i=e[r],o=i.naturalBounds.width,a=i.naturalBounds.height;let l=i.alignment;(l.isDefault()||!l.isSpot())&&(l=x.BottomRight);let h=i.alignmentFocus;h.isDefault()&&(h=new x(l.x,l.y));const u=l.x*n+l.offsetX-(h.x*o+h.offsetX),c=l.y*s+l.offsetY-(h.y*a+h.offsetY),d=y.X(u,c);t.KF(d),i.Nc(d.x,d.y,!0),y.e(d),i.nt=1/t.scale}}get isTemporary(){return this.Ar}set isTemporary(t){const i=this.Ar;i!==t&&(e.s(t,"boolean",ft,"isTemporary"),this.Ar=t,this.t("isTemporary",i,t))}get visible(){return this.Cc}set visible(t){const i=this.Cc;if(i!==t){e.s(t,"boolean",ft,"visible"),this.Cc=t;const n=this.Tt.iterator;for(;n.next();)n.value.Vi(t);const s=this.diagram;null!==s&&s.C(),this.t("visible",i,t)}}get pickable(){return this.$l}set pickable(t){const i=this.$l;i!==t&&(e.s(t,"boolean",ft,"pickable"),this.$l=t,this.t("pickable",i,t))}get isInDocumentBounds(){return this.gx}set isInDocumentBounds(t){const e=this.gx;e!==t&&(this.gx=t,null!==this.diagram&&this.diagram.invalidateDocumentBounds(),this.t("isInDocumentBounds",e,t))}get allowCopy(){return this.Ul}set allowCopy(t){const i=this.Ul;i!==t&&(e.s(t,"boolean",ft,"allowCopy"),this.Ul=t,this.t("allowCopy",i,t))}get allowDelete(){return this.Vl}set allowDelete(t){const i=this.Vl;i!==t&&(e.s(t,"boolean",ft,"allowDelete"),this.Vl=t,this.t("allowDelete",i,t))}get allowTextEdit(){return this.zl}set allowTextEdit(t){const i=this.zl;i!==t&&(e.s(t,"boolean",ft,"allowTextEdit"),this.zl=t,this.t("allowTextEdit",i,t))}get allowGroup(){return this.Xl}set allowGroup(t){const i=this.Xl;i!==t&&(e.s(t,"boolean",ft,"allowGroup"),this.Xl=t,this.t("allowGroup",i,t))}get allowUngroup(){return this.Yl}set allowUngroup(t){const i=this.Yl;i!==t&&(e.s(t,"boolean",ft,"allowUngroup"),this.Yl=t,this.t("allowUngroup",i,t))}get allowLink(){return this.Kl}set allowLink(t){const i=this.Kl;i!==t&&(e.s(t,"boolean",ft,"allowLink"),this.Kl=t,this.t("allowLink",i,t))}get allowRelink(){return this.Gl}set allowRelink(t){const i=this.Gl;i!==t&&(e.s(t,"boolean",ft,"allowRelink"),this.Gl=t,this.t("allowRelink",i,t))}get allowMove(){return this.Hl}set allowMove(t){const i=this.Hl;i!==t&&(e.s(t,"boolean",ft,"allowMove"),this.Hl=t,this.t("allowMove",i,t))}get allowReshape(){return this.jl}set allowReshape(t){const i=this.jl;i!==t&&(e.s(t,"boolean",ft,"allowReshape"),this.jl=t,this.t("allowReshape",i,t))}get allowResize(){return this.ql}set allowResize(t){const i=this.ql;i!==t&&(e.s(t,"boolean",ft,"allowResize"),this.ql=t,this.t("allowResize",i,t))}get allowRotate(){return this.Wl}set allowRotate(t){const i=this.Wl;i!==t&&(e.s(t,"boolean",ft,"allowRotate"),this.Wl=t,this.t("allowRotate",i,t))}get allowSelect(){return this.Jl}set allowSelect(t){const i=this.Jl;i!==t&&(e.s(t,"boolean",ft,"allowSelect"),this.Jl=t,this.t("allowSelect",i,t))}}var mt=(t=>(t[t.None=1]="None",t[t.Uniform=2]="Uniform",t[t.UniformToFill=3]="UniformToFill",t))(mt||{}),gt=(t=>(t[t.All=1]="All",t[t.NotDirected=2]="NotDirected",t[t.NotDirectedFast=3]="NotDirectedFast",t[t.NotUndirected=4]="NotUndirected",t[t.DestinationTree=5]="DestinationTree",t[t.SourceTree=6]="SourceTree",t))(gt||{}),pt=(t=>(t[t.Document=1]="Document",t[t.Infinite=2]="Infinite",t))(pt||{}),yt=(t=>(t[t.TreeParent=1]="TreeParent",t[t.AllParents=2]="AllParents",t[t.AnyParents=3]="AnyParents",t))(yt||{});class _t{ps;Zt;KS;px;Tr;Ou;yx;wx;xx;bx;kx;Px;ta;Zh;Sx;Mx;Nx;Zl;Ec;Dr;Vm;Cx;Lx;Iu;Zn;Fr;ia;Oo;zm;Bc;Xm;Uc;Eu;Rr;Qn;GS;HS;Ax;Tx;jS;Dx;qS;WS;JS;Fx;Ym;vr;Or;Ir;Er;Br;Ur;Rx;Vr;vx;zr;Xr;Yr;Kr;Ox;$S;Io;ZS;Ix;Ex;QS;Mi;_S;tM;iM;Vs;Eo;Bi;Bx;Ul;Vl;Ux;Vx;zl;Xl;Yl;zx;Kl;Gl;Hl;jl;ql;Wl;Jl;Xx;Yx;eM;Bu;Uu;Kx;Gx;Hx;jx;Km;qx;Wx;Jx;ti;sM;$x;nM;Vu;pn;_n;ne;to;xL;Ql;oM;rM;Gm;Zx;zu;Hm;Qx;Gr;_l;ea;lM;hM;jm;_x;tb;ts;Xu;qm;Yu;th;Vc;Wm;Hr;sa;aM;Jm;Jt;F;ze;Cr;Xi;bs;cM;ih;jr;Cl;qr;na;zc;fM;Ku;oa;Gu;Gt;eh;dt;nt;Hu;Pt;St;mt;Xc;Iw;ib;ra;Yc;eb;sb;nb;GF;HF;Yi;Al;Em;$m;uM;dM;bL;Zm;jF;qF;WF;ob;JF;$F;ZF;la;kL;sh;ha;aa;ca;fa;bu;Jh;ii;Ct;Kc;Jk;$k;xc;_t;static rb=null;static PL=new p;static gM;static mM=null;xu;lb;hb;ab;cb;fb;Qm;pM;_m;t0;i0;tx;yM;wM;Gc;constructor(e,i){if(_t.uw||(_t.Ek(),_t.uw=!0),u.qi(this),_t.SL(this),this.Jt=!0,this.Ct=null,this.Pt=0,this.St=0,this.mt=null,_t.isUsingDOM()){const e=this,i=()=>{e.Ni(t.document,"DOMContentLoaded",i,!1),e.setRTL()};null!==t.document.body?this.setRTL():e.zt(t.document,"DOMContentLoaded",i,!1)}this.Xc=null,_t.xM("Model",Xe);const n=this;return this._S=t=>n.partManager.doModelDataChanged(t),this.tM=t=>n.partManager.doModelChanged(t),this.eb=null,this.sb=null,this.ML(),this.model=ti.bM(),this.themeManager=new ji,this.Io=!0,this.NL(),this.layout=new He,this.Io=!1,this.jF=null,this.qF=null,this.WF=null,this.ob=null,this.JF=null,this.$F=null,this.ZF=null,this.la=null,this.kL=null,this.sh=null,this.ha=null,this.aa=null,this.ca=null,this.fa=null,this.bu=()=>{},this.Jh=null,this.Yu=!1,this.Kc=new vt(this),void 0!==e&&("string"==typeof e||t.Element&&e instanceof Element?this.kM(e):i=e),i&&this.setProperties(i),this.Jt=!1,this.requestUpdate(),this}hF(){return null!==this.mt}get renderer(){return this.Vc}set renderer(e){if(this instanceof kt)return;""===e&&(e="default");const i=e.toLowerCase(),n=this.Vc;if(i===n)return;this.Vc=i;let s=null;"default"===i||"canvas"===i?(s=this.th.get("svg"),null!==s&&s.Rt.remove(),this.mt&&(this.ii=this.mt.ci),this.ii.clearContextCache(!0)):"svg"===i?(this.th.has("svg")?s=this.th.get("svg"):(s=new Ot(this,t.document),this.addRenderer("svg",s)),null!==this.div&&this.div.appendChild(s.Rt),this.ii=s.ci,this.mt&&(this.mt.ci.setTransform(this.Yi,0,0,this.Yi,0,0),this.mt.ci.clearRect(0,0,this.Pt,this.St))):"debug"===i&&(this.th.has("SVG")||(s=new Ot(this,t.document),this.addRenderer("SVG",s),s.Rt.style.backgroundColor="whitesmoke",null!==this.div&&this.div.after(s.Rt))),this.Jt||this.redraw()}ML(){this.Gc=new l,this.setupRouters(),this.ps=new lt,this.ps.Ro(this),this.Zt=17,this.KS=!1,this.Hu=!1,this.px="default",this.Gt=new l,this.th=new p,this.Vc="default",this.resetRenderingHints(),this.QF(),this._t=1,this.dt=new y(NaN,NaN).u(),this.tx=new y(NaN,NaN),this.nt=1,this.Jm=1,this.yx=new y(NaN,NaN).u(),this.wx=NaN,this.xx=1e-4,this.bx=100,this.F=new M,this.kx=new y(NaN,NaN).u(),this.Px=new v(NaN,NaN,NaN,NaN).u(),this.ta=new b(0,0,0,0).u(),this.Zh=1,this.Sx=!1,this.Mx=null,this.Nx=null,this.Zl=1,this.Ec=x.Default,this.Dr=1,this.Vm=x.Default,this.Cx=x.None,this.Lx=x.None,this.ze=!0,this.Iu=!1,this.Zn=new Set,this.Fr=new u,this.ia=new u,this.Oo=!1,this.eh=new p,this.Ku=!0,this.zm=250,this.Bc=-1,this.Xm=new b(16,16,16,16).u(),this.Cr=!1,this.Uc=!1,this.Eu=!0,this.Wm=new Y,this.Wm.diagram=this,this.Hr=new Y,this.Hr.diagram=this,this.sa=new Y,this.sa.diagram=this,this.Rr=null,this.Qn=null,this.Iw=!1,this._F(),this.qr=new u,this.Ax=!0,this.Tx=1,this.jS=!1,this.Dx=1,this.Fx="auto",this.Ym="auto",this.vr=null,this.Or=null,this.Ir=null,this.Er=null,this.Br=null,this.Ur=null,this.Rx=null,this.Vr=null,this.vx=!1,this.zr=null,this.Xr=null,this.Yr=null,this.Kr=null,this.Ox=!1,this.ib={},this.ra=[null,null],this.Io=!1,this.ZS=!1,this.Ix=!1,this.Ex=!1,this.QS=!0,this.bs=!1,this.oa=!1,this.iM=!0,this.Vs=-2,this.ih=new p,this.Gu=new l,this.Eo=!1,this.Bi=!0,this.Bx=!0,this.Ul=!0,this.Vl=!0,this.Ux=!1,this.Vx=!0,this.zl=!0,this.Xl=!0,this.Yl=!0,this.zx=!0,this.Kl=!0,this.Gl=!0,this.Hl=!0,this.jl=!0,this.ql=!0,this.Wl=!0,this.Jl=!0,this.Xx=!0,this.Yx=!0,this.eM=!1,this.Yc=!1,this.Bu=!0,this.Uu=!0,this.Kx=!0,this.Gx=!0,this.Hx=16,this.jx=16,this.Km=!1,this.qx=!1,this.Wx=0,this.Jx=0,this.ti=new b(5).u(),this.sM=(new u).u(),this.$x=999999999,this.nM=(new u).u(),this.na=!0,this.Vu=!0,this.zc=!0,this.pn=!1,this._n=!1,this.jr=!0,this.Cl=!1,this.to=!1,this.xL=new u,this.fM=new u,this.Ql=null,this.oM=new _(8,8),this.rM=999,this.Gm=!1,this.Jk=1,this.$k=0,this.Xi={scale:1,position:new y,bounds:new v,canvasSize:new _,newCanvasSize:new _,isScroll:!1},this.Xi.canvasSize=this.Xi.canvasSize,this.Xi.newCanvasSize=this.Xi.newCanvasSize,this.Xi.isScroll=!1,this.Zx=new v(NaN,NaN,NaN,NaN).u(),this.zu=new _(NaN,NaN).u(),this.Hm=new v(NaN,NaN,NaN,NaN).u(),this.Qx=!1,this.tR(),this.ts=null,this.Xu=!1,this.xc=null,this.partManager=new Xe,this.toolManager=new j,this.toolManager.initializeStandardTools(),this.defaultTool=this.toolManager,this.currentTool=this.defaultTool,this.hb=null,this.ab=new Mt,this.cb=null,this.fb=null,this.lb=!1,this.xu=!1,this.commandHandler=new St,this.t0=null,this.i0=y.Ak,this.yM=!1,this.Yi=1,this.Al=null,this.Em=1,this.Qm=0,this.pM=[0,0,0,0,0],this._m=0,this.$m=1,this.uM=0,this.dM=new y,this.bL=500,this.qm=new y,this.Zm=!1}static CL=void 0!==t.document;static isUsingDOM(){return _t.CL}static useDOM(e){_t.CL=!!e&&void 0!==t.document}static is=new WeakMap;clear(){this.animationManager.stopAnimation(),this.model.clear(),_t.LL(),this.AL(!1),this.Gu.clear(),this.TL(),this.Ql=null,this.invalidateDocumentBounds(),this.ensureBounds(),this.C()}AL(t){this.animationManager.stopAnimation(!0),this.sM=(new u).u(),this.nM=(new u).u();const i=this.skipsUndoManager,n=null!==this.Mi&&void 0!==this.Mi;n&&(this.skipsUndoManager=!0);let s=null;null!==this.ts&&(s=this.ts.part,null!==s&&this.remove(s));const r=[],o=this.Gt.length;if(t){for(let t=0;t<o;t++){const e=this.Gt.r[t].parts;for(;e.next();){const t=e.value;t!==s&&null===t.data&&r.push(t)}}for(let t=0;t<r.length;t++){const e=r[t];this.remove(e)}}for(let e=0;e<o;e++)this.Gt.r[e].IF();return this.partManager.clear(),this.Zn.clear(),this.Fr.clear(),this.ia.clear(),this.eh.clear(),this.qr.clear(),this.xc=null,this.Gu.clear(),this.TL(),e.Ck=[],null!==s&&(this.add(s),this.partManager.parts.delete(s)),n&&(this.skipsUndoManager=i),r}static e0=null;static ub="";static LL(){_t.e0=null,_t.ub=""}static kE(){return null}reset(){this.clear(),this.Jt=!0,this.ML(),this.themeManager=new ji,this.nh(),this.Io=!0,this.NL(),this.layout=new He,this.Io=!1,this.model=ti.bM(),this.model.undoManager=new F,this.Yu=!1,this.Jt=!1,this.C()}tR(){this.Gr=new p,this.lM=(new Se).add(new fe({stroke:"black",font:"10pt sans-serif"}).bind("text","",e.toString).theme("stroke","text").theme("font","normal")),this.Gr.set("",this.lM),this.Gr.set("Comment",(new Se).add(new fe({stroke:"brown",font:"10pt sans-serif"}).bind("text","",e.toString).theme("stroke","comment").theme("font","normal"))),this.Gr.set("LinkLabel",new Se({selectable:!1,avoidable:!1}).add(new le("Ellipse",{fill:"black",stroke:null,desiredSize:new _(3,3).it()}).theme("fill","link"))),this.ea=new p,this.cM=new Ie(ie.Vertical,{selectionObjectName:"GROUPPANEL"}).add(new fe({stroke:"black",font:"bold 12pt sans-serif"}).bind("text","",e.toString).theme("stroke","text").theme("font","bold"),new ie(ie.Auto,{name:"GROUPPPANEL"}).add(new le({fill:"rgba(128,128,128,0.2)",stroke:"black",strokeWidth:1}).theme("fill","group").theme("stroke","outline").theme("strokeWidth","group"),new je({padding:5}).theme("padding","group"))),this.ea.set("",this.cM),this._l=new p,this.hM=(new Ce).add(new le({isPanelMain:!0,stroke:"black"}).theme("stroke","link"),new le({toArrow:"Standard",fill:"black",stroke:null,strokeWidth:0}).theme("toArrow").theme("fill","link")),this._l.set("",this.hM),this._l.set("Comment",(new Ce).add(new le({isPanelMain:!0,stroke:"brown"}).theme("stroke","comment"))),this.jm=new ke(ie.Auto).add(new le({fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"),new je({margin:1.5}).theme("margin","selection","numbers",null,(t=>t?new b(t/2):1.5))),this._x=this.jm,this.tb=new ke(ie.Link).add(new le({isPanelMain:!0,fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"))}setRTL(i){let n=void 0===i?this.div:i;null===n&&(n=t.document.body);const s=e.fs("div");s.dir="rtl",s.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",s.textContent="A",n.appendChild(s);let r="reverse";s.scrollLeft>0?r="default":(s.scrollLeft=1,0===s.scrollLeft&&(r="negative")),n.removeChild(s),this.px=r}setScrollWidth(i){let n=void 0===i?this.div:i;null===n&&(n=t.document.body);let s=0;if(_t.isUsingDOM()){let t=_t.mM,i=_t.gM;null===t&&(_t.mM=e.fs("p"),t=_t.mM,t.style.width="100%",t.style.height="200px",t.style.boxSizing="content-box",_t.gM=e.fs("div"),i=_t.gM,i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.boxSizing="content-box",i.appendChild(t)),i.style.overflow="hidden",n.appendChild(i);const r=t.offsetWidth;i.style.overflow="scroll";let o=t.offsetWidth;r===o&&(o=i.clientWidth),n.removeChild(i),s=r-o,0===s&&!e.hr&&(s=11)}this.Zt=s,this.KS=!0}hi(t){t in mt?this.autoScale=t:e.cr(this,t)}toString(t){void 0===t&&(t=0);let e="";this.div&&this.div.id&&(e=this.div.id);let i='Diagram "'+e+'"';if(t<=0)return i;const n=this.Gt.iterator;for(;n.next();){const e=n.value;i+="\n  "+e.toString(t-1)}return i}static SL(t){_t.rb=t}static ym(){return _t.rb}static fromDiv(e){let i=e;if("string"==typeof e&&(i=t.document.getElementById(e)),i instanceof HTMLDivElement){const t=_t.is.get(i);if(t)return t}return null}get div(){return this.Ct}set div(e){if(this.Ct!==e){const i=this.Ct;if(null!==i){if(_t.is.delete(i),i.goDiagram=void 0,i.go=void 0,i.innerHTML="",null!==this.mt){const t=this.mt.Rt;this.Ni(t,"pointermove",this.ha,!1),this.Ni(t,"pointerdown",this.sh,!1),this.Ni(t,"pointerup",this.aa,!1),this.Ni(t,"pointerout",this.ca,!1),this.Ni(t,"pointercancel",this.fa,!1),this.mt.dispose()}this.Xc&&(this.Xc.disconnect(),this.Xc=null);const e=this.toolManager;null!==e&&(e.mouseDownTools.each((t=>t.cancelWaitAfter())),e.mouseMoveTools.each((t=>t.cancelWaitAfter())),e.mouseUpTools.each((t=>t.cancelWaitAfter()))),e.cancelWaitAfter(),this.currentTool.doCancel(),this.mt=null,this.Ni(t,"resize",this.ob,!1),this.Ni(t,"wheel",this.la,!0),_t.ym()===this&&_t.SL(null)}else null===this.sh&&(this.to=!1);if(this.Ct=null,null!==e){const t=_t.is.get(e);t&&(t.div=null),this.kM(e),this.bu(),this.themeManager&&this.themeManager.iR()}else this.themeManager&&this.themeManager.eR()}}setupRouters(){this.Gc.push(new Bi)}kM(i){const n=this;if(!_t.isUsingDOM())return;null==i&&e.o("Diagram setup requires an argument DIV."),null!==n.Ct&&e.o("Diagram has already completed setup."),"string"==typeof i?n.Ct=t.document.getElementById(i):i instanceof HTMLDivElement?n.Ct=i:e.o("No DIV or DIV id supplied: "+i),null===n.Ct&&e.o("Invalid DIV id; could not get element with id: "+i);const s=_t.is.get(n.Ct);if(s&&s!==this&&e.o("Invalid div id; div already has a Diagram associated with it."),!n.Xc&&t.ResizeObserver){const i=t.ResizeObserver,s=e.Nk((()=>n.requestUpdate()),250,!1);n.Xc=new i((()=>s())),n.Xc.observe(n.Ct)}"static"===t.getComputedStyle(n.Ct,null).position&&(n.Ct.style.position="relative");let r=5;const o="rgba(2"+r+"5, 255, 255, 0)";r--,n.Ct.style["-webkit-tap-highlight-color"]=o,n.Ct.innerHTML="",_t.is.set(n.Ct,n),n.Ct.goDiagram=n,n.Ct.go=t.go;const a=new Rt(n);void 0!==a.style&&(a.style.position="absolute",a.style.top="0px",a.style.left="0px","rtl"===t.getComputedStyle(n.Ct,null).getPropertyValue("direction")&&(n.Hu=!0),a.style.zIndex="2",a.style.userSelect="none",a.style.MozUserSelect="none",a.style.touchAction="none",a.style.letterSpacing="normal !important",a.style.wordSpacing="normal !important",a.style.lang="unknown"),n.mt=a,n.ii=a.ci;const l=n.ii;n.Yi=n.computePixelRatio(),n.viewSize.isReal()||(n.Pt=n.Ct.clientWidth||1,n.St=n.Ct.clientHeight||1),n.DL(n.Pt,n.St);const h=n;n.Ct.insertBefore(a.Rt,n.Ct.firstChild);const u=new Rt(null);if(u.width=1,u.height=1,n.GF=u,n.HF=u.ci,_t.isUsingDOM()){const t=e.fs("div"),i=e.fs("div");t.style.position="absolute",t.style.overflow="auto",t.style.width=n.Pt+"px",t.style.height=n.St+"px",t.style.zIndex="1",i.style.position="absolute",i.style.width="1px",i.style.height="1px",n.Ct.appendChild(t),t.appendChild(i),t.onscroll=_t.sR,t.addEventListener("pointerdown",_t.nR),t.L=n,t.oR=!0,t.rR=!0,n.eb=t,n.sb=i}n.bu=e.Nk((()=>{n.Al=null,n.C()}),300,!1),n.ob=e.Nk((()=>{n.AS()}),250,!1),n.Jh=t=>(t.preventDefault(),!1),n.la=t=>{if(!h.isEnabled)return;const e=h.Hc(t,!0);e.bubbles=!0;let i=0,n=0;e.delta=0,void 0!==t.deltaX?(0!==t.deltaX&&(i=t.deltaX>0?1:-1),0!==t.deltaY&&(n=t.deltaY>0?1:-1),e.delta=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-i:-n):void 0!==t.wheelDeltaX?(0!==t.wheelDeltaX&&(i=t.wheelDeltaX>0?-1:1),0!==t.wheelDeltaY&&(n=t.wheelDeltaY>0?-1:1),e.delta=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-i:-n):void 0!==t.wheelDelta&&0!==t.wheelDelta&&(e.delta=t.wheelDelta>0?1:-1),h.doMouseWheel(),h.ua(e,t)},n.kL=t=>{if(!h.isEnabled)return;n.Yc=!1,h.Hc(t,!0);const e=h.currentTool;e.cancelWaitAfter(),e.standardMouseOver()},n.sh=t=>{if(!h.isEnabled)return;n.Yc=!0;const e=h.ib;void 0===e[t.pointerId]&&(e[t.pointerId]=t);const i=h.ra;let s=!1;if(null===i[0]||i[0].pointerId!==t.pointerId&&i[0].pointerType===t.pointerType)if(null!==i[1]&&i[1].pointerId===t.pointerId)i[1]=t,s=!0;else if(null===i[0])i[0]=t;else{if(null!==i[1])return void t.preventDefault();i[1]=t,s=!0}else i[0]=t;const r="touch"===t.pointerType||"pen"===t.pointerType;r&&(h.Iw=!1,h.Zm=!0);const o=h.lR(t,t,s),a=h.dM,l=r?25:10;t.timeStamp-h.uM<h.bL&&!(Math.abs(a.x-t.screenX)>l||Math.abs(a.y-t.screenY)>l)?h.$m++:h.$m=1,o.clickCount=h.$m,h.uM=t.timeStamp,h.dM.setTo(t.screenX,t.screenY),h.doMouseDown(),1!==t.button?h.ua(o,t):t.preventDefault()},n.ha=t=>{if(!h.isEnabled)return;n.Yc=!0;const e=h.ra;if(null===e[0]||e[0].pointerId!==t.pointerId&&e[0].pointerType===t.pointerType){if(null!==e[1]&&e[1].pointerId===t.pointerId)return void(e[1]=t);if(null!==e[0])return;e[0]=t}else e[0]=t;if(e[0].pointerId!==t.pointerId)return;const i=h.hR(t,t,null!==e[1]);h.doMouseMove(),h.ua(i,t)},n.aa=e=>{if(!h.isEnabled)return;n.Yc=!0;const i="touch"===e.pointerType||"pen"===e.pointerType,s=h.ib;if(i&&h.Iw)return delete s[e.pointerId],void e.preventDefault();const r=h.ra;if(null===r[0]||r[0].pointerId!==e.pointerId&&r[0].pointerType===e.pointerType)return null!==r[1]&&r[1].pointerId===e.pointerId?void(r[1]=null):void 0;r[0]=null;const o=h.PM(e,!1,!0,!1,!0,!1);let a=t.document.elementFromPoint(e.clientX,e.clientY)||null;null!==a&&void 0!==a.shadowRoot&&null!==a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(e.clientX,e.clientY)),null!==a&&a.L instanceof _t&&a.L!==h&&a.L.s0(e,o),null===a&&(a=e.target),h.s0(e,o),o.clickCount=h.$m,o.targetDiagram=h.db(e,a),o.targetObject=null,h.doMouseUp(),h.ua(o,e),i&&(h.Zm=!1)},n.ca=t=>{if(!h.isEnabled)return;n.Yc=!1;const e=h.ib;e[t.pointerId]&&delete e[t.pointerId];const i=h.ra;if(null!==i[0]&&i[0].pointerId===t.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===t.pointerId&&(i[1]=null),"touch"===t.pointerType||"pen"===t.pointerType)return;const s=h.currentTool;s.cancelWaitAfter(),s.standardMouseOver()},n.fa=t=>{const e=h.ra;null!==e[0]&&e[0].pointerId===t.pointerId?(e[0]=null,h.Zm=!1):null!==e[1]&&e[1].pointerId===t.pointerId&&(e[1]=null)};const c=l;if(n.nb=c.U[e.Rs("7eba17a4ca3b1a8346")][e.Rs("78a118b7")](c.U,_t.ju,r,r),l.clearContextCache(!0),n.aR(),"svg"===this.Vc){const t=this.th.get("svg");this.Ct&&this.Ct.appendChild(t.Rt),this.ii=t.ci}}addEventListener(t,e,i,n){t.addEventListener(e,i,{capture:n,passive:!1})}zt(t,e,i,n){t.addEventListener(e,i,{capture:n,passive:!1})}removeEventListener(t,e,i,n){t.removeEventListener(e,i,{capture:n})}Ni(t,e,i,n){t.removeEventListener(e,i,{capture:n})}aR(){const e=this;let i=this.mt.Rt;i instanceof HTMLCanvasElement||(i=e.div),this.zt(i,"pointerdown",e.sh,!1),this.zt(i,"pointermove",e.ha,!1),this.zt(i,"pointerup",e.aa,!1),this.zt(i,"pointerout",e.ca,!1),this.zt(i,"pointercancel",e.fa,!1),this.zt(i,"pointerenter",e.cR,!1),this.zt(i,"pointerleave",e.fR,!1),this.zt(i,"wheel",e.la,!1),this.zt(i,"keydown",e.uR,!1),this.zt(i,"keyup",e.dR,!1),this.zt(i,"blur",e.gR,!1),this.zt(i,"focus",e.mR,!1),this.zt(i,"selectstart",(t=>(t.preventDefault(),!1)),!1),this.zt(i,"contextmenu",(t=>(t.preventDefault(),!1)),!1),this.zt(t,"resize",e.ob,!1)}Ew(){this.Qm>30&&(this.Al=1)}xP(t){null!==this.Al&&(this.Al=null,t&&this.bu(),this.Qm=0,this.pM=[0,0,0,0,0],this._m=0)}computePixelRatio(){return null!==this.Al?this.Al:t.devicePixelRatio||1}get avgSpf(){return this.Qm}doMouseDown(){this.currentTool.doMouseDown()}doMouseMove(){this.currentTool.doMouseMove()}doMouseUp(){this.currentTool.doMouseUp()}doMouseWheel(){this.currentTool.doMouseWheel()}doKeyDown(){this.currentTool.doKeyDown()}doKeyUp(){this.currentTool.doKeyUp()}doFocus(){this.focus()}focus(){if(this.mt)if(this.scrollsPageOnFocus)this.mt.focus();else{const e=t.scrollX,i=t.scrollY;this.mt.focus(),t.scrollTo(e,i)}}mR(t){const e=_t.is.get(this);e&&e.v("GainedFocus")}gR(t){const e=_t.is.get(this);e&&e.v("LostFocus")}AS(){if(null===this.mt)return;const t=this.Ct;if(null===t||0===t.clientWidth||0===t.clientHeight)return;this.KS||this.setScrollWidth();const e=this._n?this.Zt:0,i=this.pn?this.Zt:0,n=this.Yi;if(this.Yi=this.computePixelRatio(),this.Yi!==n&&(this.Iu=!0,this.requestUpdate()),t.clientWidth!==this.Pt+e||t.clientHeight!==this.St+i){this.da(),this.ze=!0;const t=this.layout;null!==t&&t.isViewportSized&&1===this.autoScale&&(this.Uc=!0,t.invalidateLayout()),this.bs||this.requestUpdate()}}NL(){let t=0,e=new ft;e.name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Wr(e,t++),e=new ft,e.name="ViewportBackground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Wr(e,t++),e=new ft,e.name="Background",this.Wr(e,t++),e=new ft,e.name="",this.Wr(e,t++),e=new ft,e.name="Foreground",this.Wr(e,t++),e=new ft,e.name="ViewportForeground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Wr(e,t++),e=new ft,e.name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,this.Wr(e,t++),e=new ft,e.name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,this.Wr(e,t++)}FL(){const t=new ie(ie.Grid,{name:"GRID"}).add(new le("LineH",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new le("LineV",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new le("LineH",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new le("LineV",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new le("LineH",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor"),new le("LineV",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor")),e=new Me({layerName:"Grid",zOrder:0,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,locationObjectName:"GRID"}).add(t);return this.add(e),this.partManager.parts.delete(e),t.visible=!1,t}static sR(){const t=_t.is.get(this.parentElement||this);if(t){if(t.qx)return void(t.qx=!1);if(!t.isEnabled)return void t.RL();t.diagramScroll(this)}}static nR(t){this.L.isEnabled?(this.L.Wx=t.target.scrollTop,this.L.Jx=t.target.scrollLeft):this.L.updateScroll()}diagramScroll(t){if(null===this.mt)return;const e=this.eb,i=this.sb;this.Km=!0;let n=this.documentBounds,s=this.viewportBounds;const r=this.ta;let o=n.x-r.left,a=n.y-r.top;const l=n.width+r.left+r.right,h=n.height+r.top+r.bottom;let u=n.right+r.right,c=n.bottom+r.bottom,d=s.x,f=s.y;const m=s.width,g=s.height;let p=s.right,_=s.bottom;const v=this.scale;let b,x=t.scrollLeft;if(this.Hu)switch(this.px){case"negative":x=x+t.scrollWidth-t.clientWidth;break;case"reverse":x=t.scrollWidth-x-t.clientWidth;break}const M=x;if(m<l||g<h)return b=y.X(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Jx!==M&&(b.x=M/v+o,this.Jx=M),this.allowVerticalScroll&&this.Wx!==t.scrollTop&&(b.y=t.scrollTop/v+a,this.Wx=t.scrollTop),this.position=b,y.e(b),this.Km=!1,void(this.Vu=!1);if(b=y.l(),t.oR&&this.allowHorizontalScroll&&(o<d&&(this.position=b.i(M+o,this.position.y)),u>p)){const t=e.scrollWidth-this.Pt;this.position=b.i(-t+M-this.Pt/v+u,this.position.y)}if(t.rR&&this.allowVerticalScroll&&(a<f&&(this.position=b.i(this.position.x,t.scrollTop+a)),c>_)){const i=e.scrollHeight-this.St;this.position=b.i(this.position.x,-i+t.scrollTop-this.St/v+c)}y.e(b),this.oh(),this.Km=!1,this.Vu=!1,n=this.documentBounds,s=this.viewportBounds,u=n.right,p=s.right,c=n.bottom,_=s.bottom,o=n.x,d=s.x,a=n.y,f=s.y,m>=l&&o>=d&&u<=p&&(i.style.width="1px"),g>=h&&a>=f&&c<=_&&(i.style.height="1px")}computeBounds(t){return void 0===t&&(t=new v),this.Li(),this.vL(t)}vL(t){if(this.fixedBounds.isReal())return t.a(this.fixedBounds),t.addMargin(this.ti),t;let e=!0;const i=this.Gt.r,n=i.length;for(let s=0;s<n;s++){const n=i[s];if(!n.visible||!n.isInDocumentBounds)continue;const r=n.Tt.r,o=r.length;for(let i=0;i<o;i++){const n=r[i];if(!n.isInDocumentBounds||!n.isVisible())continue;const s=n.actualBounds;s.isReal()&&(e?(e=!1,t.a(s)):t.unionRect(s))}}return e&&t.i(0,0,0,0),t.addMargin(this.ti),t}computePartsBounds(t,e){void 0===e&&(e=!1);let i=null;if(Array.isArray(t))for(let n=0;n<t.length;n++){const s=t[n];!e&&s instanceof Ce||(s.ensureBounds(),null===i?i=s.actualBounds.copy():i.unionRect(s.actualBounds))}else{const n=t.iterator;for(;n.next();){const t=n.value;!e&&t instanceof Ce||(t.ensureBounds(),null===i?i=t.actualBounds.copy():i.unionRect(t.actualBounds))}}return null===i?new v(NaN,NaN,0,0):i}Ks(t){if(!t&&!this.to||this.Jt||null===this.mt||!this.documentBounds.isReal())return;if(this.Jt=!0,t){const t=this.initialPosition;if(t.isReal())return this.Jt=!1,void(this.position=t);let e=this.initialDocumentSpot,i=this.initialViewportSpot;e.isNoSpot()&&(e=x.TopLeft),i.isNoSpot()&&(i=x.TopLeft);const n=y.l();n.setRectSpot(this.documentBounds,e);const s=this.viewportBounds,r=v.X(0,0,s.width,s.height),o=y.l();o.setRectSpot(r,i),o.i(n.x-o.x,n.y-o.y),this.Jt=!1,this.position=o,v.e(r),y.e(o)}let e=this.Zl;t&&1!==this.Dr&&(e=this.Dr);const i=1!==e?this.qu(e):this.scale,n=this.dt.x,s=this.dt.y,r=this.Pt/i,o=this.St/i;let a=this.Ec;const l=this.Vm;if(t&&!a.isSpot()&&(l.isSpot()||l.isDefault())){const t=this.initialDocumentSpot.isSpot()&&this.initialViewportSpot.isSpot();a=l.isDefault()&&!t?x.Center:l}this.SM(this.documentBounds,r,o,a,t);const h=this.scale;this.scale=i,this.Jt=!1;const u=this.viewportBounds;u.equalsApproxTo(n,s,r,o)||this.onViewportBoundsChanged(new v(n,s,r,o),u,h,!1)}qu(t){const e=this.Jm;if(null===this.mt)return e;if(1===t)return this.scale;this.ensureBounds();const i=this.documentBounds;if(!i.isReal())return e;const n=i.width,s=i.height,r=this.Pt+(this._n?this.Zt:0),o=this.St+(this.pn?this.Zt:0);let a=r/n,l=o/s;const h=this.ta,u=h.left+h.right!==0,c=h.top+h.bottom!==0;(u||c)&&(l===a?(l=(o-this.Zt)/s,a=(r-this.Zt)/n):l>a?l=(o-this.Zt)/s:a=(r-this.Zt)/n);let d=0;return 2===t?d=Math.min(l,a):3===t&&(d=l>a?(o-this.Zt)/s:(r-this.Zt)/n),d>e&&(d=e),d<this.minScale&&(d=this.minScale),d>this.maxScale&&(d=this.maxScale),d}zoomToFit(){const t=this.Zh;this.Zh=1,this.scale=this.qu(2),this.alignDocument(x.Center,x.Center),1!==t&&(this.Ks(!1),this.SM(this.documentBounds,this.Pt/this.nt,this.St/this.nt,this.Ec,!1)),this.Zh=t}zoomToRect(t,e){void 0===e&&(e=2);const i=t.width,n=t.height;if(0===i||0===n||isNaN(i)&&isNaN(n))return;let s=1;if(2===e||3===e)if(isNaN(i))s=this.viewportBounds.height*this.scale/n;else if(isNaN(n))s=this.viewportBounds.width*this.scale/i;else{const t=this.Pt,r=this.St;s=3===e?r/n>t/i?(r-(this.pn?this.Zt:0))/n:(t-(this._n?this.Zt:0))/i:Math.min(r/n,t/i)}this.scale=s,this.position=new y(t.x,t.y)}get pR(){return this.Jt}set pR(t){this.Jt=t}alignDocument(t,e){this.ensureBounds();const i=this.documentBounds,n=this.viewportBounds;this.position=new y(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))}focusObject(t){if(t instanceof Yt){this.t0=t;const e=y.l();this.i0=this.transformDocToView(t.getDocumentPoint(x.TopLeft,e)),y.e(e)}else this.t0=null,this.i0=y.Ak}SM(t,e,i,n,s){const r=y.X(this.dt.x,this.dt.y);let o=r.x,a=r.y;if(null!==this.t0){let t=y.l();t=this.t0.getDocumentPoint(x.TopLeft,t),o=t.x-this.i0.x/this.scale,a=t.y-this.i0.y/this.scale,n=x.None,y.e(t)}if(s||1===this.scrollMode){n.isSpot()&&(e>t.width&&(o=t.x+(n.x*t.width+n.offsetX)-(n.x*e-n.offsetX)),i>t.height&&(a=t.y+(n.y*t.height+n.offsetY)-(n.y*i-n.offsetY)));const s=this.ta,r=e-t.width;if(e<t.width+s.left+s.right){let i=o+e/2;i=Math.min(i,t.right+Math.max(r,s.right)-e/2),i=Math.max(i,t.left-Math.max(r,s.left)+e/2),o=i-e/2}else o>t.left?o=t.left:o<t.right-e&&(o=t.right-e);const l=i-t.height;if(i<t.height+s.top+s.bottom){let e=a+i/2;e=Math.min(e,t.bottom+Math.max(l,s.bottom)-i/2),e=Math.max(e,t.top-Math.max(l,s.top)+i/2),a=e-i/2}else a>t.top?a=t.top:a<t.bottom-i&&(a=t.bottom-i)}if(r.x=isFinite(o)?o:-this.ti.left,r.y=isFinite(a)?a:-this.ti.top,null!==this.positionComputation){const t=this.positionComputation(this,r);r.x=t.x,r.y=t.y}this.ps.cL(this.dt,r),this.dt.i(r.x,r.y),this.gb(),this.nh(),this.yR(),y.e(r)}findPartAt(t,e){if(void 0===e&&(e=!0),e){const e=this.MP(t,(t=>t.part),(t=>t.canSelect()));if(e instanceof Me)return e}else{const e=this.MP(t,(t=>t.part));if(e instanceof Me)return e}return null}findObjectAt(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.Li();const n=this.Gt.iteratorBackwards;for(;n.next();){const s=n.value;if(!s.visible)continue;const r=s.findObjectAt(t,e,i);if(null!==r)return r}return null}MP(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.Li();const n=this.Gt.iteratorBackwards;for(;n.next();){const s=n.value;if(!s.visible||s.isTemporary)continue;const r=s.findObjectAt(t,e,i);if(null!==r)return r}return null}findPartsAt(t,e,i){return void 0===e&&(e=!0),this.wR(t,(t=>t.part),e?t=>t instanceof Me&&t.canSelect():null,i)}wR(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),!(n instanceof l)&&!(n instanceof u)&&(n=new u),this.Li();const s=this.Gt.iteratorBackwards;for(;s.next();){const r=s.value;!r.visible||r.isTemporary||r.findObjectsAt(t,e,i,n)}return n}findObjectsAt(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),!(n instanceof l)&&!(n instanceof u)&&(n=new u),this.Li();const s=this.Gt.iteratorBackwards;for(;s.next();){const r=s.value;r.visible&&r.findObjectsAt(t,e,i,n)}return n}findPartsIn(t,e,i,n){return void 0===e&&(e=!1),void 0===i&&(i=!0),this.xR(t,null,(t=>t instanceof Me&&(!i||t.canSelect())),e,n)}findObjectsIn(t,e,i,n,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),!(s instanceof l)&&!(s instanceof u)&&(s=new u),this.Li();const r=this.Gt.iteratorBackwards;for(;r.next();){const o=r.value;o.visible&&o.findObjectsIn(t,e,i,n,s)}return s}LP(t,e,i,n,s,r){const o=new u;this.Li();const a=this.Gt.iteratorBackwards;for(;a.next();){const l=a.value;l.visible&&l.LP(t,e,i,n,o,s,r)}return o}xR(t,e,i,n,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),!(s instanceof l)&&!(s instanceof u)&&(s=new u),this.Li();const r=this.Gt.iteratorBackwards;for(;r.next();){const o=r.value;!o.visible||o.isTemporary||o.findObjectsIn(t,e,i,n,s)}return s}findPartsNear(t,e,i,n,s){return void 0===i&&(i=!0),void 0===n&&(n=!0),this.bR(t,e,null,(t=>t instanceof Me&&(!n||t.canSelect())),i,s)}findObjectsNear(t,e,i,n,s,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!0),!1!==s&&!0!==s&&((s instanceof l||s instanceof u)&&(r=s),s=!0),!(r instanceof l)&&!(r instanceof u)&&(r=new u),this.Li();const o=this.Gt.iteratorBackwards;for(;o.next();){const a=o.value;a.visible&&a.findObjectsNear(t,e,i,n,s,r)}return r}bR(t,e,i,n,s,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!0),!1!==s&&!0!==s&&((s instanceof l||s instanceof u)&&(r=s),s=!0),!(r instanceof l)&&!(r instanceof u)&&(r=new u),this.Li();const o=this.Gt.iteratorBackwards;for(;o.next();){const a=o.value;!a.visible||a.isTemporary||a.findObjectsNear(t,e,i,n,s,r)}return r}acceptEvent(t){return this.Hc(t,t instanceof MouseEvent)}Hc(t,i){const n=this.Hr;this.Hr=this.sa,this.sa=n,n.diagram=this,n.event=t,i?this.s0(t,n):(n.viewPoint=this.Hr.viewPoint,n.documentPoint=this.Hr.documentPoint);let s=0;const r=t;return r.ctrlKey&&(s+=1),r.altKey&&(s+=2),r.shiftKey&&(s+=4),r.metaKey&&(s+=8),n.modifiers=s,n.button=r.button,void 0!==r.buttons&&(n.buttons=r.buttons),e.hr&&0===r.button&&r.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=t.timeStamp,n.isMultiTouch=!1,n.targetDiagram=this.db(t,t.target),n.targetObject=null,n}db(t,i){if(null===i)return null;const n=_t.is.get(i);if(n)return n;let s=t.path;if(!s&&e.ot(t.composedPath)&&(s=t.composedPath()),s&&s[0]){const t=_t.is.get(s[0]);if(t)return t}return null}lR(t,e,i){const n=this.PM(t,!0,!1,!1,!0,i);return this.s0(e,n),n.targetDiagram=this.db(t,t.target),n.targetObject=null,i||n.clone(this.Wm),n}hR(e,i,n){const s=this.PM(e,!1,!1,!1,!1,n);let r=t.document.elementFromPoint(i.clientX,i.clientY)||null;null!==r&&void 0!==r.shadowRoot&&null!==r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(i.clientX,i.clientY));let o=this,a=e;if(r){const t=this.db(e,r);t&&(a=i,o=t)}return s.targetDiagram=o,this.s0(a,s),s.targetObject=null,s}PM(t,i,n,s,r,o){const a=this.Hr;this.Hr=this.sa,this.sa=a,a.diagram=this,a.clickCount=1,a.delta=0;let l=0;return t.ctrlKey&&(l+=1),t.altKey&&(l+=2),t.shiftKey&&(l+=4),t.metaKey&&(l+=8),a.modifiers=l,a.event=t,a.timestamp=t.timeStamp,a.button=n?this.firstInput.button:t.button,a.buttons=t.buttons,e.hr&&0===t.button&&t.ctrlKey&&(a.button=2),a.down=i,a.up=n,a.handled=s,a.bubbles=r,a.isMultiTouch=o,a}ua(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}uR(t){const e=_t.is.get(this);if(!e||!e.isEnabled)return!1;const i=e.Hc(t,!1);return i.key=t.key,i.code=t.code,i.down=!0,e.doKeyDown(),e.ua(i,t)}dR(t){const e=_t.is.get(this);if(!e||!e.isEnabled)return!1;const i=e.Hc(t,!1);return i.key=t.key,i.code=t.code,i.up=!0,e.doKeyUp(),e.ua(i,t)}cR(t){const e=_t.is.get(this);if(!e||!e.isEnabled)return!1;const i=e.Hc(t,!0);return null!==e.mouseEnter&&e.mouseEnter(i),e.currentTool.standardMouseOver(),e.ua(i,t)}fR(t){const e=_t.is.get(this);if(!e||!e.isEnabled)return!1;const i=e.Hc(t,!0);return null!==e.mouseLeave&&e.mouseLeave(i),e.ua(i,t)}getMouse(t){const e=this.mt;if(null===e)return new y(0,0);const i=e.getBoundingClientRect(),n=(t.clientX-i.left)*(this.Pt/i.width),s=(t.clientY-i.top)*(this.St/i.height);return new y(n,s).Be(this.F)}s0(t,e){const i=this.mt;let n=0,s=0;if(null!==i){const e=i.getBoundingClientRect();n=(t.clientX-e.left)*(this.Pt/e.width),s=(t.clientY-e.top)*(this.St/e.height)}e.viewPoint.i(n,s);const r=y.X(n,s);this.F._e(r),e.documentPoint.a(r),y.e(r)}RC(t,e,i){let n;if(null===this.ra[0])return;n=this.ra[e];const s=this.mt;if(null!==s){const t=s.getBoundingClientRect();i.i((n.clientX-t.left)*(this.Pt/t.width),(n.clientY-t.top)*(this.St/t.height))}}invalidateDocumentBounds(){this.na||(this.na=!0,this.requestUpdate(!1))}kR(){this.bs||this.Li(),this.ensureBounds()}redraw(){this.Jt||this.bs||(this.C(),this.maybeUpdate())}isUpdateRequested(){return this.Cr}delayInitialization(t){void 0===t&&(t=null);const i=this.animationManager,n=i.isEnabled;i.stopAnimation(),i.isEnabled=!1,this.br(),this.to=!1,this.tx=new y(NaN,NaN),i.isEnabled=n,this.bs=!0;const s=this;null!==t&&e.ar((()=>{s.bs=!1,i.Bl("Model"),t(s)}),1)}requestUpdate(e){if(void 0===e&&(e=!1),!0===this.Cr||this.Jt||!1===e&&this.bs)return;this.Cr=!0;const i=this;t.requestAnimationFrame((()=>{i.Cr&&i.maybeUpdate()}))}maybeUpdate(){this.Eu&&!this.Cr||(this.Eu&&(this.Eu=!1),this.br())}MM(t,e){!this.Vu||this.Jt||this.animationManager.defaultAnimation.isAnimating||this.RL()||(t&&this.Li(),e&&this.Ks(!1))}br(t){if(this.bs||(this.Cr=!1,null===this.Ct&&!this.zu.isReal()))return;this.bs=!0;const e=this.animationManager,i=this.Gu;if(!e.isAnimating&&0!==i.length){const t=i.r,e=t.length;for(let i=0;i<e;i++){const e=t[i];e.me(!1),e.c()}i.clear()}const n=this.fM;n.count>0&&(n.each((t=>t.NM())),n.clear());let s=!1,r=!1;e.defaultAnimation.isAnimating&&(r=!0,s=this.skipsUndoManager,this.skipsUndoManager=!0),e.xi||this.AS(),t||this.MM(!1,!0);const o=!this.undoManager.isUndoingRedoing&&(this.Cl||0!==this.Gc.count&&0!==this.Fr.size),a=!this.to||this.jr;this.Li(!0);let l=!1;(a||o)&&(this.to?this.CM(!this.Uc,o):(this.startTransaction("Initial Layout"),!1===e.isEnabled&&e.stopAnimation(),this.CM(!1,o)),l=a),this.Uc=!1,this.Cl=!1,this.Li(),null!==this.ts&&(this.ts.visible&&!this.Xu&&(this.rh(),this.Xu=!0),!this.ts.visible&&this.Xu&&(this.Xu=!1)),this.Ix||this.kR(),t||this.MM(!0,!1);let h=!1;if(l){const e=v.l();e.a(this.viewportBounds),this.to||(this.to=!0,h=!0,this.skipsUndoManager||(this.undoManager.vw=!0),this.undoManager.Ow=!0,this.PR()),this.SR(),this.Li(!1),t||this.MM(!0,!0),v.e(e)}else if(e.Ac&&e._w){if(1!==this.Dr)this.scale=this.qu(this.Dr);else if(1!==this.Zl)this.scale=this.qu(this.Zl);else{const t=this.initialScale;isFinite(t)&&t>0&&(this.scale=t)}this.Ks(!0)}l&&h&&this.commitTransaction("Initial Layout"),t||this.zi(this.ii),r&&(this.skipsUndoManager=s),this.bs=!1}get Kh(){return this.to}PR(){if(1!==this.Dr)this.scale=this.qu(this.Dr);else if(1!==this.Zl)this.scale=this.qu(this.Zl);else{const t=this.initialScale;isFinite(t)&&t>0&&(this.scale=t)}this.Ks(!0);const t=this.Gt.r;this.xs(t,t.length,this,this.viewportBounds),this.v("InitialLayoutCompleted"),this.tx.a(this.dt),this.rh()}SR(){this.v("LayoutCompleted")}o0(t){this.Zn.add(t)}addInvalidRoute(t){this.Oo?this.ia.add(t):this.Fr.add(t)}Li(t){if(0!==this.Zn.size&&(this.bs||!this.animationManager.isTicking)){if(this.bs||(this.Cl=!0),t)return void this.OL(this.Zn);for(let t=0;t<23&&0!==this.Zn.size;t++){const t=new Set(this.Zn);this.Zn.clear(),this.NM(t,this.Zn)}this.nodes.each((t=>{t instanceof Ie&&t.IL(!1)}))}}OL(t,e){for(const i of t)!i.Me()||i instanceof Ie||(i.Jr()?(i.ut(1/0,1/0),i.Xt()):e&&e.add(i));for(const i of t)if(i instanceof Ie){if(!i.isVisible())continue;this.mb(i)}}NM(t,e){this.OL(t,e);for(const i of t){if(!(i instanceof Ce))continue;const t=i;t.isVisible()&&(t.Jr()?(t.ut(1/0,1/0),t.Xt()):e.add(t))}for(const i of t)i instanceof ke&&i.isVisible()&&(i.Jr()?(i.ut(1/0,1/0),i.Xt()):e.add(i))}r0(t){const e=t instanceof _t,i=e?t.links:t.memberParts,n=this.Zn;if(e)this.Li(!0);else{for(;i.next();){const t=i.value;n.has(t)&&(!t.Me()||t instanceof Ie||t.Jr()&&(t.ut(1/0,1/0),t.Xt()))}for(i.reset();i.next();){const t=i.value;if(n.has(t)&&t instanceof Ie){if(!t.isVisible())continue;this.mb(t)}}i.reset()}for(;i.next();){const t=i.value;t instanceof Ce&&n.has(t)&&t.isVisible()&&t.Jr()&&(t.ut(1/0,1/0),t.Xt())}}mb(t){const i=e.rt(),n=e.rt(),s=t.memberParts;for(;s.next();){const e=s.value;e.isVisible()&&(e instanceof Ie?(e.Bo()||e.es()||e.lh())&&this.mb(e):e instanceof Ce?e.fromNode===t||e.toNode===t?n.push(e):i.push(e):(e.ut(1/0,1/0),e.Xt()))}let r=i.length;for(let e=0;e<r;e++){const t=i[e];t.ut(1/0,1/0),t.Xt()}e.tt(i),t.ut(1/0,1/0),t.Xt(),r=n.length;for(let e=0;e<r;e++){const t=n[e];t.ut(1/0,1/0),t.Xt()}e.tt(n)}xs(t,e,i,n){if(this.zc||this.animationManager.isAnimating){for(let s=0;s<e;s++)t[s].xs(i,n);this.Li()}}zi(t){null!==this.Ct&&(null===this.mt&&e.o("No canvas specified"),"svg"===this.Vc?this.MR(t):this.NR(t))}NR(t){const e=this.animationManager;if(e.xi||e.isAnimating&&!e.isTicking)return;const i=new Date;if(this.l0(),this.Ct&&"0"===this.Ct.style.opacity)return;const n=t!==this.ii,s=this.Gt.r,r=s.length,o=this;if(this.xs(s,r,o,o.viewportBounds),n)t.clearContextCache(!0),this.oh();else if(!this.ze&&!e.isAnimating)return;const a=this.F,l=this.Yi;t.setTransform(l,0,0,l,0,0),t.clearRect(0,0,this.Pt,this.St),1!==this._t&&(t.globalAlpha=this._t),this.LM(t);for(let f=0;f<r;f++)t.setTransform(l,0,0,l,0,0),t.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),t.commitTransform(),s[f].zi(t,o);let h=!1;this.Kc?this.Kc.ju(this)&&(h=this.nb()):h=!0,h&&(M.prototype._e=M.prototype.ww),n?(this.ii.clearContextCache(!0),this.oh()):(this.zc=!1,this.ze=!1);const u=+new Date-+i,c=!1,d=this.pM;if(c||null===this.Al){d[this._m]=u,this._m=(this._m+1)%d.length;let t=0;for(let e=0;e<d.length;e++)t+=d[e];this.Qm=t/d.length}if(1!==this._t&&(t.globalAlpha=1),c){t.setTransform(1,0,0,1,0,0);for(let e=0;e<d.length;e++)t.fillText(d[e].toString(),20,150+20*e)}}MR(t){if(null===this.Ct)return;const e=this.animationManager;if(e.xi||e.isAnimating&&!e.isTicking)return;this.l0();const i=this.Pt,n=this.St;t.surface.resize(i,n,i,n);const s=this.Gt.r,r=s.length,o=this;if(this.xs(s,r,o,o.viewportBounds),!this.ze&&!e.isAnimating)return;const a=this.F;t.lastDrawnPart=null,t.setDiagramPosScale(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),1!==this._t&&(t.globalAlpha=this._t),this.LM(t);const l=this.Yi;this.mt.ci.setTransform(l,0,0,l,0,0),this.mt.ci.clearRect(0,0,this.Pt,this.St);for(let u=0;u<r;u++)s[u].zi(t,o);let h=!1;this.Kc?this.Kc.ju(this)&&(h=this.nb()):h=!0,h&&(M.prototype._e=M.prototype.ww),this.zc=!1,this.ze=!1}pb(t,i,n,s,r,o,a,l,h){if(null===this.Ct)return;null===this.mt&&e.o("No canvas specified"),void 0===o&&(o=null),void 0===a&&(a=null),void 0===l&&(l=!1),void 0===h&&(h=!1),this.l0(),this.ii.clearContextCache(!0),this.oh(),this.oa=!0;const c=this.nt;this.nt=s;const d=this,f=this.Gt.r,m=f.length;try{const e=new v(r.x,r.y,n.width/s,n.height/s),c=e.copy();c.addMargin(i),this.rh(c),this.Li(),this.xs(f,m,d,e),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(t.fillStyle=a,t.fillBackground(0,0,n.width,n.height));const g=this.Yi;t.scale(g,g);const p=M.l();p.Ii(),p.Es(i.left,i.top),p.nt(s),(0!==r.x||0!==r.y)&&p.Es(-r.x,-r.y),t.setTransform(p.m11,p.m12,p.m21,p.m22,p.dx,p.dy),t.commitTransform(),t instanceof Ft&&t.setDiagramPosScale(p.m11,p.m12,p.m21,p.m22,p.dx,p.dy),M.e(p),this.LM(t),t.globalAlpha=this._t;const y=this.findLayer("Grid");if(o){const e=new u,i=o.iterator;for(i.reset();i.next();){const t=i.value;t instanceof Me&&(!h&&t.layer===y||(t.vu(),e.add(t)))}for(let n=0;n<m;n++)f[n].EF(t,d,e,l);e.each((t=>t.vu()))}else for(let i=0;i<m;i++){const e=f[i];e===y?h&&e.zi(t,d,!0):e.zi(t,d,l)}this.oa=!1,this.Kc&&this.Kc.ju(this)&&this.nb()}finally{this.nt=c,this.ii.clearContextCache(!0),this.oh(),this.xs(f,m,d,d.viewportBounds),this.rh(),this.ii instanceof Ft&&(this.ii.diagramGroup.replaceChildren(),this.redraw())}}getRenderingHint(t){return this.Tr[t]}setRenderingHint(t,e){"minDrawingLength"===t&&(this.Em=e),this.Tr[t]=e,this.redraw()}resetRenderingHints(){this.Tr=new n,this.Tr.drawShadows=!0,this.Tr.textGreeking=!0,this.Tr.viewportOptimizations=!e.hr,this.Tr.temporaryPixelRatio=!0,this.Tr.pictureRatioOptimization=!0,this.Tr.minDrawingLength=1,this.Em=1}LM(t){const e=this.Tr;if(null===e)return;if(void 0!==e.imageSmoothingEnabled){const i=!!e.imageSmoothingEnabled;t.setImageSmoothingEnabled(i)}const i=e.defaultFont;null!=i&&(t.font=i)}getInputOption(t){return this.Ou[t]}setInputOption(t,e){this.Ou[t]=e}QF(){this.Ou=new n,this.Ou.extraTouchArea=10,this.Ou.extraTouchThreshold=10,this.Ou.hasGestureZoom=!0}set(t){return Object.assign(this,t),this}attach(t){return this.setProperties(t)}setProperties(t){return _t.h0(this,t),this}static h0(t,i){const n=t instanceof ie,s=t instanceof _t;for(const r in i){""===r&&e.o("Setting properties requires non-empty property names");let o=t,a=r;if(n||s){const i=r.indexOf(".");if(i>0){const s=r.substring(0,i);n?o=t.findObject(s):(o=t[s],null==o&&(o=t.toolManager[s])),e.H(o)?a=r.substring(i+1):e.o("Unable to find object named: "+s+" in "+t.toString()+" when trying to set property: "+r)}}if("_"!==a[0]&&!e.fw(o,a)){if(s&&"ModelChanged"===a){t.addModelChangedListener(i[a]);continue}if(s&&"Changed"===a){t.addChangedListener(i[a]);continue}if(s&&e.fw(t.toolManager,a))o=t.toolManager;else{if(s&&t.EL(a)){t.addDiagramListener(a,i[a]);continue}if(t instanceof ti&&"Changed"===a){t.addChangedListener(i[a]);continue}e.o('Trying to set undefined property "'+a+'" on object: '+o.toString())}}const l=i[r];o[a]=l,"_"===a[0]&&o instanceof Yt&&o.addCopyProperty(a)}}dL(){if(0!==this.eh.count&&!(this.undoManager.transactionLevel>1)){for(;this.eh.count>0;){const t=this.eh;this.eh=new p;const e=t.iterator;for(;e.next();){const t=e.key;t.invalidateOtherJumpOvers(e.value),t.oe()}}this.C()}}C(t){if(void 0===t)this.ze=!0,this.requestUpdate();else{const e=this.viewportBounds;t.isReal()&&e.intersectsRect(t)&&(this.ze=!0,this.requestUpdate())}this.v("InvalidateDraw")}invalidateViewport(t,e){!0!==this.ze&&(this.ze=!0,"svg"!==this.Vc&&!0===this.getRenderingHint("temporaryPixelRatio")?(this.Ew(),this.maybeUpdate(),this.xP(!0)):this.maybeUpdate())}da(){this.Vu=!0}oh(){this.zc=!0}l0(){!1!==this.Iu&&(this.Iu=!1,this.DL(this.Pt,this.St))}DL(t,e){this.nh();const i=this.Yi,n=t*i,s=e*i;this.mt.resize(n,s,t,e)&&(this.ze=!0,this.ii.clearContextCache(!0))}RL(){const t=this.mt;if(null===t||this.zu.isReal())return!0;const e=this.Pt,i=this.St,n=this.Ct;let s=!1,r=this._n?this.Zt:0,o=this.pn?this.Zt:0,a=n.clientWidth||e+r,l=n.clientHeight||i+o;const h=this.viewportBounds,u=h.x,c=h.y,d=h.width,f=h.height;if((a!==e+r||l!==i+o)&&(this._n=!1,this.pn=!1,r=0,o=0,this.Pt=a,this.St=l,this.Iu=!0,s=!0,this.nh()),!this.to||!this.viewportBounds.isReal())return!0;const m=this.eb,g=this.sb;if(this.Vu=!1,!s&&!this._n&&!this.pn&&!this.Bu&&!this.Uu)return!0;const p=this.documentBounds;let _=0,b=0,x=0,M=0;const w=h.width,k=h.height,L=this.ta;this.contentAlignment.isSpot()?(p.width>w&&(_=L.left,b=L.right),p.height>k&&(x=L.top,M=L.bottom)):(_=L.left,b=L.right,x=L.top,M=L.bottom);const S=p.width+_+b,T=p.height+x+M,D=this.scale,P=D;let Y=S>a/D,C=T>l/D;if(!s&&!this._n&&!this.pn&&!Y&&!C)return!0;const N=p.x-_,A=h.x,O=p.right+b;let F=h.right+r;const R=p.y-x,E=h.y,I=p.bottom+M;let j=h.bottom+o,H="1px",B="1px";if(1===this.scrollMode&&(Y||C)){if(Y&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let t=1;N+1<A&&(t=Math.max((A-N)*D+this.Pt,t)),O>F+1&&(t=Math.max((O-F)*D+this.Pt,t)),w+r+1<S&&(t=Math.max((S-w)*D+this.Pt,t)),H=t.toString()+"px"}if(C&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let t=1;R+1<E&&(t=Math.max((E-R)*D+this.St,t)),I>j+1&&(t=Math.max((I-j)*D+this.St,t)),k+o+1<T&&(t=Math.max((T-k)*D+this.St,t)),B=t.toString()+"px"}}let z="1px"!==H,V="1px"!==B;if((!z||!V)&&(z||V)){if(Y=!(S<w+r),C=!(T<k+o),V&&(F-=this.Zt),z&&(j-=this.Zt),Y&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let t=1;N+1<A&&(t=Math.max((A-N)*D+this.Pt,t)),O>F+1&&(t=Math.max((O-F)*D+this.Pt,t)),w+1<S&&(t=Math.max((S-w)*D+this.Pt,t)),H=t.toString()+"px"}z="1px"!==H;let t=this.St;if(z!==this.pn&&(t=z?this.St-this.Zt:this.St+this.Zt),C&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let e=1;R+1<E&&(e=Math.max((E-R)*D+t,e)),I>j+1&&(e=Math.max((I-j)*D+t,e)),k+1<T&&(e=Math.max((T-k)*D+t,e)),B=e.toString()+"px"}V="1px"!==B}if(this.Km&&z===this.pn&&V===this._n)return(e!==this.Pt||i!==this.St)&&this.maybeUpdate(),!1;if(z!==this.pn&&(this.St="1px"===H?this.St+this.Zt:Math.max(this.St-this.Zt,1),s=!0),this.pn=z,g.style.width=H,V!==this._n&&(this.Pt="1px"===B?this.Pt+this.Zt:Math.max(this.Pt-this.Zt,1),s=!0,this.Hu)){const e=y.l();V?(t.style.left=this.Zt+"px",this.position=e.i(this.dt.x+this.Zt/this.scale,this.dt.y)):(t.style.left="0px",this.position=e.i(this.dt.x-this.Zt/this.scale,this.dt.y)),y.e(e)}s&&this.nh(),this._n=V,g.style.height=B,this.qx=!0,s&&(this.Iu=!0);let W=m.scrollLeft;if(this.hasHorizontalScrollbar&&this.allowHorizontalScroll&&(w+1<S?W=(this.position.x-N)*D:N+1<A?W=m.scrollWidth-m.clientWidth:O>F+1&&(W=this.position.x*D)),this.Hu)switch(this.px){case"negative":W=-(m.scrollWidth-W-m.clientWidth);break;case"reverse":W=m.scrollWidth-W-m.clientWidth;break}if(m.scrollLeft=W,this.hasVerticalScrollbar&&this.allowVerticalScroll&&(k+1<T?m.scrollTop=(this.position.y-R)*D:R+1<E?m.scrollTop=m.scrollHeight-m.clientHeight:I>j+1&&(m.scrollTop=this.position.y*D)),a=this.Pt,l=this.St,m.style.width=a+(this._n?this.Zt:0)+"px",m.style.height=l+(this.pn?this.Zt:0)+"px",e!==a||i!==l||this.animationManager.xi){const t=v.X(u,c,d,f);return this.onViewportBoundsChanged(t,this.viewportBounds,P,s),v.e(t),!1}return!0}add(t){const i=t.diagram;if(i===this)return;null!==i&&e.o("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+i.toString());let n=this.findLayer(t.layerName);if(null===n&&(n=this.findLayer("")),null===n&&e.o('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer===n)return;const s=n._h(99999999,t,t.diagram===this);s>=0&&this.raiseChangedEvent(3,"parts",n,null,t,null,s),n.isTemporary||this.invalidateDocumentBounds(),t.invalidateLayout(1);const r=t.layerChanged;null!==r&&r(t,null,n)}_h(t){this.partManager._h(t);const e=this;t.$r((t=>e.BL(t))),t.data||t.Uo(),t.hasPlaceholder()&&t.c(),null!==t.data&&t.$r((t=>e.partManager.AM(t,null))),(!0===t.es()||!0===t.lh())&&this.o0(t),t.UL(!0,this),t.VL()?(t.actualBounds.isReal()&&this.C(t.Qh(t.actualBounds)),this.invalidateDocumentBounds()):t.isVisible()&&t.actualBounds.isReal()&&this.C(t.Qh(t.actualBounds)),this.requestUpdate()}se(t){t.clearAdornments(),this.partManager.se(t);const e=this;null!==t.data&&t.$r((t=>e.partManager.TM(t,e))),this.Zn.delete(t),t instanceof Ce&&this.Fr.delete(t),t.VL()?(t.actualBounds.isReal()&&this.C(t.Qh(t.actualBounds)),this.invalidateDocumentBounds()):t.isVisible()&&t.actualBounds.isReal()&&this.C(t.Qh(t.actualBounds)),this.requestUpdate()}remove(t){this.DM(t,!0)}DM(t,e){const i=t.layer;if(null===i||i.diagram!==this)return;t.isSelected=!1,t.isHighlighted=!1,t.invalidateLayout(2),e&&t.jc();const n=i.se(-1,t,!1);n>=0&&this.raiseChangedEvent(4,"parts",i,t,null,n,null);const s=t.layerChanged;null!==s&&s(t,i,null)}removeParts(t,e){if(void 0===e&&(e=!1),Array.isArray(t)){const i=t.length;for(let n=0;n<i;n++){const i=t[n];e&&!i.canDelete()||this.remove(i)}}else{const i=new u;i.addAll(t);const n=i.iterator;for(;n.next();){const t=n.value;e&&!t.canDelete()||this.remove(t)}}}copyParts(t,e,i){void 0===i&&(i=!1);let n=null;const s=e||this,r=s.model;let o=!1,a=!1;try{r.km()&&(o=r.copiesParentKeyOfNodeData,r.copiesParentKeyOfNodeData=s.commandHandler.copiesParentKey),(r.bm()||r.yb())&&(a=r.copiesGroupKeyOfNodeData,r.copiesGroupKeyOfNodeData=s.commandHandler.copiesGroupKey),n=this.partManager.copyParts(t,e,i)}finally{r.km()&&(r.copiesParentKeyOfNodeData=o),(r.bm()||r.yb())&&(r.copiesGroupKeyOfNodeData=a)}return n}moveParts(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=this.a0()),null===this.toolManager)return;const s=new p;if(null!==t)if(Array.isArray(t))for(let r=0;r<t.length;r++)this.Zr(s,t[r],i,n);else{const e=t.iterator;for(;e.next();)this.Zr(s,e.value,i,n)}else{let t=this.parts;for(;t.next();){const e=t.value;this.Zr(s,e,i,n)}for(t=this.nodes;t.next();){const e=t.value;this.Zr(s,e,i,n)}for(t=this.links;t.next();){const e=t.value;this.Zr(s,e,i,n)}}this.PP(s,e,n,i)}Zr(t,e,i,n,s){if(!t.has(e)&&(void 0===s&&(s=!1),!i||s||e.canMove()||e.canCopy()))if(void 0===n&&(n=this.a0()),e instanceof Se){if(t.set(e,this.Xs(n,e,e.location)),e instanceof Ie&&(e.hasPlaceholder()||n.dragsMembers)){const s=e.memberParts;for(;s.next();){const e=s.value;this.Zr(t,e,i,n,n.groupsAlwaysMove)}}const s=e.linksConnected;for(;s.next();){const e=s.value;if(t.has(e))continue;const r=e.fromNode,o=e.toNode;null!==r&&t.has(r)&&null!==o&&t.has(o)&&this.Zr(t,e,i,n)}if(n.dragsTree){const s=e.findTreeChildrenNodes();for(;s.next();){const e=s.value;this.Zr(t,e,i,n)}}}else if(e instanceof Ce){t.set(e,this.Xs(n,e));const s=e.labelNodes;for(;s.next();){const e=s.value;this.Zr(t,e,i,n)}}else e instanceof ke||t.set(e,this.Xs(n,e,e.location))}PP(t,i,n,s){if(null===t||0===t.count)return;const r=y.l(),o=y.l();o.a(i),isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0);const a=this.lb;a||this.YC(t);const l=e.rt(),h=e.rt(),u=t.iterator;let c=y.l();for(;u.next();){const e=u.key,i=u.value;if(e.Me()){const a=this.zL(e,t);if(null!==a)l.push(new xt(e,i,a));else if(!s||e.canMove()){const t=i.point;r.a(t),this.computeMove(e,r.add(o),n,c),e.location=c,void 0===i.shifted&&(i.shifted=new y),i.shifted.a(c.subtract(t))}}else u.key instanceof Ce&&h.push(new m(u.key,u.value))}y.e(c);const d=l.length;for(let e=0;e<d;e++){const t=l[e],i=t.XL.point;r.a(i),void 0===t.wb.shifted&&(t.wb.shifted=new y),t.Le.location=r.add(t.wb.shifted)}const f=y.l(),g=y.l(),p=h.length;for(let e=0;e<p;e++){const i=h[e],s=i.key;if(s instanceof Ce)if(s.suspendsRouting){s.Lr=null;const e=s.fromNode,a=s.toNode;if(null!==this.draggedLink&&n.dragsLink){const e=i.value.point;if(null===s.dragComputation){t.set(s,this.Xs(n,s,o));const i=o.x-e.x,r=o.y-e.y;s.xr(i,r)}else{const i=y.X(0,0),r=s.getPoint(0);r&&r.isReal()&&i.a(r),c=y.l().a(i).add(o);let a=c;n.isGridSnapEnabled&&(n.isGridSnapRealtime||this.lastInput.up)&&(a=y.l(),this.cS(s,c,a,n)),c.a(s.dragComputation(s,c,a)).subtract(i),t.set(s,this.Xs(n,s,c));const l=c.x-e.x,h=c.y-e.y;s.xr(l,h),y.e(i),y.e(c),a!==c&&y.e(a)}}else{if(null!==e){f.a(e.location);const i=t.get(e);null!==i&&f.subtract(i.point)}if(null!==a){g.a(a.location);const e=t.get(a);null!==e&&g.subtract(e.point)}if(null!==e&&null!==a)if(f.equalsApprox(g)){const e=i.value.point,o=r;o.a(f),o.subtract(e),t.set(s,this.Xs(n,s,f)),s.xr(o.x,o.y)}else s.suspendsRouting=!1,s.invalidateRoute();else{const r=i.value.point;let l;l=null!==e?f:null!==a?g:o,t.set(s,this.Xs(n,s,l));const h=l.x-r.x,u=l.y-r.y;s.xr(h,u)}}}else if(null===s.fromNode||null===s.toNode){const e=i.value.point;t.set(s,this.Xs(n,s,o));const r=o.x-e.x,a=o.y-e.y;s.xr(r,a)}}y.e(r),y.e(o),y.e(f),y.e(g),e.tt(l),e.tt(h),a||(this.Li(),this.wP(t))}computeMove(t,e,i,n){if(void 0===n&&(n=new y),n.a(e),null===t)return n;let s=e;const r=i.isGridSnapEnabled;r&&(i.isGridSnapRealtime||this.lastInput.up)&&(s=y.l(),this.cS(t,e,s,i));const o=null!==t.dragComputation?t.dragComputation(t,e,s):s,a=t.minLocation;let l=a.x;isNaN(l)&&(l=r?Math.round(1e3*t.location.x)/1e3:t.location.x);let h=a.y;isNaN(h)&&(h=r?Math.round(1e3*t.location.y)/1e3:t.location.y);const u=t.maxLocation;let c=u.x;isNaN(c)&&(c=r?Math.round(1e3*t.location.x)/1e3:t.location.x);let d=u.y;return isNaN(d)&&(d=r?Math.round(1e3*t.location.y)/1e3:t.location.y),n.i(Math.max(l,Math.min(o.x,c)),Math.max(h,Math.min(o.y,d))),s!==e&&y.e(s),n}a0(){const t=this.toolManager.findTool("Dragging");return t instanceof H?t.dragOptions:this.ab}cS(t,e,i,n){if(void 0===n&&(n=this.a0()),i.a(e),null===t)return i;const s=this.grid,r=n.gridSnapCellSize;let o=r.width,a=r.height;const l=n.gridSnapOrigin;let h=l.x,u=l.y;const c=n.gridSnapCellSpot;if(null!==s){const t=s.gridCellSize;isNaN(o)&&(o=t.width),isNaN(a)&&(a=t.height);const e=s.gridOrigin;isNaN(h)&&(h=e.x),isNaN(u)&&(u=e.y)}const d=y.X(0,0);return d.setSpot(0,0,o,a,c),w.Ig(e.x,e.y,h+d.x,u+d.y,o,a,i),y.e(d),i}YC(t){if(null===t)return;this.lb=!0;const e=t.iterator;for(;e.next();){const t=e.key;t instanceof Ce&&(t.suspendsRouting=!0)}}wP(t){if(null===t)return;const e=t.iterator;for(;e.next();){const t=e.key;t instanceof Ce&&(t.suspendsRouting=!1,t.YL()&&t.invalidateRoute())}this.lb=!1}get draggedLink(){return this.hb}set draggedLink(t){this.hb!==t&&(this.hb=t,null!==t&&(this.cb=t.fromPort,this.fb=t.toPort))}get NP(){return this.cb}set NP(t){this.cb=t}get CP(){return this.fb}set CP(t){this.fb=t}zL(t,e){const i=t.containingGroup;if(null!==i){let t=this.zL(i,e);if(null!==t||(t=e.get(i),null!==t))return t}return null}Xs(t,e,i){if(void 0===i)return new bt(y.Lo);let n=t.isGridSnapEnabled;return!t.groupsSnapMembers&&null!==e.containingGroup&&(n=!1),new bt(n?new y(Math.round(1e3*i.x)/1e3,Math.round(1e3*i.y)/1e3):i.copy())}FM(t,i){if(null!==t.diagram&&t.diagram!==this&&e.o("Cannot share a Layer with another Diagram: "+t+" of "+t.diagram),null===i?null!==t.diagram&&e.o("Cannot add an existing Layer to this Diagram again: "+t):(i.diagram!==this&&e.o("Existing Layer must be in this Diagram: "+i+" not in "+i.diagram),t===i&&e.o("Cannot move a Layer before or after itself: "+t)),t.diagram===this)return;const n=t.name,s=this.Gt,r=s.count;for(let o=0;o<r;o++)s.elt(o).name===n&&e.o("Cannot add Layer with the name '"+n+"'; a Layer with the same name is already present in this Diagram.")}addLayer(t){this.FM(t,null),t.Ro(this);const e=this.Gt;let i=e.count-1;if(!t.isTemporary)for(;i>=0&&e.elt(i).isTemporary;)i--;return e.insertAt(i+1,t),null!==this.Mi&&this.raiseChangedEvent(3,"layers",this,null,t,null,i+1),this.C(),this.invalidateDocumentBounds(),this}addLayerBefore(t,e){this.FM(t,e),t.Ro(this);const i=this.Gt,n=i.indexOf(t);n>=0&&(i.delete(t),null!==this.Mi&&this.raiseChangedEvent(4,"layers",this,t,null,n,null));const s=i.count;let r;for(r=0;r<s;r++)if(i.elt(r)===e){i.insertAt(r,t);break}return null!==this.Mi&&this.raiseChangedEvent(3,"layers",this,null,t,null,r),this.C(),n<0&&this.invalidateDocumentBounds(),this}addLayerAfter(t,e){this.FM(t,e),t.Ro(this);const i=this.Gt,n=i.indexOf(t);n>=0&&(i.delete(t),null!==this.Mi&&this.raiseChangedEvent(4,"layers",this,t,null,n,null));const s=i.count;let r;for(r=0;r<s;r++)if(i.elt(r)===e){i.insertAt(r+1,t);break}return null!==this.Mi&&this.raiseChangedEvent(3,"layers",this,null,t,null,r+1),this.C(),n<0&&this.invalidateDocumentBounds(),this}Wr(t,e){t.Ro(this),this.Gt.insertAt(e,t)}KL(t){this.Gt.removeAt(t)}removeLayer(t){if(t.diagram!==this&&e.o("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""===t.name)return;const i=this.Gt,n=i.indexOf(t);if(i.delete(t)){const e=t.Tt.copy().iterator;for(;e.next();){const i=e.value,n=i.layerName;n!==t.name?i.layerName=n:i.layerName=""}null!==this.Mi&&this.raiseChangedEvent(4,"layers",this,t,null,n,null),this.C(),this.invalidateDocumentBounds()}}findLayer(t){const e=this.layers;for(;e.next();){const i=e.value;if(i.name===t)return i}return null}findRouter(t){for(const e of this.Gc)if(e.name===t)return e;return null}addModelChangedListener(t){return e.S(t,_t,"addModelChangedListener:listener"),null===this.Qn&&(this.Qn=new l),this.Qn.add(t),this.model.addChangedListener(t),this}removeModelChangedListener(t){e.S(t,_t,"removeModelChangedListener:listener"),null!==this.Qn&&(this.Qn.delete(t),0===this.Qn.count&&(this.Qn=null)),this.model.removeChangedListener(t)}addChangedListener(t){return e.S(t,_t,"addChangedListener:listener"),null===this.Rr&&(this.Rr=new l),this.Rr.add(t),this}removeChangedListener(t){e.S(t,_t,"removeChangedListener:listener"),null!==this.Rr&&(this.Rr.delete(t),0===this.Rr.count&&(this.Rr=null))}RM(t){if(!this.skipsUndoManager&&!this.model.skipsUndoManager&&this.model.undoManager.handleChanged(t),1!==t.change&&(this.isModified=!0),null!==this.Rr){const e=this.Rr,i=e.length;for(let n=0;n<i;n++)e.elt(n)(t)}}raiseChangedEvent(t,e,i,n,s,r,o){void 0===r&&(r=null),void 0===o&&(o=null);const a=new A;a.diagram=this,a.change=t,a.propertyName=e,a.object=i,a.oldValue=n,a.oldParam=r,a.newValue=s,a.newParam=o,this.RM(a)}raiseChanged(t,e,i,n,s){this.raiseChangedEvent(2,t,this,e,i,n,s)}t(t,e,i,n,s){this.raiseChangedEvent(2,t,this,e,i,n,s)}get animationManager(){return this.ps}get undoManager(){return this.Mi.undoManager}get skipsUndoManager(){return this.Io}set skipsUndoManager(t){e.s(t,"boolean",_t,"skipsUndoManager"),this.Io=t,this.Mi.skipsUndoManager=t}get delaysLayout(){return this.Ex}set delaysLayout(t){this.Ex=t}vC(t,i){if(null===t||t.diagram!==this)return;const n=this.ge;try{this.ge=!0;const n=t.change;if(2===n){const e=t.object,n=t.propertyName,s=t.getValue(i);if(t.diagram.model.et(e,n,s),e instanceof Yt){const t=e.part;null!==t&&t.invalidateAdornments()}this.isModified=!0}else if(3===n){const n=t.object,s=t.newParam,r=t.newValue;if(n instanceof ie)if("number"==typeof s&&r instanceof Yt){i?n.se(s):n.insertAt(s,r);const t=n.part;null!==t&&t.invalidateAdornments()}else"number"==typeof s&&r instanceof ae&&(r.isRow?n.GL(s,i?void 0:r):n.HL(s,i?void 0:r));else if(n instanceof ft){const e=!0===t.oldParam;"number"==typeof s&&r instanceof Me&&(i?(e||(r.isSelected=!1,r.isHighlighted=!1,r.invalidateAdornments()),n.se(e?s:-1,r,e)):n._h(s,r,e))}else n instanceof _t?"number"==typeof s&&r instanceof ft&&(i?this.KL(s):this.Wr(r,s)):e.o("unknown ChangeType.Insert object: "+t.toString());this.isModified=!0}else if(4===n){const n=t.object,s=t.oldParam,r=t.oldValue;if(n instanceof ie)"number"==typeof s&&r instanceof Yt?i?n.insertAt(s,r):n.se(s):"number"==typeof s&&r instanceof ae&&(r.isRow?n.GL(s,i?r:void 0):n.HL(s,i?r:void 0));else if(n instanceof ft){const e=!0===t.newParam;"number"==typeof s&&r instanceof Me&&(i?n.Tt.indexOf(r)<0&&n._h(s,r,e):(e||(r.isSelected=!1,r.isHighlighted=!1,r.invalidateAdornments()),n.se(e?s:-1,r,e)))}else n instanceof _t?"number"==typeof s&&r instanceof ft&&(i?this.Wr(r,s):this.KL(s)):e.o("unknown ChangeType.Remove object: "+t.toString());this.isModified=!0}else 1===n||e.o("unknown ChangedEvent: "+t.toString())}finally{this.ge=n}}startTransaction(t){return this.undoManager.startTransaction(t)}commitTransaction(t){return this.undoManager.commitTransaction(t)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(t,e){let i=e;void 0===i&&(i="");const n=this.skipsUndoManager;null===i&&(this.skipsUndoManager=!0,i=""),this.undoManager.startTransaction(i);let s=!1;try{t(this),s=!0}finally{s?this.undoManager.commitTransaction(i):this.undoManager.rollbackTransaction(),this.skipsUndoManager=n}}updateAllTargetBindings(t){this.partManager.updateAllTargetBindings(t)}updateAllThemeBindings(){if(this.partManager.updateAllThemeBindings(),null!==this.ts){const t=this.ts.part;null!==t&&t.Uo()}}setDivBackground(t){this.div&&(this.div.style.backgroundColor=t)}updateAllRelationshipsFromData(){this.partManager.updateAllRelationshipsFromData()}gb(){const t=this.F,e=this.nt,i=this.dt;t.Ii(),1!==e&&t.nt(e),(0!==i.x||0!==i.y)&&t.Es(-i.x,-i.y)}jL(t,e){const i=this.animationManager;if(this.Jt||this.bs)return this.nt=e,this.nh(),this.C(),this.da(),i.fL(t,this.nt),void this.gb();if(null===this.mt)return this.nt=e,void this.gb();this.Jt=!0;const n=this.viewportBounds.copy(),s=this.Pt,r=this.St;let o=this.zoomPoint.x,a=this.zoomPoint.y;const l=this.contentAlignment;isNaN(o)&&(l.isSide()?l.includesSide(x.LeftSide)?o=0:l.includesSide(x.RightSide)&&(o=s-1):o=l.isSpot()?l.x*(s-1):s/2),isNaN(a)&&(l.isSide()?l.includesSide(x.TopSide)?a=0:l.includesSide(x.BottomSide)&&(a=r-1):a=l.isSpot()?l.y*(r-1):r/2),null!==this.scaleComputation&&!this.animationManager.defaultAnimation.isAnimating&&(e=this.scaleComputation(this,e)),e<this.minScale&&(e=this.minScale),e>this.maxScale&&(e=this.maxScale);const h=y.X(this.dt.x+o/t-o/e,this.dt.y+a/t-a/e);this.position=h,y.e(h),this.nt=e,this.nh(),this.Jt=!1,this.onViewportBoundsChanged(n,this.viewportBounds,t,!1),this.Ks(!1),i.fL(t,this.nt),this.C()}yR(){const t=this.Gt.r;for(let e=0;e<t.length;e++)t[e].wL()}onViewportBoundsChanged(t,e,i,n){if(t.equals(e))return;void 0===n&&(n=!1),n||this.da(),this.oh();const s=this.layout;null!==s&&s.isViewportSized&&1===this.autoScale&&(t.width!==e.width||t.height!==e.height)&&s.invalidateLayout();const r=this.currentTool;!0===this.Yc&&r instanceof j&&!this.animationManager.isTicking&&(this.lastInput.documentPoint=this.transformViewToDoc(this.lastInput.viewPoint),r.standardMouseActivity(this)),this.Jt||this.invalidateViewport(t,e),this.rh(),this.Xi.scale=i,this.Xi.position.x=t.x,this.Xi.position.y=t.y,this.Xi.bounds.a(t),this.Xi.canvasSize.width=Math.round(t.width*i),this.Xi.canvasSize.height=Math.round(t.height*i),this.Xi.newCanvasSize.width=this.Pt,this.Xi.newCanvasSize.height=this.St,this.Xi.isScroll=n,this.v("ViewportBoundsChanged",this.Xi,t),this.isVirtualized&&this.links.each((t=>{t.isAvoiding&&t.actualBounds.intersectsRect(e)&&t.invalidateRoute()}))}rh(t){const e=this.ts;if(null===e||!e.visible||null===e.part||null===e.layer)return;const i=void 0!==t?t:this.Zx;if(!i.isReal())return;const n=i.width,s=i.height;if(e.scale=1,e.angle=0,e.layer.isViewportAligned)e.width=n*this.scale,e.height=s*this.scale,e.part.alignment=x.TopLeft;else{null===e.bi&&(e.bi=new se);const t=e.bi.qc;if(!t.isReal())return;e.width=n+2*t.width,e.height=s+2*t.height;const r=y.l();w.Ig(i.x,i.y,0,0,t.width,t.height,r),r.offset(-t.width,-t.height),e.part.location=r,y.e(r)}}clearSelection(t){void 0===t&&(t=!1);const e=this.selection;if(0===e.count)return;t||this.v("ChangingSelection",e);const i=e.toArray(),n=i.length;for(let s=0;s<n;s++){const t=i[s];t.isSelected=!1}e.At(),e.clear(),e.u(),t||this.v("ChangedSelection",e)}select(t){null!==t&&t.diagram===this&&(!t.isSelected||this.selection.count>1)&&(this.v("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.v("ChangedSelection",this.selection))}selectCollection(t){if(this.v("ChangingSelection",this.selection),this.clearSelection(!0),Array.isArray(t)){const i=t.length;for(let n=0;n<i;n++){const i=t[n];i instanceof Me||e.o("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0}}else{const i=t.iterator;for(;i.next();){const t=i.value;t instanceof Me||e.o("Diagram.selectCollection given something that is not a Part: "+t),t.isSelected=!0}}this.v("ChangedSelection",this.selection)}clearHighlighteds(){const t=this.highlighteds;if(t.count>0){const e=t.toArray(),i=e.length;for(let t=0;t<i;t++){const i=e[t];i.isHighlighted=!1}t.At(),t.clear(),t.u()}}highlight(t){null!==t&&t.diagram===this&&(!t.isHighlighted||this.highlighteds.count>1)&&(this.clearHighlighteds(),t.isHighlighted=!0)}highlightCollection(t){const i=(new u).addAll(t),n=this.highlighteds.copy().removeAll(i).iterator;for(;n.next();){const t=n.value;t.isHighlighted=!1}const s=i.iterator;for(;s.next();){const t=s.value;t instanceof Me||e.o("Diagram.highlightCollection given something that is not a Part: "+t),t.isHighlighted=!0}}scroll(t,i,n){void 0===n&&(n=1);const s="up"===i||"down"===i;let r=0;const o=y.l();if("pixel"===t)r=n;else if("line"===t)r=n*(s?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t){let t=s?this.viewportBounds.height:this.viewportBounds.width;if(t*=this.scale,0!==t){const e=Math.max(t-(s?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0);r=n*e}}else{if("document"===t){const t=this.documentBounds,e=this.viewportBounds;return"up"===i?this.position=o.i(e.x,t.y):"left"===i?this.position=o.i(t.x,e.y):"down"===i?this.position=o.i(e.x,t.bottom-e.height):"right"===i&&(this.position=o.i(t.right-e.width,e.y)),void y.e(o)}e.o("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale;const a=this.position;"up"===i?this.position=o.i(a.x,a.y-r):"down"===i?this.position=o.i(a.x,a.y+r):"left"===i?this.position=o.i(a.x-r,a.y):"right"===i?this.position=o.i(a.x+r,a.y):e.o("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+i),y.e(o)}scrollToRect(t){const e=this.viewportBounds;if(e.containsRect(t))return;const i=t.center;i.x-=e.width/2,i.y-=e.height/2,this.position=i}centerRect(t){const e=this.viewportBounds,i=t.center;i.x-=e.width/2,i.y-=e.height/2,this.position=i}transformDocToView(t){return t.copy().F(this.F)}transformViewToDoc(t){return t.copy().Be(this.F)}KF(t){return t.Be(this.F)}static None=1;static Uniform=2;static UniformToFill=3;static CycleAll=1;static CycleNotDirected=2;static CycleNotDirectedFast=3;static CycleNotUndirected=4;static CycleDestinationTree=5;static CycleSourceTree=6;static DocumentScroll=1;static InfiniteScroll=2;static TreeParentCollapsed=1;static AllParentsCollapsed=2;static AnyParentsCollapsed=3;get opacity(){return this._t}set opacity(t){const i=this._t;i!==t&&(e.s(t,"number",_t,"opacity"),(t<0||t>1)&&e._(t,"0 <= value <= 1",_t,"opacity"),this._t=t,this.t("opacity",i,t),this.C())}get validCycle(){return this.Dx}set validCycle(t){const e=this.Dx;e!==t&&(this.Dx=t,this.t("validCycle",e,t))}get layers(){return this.Gt.iterator}get isModelReadOnly(){const t=this.Mi;return null!==t&&t.isReadOnly}set isModelReadOnly(t){const e=this.Mi;null!==e&&(e.isReadOnly=t)}get isReadOnly(){return this.Eo}set isReadOnly(t){const i=this.Eo;i!==t&&(e.s(t,"boolean",_t,"isReadOnly"),this.Eo=t,this.t("isReadOnly",i,t))}get isEnabled(){return this.Bi}set isEnabled(t){const i=this.Bi;i!==t&&(e.s(t,"boolean",_t,"isEnabled"),this.Bi=t,this.t("isEnabled",i,t))}get allowClipboard(){return this.Bx}set allowClipboard(t){const i=this.Bx;i!==t&&(e.s(t,"boolean",_t,"allowClipboard"),this.Bx=t,this.t("allowClipboard",i,t))}get allowCopy(){return this.Ul}set allowCopy(t){const i=this.Ul;i!==t&&(e.s(t,"boolean",_t,"allowCopy"),this.Ul=t,this.t("allowCopy",i,t))}get allowDelete(){return this.Vl}set allowDelete(t){const i=this.Vl;i!==t&&(e.s(t,"boolean",_t,"allowDelete"),this.Vl=t,this.t("allowDelete",i,t))}get allowDragOut(){return this.Ux}set allowDragOut(t){const i=this.Ux;i!==t&&(e.s(t,"boolean",_t,"allowDragOut"),this.Ux=t,this.t("allowDragOut",i,t))}get allowDrop(){return this.Vx}set allowDrop(t){const i=this.Vx;i!==t&&(e.s(t,"boolean",_t,"allowDrop"),this.Vx=t,this.t("allowDrop",i,t))}get allowTextEdit(){return this.zl}set allowTextEdit(t){const i=this.zl;i!==t&&(e.s(t,"boolean",_t,"allowTextEdit"),this.zl=t,this.t("allowTextEdit",i,t))}get allowGroup(){return this.Xl}set allowGroup(t){const i=this.Xl;i!==t&&(e.s(t,"boolean",_t,"allowGroup"),this.Xl=t,this.t("allowGroup",i,t))}get allowUngroup(){return this.Yl}set allowUngroup(t){const i=this.Yl;i!==t&&(e.s(t,"boolean",_t,"allowUngroup"),this.Yl=t,this.t("allowUngroup",i,t))}get allowInsert(){return this.zx}set allowInsert(t){const i=this.zx;i!==t&&(e.s(t,"boolean",_t,"allowInsert"),this.zx=t,this.t("allowInsert",i,t))}get allowLink(){return this.Kl}set allowLink(t){const i=this.Kl;i!==t&&(e.s(t,"boolean",_t,"allowLink"),this.Kl=t,this.t("allowLink",i,t))}get allowRelink(){return this.Gl}set allowRelink(t){const i=this.Gl;i!==t&&(e.s(t,"boolean",_t,"allowRelink"),this.Gl=t,this.t("allowRelink",i,t))}get allowMove(){return this.Hl}set allowMove(t){const i=this.Hl;i!==t&&(e.s(t,"boolean",_t,"allowMove"),this.Hl=t,this.t("allowMove",i,t))}get allowReshape(){return this.jl}set allowReshape(t){const i=this.jl;i!==t&&(e.s(t,"boolean",_t,"allowReshape"),this.jl=t,this.t("allowReshape",i,t))}get allowResize(){return this.ql}set allowResize(t){const i=this.ql;i!==t&&(e.s(t,"boolean",_t,"allowResize"),this.ql=t,this.t("allowResize",i,t))}get allowRotate(){return this.Wl}set allowRotate(t){const i=this.Wl;i!==t&&(e.s(t,"boolean",_t,"allowRotate"),this.Wl=t,this.t("allowRotate",i,t))}get allowSelect(){return this.Jl}set allowSelect(t){const i=this.Jl;i!==t&&(e.s(t,"boolean",_t,"allowSelect"),this.Jl=t,this.t("allowSelect",i,t))}get allowUndo(){return this.Xx}set allowUndo(t){const i=this.Xx;i!==t&&(e.s(t,"boolean",_t,"allowUndo"),this.Xx=t,this.t("allowUndo",i,t))}get allowZoom(){return this.Yx}set allowZoom(t){const i=this.Yx;i!==t&&(e.s(t,"boolean",_t,"allowZoom"),this.Yx=t,this.t("allowZoom",i,t))}get hasVerticalScrollbar(){return this.Uu}set hasVerticalScrollbar(t){const i=this.Uu;i!==t&&(e.s(t,"boolean",_t,"hasVerticalScrollbar"),this.Uu=t,this.da(),this.C(),this.t("hasVerticalScrollbar",i,t),this.Ks(!1))}get hasHorizontalScrollbar(){return this.Bu}set hasHorizontalScrollbar(t){const i=this.Bu;i!==t&&(e.s(t,"boolean",_t,"hasHorizontalScrollbar"),this.Bu=t,this.da(),this.C(),this.t("hasHorizontalScrollbar",i,t),this.Ks(!1))}get allowHorizontalScroll(){return this.Kx}set allowHorizontalScroll(t){const i=this.Kx;i!==t&&(e.s(t,"boolean",_t,"allowHorizontalScroll"),this.Kx=t,this.t("allowHorizontalScroll",i,t),this.Ks(!1))}get allowVerticalScroll(){return this.Gx}set allowVerticalScroll(t){const i=this.Gx;i!==t&&(e.s(t,"boolean",_t,"allowVerticalScroll"),this.Gx=t,this.t("allowVerticalScroll",i,t),this.Ks(!1))}get scrollHorizontalLineChange(){return this.Hx}set scrollHorizontalLineChange(t){const i=this.Hx;i!==t&&(e.s(t,"number",_t,"scrollHorizontalLineChange"),t<0&&e._(t,">= 0",_t,"scrollHorizontalLineChange"),this.Hx=t,this.t("scrollHorizontalLineChange",i,t))}get scrollVerticalLineChange(){return this.jx}set scrollVerticalLineChange(t){const i=this.jx;i!==t&&(e.s(t,"number",_t,"scrollVerticalLineChange"),t<0&&e._(t,">= 0",_t,"scrollVerticalLineChange"),this.jx=t,this.t("scrollVerticalLineChange",i,t))}get lastInput(){return this.sa}set lastInput(t){this.sa=t}get previousInput(){return this.Hr}set previousInput(t){this.Hr=t}get firstInput(){return this.Wm}set firstInput(t){this.Wm=t}get currentCursor(){return this.Fx}set currentCursor(t){if(""===t&&(t=this.Ym),this.Fx!==t){e.s(t,"string",_t,"currentCursor");const i=this.mt,n=this.Ct;if(null===i||null===n)return;this.Fx=t;const s=i.style.cursor;i.style.cursor=t,n.style.cursor=t,i.style.cursor===s&&(i.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,i.style.cursor===s&&(i.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,i.style.cursor===s&&(i.style.cursor=t,n.style.cursor=t)))}}get defaultCursor(){return this.Ym}set defaultCursor(t){""===t&&(t="auto");const i=this.Ym;i!==t&&(e.s(t,"string",_t,"defaultCursor"),this.Ym=t,this.t("defaultCursor",i,t))}get click(){return this.vr}set click(t){const i=this.vr;i!==t&&(null!==t&&e.S(t,_t,"click"),this.vr=t,this.t("click",i,t))}get doubleClick(){return this.Or}set doubleClick(t){const i=this.Or;i!==t&&(null!==t&&e.S(t,_t,"doubleClick"),this.Or=t,this.t("doubleClick",i,t))}get contextClick(){return this.Ir}set contextClick(t){const i=this.Ir;i!==t&&(null!==t&&e.S(t,_t,"contextClick"),this.Ir=t,this.t("contextClick",i,t))}get mouseOver(){return this.Er}set mouseOver(t){const i=this.Er;i!==t&&(null!==t&&e.S(t,_t,"mouseOver"),this.Er=t,this.t("mouseOver",i,t))}get mouseHover(){return this.Br}set mouseHover(t){const i=this.Br;i!==t&&(null!==t&&e.S(t,_t,"mouseHover"),this.Br=t,this.t("mouseHover",i,t))}get mouseHold(){return this.Ur}set mouseHold(t){const i=this.Ur;i!==t&&(null!==t&&e.S(t,_t,"mouseHold"),this.Ur=t,this.t("mouseHold",i,t))}get mouseDragOver(){return this.Rx}set mouseDragOver(t){const i=this.Rx;i!==t&&(null!==t&&e.S(t,_t,"mouseDragOver"),this.Rx=t,this.t("mouseDragOver",i,t))}get mouseDrop(){return this.Vr}set mouseDrop(t){const e=this.Vr;e!==t&&(this.Vr=t,this.t("mouseDrop",e,t))}get handlesDragDropForTopLevelParts(){return this.vx}set handlesDragDropForTopLevelParts(t){const i=this.vx;i!==t&&(e.s(t,"boolean",_t,"handlesDragDropForTopLevelParts"),this.vx=t,this.t("handlesDragDropForTopLevelParts",i,t))}get mouseEnter(){return this.zr}set mouseEnter(t){const i=this.zr;i!==t&&(null!==t&&e.S(t,_t,"mouseEnter"),this.zr=t,this.t("mouseEnter",i,t))}get mouseLeave(){return this.Xr}set mouseLeave(t){const i=this.Xr;i!==t&&(null!==t&&e.S(t,_t,"mouseLeave"),this.Xr=t,this.t("mouseLeave",i,t))}get toolTip(){return this.Yr}set toolTip(t){const e=this.Yr;e!==t&&(this.Yr=t,this.t("toolTip",e,t))}get contextMenu(){return this.Kr}set contextMenu(t){const e=this.Kr;e!==t&&(this.Kr=t,this.t("contextMenu",e,t))}get commandHandler(){return this.$S}set commandHandler(t){const e=this.$S;e!==t&&(e&&e.doStop(),this.$S=t,t.Ro(this),t.doStart())}get toolManager(){return this.qS}set toolManager(t){this.qS!==t&&(this.qS=t,t.diagram=this)}get defaultTool(){return this.WS}set defaultTool(t){const e=this.WS;e!==t&&(this.WS=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}get currentTool(){return this.JS}set currentTool(t){const e=this.JS;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.JS=t,t.diagram=this,t.doStart())}get selection(){return this.sM}get maxSelectionCount(){return this.$x}set maxSelectionCount(t){const i=this.$x;if(i!==t)if(e.s(t,"number",_t,"maxSelectionCount"),t>=0&&!isNaN(t)){if(this.$x=t,this.t("maxSelectionCount",i,t),!this.undoManager.isUndoingRedoing){const e=this.selection.count-t;if(e>0){this.v("ChangingSelection",this.selection);const t=this.selection.toArray();for(let i=0;i<e;i++)t[i].isSelected=!1;this.v("ChangedSelection",this.selection)}}}else e._(t,">= 0",_t,"maxSelectionCount")}get nodeSelectionAdornmentTemplate(){return this.jm}set nodeSelectionAdornmentTemplate(t){const e=this.jm;e!==t&&(this.jm=t.Vt(),this.t("nodeSelectionAdornmentTemplate",e,t))}get groupSelectionAdornmentTemplate(){return this._x}set groupSelectionAdornmentTemplate(t){const e=this._x;e!==t&&(this._x=t.Vt(),this.t("groupSelectionAdornmentTemplate",e,t))}get linkSelectionAdornmentTemplate(){return this.tb}set linkSelectionAdornmentTemplate(t){const e=this.tb;e!==t&&(this.tb=t.Vt(),this.t("linkSelectionAdornmentTemplate",e,t))}get highlighteds(){return this.nM}get isModified(){const t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.Yu&&this.Vs!==t.historyIndex:this.Yu}set isModified(t){if(this.Yu!==t){e.s(t,"boolean",_t,"isModified"),this.Yu=t;const i=this.undoManager;!t&&i.isEnabled&&(this.Vs=i.historyIndex),t||this.qL()}}qL(){const t=this.isModified;this.iM!==t&&(this.iM=t,this.v("Modified"))}get model(){return this.Mi}set model(t){const i=this.Mi;if(i!==t){this.currentTool.doCancel(),i&&i.undoManager!==t.undoManager&&i.undoManager.isInTransaction&&e.o("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.stopAnimation(!0);const n=this.AL(!0);this.to=!1,this.Eu=!0,this.Vs=-2,this.Cr=!1;const s=this.Jt;this.Jt=!0,this.animationManager.Bl("Model"),i&&(null!==this.Qn&&this.Qn.each((t=>i.removeChangedListener(t))),i.removeChangedListener(this.tM)),this.Mi=t,this.partManager=this.CR(this.Mi.type),this.initializePartManager(this.partManager);for(let t=0;t<n.length;t++)this.add(n[t]);t.addChangedListener(this._S),this.partManager.vM(),t.removeChangedListener(this._S),t.addChangedListener(this.tM),null!==this.Qn&&this.Qn.each((e=>t.addChangedListener(e))),this.Jt=s,this.invalidateDocumentBounds(),this.Jt||this.C(),i&&t.undoManager.copyProperties(i.undoManager)}}get themeManager(){return this.wM}set themeManager(t){const e=this.wM;e!==t&&(e&&e.removeDiagram(this),this.wM=t,null!==t&&t.addDiagram(this))}initializePartManager(t){}static xM(t,e){_t.PL.set(t,e)}static get licenseKey(){return _t.OM.last()}static set licenseKey(t){_t.OM.add(t.replace(/\s/g,""))}static get version(){return _t.LR}static OM=new l;static LR="3.0.20";CR(t){const e=_t.PL.get(t);return null!==e?new e:new Xe}get K(){return this.QS}set K(t){this.QS=t}get ux(){return this.xL}AR(t){if(t.model!==this.model)return;const i=t.change,n=t.propertyName;if(1!==i||"S"!==n[0]){if(this.K){this.K=!1;try{if(""===t.modelChange&&1===i){("FinishedUndo"===n||"FinishedRedo"===n)&&(this.v("ChangedSelection",this.selection),this.Li());const i=this.animationManager;"RolledBackTransaction"===n&&i.stopAnimation(),this.dL(),this.Uc=!0,this.maybeUpdate(),(0===this.undoManager.transactionLevel||1===this.undoManager.transactionLevel)&&i.LS(),"CommittedTransaction"===n&&this.undoManager.isJustDiscarded&&(this.Vs=Math.min(this.Vs,this.undoManager.historyIndex-1)),("CommittedTransaction"===n||"RolledBackTransaction"===n)&&this.undoManager.Ow&&e.ar((()=>{this.isModified=!1}),1);const s=t.isTransactionFinished;if(s&&(this.qL(),this.ux.clear(),this.animationManager.LF()),!this.Ox&&s&&this.lastInput.targetDiagram){this.Ox=!0;const t=this;e.ar((()=>{t.currentTool.standardMouseOver(),t.Ox=!1}),10)}}}finally{this.K=!0}}}else if("StartingFirstTransaction"===n){const t=this,e=this.toolManager;e.mouseDownTools.each((e=>e.diagram=t)),e.mouseMoveTools.each((e=>e.diagram=t)),e.mouseUpTools.each((e=>e.diagram=t)),this.routers.each((e=>e.diagram=t)),!this.bs&&!this.to&&(this.Uc=!0,this.Eu&&(this.Cr=!0))}else if("StartingUndo"===n||"StartingRedo"===n){const t=this.animationManager;this.skipsUndoManager||(t.defaultAnimation.isAnimating&&t.stopAnimation(),t.getBundleAnimation().isAnimating&&t.getBundleAnimation().stop()),this.v("ChangingSelection",this.selection)}else if("StartedTransaction"===n){const t=this.animationManager;t.defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.stopAnimation()}}get ge(){return this.ZS}set ge(t){this.ZS=t}get wu(){return this.Ix}set wu(t){this.Ix=t}BL(t){const e=t.T.r;for(const i of e)i instanceof ye&&this.IM(i)}IM(t){const e=t.element;if(null===e||!(e instanceof HTMLImageElement)||(e.ss instanceof u&&e.ss.add(this),t.TR(),!e.c0))return;const i=e.getAttribute("src")||"",n=this.ih.get(i);if(null===n){ye.WL(t,e);const n=[];n.push(t),this.ih.set(i,n)}else{for(let e=0;e<n.length;e++)if(n[e]===t)return;n.push(t)}}DR(t){const e=t.T.r,i=e.length;for(let n=0;n<i;n++)this.EM(e[n])}EM(t){if(!(t instanceof ye))return;const e=t.element;if(null===e||!(e instanceof HTMLImageElement)||!e.c0)return;const i=e.getAttribute("src")||"",n=this.ih.get(i);if(null!==n)for(let s=0;s<n.length;s++)if(n[s]===t)return n.splice(s,1),void(0===n.length&&(this.ih.delete(i),ye.FR(e),e.ss instanceof u&&e.ss.delete(this),ye.clearCache(i)))}TL(){ye.clearCache(),this.ih.clear()}rebuildParts(){this.partManager.rebuildParts()}Rc(t,e){this.ps.Rc(t,e)}Fc(t,e){this.ps.Fc(t,e)}findPartForKey(t){return this.partManager.findPartForKey(t)}findNodeForKey(t){return this.partManager.findNodeForKey(t)}findLinkForKey(t){return this.partManager.findLinkForKey(t)}findPartForData(t){return this.partManager.findPartForData(t)}findNodeForData(t){return this.partManager.findNodeForData(t)}findLinkForData(t){return this.partManager.findLinkForData(t)}findNodesByExample(...t){return this.partManager.findNodesByExample(...t)}findLinksByExample(...t){return this.partManager.findLinksByExample(...t)}get nodeTemplate(){return this.Gr.get("")}set nodeTemplate(t){const e=this.Gr.get("");e!==t&&(this.Gr.set("",t),this.t("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get nodeTemplateMap(){return this.Gr}set nodeTemplateMap(t){const e=this.Gr;e!==t&&(this.Gr=t,this.t("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplate(){return this.ea.get("")}set groupTemplate(t){const e=this.ea.get("");e!==t&&(this.ea.set("",t),this.t("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplateMap(){return this.ea}set groupTemplateMap(t){const e=this.ea;e!==t&&(this.ea=t,this.t("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplate(){return this._l.get("")}set linkTemplate(t){const e=this._l.get("");e!==t&&(this._l.set("",t),this.t("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplateMap(){return this._l}set linkTemplateMap(t){const e=this._l;e!==t&&(this._l=t,this.t("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get isMouseCaptured(){return this.eM}set isMouseCaptured(e){const i=this.mt;if(null===i)return;const n=i.Rt;n instanceof SVGElement||(e?(this.lastInput.bubbles=!1,this.Ni(n,"pointermove",this.ha,!1),this.Ni(n,"pointerdown",this.sh,!1),this.Ni(n,"pointerup",this.aa,!1),this.Ni(n,"pointerout",this.ca,!1),this.Ni(n,"pointercancel",this.fa,!1),this.zt(t,"pointermove",this.ha,!0),this.zt(t,"pointerdown",this.sh,!0),this.zt(t,"pointerup",this.aa,!0),this.zt(t,"pointerout",this.ca,!0),this.zt(t,"pointercancel",this.fa,!0),this.Ni(n,"wheel",this.la,!1),this.zt(t,"wheel",this.la,!0),this.zt(t,"selectstart",this.Jh,!1)):(this.Ni(t,"pointermove",this.ha,!0),this.Ni(t,"pointerdown",this.sh,!0),this.Ni(t,"pointerup",this.aa,!0),this.Ni(t,"pointerout",this.ca,!0),this.Ni(t,"pointercancel",this.fa,!0),this.zt(n,"pointermove",this.ha,!1),this.zt(n,"pointerdown",this.sh,!1),this.zt(n,"pointerup",this.aa,!1),this.zt(n,"pointerout",this.ca,!1),this.zt(n,"pointercancel",this.fa,!1),this.Ni(t,"wheel",this.la,!0),this.Ni(t,"selectstart",this.Jh,!1),this.zt(n,"wheel",this.la,!1)),this.eM=e)}get position(){return this.dt}set position(t){if(this.dt.equals(t))return;const e=y.l().a(this.dt),i=this.viewportBounds.copy();if(this.dt.a(t),this.animationManager.cL(e,this.dt),this.Jt||null===this.mt&&!this.zu.isReal())this.nh(),this.gb();else{this.Jt=!0;const t=this.scale,e=this.Pt/t,i=this.St/t;this.SM(this.Hm,e,i,this.Ec,!1),this.Jt=!1}if(!this.Jt){const t=this.viewportBounds;this.onViewportBoundsChanged(i,t,this.nt,!1)}y.e(e)}get initialPosition(){return this.yx}set initialPosition(t){this.yx.equals(t)||(this.yx=t.N())}get initialScale(){return this.wx}set initialScale(t){this.wx!==t&&(e.s(t,"number",_t,"initialScale"),this.wx=t)}get grid(){return null===this.ts&&(this.ts=this.FL()),this.ts}set grid(t){let i=this.ts;if(i!==t){null===i&&(this.ts=this.FL(),i=this.ts),t.type!==ie.Grid&&e.o("Diagram.grid must be a Panel of type Panel.Grid");const n=i.panel;null!==n&&n.remove(i),this.ts=t,t.name="GRID",null!==n&&n.add(t),this.Xu=!1,this.C(),this.t("grid",i,t)}}get viewportBounds(){return this.Zx}nh(){const t=this.Zx,e=this.dt,i=this.nt;t.i(e.x,e.y,Math.max(this.Pt,0)/i,Math.max(this.St,0)/i),this.oh()}get viewSize(){return this.zu}set viewSize(t){const e=this.viewSize;if(!e.equals(t)){t=t.N(),this.zu=t;let i=0,n=0;t.isReal()?(i=t.width,n=t.height):null!==this.Ct&&(i=this.Ct.clientWidth||1,n=this.Ct.clientHeight||1),this.Pt=i,this.St=n,this.nh(),this.invalidateDocumentBounds(),this.t("viewSize",e,t),this.C()}}get fixedBounds(){return this.Px}set fixedBounds(t){const i=this.Px;i.equals(t)||((t.width===-1/0||t.height===1/0||t.height===-1/0)&&e.o("fixedBounds width/height must not be Infinity"),t=t.N(),this.Px=t,this.invalidateDocumentBounds(),this.t("fixedBounds",i,t))}get scrollMargin(){return this.ta}set scrollMargin(t){"number"==typeof t&&(t=new b(t));const e=this.ta;e.equals(t)||(t=t.N(),this.ta=t,this.t("scrollMargin",e,t),this.bu())}get scrollMode(){return this.Zh}set scrollMode(t){const e=this.Zh;e!==t&&(this.Zh=t,1===t&&this.Ks(!1),this.t("scrollMode",e,t),this.da(),this.C())}get scrollsPageOnFocus(){return this.Sx}set scrollsPageOnFocus(t){const i=this.Sx;i!==t&&(e.s(t,"boolean",_t,"scrollsPageOnFocus"),this.Sx=t,this.t("scrollsPageOnFocus",i,t))}get positionComputation(){return this.Mx}set positionComputation(t){const i=this.Mx;i!==t&&(null!==t&&e.S(t,_t,"positionComputation"),this.Mx=t,this.Ks(!1),this.t("positionComputation",i,t))}get scaleComputation(){return this.Nx}set scaleComputation(t){const i=this.Nx;i!==t&&(null!==t&&e.S(t,_t,"scaleComputation"),this.Nx=t,this.jL(this.scale,this.scale),this.t("scaleComputation",i,t))}get documentBounds(){return this.Hm}JL(t){this.na=!1;let e=this.Hm;e.equals(t)||(e=e.copy(),this.Hm.a(t),this.Ks(!1),this.v("DocumentBoundsChanged",void 0,e),this.da(),this.C())}ensureBounds(){if(this.na){const t=v.l();this.JL(this.computeBounds(t)),v.e(t)}}get isVirtualized(){return this.Qx}set isVirtualized(t){const i=this.Qx;i!==t&&(e.s(t,"boolean",_t,"isVirtualized"),this.Qx=t,this.t("isVirtualized",i,t))}get scale(){return this.nt}set scale(t){const e=this.nt;e!==t&&this.jL(e,t)}get defaultScale(){return this.Jm}set defaultScale(t){this.Jm=t}get autoScale(){return this.Zl}set autoScale(t){const e=this.Zl;e!==t&&(this.Zl=t,this.t("autoScale",e,t),1!==t&&this.Ks(!1))}get initialAutoScale(){return this.Dr}set initialAutoScale(t){const e=this.Dr;e!==t&&(this.Dr=t,this.t("initialAutoScale",e,t))}get initialViewportSpot(){return this.Lx}set initialViewportSpot(t){const i=this.Lx;i!==t&&(t.isSpot()||e.o("initialViewportSpot must be a specific Spot: "+t),this.Lx=t,this.t("initialViewportSpot",i,t))}get initialDocumentSpot(){return this.Cx}set initialDocumentSpot(t){const i=this.Cx;i!==t&&(t.isSpot()||e.o("initialViewportSpot must be a specific Spot: "+t),this.Cx=t,this.t("initialDocumentSpot",i,t))}get minScale(){return this.xx}set minScale(t){const i=this.xx;i!==t&&(t>0?(this.xx=t,this.t("minScale",i,t),t>this.scale&&(this.scale=t)):e._(t,"> 0",_t,"minScale"))}get maxScale(){return this.bx}set maxScale(t){const i=this.bx;i!==t&&(t>0?(this.bx=t,this.t("maxScale",i,t),t<this.scale&&(this.scale=t)):e._(t,"> 0",_t,"maxScale"))}get zoomPoint(){return this.kx}set zoomPoint(t){this.kx.equals(t)||(t=t.N(),this.kx=t)}get contentAlignment(){return this.Ec}set contentAlignment(t){const e=this.Ec;e.equals(t)||(t=t.N(),this.Ec=t,this.t("contentAlignment",e,t),this.Ks(!1))}get initialContentAlignment(){return this.Vm}set initialContentAlignment(t){const e=this.Vm;e.equals(t)||(t=t.N(),this.Vm=t,this.t("initialContentAlignment",e,t))}get padding(){return this.ti}set padding(t){"number"==typeof t&&(t=new b(t));const e=this.ti;e.equals(t)||(t=t.N(),this.ti=t,this.invalidateDocumentBounds(),this.t("padding",e,t))}get partManager(){return this.aM}set partManager(t){const i=this.aM;i!==t&&(null!==t.diagram&&e.o("Cannot share PartManagers between Diagrams: "+t.toString()),i&&i.Ro(null),this.aM=t,t.Ro(this))}get nodes(){return this.partManager.nodes.iterator}get links(){return this.partManager.links.iterator}get parts(){return this.partManager.parts.iterator}findTopLevelNodesAndLinks(){const t=new u,e=this.nodes;for(;e.next();){const i=e.value;i.isTopLevel&&t.add(i)}const i=this.links;for(;i.next();){const e=i.value;e.isTopLevel&&t.add(e)}return t.iterator}findTopLevelGroups(){return this.qr.iterator}get routers(){return this.Gc}doLinkRouting(t){this.Oo=!0;const e=this.Gc.r;for(let i=0;i<e.length;i++)e[i].canRoute(t)&&e[i].routeLinks(this.Fr,t);this.Oo=!1}get layout(){return this.ne}set layout(t){const e=this.ne;e!==t&&(this.ne=t,t.diagram=this,t.group=null,this.jr=!0,this.t("layout",e,t),this.requestUpdate())}layoutDiagram(t){this.Li(),t&&this.xb(!0),this.bs?this.CM(!1,this.Cl||0!==this.Gc.count&&0!==this.Zn.size):(this.Uc=!0,this.br())}xb(t){const e=this.qr.iterator;for(;e.next();)this.$L(e.value,t);this.layout&&(t?this.layout.isValidLayout=!1:this.layout.invalidateLayout())}$L(t,e){if(null===t)return;const i=t.ga.iterator;for(;i.next();){const t=i.value;this.$L(t,e)}null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.invalidateLayout())}CM(t,e){if(this.Ex)return;const i=this.K;this.K=!0;const n="Layout",s=this.undoManager.transactionLevel,r=this.layout,o=this.animationManager;try{0===s&&(this.undoManager.Ml=!0,this.startTransaction(n)),s<=1&&!o.defaultAnimation.isAnimating&&!o.xi&&(t||o.Bl(n)),this.jr=!1;let i=this.qr.iterator;for(;i.next();)this.ZL(i.value,t,s,e);let a=!1;if(r.isValidLayout||(!t||r.isRealtime||null===r.isRealtime||0===s?(r.doLayout(this),this.r0(this),a=!0,r.isValidLayout=!0):this.jr=!0),a||this.r0(this),this.doLinkRouting(this),this.Fr.clear(),0!==this.ia.size){for(let t=0;t<23&&0!==this.ia.size;t++){for(i=this.qr.iterator;i.next();)this.QL(i.value);const t=this.Fr;this.Fr=this.ia,this.ia=t,this.r0(this),this.doLinkRouting(this)}this.Fr.clear(),this.ia.clear()}}finally{const t=this.undoManager.Ml;0===s&&(this.commitTransaction(n),this.undoManager.Ml=!1),t&&(0===s||1===s)&&o.LS(),this.jr&&(this.jr=!r.isValidLayout),this.K=i}}ZL(t,e,i,n){const s=t.ga.iterator;for(;s.next();)this.ZL(s.value,e,i,n);const r=t.layout;null===r||r.isValidLayout?n&&this.doLinkRouting(t):!e||r.isRealtime||0===i?(t.ma=!t.location.isReal(),r.doLayout(t),t.invalidateLayout(32),this.mb(t),this.r0(t),this.doLinkRouting(t),r.isValidLayout=!0):(this.doLinkRouting(t),this.jr=!0)}QL(t){const e=t.ga.iterator;for(;e.next();)this.QL(e.value);this.r0(t),this.doLinkRouting(t)}get isTreePathToChildren(){return this.Ax}set isTreePathToChildren(t){const i=this.Ax;if(i!==t&&(e.s(t,"boolean",_t,"isTreePathToChildren"),this.Ax=t,this.t("isTreePathToChildren",i,t),!this.undoManager.isUndoingRedoing)){const t=this.nodes;for(;t.next();)t.value.f0()}}findTreeRoots(){const t=new l,e=this.nodes;for(;e.next();){const i=e.value;i.isTopLevel&&null===i.findTreeParentLink()&&t.add(i)}return t.iterator}get treeCollapsePolicy(){return this.Tx}set treeCollapsePolicy(t){const i=this.Tx;i!==t&&(1!==t&&2!==t&&3!==t&&e.o("Unknown Diagram.treeCollapsePolicy: "+t),this.Tx=t,this.t("treeCollapsePolicy",i,t))}get isCollapsingExpanding(){return this.jS}set isCollapsingExpanding(t){this.jS=t}_F(){const t=new p,e=new p;function i(i){const n=i.toLowerCase(),s=new l;t.set(i,s),t.set(n,s),e.set(i,i),e.set(n,i)}i("InitialAnimationStarting"),i("AnimationStarting"),i("AnimationFinished"),i("BackgroundSingleClicked"),i("BackgroundDoubleClicked"),i("BackgroundContextClicked"),i("ClipboardChanged"),i("ClipboardPasted"),i("DocumentBoundsChanged"),i("ExternalObjectsDropped"),i("GainedFocus"),i("InitialLayoutCompleted"),i("LayoutCompleted"),i("LinkDrawn"),i("LinkRelinked"),i("LinkReshaped"),i("LostFocus"),i("Modified"),i("ObjectSingleClicked"),i("ObjectDoubleClicked"),i("ObjectContextClicked"),i("PartCreated"),i("PartResized"),i("PartRotated"),i("SelectionMoved"),i("SelectionCopied"),i("SelectionDeleting"),i("SelectionDeleted"),i("SelectionGrouped"),i("SelectionUngrouped"),i("ChangingSelection"),i("ChangedSelection"),i("SubGraphCollapsed"),i("SubGraphExpanded"),i("TextEdited"),i("ThemeChanged"),i("TreeCollapsed"),i("TreeExpanded"),i("ViewportBoundsChanged"),i("InvalidateDraw"),this.GS=t,this.HS=e}EL(t){const e=this.HS.get(t);return null!==e?e:this.HS.get(t.toLowerCase())}BM(t){let i=this.GS.get(t);if(null!==i)return i;const n=t.toLowerCase();if(i=this.GS.get(n),null!==i)return i;e.o("Unknown DiagramEvent name: "+t)}addDiagramListener(t,i){e.s(t,"string",_t,"addDiagramListener:name"),e.S(i,_t,"addDiagramListener:listener");const n=this.BM(t);return null!==n&&n.add(i),this}removeDiagramListener(t,i){e.s(t,"string",_t,"removeDiagramListener:name"),e.S(i,_t,"addDiagramListener:listener");const n=this.BM(t);null!==n&&n.delete(i)}raiseDiagramEvent(t,e,i){this.v(t,e,i)}v(t,e,i){const n=this.BM(t),s=new C;s.diagram=this;const r=this.EL(t);null!==r&&(s.name=r),void 0!==e&&(s.subject=e),void 0!==i&&(s.parameter=i);const o=n.length;if(1===o)n.elt(0)(s);else if(0!==o){const t=n.toArray();for(let e=0;e<o;e++){const i=t[e];i(s)}}}isUnoccupied(t,e){return this.getPositions(!1,null,e||null).isUnoccupied(t.x,t.y,t.width,t.height)}computeOccupiedArea(t){return this.isVirtualized?this.viewportBounds.copy():this.na?this.vL(t):t.a(this.documentBounds)}getPositions(t,e,i){let n=this.Ql;null===n&&(this.Ql=n=new Ae(this.avoidanceCellSize));let s=e;if(n.Vo||n.pa!==s||n.UM!==i){if(n.VM=Math.max(n.Wc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.width)),n.zM=Math.max(n.Wc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.height)),null!==s&&(s=this._L(s)),null===s){const t=v.l();this.computeOccupiedArea(t),t.inflate(100,100),n.bb(t);const e=this.nodes;for(;e.next();){const n=e.value,s=n.layer;null===s||!s.visible||s.isTemporary||this.XM(n,i,t)}v.e(t)}else{if(s.memberParts.count>0){const t=this.computePartsBounds(s.memberParts,!1);t.inflate(20,20),n.bb(t)}const t=v.l(),e=s.memberParts;for(;e.next();){const n=e.value;n instanceof Se&&this.XM(n,i,t)}v.e(t)}n.pa=s,n.UM=i,n.Vo=!1}else t&&n.tA();return n}get avoidanceCellSize(){return this.oM}set avoidanceCellSize(t){this.Ql=null,this.oM=new _(Math.max(1,t.width),Math.max(1,t.height))}get avoidanceLimit(){return this.rM}set avoidanceLimit(t){this.rM=Math.max(1,t)}_L(t){return t.canAvoid()?t:null!==t.containingGroup?this._L(t.containingGroup):null}XM(t,e,i){if(t===e||!t.isVisible())return;const n=t.canAvoid();if(n){const e=t.getAvoidableRect(i);this.Ql.RR(e.x,e.y,e.width,e.height)}if(t instanceof Ie&&(!n||t.avoidableMembers)){const n=t.memberParts;for(;n.next();){const t=n.value;t instanceof Se&&this.XM(t,e,i)}}}YM(t){null!==this.Ql&&!this.Ql.Vo&&(void 0===t||t.canAvoid())&&(this.Ql.Vo=!0)}get autoScrollInterval(){return this.zm}set autoScrollInterval(t){const e=this.zm;e!==t&&(this.zm=t,this.t("autoScrollInterval",e,t))}get autoScrollRegion(){return this.Xm}set autoScrollRegion(t){"number"==typeof t&&(t=new b(t));const e=this.Xm;e.equals(t)||(t=t.N(),this.Xm=t,this.invalidateDocumentBounds(),this.t("autoScrollRegion",e,t))}doAutoScroll(t){this.qm.a(t),this.computeAutoScrollPosition(this.qm).equalsApprox(this.position)?this.stopAutoScroll():this.iA()}iA(){if(-1!==this.Bc)return;const t=this.zm,i=this;this.Bc=e.ar((()=>{if(-1===i.Bc||(i.stopAutoScroll(),null===i.lastInput.event))return;const t=i.computeAutoScrollPosition(i.qm);if(t.equalsApprox(i.position))return;i.position=t,i.lastInput.documentPoint=i.transformViewToDoc(i.qm),i.doMouseMove(),i.na=!0;const e=v.l();i.computeBounds(e),e.unionRect(i.documentBounds),i.JL(e),v.e(e),i.ze=!0,i.maybeUpdate(),i.iA()}),t)}stopAutoScroll(){-1!==this.Bc&&(e.Og(this.Bc),this.Bc=-1)}computeAutoScrollPosition(t){let e=this.position;const i=this.Xm;if(i.top<=0&&i.left<=0&&i.right<=0&&i.bottom<=0)return e;const n=this.viewportBounds,s=this.scale,r=v.X(0,0,n.width*s,n.height*s),o=y.X(0,0);if(t.x>=r.x&&t.x<r.x+i.left&&this.allowHorizontalScroll){let e=Math.max(this.scrollHorizontalLineChange,1);e|=0,o.x-=e,t.x<r.x+i.left/2&&(o.x-=e),t.x<r.x+i.left/4&&(o.x-=4*e)}else if(t.x<=r.x+r.width&&t.x>r.x+r.width-i.right&&this.allowHorizontalScroll){let e=Math.max(this.scrollHorizontalLineChange,1);e|=0,o.x+=e,t.x>r.x+r.width-i.right/2&&(o.x+=e),t.x>r.x+r.width-i.right/4&&(o.x+=4*e)}if(t.y>=r.y&&t.y<r.y+i.top&&this.allowVerticalScroll){let e=Math.max(this.scrollVerticalLineChange,1);e|=0,o.y-=e,t.y<r.y+i.top/2&&(o.y-=e),t.y<r.y+i.top/4&&(o.y-=4*e)}else if(t.y<=r.y+r.height&&t.y>r.y+r.height-i.bottom&&this.allowVerticalScroll){let e=Math.max(this.scrollVerticalLineChange,1);e|=0,o.y+=e,t.y>r.y+r.height-i.bottom/2&&(o.y+=e),t.y>r.y+r.height-i.bottom/4&&(o.y+=4*e)}return o.equalsApprox(y.Lo)||(e=new y(e.x+o.x/s,e.y+o.y/s)),v.e(r),y.e(o),e}makeSvg(i){this.th.has("SVG")||this.addRenderer("SVG",new Ot(this,t.document));const n=new Ot(this,t.document,!0);void 0===i&&(i={});const s=this;function r(t,i){const r=s.eA(t,"SVG",n),o=null!==r?r.svg:null;return e.ot(i)?(i(o),null):o}return this.sA(r,i)}makeSVG(t){return this.makeSvg(t)}addRenderer(t,e){this.th.set(t,e)}removeRenderer(t){this.th.delete(t)}cacheGroupExternalLinks(t){this.yM=t,t||this.nodes.each((t=>{t instanceof Ie&&(t.u0=null)}))}sA(i,n){const s=n.callback;let r=!0;const o=this.ih.iterator;for(;o.next();)if(!o.value[0].yn){r=!1;break}if(!e.ot(s)||r)return i(n,s,this);const a=this;function l(){const e=+new Date;for(r=!0,o.reset();o.next();)if(!o.value[0].yn){r=!1;break}r||e-u>h?i(n,s,a):t.requestAnimationFrame(l)}const h=n.callbackTimeout||300,u=+new Date;return t.requestAnimationFrame((()=>l())),null}makeImage(t){return _t.isUsingDOM()?(void 0===t&&(t={}),t.returnType="Image",this.makeImageData(t)):null}makeImageData(t){return void 0===t&&(t={}),this.sA(this.vR,t)}static img="image";vR(t,i,n){const s=n.eA(t,"canvas",null);if(null===s)return null;const r=s.U.canvas;let o=null;if(null!==r){let n=t.returnType;switch(n=void 0===n?"string":n.toLowerCase(),n){case _t.img+"data":o=s.getImageData(0,0,r.width,r.height);break;case _t.img:const n=(t.document||document).createElement("img");n.src=r.toDataURL(t.type,t.details),o=n;break;case"blob":{const n=r;return e.ot(i)||(o="",e.o('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.')),e.ot(n.toBlob)?(n.toBlob(i,t.type,t.details),"toBlob"):(i(null),null)}case"string":default:o=r.toDataURL(t.type,t.details)}}return e.ot(i)?(i(o),null):o}static OR=!1;eA(t,i,n){if(this.animationManager.stopAnimation(),this.maybeUpdate(),null===this.mt)return null;e.H(t)||e.o("properties argument must be an Object.");let s=!1,r=t.size||null,o=t.scale||null;void 0!==t.scale&&isNaN(t.scale)&&(o="NaN");let a=t.maxSize;void 0===t.maxSize&&(s=!0,a="SVG"===i?new _(1/0,1/0):new _(2e3,2e3));const h=t.position||null;let u=t.parts||null;Array.isArray(u)&&(u=new l(u));let c=void 0===t.padding?1:t.padding;const d=t.background||null;let f=t.omitTemporary;void 0===f&&(f=!0);const m=t.document||document,g=t.elementFinished||null;let p=t.showTemporary;void 0===p&&(p=!f);let x=t.showGrid;void 0===x&&(x=p),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"==typeof c?c=new b(c):c instanceof b||e.o("MakeImage padding must be a Margin or a number."),c.left=Math.max(c.left,0),c.right=Math.max(c.right,0),c.top=Math.max(c.top,0),c.bottom=Math.max(c.bottom,0),this.ii.clearContextCache(!0);const M=new Rt(null,m,void 0,!0),w=M.ci;if(!(r||o||u||h))return M.width=this.Pt+Math.ceil(c.left+c.right),M.height=this.St+Math.ceil(c.top+c.bottom),"SVG"===i?null===n?null:(n.resize(M.width,M.height,M.width,M.height),n.ya=m,n.Wu=g,this.pb(n.ci,c,new _(M.width,M.height),this.nt,this.dt,u,d,p,x),n.ci):(this.Ku=!1,this.pb(w,c,new _(M.width,M.height),this.nt,this.dt,u,d,p,x),this.Ku=!0,M.ci);const k=this.Jm,L=this.documentBounds.copy();if(L.subtractMargin(this.ti),p){const t=this.Gt.r,e=t.length;for(let i=0;i<e;i++){const e=t[i];if(!e.visible||!e.isTemporary)continue;const n=e.Tt.r,s=n.length;for(let t=0;t<s;t++){const e=n[t];if(!e.isInDocumentBounds||!e.isVisible())continue;const i=e.actualBounds;i.isReal()&&L.unionRect(i)}}}let S=new y(L.x,L.y);if(null!==u){const t=new v(0,0,0,0);let e=!0;const i=u.iterator;for(i.reset();i.next();){const n=i.value;if(!(n instanceof Me))continue;const s=n.layer;if(null!==s&&!s.visible||null!==s&&!p&&s.isTemporary||!n.isVisible())continue;const r=n.actualBounds;r.isReal()&&(e?(e=!1,t.a(r)):t.unionRect(r))}L.width=t.width,L.height=t.height,S.x=t.x,S.y=t.y}null!==h&&h.isReal()&&(S=h,o||(o=k));let T=0,D=0;null!==c&&(T=c.left+c.right,D=c.top+c.bottom);let P=0,Y=0;null!==r&&(P=r.width,Y=r.height,isFinite(P)&&(P=Math.max(0,P-T)),isFinite(Y)&&(Y=Math.max(0,Y-D)));let C=0,N=0;if(null!==r&&null!==o?("NaN"===o&&(o=k),r.isReal()?(C=P,N=Y):isNaN(Y)?(C=P,N=L.height*o):(C=L.width*o,N=Y)):null!==r?r.isReal()?(o=Math.min(P/L.width,Y/L.height),C=P,N=Y):isNaN(Y)?(o=P/L.width,C=P,N=L.height*o):(o=Y/L.height,C=L.width*o,N=Y):null!==o?"NaN"===o&&a.isReal()?(o=Math.min((a.width-T)/L.width,(a.height-D)/L.height),o>k?(o=k,C=L.width,N=L.height):(C=a.width,N=a.height)):(C=L.width*o,N=L.height*o):(o=k,C=L.width,N=L.height),null!==c?(C+=T,N+=D):c=new b(0),null!==a){let t=a.width,e=a.height;"SVG"!==i&&s&&_t.OR,isNaN(t)&&(t=2e3),isNaN(e)&&(e=2e3),isFinite(t)&&(C=Math.min(C,t)),isFinite(e)&&(N=Math.min(N,e))}return M.width=Math.ceil(C),M.height=Math.ceil(N),"SVG"===i?null===n?null:(n.resize(M.width,M.height,M.width,M.height),n.ya=m,n.Wu=g,this.pb(n.ci,c,new _(Math.ceil(C),Math.ceil(N)),o,S,u,d,p,x),n.ci):(this.Ku=!1,this.pb(w,c,new _(Math.ceil(C),Math.ceil(N)),o,S,u,d,p,x),this.Ku=!0,M.ci)}static ju=null;static nA="5da73c80a36555d4038e4972187c3cae51fd22";static uw=!1;static Ek=()=>{if(void 0===_t.nA[5]&&(M.prototype._e=M.prototype.ww),!_t.isUsingDOM())return;const t=e.fs("canvas"),i=t.getContext("2d"),n=e.Rs("7ca11abfd022028846");i[n]=e.Rs("398c3597c01238");const s="7ca11abfd7330390",r=[_t.nA,e.uw+"4ae6247590da4bb21c324ba3a84e385776",M.Ek+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",w.za],o=10,a=0;for(let l=1;l<5;l++)i[e.Rs(s)](e.Rs(r[l-1]),o,15*l+a);i[n]=e.Rs("39f046ebb36e4b");for(let l=1;l<5;l++)i[e.Rs(s)](e.Rs(r[l-1]),o,15*l+a);(4!==r.length||"5"!==r[0][0]||"7"!==r[3][0])&&(M.prototype._e=M.prototype.ww),_t.ju=t}}class vt{oA;rA;KM;Ae;constructor(t){if(this.oA=null,this.rA="63ad05bbe23a1786468a4c741b6d2",this.KM="@onz",this.rA===this._tk)return this.KM=!0,void(this.Ae=this.KM);this.Ae=null}IR(i,n){let s="f";const r=t[e.Rs("76a715b2f73f148a")][e.Rs("72ba13b5")]||"",o=e.Rs;if(this.Ae=!0,!_t.isUsingDOM())return;let a=_t[o("76a115b6ed251eaf4692")];if(!a){const t=r[o("76ad18b4f73e")];for(let i=r[o("73a612b6fb191d")](o("35e7"))+2;i<t;i++)s+=r[i];const e=s[o("73a612b6fb191d")](o("7da71ca0ad381e90"));return void(this.Ae=!(e>=0&&e<s[o("73a612b6fb191d")](o("35"))))}const l=_t.OM.iterator;for(;l.next();){a=l.value;const i=o(a).split(o("39e9"));if(i.length<6)return;const h=o(i[1]).split(".");if("7da71ca0"!==i[4])return;const u=o(e[o("6cae19")]).split(".");if(!(h[0]>u[0]||h[0]===u[0]&&h[1]>=u[1]))continue;const c="73a612b6fb191d",d=t[o("74a900bae4370f8b51")][o("6fbb13a1c2311e8a57")].toLowerCase(),f=d[o(c)](o("3aad1ab6e022098b4dc4")),m=o(i[2]);if(f>-1){const t=d[o(c)](m.toLowerCase()+"/");if(this.Ae=!(t>-1&&t<f),!this.Ae)return}const g=r[o("76ad18b4f73e")];for(let t=r[o(c)](o("35e7"))+2;t<g;t++)s+=r[t];let p=s[o(c)](m);if(p<0&&m!==o("7da71ca0ad381e90")&&(p=s[o(c)](o("76a715b2ef3e149757"))),p<0&&(p=s[o(c)](o("76a715b2ef3e149757"))),p<0&&(p=s[o(c)](o("2bfa41fdb3784bca12"))),p<0&&(p=r[o(c)](o("7baa19a6f76c1988428554"))),this.Ae=!(p>=0&&p<s[o(c)](o("35"))||-1===s[o(c)](o("35"))),!this.Ae||r[o(c)](o("7fb002b6ed25128b4da25b2e"))&&(this.Ae=!(r[o(c)](m)>-1),!this.Ae))return;const y=t[e.Rs("76a715b2f73f148a")][e.Rs("69ad17a1e03e")],_=y[o(c)](o("7fb002b6ed25128b4da25b2e"));if(_>-1&&(this.Ae=!(y[o(c)](m)>_),!this.Ae))return;const v=m;if("#"!==v[0])continue;const b=e.fs("div");let x=i[0].replace(/[A-Za-z]/g,"");for(;x.length<4;)x+="9";const M=x;x=x.substring(x.length-4);let w="";const k=["gsh","gsf"],L=["Header","Background","Display","Feedback"];if(w+=k[parseInt(x.substring(0,1),10)%2],w+=L[parseInt(x.substring(0,1),10)%4],b[o("79a417a0f0181a8946")]=w,t.document[o("78a712aa")]){t.document[o("78a712aa")][o("7bb806b6ed32388c4a875b")](b);const e=t.getComputedStyle(b).getPropertyValue(o("78a704b7e62456904c9b12701b6532a8")),i=t.getComputedStyle(b).getPropertyValue(o("75b817b0ea2202"));if(t.document[o("78a712aa")][o("68ad1bbcf533388c4a875b")](b),!e)continue;const n=t[o("77a902b0eb1b1e804a8a")],s="0."+parseInt(M,10)%100;if(i===s||-1!==e.indexOf(parseInt(v[1]+v[2],16))&&-1!==e.indexOf(parseInt(v[3]+v[4],16)))return void(this.Ae=!1);if(n&&n(o("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches){w="."+w;for(let t=0;t<document.styleSheets.length;t++){const e=document.styleSheets[t].rules||document.styleSheets[t].cssRules;for(const t in e)if(w===e[t].selectorText)return void(this.Ae=!1)}}}else this.Ae=null,n&&(this.Ae=!1)}}ju(t){return t.ii.setTransform(t.Yi,0,0,t.Yi,0,0),t.ii.commitTransform(),null===this.Ae&&this.IR(t,!0),0<this.Ae&&this!==this.oA}}class bt{GM;HM;constructor(t){this.GM=void 0===t?new y:t,this.HM=new y}get point(){return this.GM}set point(t){this.GM=t}get shifted(){return this.HM}set shifted(t){this.HM=t}}class xt{Le;XL;wb;constructor(t,e,i){this.Le=t,this.XL=e,this.wb=i}}class Mt{isGridSnapEnabled;isGridSnapRealtime;gridSnapCellSize;gridSnapCellSpot;gridSnapOrigin;dragsLink;dragsTree;groupsSnapMembers;groupsAlwaysMove;dragsMembers;constructor(t){this.Ii(),t&&Object.assign(this,t)}Ii(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new _(NaN,NaN).u(),this.gridSnapCellSpot=x.TopLeft,this.gridSnapOrigin=new y(NaN,NaN).u(),this.dragsLink=!1,this.dragsTree=!1,this.groupsSnapMembers=!1,this.groupsAlwaysMove=!0,this.dragsMembers=!0}}class wt extends _t{constructor(i,n){let s;return void 0===i||"string"==typeof i||t.Element&&i instanceof Element?s=i:e.H(i)&&(n=i),super(s),this.lA(),n&&this.setProperties(n),this}lA(){this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=x.TopCenter,this.layout=new Ke}setupRouters(){}reset(){super.reset(),this.lA()}}class kt extends _t{kb;Pb;Sb;Mb;d0;Jc;Ol;jM;qM;Nb;WM;constructor(i,n){let s;return void 0===i||"string"==typeof i||t.Element&&i instanceof Element?s=i:e.H(i)&&(n=i),super(s),this.animationManager.isEnabled=!1,this.Jt=!0,this.kb=null,this.Bu=!1,this.Uu=!1,this.Pb=!0,this.Sb=!0,this.Mb=0,this.d0=!1,this.Jc=null,this.setRenderingHint("drawShadows",!1),this.Ol=new Me({selectable:!0,selectionAdorned:!1,selectionObjectName:"BOXSHAPE",locationObjectName:"BOXSHAPE",resizeObjectName:"BOXSHAPE",cursor:"move"}).add(new le({name:"BOXSHAPE",fill:"transparent",stroke:"magenta",strokeWidth:2}).theme("stroke","overviewBox")).Vt(),this.allowCopy=!1,this.allowDelete=!1,this.allowDrop=!1,this.allowSelect=!0,this.autoScrollRegion=new b(0,0,0,0),this.dt.i(0,0),this.toolManager.Qt("Dragging",new Lt,this.toolManager.mouseMoveTools),this.click=()=>{const t=this.observed;if(null===t)return;const e=t.viewportBounds,i=this.lastInput.documentPoint;t.position=new y(i.x-e.width/2,i.y-e.height/2)},this.jM=t=>{this.invalidateDocumentBounds(),this.g0()},this.qM=t=>{null!==this.observed&&(this.invalidateDocumentBounds(),this.C())},this.Nb=t=>{this.updateDelay<1?this.C():this.d0||(this.d0=!0,e.ar((()=>this.redraw()),this.updateDelay))},this.WM=t=>{null!==this.observed&&this.g0()},this.autoScale=2,this.Jt=!1,n&&Object.assign(this,n),this}setupRouters(){}computePixelRatio(){return 1}redraw(){this.d0&&this.updateDelay>=1&&(this.d0=!1,this.ER()),super.redraw()}zi(){if(null===this.Ct&&e.o("No div specified"),null===this.mt&&e.o("No canvas specified"),this.mt instanceof Ot||(this.box.YS(),!this.ze))return;const t=this.observed;if(null===t||t.animationManager.defaultAnimation.isAnimating||!t.Kh)return;this.l0();const i=this.mt,n=this.ii;if(n.clearContextCache(!0),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i.width,i.height),this.updateDelay<1)this.hA();else if(null!==this.Jc){n.drawImage(this.Jc.Rt,0,0);const t=this.F;n.scale(this.Yi,this.Yi),n.transform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),n.commitTransform()}const s=this.Gt.r,r=s.length;for(let e=0;e<r;e++)s[e].zi(n,this);this.zc=!1,this.ze=!1}ER(){const t=this.mt,e=this.ii;if(null!==t&&null!==e){if(this.l0(),null===this.Jc){const e=new Rt(null);e.width=t.width,e.height=t.height,this.Jc=e}try{this.mt=this.Jc,this.ii=this.mt.ci,this.ii.clearContextCache(!0),this.ii.setTransform(1,0,0,1,0,0),this.ii.clearRect(0,0,this.mt.width,this.mt.height),this.hA()}finally{this.mt=t,this.ii=e}}}hA(){const t=this.observed;if(null===t)return;const e=this.drawsTemporaryLayers,i=this.drawsGrid&&e,n=t.grid;if(i&&null!==n&&n.visible&&!isNaN(n.width)&&!isNaN(n.height)){const e=v.l().a(this.viewportBounds).unionRect(t.viewportBounds);t.rh(e),v.e(e),t.Li()}const s=this.F,r=this.ii;r.scale(this.Yi,this.Yi),r.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),r.commitTransform();const o=this.viewportBounds,a=t.Gt.r,l=a.length,h=this.Gt.r;this.xs(h,h.length,this,this.viewportBounds);for(let u=0;u<l;u++)a[u].BF(r,o,this,e,i)}get observed(){return this.kb}set observed(t){const i=this.kb;if(t instanceof kt&&e.o("Overview.observed Diagram may not be an Overview itself: "+t),i!==t){if(null!==i&&this.BR(i),this.kb=t,null!==t&&this.UR(t),this.invalidateDocumentBounds(),null===t){this.Jc=null;const t=this.mt,e=this.ii;t&&e&&(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height))}else this.Nb(null),this.g0(),this.C();this.t("observed",i,t)}}get box(){return this.Ol}set box(t){const e=this.Ol;e!==t&&(t.Vt(),this.Ol=t,this.remove(e),this.add(this.Ol),this.g0(),this.t("box",e,t))}get drawsTemporaryLayers(){return this.Pb}set drawsTemporaryLayers(t){this.Pb!==t&&(this.Pb=t,this.redraw())}get drawsGrid(){return this.Sb}set drawsGrid(t){this.Sb!==t&&(this.Sb=t,this.redraw())}get updateDelay(){return this.Mb}set updateDelay(t){t<0&&(t=0),this.Mb!==t&&(this.Mb=t)}UR(t){null!==t&&(t.addDiagramListener("ViewportBoundsChanged",this.jM),t.addDiagramListener("DocumentBoundsChanged",this.qM),t.addDiagramListener("InvalidateDraw",this.Nb),t.addDiagramListener("AnimationFinished",this.WM),this.add(this.box))}BR(t){null!==t&&(this.remove(this.box),t.removeDiagramListener("ViewportBoundsChanged",this.jM),t.removeDiagramListener("DocumentBoundsChanged",this.qM),t.removeDiagramListener("InvalidateDraw",this.Nb),t.removeDiagramListener("AnimationFinished",this.WM))}g0(){const t=this.box,e=this.observed;if(null===e)return;this.ze=!0;const i=e.viewportBounds,n=t.selectionObject,s=_.l();s.i(i.width,i.height),n.desiredSize=s,_.e(s);const r=2/this.scale;n instanceof le&&(n.strokeWidth=r),t.location=new y(i.x-r/2,i.y-r/2),t.isSelected=!0}computeBounds(){const t=this.observed;if(null===t)return v.Eg;const e=t.documentBounds.copy();return e.unionRect(t.viewportBounds),e}invalidateViewport(t,e){!0!==this.ze&&(this.ze=!0,this.requestUpdate())}onViewportBoundsChanged(t,e,i,n){this.Jt||(this.oh(),this.C(),this.da(),this.invalidateDocumentBounds(),this.g0(),this.Xi.scale=i,this.Xi.position.x=t.x,this.Xi.position.y=t.y,this.Xi.bounds.a(t),this.Xi.isScroll=n,this.v("ViewportBoundsChanged",this.Xi,t))}}class Lt extends H{hh;constructor(){super(),this.hh=null}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;const e=t.observed;if(null===e)return!1;const i=t.lastInput;if(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.delay))return!1;if(null===this.findDraggablePart()){const i=e.viewportBounds;this.hh=new y(i.width/2,i.height/2);const n=t.firstInput.documentPoint;e.position=new y(n.x-this.hh.x,n.y-this.hh.y)}return!0}doActivate(){this.hh=null,super.doActivate()}doUpdateCursor(t){const e=this.diagram,i=e.box;null!==i&&i.cursor&&(e.currentCursor=i.cursor)}moveParts(t,e,i){void 0===i&&(i=!1);const n=this.diagram,s=n.observed;if(null===s)return;const r=n.box;if(null===r)return;if(null===this.hh){const t=n.firstInput.documentPoint,e=r.location;this.hh=new y(t.x-e.x,t.y-e.y)}const o=n.lastInput.documentPoint;s.position=new y(o.x-this.hh.x,o.y-this.hh.y)}}class St{L;JM;$M;ZM;QM;_M;t2;i2;e2;ah;s2;Cb;Lb;Ab;Tb;o2;zo;l2;constructor(t){u.qi(this),this.L=_t.ym(),this.JM=!0,this.$M=!0,this.ZM=!0,this.QM=!1,this._M=!1,this.t2=!1,this.i2=!1,this.e2=null,this.ah=null,this.s2=1.05,this.Cb=NaN,this.Lb=null,this.Ab=NaN,this.Tb=v.Eg,this.o2=!1,this.zo=null,this.l2=200,t&&Object.assign(this,t)}toString(){return"CommandHandler"}get diagram(){return this.L}Ro(t){this.L=t}doStart(){}doStop(){}doKeyDown(){const t=this.diagram,i=t.lastInput,n=e.hr?i.meta:i.control,s=i.shift,r=i.alt,o=i.commandKey;!n||"Insert"!==o&&"c"!==o?n&&"x"===o||s&&"Delete"===o?this.canCutSelection()&&this.cutSelection():n&&"v"===o||s&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():n&&"y"===o||n&&s&&"z"===o||r&&s&&"Backspace"===o?this.canRedo()&&this.redo():n&&"z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Delete"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():n&&"a"===o?this.canSelectAll()&&this.selectAll():"Escape"===o?this.canStopCommand()&&this.stopCommand():"ArrowUp"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"ArrowDown"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"ArrowLeft"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"ArrowRight"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?s&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===o?s&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===o?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===o?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):"Space"===o?this.canScrollToPart()&&this.scrollToPart():"Minus"===o||"NumpadSubtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Equal"===o||"NumpadAdd"===o?this.canIncreaseZoom()&&this.increaseZoom():n&&"Digit0"===o?this.canResetZoom()&&this.resetZoom():s&&"z"===o?this.canZoomToFit()&&this.zoomToFit():n&&!s&&"g"===o?this.canGroupSelection()&&this.groupSelection():n&&s&&"g"===o?this.canUngroupSelection()&&this.ungroupSelection():"F2"===o?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===o||s&&"F10"===o||n&&s&&"Backslash"===o?this.canShowContextMenu()&&this.showContextMenu():i.bubbles=!0:this.canCopySelection()&&this.copySelection()}doKeyUp(){const t=this.diagram.lastInput;t.bubbles=!0}stopCommand(){const t=this.diagram,e=t.currentTool;e instanceof j&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()}canStopCommand(){return!0}selectAll(){const t=this.diagram;t.C();try{t.currentCursor="wait",t.v("ChangingSelection",t.selection);const e=t.parts;for(;e.next();){const t=e.value;t.canSelect()&&!t.layer.isTemporary&&(t.isSelected=!0)}const i=t.nodes;for(;i.next();){const t=i.value;t.canSelect()&&!t.layer.isTemporary&&(t.isSelected=!0)}const n=t.links;for(;n.next();){const t=n.value;t.canSelect()&&!t.layer.isTemporary&&(t.isSelected=!0)}}finally{t.v("ChangedSelection",t.selection),t.currentCursor=""}}canSelectAll(){return this.diagram.allowSelect}deleteSelection(){const t=this.diagram;try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Delete"),t.v("SelectionDeleting",t.selection);const e=new u,i=t.selection.iterator;for(;i.next();){const t=i.value;Me.ch(e,t,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(t=>t.canDelete()))}t.removeParts(e,!0),t.v("SelectionDeleted",e)}finally{t.commitTransaction("Delete"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canDeleteSelection(){const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)}copySelection(){const t=this.diagram;try{const e=new u,i=t.selection.iterator;for(;i.next();){const t=i.value;Me.ch(e,t,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(t=>t.canCopy()))}this.copyToClipboard(e)}finally{}}canCopySelection(){const t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)}cutSelection(){this.copySelection(),this.deleteSelection()}canCutSelection(){const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)}copyToClipboard(t){const e=this.diagram;let i=null;if(null===t)_t.LL();else{let n=null;try{n=e.copyParts(t,null,!0)}finally{i=new l,null!==n&&i.addAll(n.iteratorValues),_t.e0=i,_t.ub=e.model.dataFormat}}e.v("ClipboardChanged",i)}pasteFromClipboard(){const t=new u,e=_t.e0;if(null===e)return t;const i=this.diagram;if(_t.ub!==i.model.dataFormat)return t;let n=null;try{n=i.copyParts(e,i,!1)}finally{if(null!==n){const e=n.iterator;for(;e.next();){const i=e.value,n=e.key;i.location.isReal()||(n.location.isReal()?i.location=n.location:!i.position.isReal()&&n.position.isReal()&&(i.position=n.position)),t.add(i)}}}return t}pasteSelection(t){void 0===t&&(t=null);const e=this.diagram;try{e.currentCursor="wait",e.v("ChangingSelection",e.selection),e.startTransaction("Paste");const i=this.pasteFromClipboard();i.count>0&&e.clearSelection(!0);const n=i.iterator;for(;n.next();){const t=n.value;t.isSelected=!0}if(null!==t){const i=e.computePartsBounds(e.selection);if(i.isReal()){const n=this.computeEffectiveCollection(e.selection,e.ab);e.PP(n,new y(t.x-i.centerX,t.y-i.centerY),e.ab,!1)}}e.v("ClipboardPasted",i)}finally{e.commitTransaction("Paste"),e.v("ChangedSelection",e.selection),e.currentCursor=""}}canPasteSelection(t){const e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowClipboard||null===_t.e0||0===_t.e0.count||_t.ub!==e.model.dataFormat)}undo(){this.diagram.undoManager.undo()}canUndo(){const t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canUndo())}redo(){this.diagram.undoManager.redo()}canRedo(){const t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canRedo())}decreaseZoom(t){void 0===t&&(t=1/this.zoomFactor);const e=this.diagram;if(1!==e.autoScale)return;const i=e.scale*t;i<e.minScale||i>e.maxScale||(e.scale=i)}canDecreaseZoom(t){void 0===t&&(t=1/this.zoomFactor);const e=this.diagram;if(1!==e.autoScale)return!1;const i=e.scale*t;return!(i<e.minScale||i>e.maxScale)&&e.allowZoom}increaseZoom(t){void 0===t&&(t=this.zoomFactor);const e=this.diagram;if(1!==e.autoScale)return;const i=e.scale*t;i<e.minScale||i>e.maxScale||(e.scale=i)}canIncreaseZoom(t){void 0===t&&(t=this.zoomFactor);const e=this.diagram;if(1!==e.autoScale)return!1;const i=e.scale*t;return!(i<e.minScale||i>e.maxScale)&&e.allowZoom}resetZoom(t){void 0===t&&(t=this.defaultScale);const e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)}canResetZoom(t){void 0===t&&(t=this.defaultScale);const e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom}zoomToFit(){const t=this.diagram,e=t.animationManager;e.stopAnimation(),t.redraw();const i=t.position,n=t.scale;e.Bl("Zoom To Fit"),this.isZoomToFitRestoreEnabled&&n===this.Ab&&!isNaN(this.Cb)&&null!==this.Lb&&t.documentBounds.equals(this.Tb)?(t.scale=this.Cb,t.position=this.Lb,this.Ab=NaN,this.Tb=v.Eg):(this.Cb=n,this.Lb=i.copy(),t.zoomToFit(),this.Ab=t.scale,this.Tb=t.documentBounds.copy()),e.LS()}canZoomToFit(){return this.diagram.allowZoom}scrollToPart(t){void 0===t&&(t=null);const i=this.diagram;if(i.ensureBounds(),null===t){try{null!==this.zo&&(this.zo.next()?t=this.zo.value:this.zo=null)}catch{this.zo=null}null===t&&(i.highlighteds.count>0?this.zo=i.highlighteds.iterator:i.selection.count>0&&(this.zo=i.selection.iterator),null!==this.zo&&this.zo.next()&&(t=this.zo.value))}if(null!==t){const n=i.animationManager;n.Bl("Scroll To Part");const s=this.scrollToPartPause;if(s>0){const r=this.$c(t,[t]);if(1===r.length)i.startTransaction(),i.centerRect(t.actualBounds),i.commitTransaction("Scroll To Part");else{const t=()=>{i.startTransaction();let t=r.pop();for(;r.length>0&&t instanceof Se&&t.isTreeExpanded&&(!(t instanceof Ie)||t.isSubGraphExpanded);)t=r.pop();r.length>0?(t instanceof Me&&i.scrollToRect(t.actualBounds),t instanceof Se&&!t.isTreeExpanded&&(t.isTreeExpanded=!0),t instanceof Ie&&!t.isSubGraphExpanded&&(t.isSubGraphExpanded=!0)):(t instanceof Me&&i.centerRect(t.actualBounds),i.removeDiagramListener("LayoutCompleted",o)),i.commitTransaction("Scroll To Part")},o=()=>{e.ar(t,(n.isEnabled?n.duration:0)+s)};i.addDiagramListener("LayoutCompleted",o),t()}}else{const e=i.position.copy();i.centerRect(t.actualBounds),e.equalsApprox(i.position)&&n.stopAnimation()}}}$c(t,e){if(t.isVisible())return e;if(t instanceof ke){const i=t.adornedPart;null!==i&&this.$c(i,e)}else if(t instanceof Ce){const i=t.fromNode;null!==i&&this.$c(i,e);const n=t.toNode;null!==n&&this.$c(n,e)}else{if(t instanceof Se){const i=t.labeledLink;null!==i&&this.$c(i,e);const n=t.findTreeParentNode();null!==n&&(!n.isTreeExpanded&&!n.wasTreeExpanded&&e.push(n),this.$c(n,e))}const i=t.containingGroup;null!==i&&(!i.isSubGraphExpanded&&!i.wasSubGraphExpanded&&e.push(i),this.$c(i,e))}return e}canScrollToPart(t){if(void 0===t&&(t=null),null!==t&&!(t instanceof Me))return!1;const e=this.diagram;return(0!==e.selection.count||0!==e.highlighteds.count)&&(e.allowHorizontalScroll&&e.allowVerticalScroll)}collapseTree(t){void 0===t&&(t=null);const e=this.diagram,i="Collapse Tree";try{e.startTransaction(i),e.animationManager.Bl(i);const n=new l;if(null!==t&&t.isTreeExpanded)t.collapseTree(),n.add(t);else if(null===t){const t=e.selection.iterator;for(;t.next();){const e=t.value;e instanceof Se&&e.isTreeExpanded&&(e.collapseTree(),n.add(e))}}e.v("TreeCollapsed",n)}finally{e.commitTransaction(i)}}canCollapseTree(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Se)||!t.isTreeExpanded)return!1;if(t.findTreeChildrenLinks().count>0)return!0}else{const t=e.selection.iterator;for(;t.next();){const e=t.value;if(e instanceof Se){if(!e.isTreeExpanded)continue;if(e.findTreeChildrenLinks().count>0)return!0}}}return!1}expandTree(t){void 0===t&&(t=null);const e=this.diagram,i="Expand Tree";try{e.startTransaction(i),e.animationManager.Bl(i);const n=new l;if(null===t||t.isTreeExpanded){if(null===t){const t=e.selection.iterator;for(;t.next();){const e=t.value;e instanceof Se&&(e.isTreeExpanded||(e.expandTree(),n.add(e)))}}}else t.expandTree(),n.add(t);e.v("TreeExpanded",n)}finally{e.commitTransaction(i)}}canExpandTree(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Se)||t.isTreeExpanded)return!1;if(t.findTreeChildrenLinks().count>0)return!0}else{const t=e.selection.iterator;for(;t.next();){const e=t.value;if(e instanceof Se){if(e.isTreeExpanded)continue;if(e.findTreeChildrenLinks().count>0)return!0}}}return!1}groupSelection(){const t=this.diagram,i=t.model;if(!i.Zc())return;const n=this.archetypeGroupData;if(null===n)return;let s=null;try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Group");const r=new l,o=t.selection.iterator;for(;o.next();){const t=o.value;t.Me()&&t.canGroup()&&r.add(t)}const a=new l,h=r.iterator;for(;h.next();){const t=h.value;let e=!1;const i=r.iterator;for(;i.next();){const n=i.value;if(t.isMemberOf(n)){e=!0;break}}e||a.add(t)}const u=a.first();if(null!==u){let r=u.containingGroup;if(null!==r)for(;null!==r;){let t=!1;const e=a.iterator;for(;e.next();)if(!e.value.isMemberOf(r)){t=!0;break}if(!t)break;r=r.containingGroup}if(n instanceof Ie)n.Vt(),s=n.copy(),null!==s&&t.add(s);else if(i.isGroupForData(n)){const r=i.copyNodeData(n);e.H(r)&&(i.addNodeData(r),s=t.findNodeForData(r))}if(null!==s){null!==r&&this.isValidMember(r,s)&&(s.containingGroup=r);const e=a.iterator;for(;e.next();){const t=e.value;this.isValidMember(s,t)&&(t.containingGroup=s)}t.clearSelection(!0),s.isSelected=!0}}t.v("SelectionGrouped",s)}finally{t.commitTransaction("Group"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canGroupSelection(){const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Zc()||null===this.archetypeGroupData)return!1;const e=t.selection.iterator;for(;e.next();){const t=e.value;if(t.Me()&&t.canGroup())return!0}return!1}h2(t){const i=e.rt();if(Array.isArray(t))t.forEach((t=>{t instanceof Ce||t instanceof Me&&i.push(t)}));else{const e=t.iterator;for(;e.next();){const t=e.value;t instanceof Ce||t instanceof Me&&i.push(t)}}const n=new u,s=i.length;for(let e=0;e<s;e++){const t=i[e];let r=!0;for(let e=0;e<s;e++)if(t.isMemberOf(i[e])){r=!1;break}r&&n.add(t)}return e.tt(i),n}isValidMember(t,e){if(null===e||t===e||e instanceof Ce)return!1;let i;return(null===t||!(t===e||t.isMemberOf(e)||(i=t.memberValidation,null!==i&&!i(t,e))||null===t.data&&null!==e.data||null!==t.data&&null===e.data))&&(i=this.memberValidation,null===i||i(t,e))}ungroupSelection(t){void 0===t&&(t=null);const e=this.diagram,i=e.model;if(i.Zc())try{e.currentCursor="wait",e.v("ChangingSelection",e.selection),e.startTransaction("Ungroup");const n=new l;if(null!==t)n.add(t);else{const t=e.selection.iterator;for(;t.next();){const e=t.value;e instanceof Ie&&e.canUngroup()&&n.add(e)}}const s=new l;if(n.count>0){e.clearSelection(!0);const t=n.iterator;for(;t.next();){const n=t.value;n.expandSubGraph();const r=n.containingGroup,o=null!==r&&null!==r.data?i.getKeyForNodeData(r.data):void 0;s.addAll(n.memberParts);const a=s.iterator;for(;a.next();){const t=a.value;if(t.isSelected=!0,t instanceof Ce)continue;const e=t.data;null!==e?i.setGroupForData(e,o):t.containingGroup=r}e.remove(n)}}e.v("SelectionUngrouped",n,s)}finally{e.commitTransaction("Ungroup"),e.v("ChangedSelection",e.selection),e.currentCursor=""}}canUngroupSelection(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Zc())return!1;if(null!==t){if(!(t instanceof Ie))return!1;if(t.canUngroup())return!0}else{const t=e.selection.iterator;for(;t.next();){const e=t.value;if(e instanceof Ie&&e.canUngroup())return!0}}return!1}addTopLevelParts(t,e){const i=this.h2(t);let n=!0;const s=i.iterator;for(;s.next();){const t=s.value;null!==t.containingGroup&&(!e||this.isValidMember(null,t)?t.containingGroup=null:n=!1)}return n}collapseSubGraph(t){void 0===t&&(t=null);const e=this.diagram,i="Collapse SubGraph";try{e.startTransaction(i),e.animationManager.Bl(i);const n=new l;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),n.add(t);else if(null===t){const t=e.selection.iterator;for(;t.next();){const e=t.value;e instanceof Ie&&e.isSubGraphExpanded&&(e.collapseSubGraph(),n.add(e))}}e.v("SubGraphCollapsed",n)}finally{e.commitTransaction(i)}}canCollapseSubGraph(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!(!(t instanceof Ie)||!t.isSubGraphExpanded);{const t=e.selection.iterator;for(;t.next();){const e=t.value;if(e instanceof Ie&&e.isSubGraphExpanded)return!0}}return!1}expandSubGraph(t){void 0===t&&(t=null);const e=this.diagram,i="Expand SubGraph",n=new l;try{if(e.startTransaction(i),e.animationManager.Bl(i),null===t||t.isSubGraphExpanded){if(null===t){const t=e.selection.iterator;for(;t.next();){const e=t.value;e instanceof Ie&&(e.isSubGraphExpanded||(e.expandSubGraph(),n.add(e)))}}}else t.expandSubGraph(),n.add(t);e.v("SubGraphExpanded",n)}finally{for(const t of n)this.aA(e,t);t&&this.aA(e,t),e.commitTransaction(i)}}aA(t,e){for(const i of e.memberParts)i instanceof Se&&t.Fc(i,e)}canExpandSubGraph(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!(!(t instanceof Ie)||t.isSubGraphExpanded);{const t=e.selection.iterator;for(;t.next();){const e=t.value;if(e instanceof Ie&&!e.isSubGraphExpanded)return!0}}return!1}editTextBlock(t){void 0===t&&(t=null);const e=this.diagram,i=e.toolManager.findTool("TextEditing");if(null!==i){if(null===t){let i=null;const n=e.selection.iterator;for(;n.next();){const t=n.value;if(t.canEdit()){i=t;break}}if(null===i)return;t=i.findInVisualTree((t=>t instanceof fe&&t.editable))}null!==t&&(e.currentTool=null,i.textBlock=t,e.currentTool=i)}}canEditTextBlock(t){void 0===t&&(t=null);const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof fe))return!1;const e=t.part;if(null!==e&&e.canEdit())return!0}else{const i=e.selection.iterator;for(;i.next();){const e=i.value;if(e.canEdit()&&(t=e.findInVisualTree((t=>t instanceof fe&&t.editable)),null!==t))return!0}}return!1}showContextMenu(t){const e=this.diagram,i=e.toolManager.findTool("ContextMenu");if(null===i)return;void 0===t&&(t=null),null===t&&(t=e.selection.count>0?e.selection.first():e);const n=i.findObjectWithContextMenu(t);if(null!==n){const t=e.lastInput;let s=null;if(n instanceof Yt)s=n.getDocumentPoint(x.Center);else if(!e.viewportBounds.containsPoint(t.documentPoint)){const t=e.viewportBounds;s=new y(t.x+t.width/2,t.y+t.height/2)}if(null!==s){const t=new Y;t.diagram=e,t.viewPoint=e.transformDocToView(s),t.documentPoint=s,t.button=2,t.up=!0,e.lastInput=t}e.currentTool=i,i.openMenu(!1,n)}}canShowContextMenu(t){const e=this.diagram,i=e.toolManager.findTool("ContextMenu");return!(null===i||(void 0===t&&(t=null),null===t&&(t=e.selection.count>0?e.selection.first():e),null===i.findObjectWithContextMenu(t)))}get copiesClipboardData(){return this.JM}set copiesClipboardData(t){e.s(t,"boolean",St,"copiesClipboardData"),this.JM=t}get copiesConnectedLinks(){return this.$M}set copiesConnectedLinks(t){e.s(t,"boolean",St,"copiesConnectedLinks"),this.$M=t}get deletesConnectedLinks(){return this.ZM}set deletesConnectedLinks(t){e.s(t,"boolean",St,"deletesConnectedLinks"),this.ZM=t}get copiesTree(){return this.QM}set copiesTree(t){e.s(t,"boolean",St,"copiesTree"),this.QM=t}get deletesTree(){return this._M}set deletesTree(t){e.s(t,"boolean",St,"deletesTree"),this._M=t}get copiesParentKey(){return this.t2}set copiesParentKey(t){e.s(t,"boolean",St,"copiesParentKey"),this.t2=t}get copiesGroupKey(){return this.i2}set copiesGroupKey(t){e.s(t,"boolean",St,"copiesGroupKey"),this.i2=t}get archetypeGroupData(){return this.e2}set archetypeGroupData(t){null!==t&&e.lc(t,St,"archetypeGroupData");this.diagram;this.e2=t}get memberValidation(){return this.ah}set memberValidation(t){null!==t&&e.S(t,St,"memberValidation"),this.ah=t}get defaultScale(){return this.diagram.defaultScale}set defaultScale(t){this.diagram.defaultScale=t}get zoomFactor(){return this.s2}set zoomFactor(t){t>1||e.o("zoomFactor must be larger than 1.0, not: "+t),this.s2=t}get isZoomToFitRestoreEnabled(){return this.o2}set isZoomToFitRestoreEnabled(t){e.s(t,"boolean",St,"isZoomToFitRestoreEnabled"),this.o2=t}get scrollToPartPause(){return this.l2}set scrollToPartPause(t){this.l2=t}computeEffectiveCollection(t,e){const i=this.diagram,n=i.toolManager.findTool("Dragging"),s=i.currentTool===n;void 0===e&&(e=i.a0());const r=new p;if(null===t)return r;let o=t.iterator;for(;o.next();){const t=o.value;i.Zr(r,t,s,e)}if(null!==i.draggedLink&&e.dragsLink)return r;for(o=t.iterator;o.next();){const t=o.value;if(t instanceof Ce){const e=t.fromNode;if(null===e||r.has(e)){const e=t.toNode;null!==e&&!r.has(e)&&r.delete(t)}else r.delete(t)}}return r}}var Tt=(t=>(t[t.None=0]="None",t[t.Default=1]="Default",t[t.Vertical=4]="Vertical",t[t.Horizontal=5]="Horizontal",t[t.Fill=2]="Fill",t))(Tt||{}),Dt=(t=>(t[t.None=0]="None",t[t.Along=21]="Along",t[t.Plus90=22]="Plus90",t[t.Minus90=23]="Minus90",t[t.Opposite=24]="Opposite",t[t.Upright=25]="Upright",t[t.Plus90Upright=26]="Plus90Upright",t[t.Minus90Upright=27]="Minus90Upright",t[t.Upright45=28]="Upright45",t))(Dt||{}),Pt=(t=>(t[t.None=0]="None",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal",t[t.Both=3]="Both",t))(Pt||{});class Yt{n;m0;p0;Qr;b;fh;gt;dt;re;_t;y0;Gs;Dt;ns;_r;uh;ki;wa;nt;Ht;tl;Ai;Ki;Ju;fi;$u;Bt;ri;il;Db;dh;Zu;constructor(){u.qi(this),this.n=30723,this._t=1,this.y0="",this.Gs=null,this.Dt=null,this.dt=new y(NaN,NaN).u(),this.ns=_.mw,this._r=new M,this.uh=new M,this.ki=null,this.wa=1,this.nt=1,this.Ht=0,this.tl=b.Bg,this.re=new v(NaN,NaN,NaN,NaN).u(),this.Ai=new v(NaN,NaN,NaN,NaN).u(),this.Ki=new v(0,0,NaN,NaN).u(),this.Ju=null,this.m0=null,this.gt=null,this.fi=x.Default,this.$u=x.Default,this.p0=0,this.Qr=0,this.Bt=null,this.b=null,this.fh=null,this.ri=null,this.Db=null,this.dh=null,this.il=null,this.Zu=null}cloneProtected(t){t.n=-32769&(6144|this.n),t._t=this._t,t.y0=this.y0,t.Dt=this.Dt,t.dt.a(this.dt),t.ns=this.ns.N(),null!==this.ki?t.ki=this.ki.copy():t.ki=null,t.nt=this.nt,t.Ht=this.Ht,t.tl=this.tl.N(),t.re.a(this.re),t.Ai.a(this.Ai),t.Ki.a(this.Ki),t.m0=this.m0,null!==this.gt&&(t.gt=this.gt.copy()),t.fi=this.fi.N(),t.$u=this.$u.N(),t.p0=this.p0,t.Qr=this.Qr,null!==this.Bt&&(t.Bt=this.Bt.copy()),null!==this.b&&(this.b.gi?t.b=this.b:t.b=this.b.copy()),null!==this.fh&&(t.fh=this.fh.slice()),null!==this.ri&&(t.ri=this.ri.copy())}addCopyProperty(t){let e=this.fh;if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]===t)return}else e=[],this.fh=e;e.push(t)}Xo(t){t.Ju=null,t.il=null,t.c()}clone(){const t=new this.constructor;if(this.cloneProtected(t),null!==this.fh)for(let e=0;e<this.fh.length;e++){const i=this.fh[e];t[i]=this[i]}return t}copy(){return this.clone()}_P(){const t=this.Ti;if(null!==t){this.Ti=null;for(const e of t)e.Qu()&&(e.isToData?this.themeData(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):e.isToObject?this.themeObject(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter,e.sourceName):e.isToModel?this.themeModel(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):this.theme(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter))}return this}hi(t){t in Dt?this.segmentOrientation=t:t in Tt?this.stretch=t:e.cr(this,t)}toString(){return e.Vn(this.constructor)+"#"+u.us(this)}static None=0;static Default=1;static Fill=2;static Vertical;static Horizontal;static Uniform=6;static UniformToFill=7;static FlipVertical=1;static FlipHorizontal=2;static FlipBoth=3;gh(){null!==this.b&&(this.b.gi=!0)}qt(){return null===this.b?this.b=new Ct:this.b.gi&&(this.b=this.b.copy()),this.b}Xe(){if(null===this.gt){const t=new Re;t.xa=x.None,t.ba=x.None,t.ka=10,t.Pa=10,t.Sa=0,t.Ma=0,this.gt=t}return this.gt}raiseChangedEvent(t,e,i,n,s,r,o){const a=this.part;if(null!==a){a.Qc(t,e,i,n,s,r,o),i===this&&2===t&&this._c()&&this.Na(a,e);const l=this.diagram;if(null!==this.ks&&null!==l&&l.Kh&&!l.undoManager.isUndoingRedoing&&!l.animationManager.ku){const t=this.ks.get(e);if(null!==t&&l.animationManager.isEnabled&&!l.animationManager.isTicking){null===this.Zu&&(this.Zu=new p);let i=0===l.undoManager.transactionLevel;if(2===t.startCondition?i=!0:3===t.startCondition&&(i=!1),i){const i=new ht;t.OF(i);const r=this.Zu.get(t);null!==r&&r.stop(),this.Zu.set(t,i),i.hx=this,i.OS=t,i.add(this,e,n,s),i.start()}else l.animationManager.getBundleAnimation().add(this,e,n,s)}}if(this instanceof ie&&i===a&&a.a2()&&null!==a.data){const t=this.T.r,i=t.length;for(let n=0;n<i;n++){const i=t[n];i instanceof ie&&i.$r((t=>{null!==t.data&&t.a2()&&t.updateTargetBindings(e)}))}}}}DF(t){this.Zu.delete(t)}Uo(){if(null!==this.diagram&&null===this.findBindingPanel()&&null!==this.Ti){const t=this.diagram.model,e=this.Ti.iterator;for(;e.next();){const i=e.value;if(!i.isToTheme)continue;let n=null;const s=i.sourceName;i.isToObject&&(n=this.cA(s));let r=this;const o=i.targetId;-1!==o&&(r=this.w0(o),null===r)||("/"===s?n=r.part:"."===s?n=r:".."===s&&(n=r.panel),i.updateTarget(r,n,void 0,t))}}}Na(t,e){const i=this.findBindingPanel();if(null!==i){const n=t.diagram,s=this.Ti.iterator;for(;s.next();){const t=s.value;let r=null;if(t.isToObject){if(r=t.fA(i,this),null===r)continue;t.updateSource(this,r,e,null)}else if(t.isToModel)null!==n&&!n.ge&&t.updateSource(this,n.model.modelData,e,i);else if(!t.isToTheme){const s=i.data;if(null===s)continue;null!==n&&!n.ge&&t.updateSource(this,s,e,i)}if(r===this){const s=t.targetId,o=i.w0(s);null!==o&&t.updateTarget(o,r,e,n?.model)}}}}w0(t){return this.io===t?this:null}cA(t){let e;return e=""===t||"/"===t||"."===t||".."===t?this:this.part.findObject(t),e}get io(){return null!==this.b?this.b.io:-1}set io(t){this.io!==t&&(null===this.b&&(this.b=new Ct),this.b.io=t)}get Ti(){return null!==this.b?this.b.Ti:null}set Ti(t){this.Ti!==t&&(null===this.b&&(this.b=new Ct),this.b.Ti=t)}get eo(){return null!==this.b?this.b.eo:null}set eo(t){this.eo!==t&&(null===this.b&&(this.b=new Ct),this.b.eo=t)}raiseChanged(t,e,i){this.raiseChangedEvent(2,t,this,e,i)}t(t,e,i){this.raiseChangedEvent(2,t,this,e,i)}so(t,e,i,n){const s=this.re;if(s.i(t,e,i,n),1!==this.nt||0!==this.Ht){null===this.ki&&(this.ki=new M);const r=this.ki;r.Ii(),this.x0(r,t,e,i,n),r.Ug(s)}}uA(t,e,i){return!1!==this.pickable&&(i.ac(this.F),e?this.intersectsRect(t,i):this.containedInRect(t,i))}dA(t,e,i){if(!1===this.pickable)return!1;const n=this.naturalBounds,s=t.distanceSquaredPoint(e);return i?y.distanceLineSegmentSquared(t.x,t.y,0,0,0,n.height)<=s||y.distanceLineSegmentSquared(t.x,t.y,0,n.height,n.width,n.height)<=s||y.distanceLineSegmentSquared(t.x,t.y,n.width,n.height,n.width,0)<=s||y.distanceLineSegmentSquared(t.x,t.y,n.width,0,0,0)<=s:t.distanceSquared(0,0)<=s&&t.distanceSquared(0,n.height)<=s&&t.distanceSquared(n.width,0)<=s&&t.distanceSquared(n.width,n.height)<=s}wn(){return!0}containsPoint(t){const e=y.l();e.a(t),this.F.xt(e);const i=this.actualBounds;if(!i.isReal())return y.e(e),!1;const n=this.diagram;if(null!==n&&n.Zm){const t=n.getInputOption("extraTouchThreshold"),s=n.getInputOption("extraTouchArea"),r=s/2,o=this.naturalBounds,a=this.getDocumentScale()*n.scale,l=1/a;if(o.width*a<t&&o.height*a<t){const t=v.contains(i.x-r*l,i.y-r*l,i.width+s*l,i.height+s*l,e.x,e.y);return y.e(e),t}}let s=!1;return(this instanceof ke||this instanceof le?v.contains(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.containsPoint(e))&&(s=!(this.ri&&!this.ri.containsPoint(e))&&(!(null===this.Dt||!this.Ki.containsPoint(t))||this.mh(t))),y.e(e),s}mh(t){const e=this.naturalBounds;return v.contains(0,0,e.width,e.height,t.x,t.y)}containsRect(t){if(0===this.angle)return this.actualBounds.containsRect(t);const e=this.naturalBounds,i=v.X(0,0,e.width,e.height),n=this.F;let s=!1;const r=y.X(t.x,t.y);return i.containsPoint(n._e(r))&&(r.i(t.x,t.bottom),i.containsPoint(n._e(r))&&(r.i(t.right,t.bottom),i.containsPoint(n._e(r))&&(r.i(t.right,t.y),i.containsPoint(n._e(r))&&(s=!0)))),y.e(r),v.e(i),s}containedInRect(t,e){if(void 0===e)return t.containsRect(this.actualBounds);const i=this.naturalBounds,n=e;let s=!1;const r=y.X(0,0);return t.containsPoint(n.xt(r))&&(r.i(0,i.height),t.containsPoint(n.xt(r))&&(r.i(i.width,i.height),t.containsPoint(n.xt(r))&&(r.i(i.width,0),t.containsPoint(n.xt(r))&&(s=!0)))),y.e(r),s}intersectsRect(t,e){if(void 0===e&&(e=this.F,0===this.angle))return t.intersectsRect(this.actualBounds);const i=this.naturalBounds,n=e,s=y.X(0,0),r=y.X(0,i.height),o=y.X(i.width,i.height),a=y.X(i.width,0);let l=!1;if(t.containsPoint(n.xt(s))||t.containsPoint(n.xt(r))||t.containsPoint(n.xt(o))||t.containsPoint(n.xt(a)))l=!0;else{const e=v.X(0,0,i.width,i.height),h=y.X(t.x,t.y);e.containsPoint(n._e(h))?l=!0:(h.i(t.x,t.bottom),e.containsPoint(n._e(h))?l=!0:(h.i(t.right,t.bottom),e.containsPoint(n._e(h))?l=!0:(h.i(t.right,t.y),e.containsPoint(n._e(h))&&(l=!0)))),y.e(h),v.e(e),l||(w.kw(t,s,r)||w.kw(t,r,o)||w.kw(t,o,a)||w.kw(t,a,s))&&(l=!0)}return y.e(s),y.e(r),y.e(o),y.e(a),l}getDocumentPoint(t,e){if(void 0===e&&(e=new y),t instanceof x){const i=t,n=this.naturalBounds;return e.i(i.x*n.width+i.offsetX,i.y*n.height+i.offsetY),this.Ys.xt(e),e}return e.set(t),this.Ys.xt(e),e}getDocumentBounds(t){void 0===t&&(t=new v);const e=this.naturalBounds,i=this.Ys,n=y.X(0,0).F(i);return t.i(n.x,n.y,0,0),n.i(e.width,0).F(i),t.unionNoCheck(n.x,n.y,0,0),n.i(e.width,e.height).F(i),t.unionNoCheck(n.x,n.y,0,0),n.i(0,e.height).F(i),t.unionNoCheck(n.x,n.y,0,0),y.e(n),t}getDocumentAngle(){return this.Ys.GD()}getDocumentScale(){if(!1===this.b0())return this.wa;const t=this.nt;return null!==this.panel?t*this.panel.getDocumentScale():t}getLocalPoint(t,e){return void 0===e&&(e=new y),e.a(t),this.Ys._e(e),e}getNearestIntersectionPoint(t,e,i){return this.tf(t.x,t.y,e.x,e.y,i)}tf(t,e,i,n,s){const r=this.F,o=1/(r.m11*r.m22-r.m12*r.m21),a=r.m22*o,l=-r.m12*o,h=-r.m21*o,u=r.m11*o,c=o*(r.m21*r.dy-r.m22*r.dx),d=o*(r.m12*r.dx-r.m11*r.dy),f=t*a+e*h+c,m=t*l+e*u+d,g=i*a+n*h+c,p=i*l+n*u+d;s.i(0,0);const y=this.naturalBounds,_=w.kl(0,0,y.width,y.height,f,m,g,p,s);return s.F(r),_}ut(t,i,n,s){if(!1===this.Bo())return;const r=this.tl,o=r.right+r.left,a=r.top+r.bottom;t=Math.max(t-o,0),i=Math.max(i-a,0),n=n||0,s=s||0,n=Math.max(n-o,0),s=Math.max(s-a,0);const l=this.angle;let h=0;const u=this.desiredSize,c=this.k0();90===l||270===l?(t=isFinite(u.height)?u.height+c:t,i=isFinite(u.width)?u.width+c:i):(t=isFinite(u.width)?u.width+c:t,i=isFinite(u.height)?u.height+c:i);let d=n||0,f=s||0;const m=this instanceof ie;switch(this.Hs(!0)){case 0:d=0,f=0,m&&(t=1/0,i=1/0);break;case 2:isFinite(t)&&t>n&&(d=t),isFinite(i)&&i>s&&(f=i);break;case 5:isFinite(t)&&t>n&&(d=t),f=0,m&&(i=1/0);break;case 4:isFinite(i)&&i>s&&(f=i),d=0,m&&(t=1/0);break}const g=this.maxSize,p=this.minSize;d>g.width&&p.width<g.width&&(d=g.width),f>g.height&&p.height<g.height&&(f=g.height),n=Math.max(d,p.width),s=Math.max(f,p.height),g.width<n&&(n=Math.min(p.width,n)),g.height<s&&(s=Math.min(p.height,s)),t=Math.min(g.width,t),i=Math.min(g.height,i),t=Math.max(n,t),i=Math.max(s,i),(90===l||270===l)&&(h=t,t=i,i=h,h=n,n=s,s=h),this.re.At(),this._u(t,i,n,s),this.re.u(),this.re.isReal()||e.o("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.re.toString()),this.me(!1)}_u(t,e,i,n){}js(){return!1}Xt(t,i,n,s,r){this.ef();const o=v.l();o.a(this.Ai),this.Ai.At(),!1===this.es()?this.Ai.i(t,i,n,s):this.ph(t,i,n,s),this.Ai.u(),this.ri=void 0===r?null:r;let a=!1;if(void 0!==r)a=!0;else{let e=this.panel;if(null!==e&&e.el()&&(e=e.panel),null!==e){const n=e.Ki,s=this.measuredBounds,r=i+s.height,o=t+s.width;if(a=!(0<=t+.05&&o<=n.width+.05&&0<=i+.05&&r<=n.height+.05),this instanceof fe){const t=this.naturalBounds;(this.P0>t.height||this.mi>t.width)&&(a=!0)}}}a?this.n|=256:this.n&=-257,this.Ai.isReal()||e.o("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Ai.toString()),this.td(o,this.Ai),this.no(!1),v.e(o)}ph(t,e,i,n){}commonArrange(t,e,i,n){if(this.Ai.i(t,e,i,n),this.desiredSize.isReal())return;const s=this.re,r=this.tl,o=r.right+r.left,a=r.top+r.bottom,l=s.width+o,h=s.height+a;i+=o,n+=a;let u=this.Hs(!0);switch(l===i&&h===n&&(u=0),u){case 0:(l>i||h>n)&&(this.me(!0),this.ut(l>i?i:l,h>n?n:h,0,0));break;case 2:this.me(!0),this.ut(i,n,0,0);break;case 5:this.me(!0),this.ut(i,h,0,0);break;case 4:this.me(!0),this.ut(l,n,0,0);break}}td(t,e){const i=this.part;null!==i&&null!==i.diagram&&((i.selectionObject===this||i.resizeObject===this||i.rotateObject===this)&&i.c2(!0),this.C(),!t.equalsApproxClose(e)&&(i.yh(),this.S0(i)))}S0(t){null!==this.portId&&(t.c2(!0),t instanceof Se&&t.gA(this))}get shadowVisible(){return null!==this.b?this.b.M0:null}set shadowVisible(t){const e=this.shadowVisible;e!==t&&(this.qt().M0=t,this.Ye(!0),this.C(),this.t("shadowVisible",e,t))}VR(t,e){const i=this.naturalBounds,n=this.uh,s=n.m11,r=n.m21,o=n.dx,a=n.m12,l=n.m22,h=n.dy;let u=0,c=0,d=u,f=c;u=d*s+f*r+o,c=d*a+f*l+h;let m=u,g=c,p=0,y=0;d=i.width+e,f=0,u=d*s+f*r+o,c=d*a+f*l+h;let _=Math.min(m,u),v=Math.min(g,c);p=Math.max(m+p,u)-_,y=Math.max(g+y,c)-v,m=_,g=v,d=i.width+e,f=i.height+e,u=d*s+f*r+o,c=d*a+f*l+h,_=Math.min(m,u),v=Math.min(g,c),p=Math.max(m+p,u)-_,y=Math.max(g+y,c)-v,m=_,g=v,d=0,f=i.height+e,u=d*s+f*r+o,c=d*a+f*l+h,_=Math.min(m,u),v=Math.min(g,c),p=Math.max(m+p,u)-_,y=Math.max(g+y,c)-v,m=_,g=v;const b=t.viewportBounds,x=b.x,M=b.y,w=b.width,k=b.height;return m>w+x||x>p+m||g>k+M||M>y+g}zi(t,e){if(this.zR(t,e)||!this.visible)return;const i=this.opacity;if(0===i)return;let n=1;1!==i&&(n=t.globalAlpha,t.globalAlpha=n*i);let s="";""!==this.filter&&(s=t.filter,t.filter=this.filter);const r=this.F,o=this.panel;!0===this.b0()&&this.Fb();const a=this.part;let l=!1,h=0;if(a&&e.getRenderingHint("drawShadows")&&(l=a.isShadowed,l)){const t=a.shadowOffset;h=Math.max(t.y,t.x)*e.scale*e.Yi}const u=this instanceof ie&&this.el(),c=this.Ai;if(u&&(this.mA(l,t,!1,o),this.XR(t,e),this.pA(l,t,!1,o),this.yA(l,t,!1)),u||!u&&(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y)))return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=s));const d=this.js();if(!e.oa&&d&&this.VR(e,h))return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=s));let f=0!==(256&this.n);if(t.clipInsteadOfFill&&(f=!1),this instanceof fe&&(t.font=this.font),f){const e=o.wn()?o.naturalBounds:o.actualBounds;let r=Math.max(c.x,e.x),a=Math.max(c.y,e.y),l=Math.min(c.right,e.right)-r,h=Math.min(c.bottom,e.bottom)-a;const u=this.ri;if(null!==u&&(r=u.x,a=u.y,l=u.width,h=u.height),r>c.width+c.x||c.x>e.width+e.x)return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=s));t.save(),t.beginPath(),t.rect(r,a,l,h),t.clip()}if(d){if(!a.isVisible())return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=s));if(l){const i=a.shadowOffset;t.shadowsSet(i.x*e.scale*this.scale*e.Yi,i.y*e.scale*this.scale*e.Yi,a.shadowBlur),t.shadowsOn(),t.shadowColor=a.shadowColor}}const m=this.naturalBounds;if(t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.mA(l,t,d,o),null!==this.Dt&&(t.commitTransform(),this.Rb(t,m,c)),this.pA(l,t,d,o),this.wh(t,e),this.yA(l,t,d),f&&(t.restore(),t.clearContextCache(this instanceof ie)),!r.Ik()){const e=1/(r.m11*r.m22-r.m12*r.m21);t.transform(r.m22*e,-r.m12*e,-r.m21*e,r.m11*e,e*(r.m21*r.dy-r.m22*r.dx),e*(r.m12*r.dx-r.m11*r.dy))}1!==i&&(t.globalAlpha=n),""!==this.filter&&(t.filter=s)}mA(t,e,i,n){t&&!0===this.shadowVisible?e.shadowsOn():t&&!1===this.shadowVisible&&e.shadowsOff(),t&&this.vb(n)&&null===this.shadowVisible&&e.shadowsOff()}pA(t,e,i,n){t&&(null!==this.Dt||this.vb(n))?(this.Ob(!0),null===this.shadowVisible&&e.shadowsOff()):this.Ob(!1)}yA(t,e,i){t&&!0===this.f2()&&e.shadowsOn(),i&&t&&e.shadowsOff()}YR(t,e,i){const n=this.part;let s=!1;n&&t.getRenderingHint("drawShadows")&&(s=n.isShadowed),e.clipInsteadOfFill&&(s=!1),this.js()&&s&&e.shadowsOn(),s&&!0===this.shadowVisible?e.shadowsOn():s&&!1===this.shadowVisible&&e.shadowsOff();const r=this.panel;if(s&&this.vb(r)&&null===this.shadowVisible&&e.shadowsOff(),e.sl){const n=t.computePixelRatio(),s=`drop-shadow(${e.shadowOffsetX/n}px ${e.shadowOffsetY/n}px ${e.shadowBlur/n/2}px ${e.shadowColor})`;null!==this.background&&i.Dt.setAttributeNS(null,"filter",s)}return s&&(null!==this.Dt||this.vb(r))?(this.Ob(!0),null===this.shadowVisible&&e.shadowsOff()):this.Ob(!1),s}KR(t,e,i,n){if(i.sl){const n=e.computePixelRatio(),s=`drop-shadow(${i.shadowOffsetX/n}px ${i.shadowOffsetY/n}px ${i.shadowBlur/n/2}px ${i.shadowColor})`;this.u2(t,s)}n&&!0===this.f2()&&i.shadowsOn(),this.js()&&i.shadowsOff()}vb(t){return null!==t&&(t.el()&&(t=t.panel),t.f2()||(t.type===ie.Auto||t.type===ie.Spot)&&t.findMainElement()!==this)}u2(t,e){}Rb(t,e,i){const n=this.k0(),s=e.x,r=e.y,o=e.width+n,a=e.height+n;this.mn(t,this.Dt,!0,!1,e,i),this.Dt instanceof Bt&&3===this.Dt.type?(t.beginPath(),t.rect(s-n/2,r-n/2,o,a),t.fillContext(this.Dt,!1,null)):t.fillRect(s-n/2,r-n/2,o,a)}wA(t,e){let i=t.GR(this);const n=null!==t.dh?t.dh:t.svg;if(-1!==i)if(0===i)if(n.Dt)n.Dt.after(e);else if(t.type===ie.Table){const t=n.getElementsByClassName("gojs-ts"),i=0!==t.length?t[0]:null;null!==i&&i.after(e)}else n.prepend(e);else{for(;0!==i&&!t.elt(i-1).isVisibleObject();)i--;if(0===i)n.prepend(e);else{const s=t.elt(i-1).svg;null!==s?s.after(e):n.appendChild(e)}}}zR(t,e){if(!(t instanceof Ft))return!1;if(!this.visible||0===this.opacity)return null!==this.svg&&null!==this.svg.parentNode&&this.svg.remove(),!0;const i=this.Ai;if(this.js()&&(!this.isVisible()||0===i.width||0===i.height||isNaN(i.x)||isNaN(i.y)))return null!==this.svg&&null!==this.svg.parentNode&&this.svg.remove(),!0;const n=this.panel,s=this.ed(t);if(this.sf(t,e,s))return this.xA(this.svg),null!==this.svg.parentElement?(this.js()&&(t.lastDrawnPart=this.svg),!0):(this.js()?(null!==t.lastDrawnPart?t.lastDrawnPart.after(this.svg):t.diagramGroup.prepend(this.svg),t.lastDrawnPart=this.svg):n&&this.wA(n,this.svg),!0);if(this.Ye(!1),this.js()&&this.isShadowed){const i=this.shadowOffset;t.shadowsSet(i.x*e.scale*this.scale*e.Yi,i.y*e.scale*this.scale*e.Yi,this.shadowBlur),t.shadowsOn(),t.shadowColor=this.shadowColor}this instanceof fe&&(t.font=this.font),t.currentElement=null;const r=this.F,o=this instanceof ie,a=this instanceof ie&&this.el(),l=this.svg;if(!0===this.b0()&&this.Fb(),t.setCurrentTransform(1,0,0,1,0,0),t.outerGroup=!1,s)if(t.outerGroup=!0,o&&a)t.newGroup(1,0,0,1,0,0),this.svg=t.lastCreatedElement;else if(o&&this.isClipping){const e=this.findMainElement();let i=0,n=0;null!==e&&(i=e.actualBounds.x,n=e.actualBounds.y),t.newGroup(r.m11,r.m12,r.m21,r.m22,r.dx+i,r.dy+n),this.svg=t.lastCreatedElement,null!==e&&t.createOrUpdateClipGroup(this,e.actualBounds),t.currentElement=t.lastCreatedElement}else o?(t.newGroup(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.svg=t.lastCreatedElement):t.newGroup(1,0,0,1,0,0);const h=this.naturalBounds;o||t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),null!==this.background&&(o?(a&&t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.Rb(t,h,i),a&&t.setCurrentTransform(1,0,0,1,0,0)):(t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.Rb(t,h,i)),t.currentElement.Dt=t.lastCreatedElement,t.currentElement.prepend(t.lastCreatedElement));const u=this.YR(e,t,t.currentElement);this.wh(t,e),o&&t.endGroup(),t.outerGroup&&t.endGroup();const c=t.surface.Wu,d=o?this.svg:t.currentElement;if(null!==l&&d!==l&&l.parentNode===this.panel.svg){const e=this.svg.getAttribute("filter");return null!==e&&d.setAttribute("filter",e),l.replaceWith(d),this.svg=d,null!==d&&this.N0(t,n,i,d),!0}if(this.svg=d,null!==c&&null===d&&t.dummyGroup(),null===d)return!0;this.N0(t,n,i,d),this.KR(d,e,t,u);const f=this.js()?this.opacity*t.globalAlpha:this.opacity;if(1!==f&&d.setAttributeNS(null,"opacity",f.toString()),""!==this.filter&&d.setAttributeNS(null,"filter",this.filter),this.js()){if(null!==l&&d!==l&&l.parentNode===t.diagramGroup){const t=l.getAttribute("filter");null!==t&&d.setAttribute("filter",t),l.replaceWith(d)}else t.lastDrawnPart?t.lastDrawnPart.after(d):t.diagramGroup.prepend(d);t.lastDrawnPart=d}else null!==n&&this.wA(n,d);return null!==c&&c(this,d),this.xA(d),!0}xA(t){const i=this,n=t.dataset;i instanceof Yt&&(null!==i.portId&&(n.portId=i.portId),i instanceof ie&&(isNaN(i.itemIndex)||(n.itemIndex=i.itemIndex.toString()),i instanceof Me&&(n.className=e.Vn(i),void 0!==i.key&&(n.key=i.key.toString()),null!==i.containingGroup&&(n.group=i.containingGroup.key.toString()),i instanceof Ce&&(null!==i.fromNode&&void 0!==i.fromNode.key&&(n.fromKey=i.fromNode.key.toString()),""!==i.fromPortId&&(n.fromPortId=i.fromPortId),null!==i.toNode&&void 0!==i.toNode.key&&(n.toKey=i.toNode.key.toString()),""!==i.toPortId&&(n.toPortId=i.toPortId)))))}N0(t,e,i,n){let s=0!==(256&this.n);if(t.clipInsteadOfFill&&(s=!1),!s)return void n.removeAttributeNS(null,"clip-path");const r=e.wn()?e.naturalBounds:e.actualBounds;let o=Math.max(i.x,r.x),a=Math.max(i.y,r.y),l=Math.min(i.right,r.right)-o,h=Math.min(i.bottom,r.bottom)-a;const u=this.ri;null!==u&&(o=u.x,a=u.y,l=u.width,h=u.height);const c=new v(o,a,Math.max(l,0),Math.max(h,0));this instanceof ie&&this.F.copy().yw().Ug(c),n.setAttributeNS(null,"clip-path",`path('      M ${c.x},${c.y}       L ${c.width+c.x} ${c.y}       L ${c.width+c.x} ${c.height+c.y}       L ${c.x} ${c.height+c.y} z') view-box`)}HR(){if(null===this.svg)return;const t=this.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),e=this.svg.ownerDocument;if(null!==t)for(const i of t){const t=e.getElementById(i.split("#")[1].slice(0,-1));null!==t&&t.remove()}this.svg.remove()}XR(t,e){const i=this.Ai,n=this.Ki,s=this.Dt;null!==s&&t.commitTransform(),null!==s&&(this.mn(t,s,!0,!1,n,i),s instanceof Bt&&3===s.type?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.fillContext(s,!1,null)):t.fillRect(i.x,i.y,i.width,i.height)),this.wh(t,e)}wh(t,e){}nf(){this.Ye(!0)}sf(t,e,i){const n=this.svg;if(this.jR()){if(this.nf(),this.Ye(!1),null===n)return!1;const e=n.getAttribute("clip-path");if(null!==e&&e.includes("url")){const i=t.svg.getElementById(e.split("#")[1].slice(0,-1));null!==i&&i.remove()}return n.getAttribute("filter")&&n.removeAttribute("filter"),!1}if(null===n)return!1;if(!this.visible)return n.remove(),!1;if("g"!==n.nodeName&&i||"g"===n.nodeName&&!i)return!1;const s=this.F,r="matrix("+s.m11+", "+s.m12+", "+s.m21+", "+s.m22+", "+s.dx+", "+s.dy+")",o=this instanceof ie,a=!!o&&this.el();if(!o||!a)if(this instanceof ye){const e=this.Ib;t.setCurrentTransform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),null!==e&&t.amendImageTransform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]),i?n.lastElementChild.setAttributeNS(null,"transform",t.getCurrentTransform()):n.setAttributeNS(null,"transform",t.getCurrentTransform())}else if(i&&!o)if(this instanceof le){const t=n.getElementsByTagName("path");for(let e=0;e<t.length;e++)t[e].setAttributeNS(null,"transform",r)}else if(this instanceof fe){const t=n.getElementsByTagName("text"),e="string"==typeof this.stroke?this.stroke:null;for(let i=0;i<t.length;i++)t[i].setAttributeNS(null,"transform",r),e&&t[i].setAttributeNS(null,"fill",e)}else(n.lastElementChild||n).setAttributeNS(null,"transform",r);else if(o&&this.isClipping&&this.dh){const t=this.findMainElement(),e=null!==t?t.actualBounds.x:0,i=null!==t?t.actualBounds.y:0;this.dh.setAttributeNS(null,"transform","matrix(1,0,0,1,"+-e+", "+-i+")"),n.setAttributeNS(null,"transform","matrix("+s.m11+", "+s.m12+", "+s.m21+", "+s.m22+", "+(s.dx+e)+", "+(s.dy+i)+")")}else n.setAttributeNS(null,"transform",r);const l=this.js()?this.opacity*t.globalAlpha:this.opacity;1===l?n.removeAttribute("opacity"):n.setAttributeNS(null,"opacity",l.toString()),t.setCurrentTransform(1,0,0,1,0,0);const h=this.dh?this.dh:this.Db;if(null!==this.background||void 0!==h.Dt){const e=h.Dt;if(null===this.background)t.removeOldGradient(this,h.Dt,"fill"),h.Dt.remove(),h.Dt=void 0;else{if((a||i&&!(this instanceof ie))&&t.setCurrentTransform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),this.Rb(t,this.naturalBounds,this.actualBounds),h.Dt){t.removeOldGradient(this,h.Dt,"fill");const e=h.Dt.getAttribute("filter");null!==e&&t.lastCreatedElement.setAttribute("filter",e),h.Dt.replaceWith(t.lastCreatedElement)}else h.prepend(t.lastCreatedElement);h.Dt=t.lastCreatedElement}e&&t.removeOldGradient(this,e,"fill")}return this.N0(t,this.panel,this.actualBounds,n),!0}ed(t){if(null!==this.background)return!0;let e=0!==(256&this.n);return t.clipInsteadOfFill&&(e=!1),!!e}static PE(t,e,i,n,s,r,o){let a=.001;const l=r.length;t.moveTo(e,i);let h=n-e;const u=s-i;0===h&&(h=.001);const c=u/h;let d=Math.sqrt(h*h+u*u),f=0,m=!0;a=r[f%l];let g=0!==o;for(;d>=.1;){if(g){for(a=r[f++%l],a-=o;a<0;)a+=r[f++%l],m=!m;g=!1}else a=r[f++%l];a>d&&(a=d);let n=Math.sqrt(a*a/(1+c*c));h<0&&(n=-n),e+=n,i+=c*n,m?t.lineTo(e,i):t.moveTo(e,i),d-=a,m=!m}}mn(t,i,n,s,r,o){let a,l=1,h=1;if("string"==typeof i)return void(n?t.fillStyle=i:t.strokeStyle=i);if(1===i.type)return void(n?t.fillStyle=i.color:t.strokeStyle=i.color);const u=this.k0();l=r.width,h=r.height,s?(l=o.width,h=o.height):n||(l+=u,h+=u);const c=t instanceof Et;if(c&&i.xn&&(4===i.type||i.of===l&&i.Eb===h))a=i.xn;else{let r=0,d=0,f=0,m=0,g=0,p=0,y=0,_=0;if(s?(y=o.x,_=o.y):n||(y-=u/2,_-=u/2),r=i.start.x*l+i.start.offsetX+y,d=i.start.y*h+i.start.offsetY+_,f=i.end.x*l+i.end.offsetX+y,m=i.end.y*h+i.end.offsetY+_,2===i.type)a=t.createLinearGradient(r,d,f,m);else if(3===i.type)p=isNaN(i.endRadius)?Math.max(l,h)/2:i.endRadius,isNaN(i.startRadius)?(g=0,p=Math.max(l,h)/2):g=i.startRadius,a=t.createRadialGradient(r,d,g,f,m,p);else if(4===i.type)try{a=t.createPattern(i.pattern,"repeat")}catch{a=null}else e.te(i.type,"Brush type");if(4!==i.type){const t=i.colorStops;if(null!==t){const e=t.iterator;for(;e.next();)a.addColorStop(e.key,e.value)}}if(c&&(i.xn=a,null!==a&&(i.of=l,i.Eb=h),null===a&&4===i.type&&-1!==i.of)){i.of=-1;const t=this.diagram;null!==t&&-1===i.of&&e.ar((()=>{t.redraw()}),600)}}n?t.fillStyle=a:t.strokeStyle=a}isContainedBy(t){return t instanceof ie&&this.qR(this,t)}qR(t,e){if(t===e||null===e)return!1;let i=t.panel;for(;null!==i;){if(i===e)return!0;i=i.panel}return!1}isVisibleObject(){if(!this.visible)return!1;const t=this.panel;return null===t||t.isVisibleObject()}isEnabledObject(){let t=this instanceof ie?this:this.panel;for(;null!==t&&t.isEnabled;)t=t.panel;return null===t}get enabledChanged(){return null!==this.b?this.b.C0:null}set enabledChanged(t){const i=this.enabledChanged;i!==t&&(null!==t&&e.S(t,Yt,"enabledChanged"),this.qt().C0=t,this.t("enabledChanged",i,t))}Fb(){if(!0===this.Bb()){const t=this._r;if(t.Ii(),!this.Ai.isReal()||!this.re.isReal())return void this.sd(!1);if(t.Es(this.Ai.x-this.re.x,this.Ai.y-this.re.y),1!==this.scale||0!==this.angle){const e=this.naturalBounds;this.x0(t,e.x,e.y,e.width,e.height)}this.sd(!1),this.Ca(!0)}if(!0===this.b0()){const t=this.panel;if(null===t)this.uh.set(this._r),this.wa=this.scale;else if(null!==t.Ys){const e=this.uh;e.Ii(),t.wn()?e.ac(t.uh):null!==t.panel&&e.ac(t.panel.uh),e.ac(this._r),this.wa=this.scale*t.wa}this.Ca(!1)}}x0(t,e,i,n,s){if(1!==this.nt&&t.nt(this.nt),0===this.Ht)return;const r=y.l();r.setSpot(e,i,n,s,x.Center),t.ds(this.Ht,r.x,r.y),y.e(r)}c(t){if(this.Bo())return;void 0===t&&(t=!1),this.me(!0),this.no(!0);const e=this.panel;null!==e&&!t&&e.c()}rf(){this.Bo()||(this.me(!0),this.no(!0))}lf(t){if(this.es())return;const e=this.panel;!t&&null!==e&&e.c(),this.no(!0)}ef(){!1===this.Bb()&&(this.sd(!0),this.Ca(!0))}d2(){this.Ca(!0)}C(){const t=this.part;null!==t&&t.C()}Hs(t){const e=this.stretch,i=this.panel;if(null===i)return this.Yo(1===e?0:e,t);if(i.type===ie.Table)return this.L0(i.getRowDefinition(this.row),i.getColumnDefinition(this.column),t);if(i.type===ie.Auto&&i.findMainElement()===this)return this.Yo(2,t);if(1===e){if(i.type===ie.Spot&&i.findMainElement()===this)return this.Yo(2,t);const e=i.defaultStretch;return 1===e?this.Yo(0,t):this.Yo(e,t)}return this.Yo(e,t)}L0(t,e,i){const n=this.stretch;if(1!==n)return this.Yo(n,i);let s=null,r=null;switch(t.stretch){case 1:case 5:break;case 4:r=!0;break;case 2:r=!0;break}switch(e.stretch){case 1:case 4:break;case 5:s=!0;break;case 2:s=!0;break}const o=this.panel.defaultStretch;return null===s&&(s=5===o||2===o),null===r&&(r=4===o||2===o),!0===s&&!0===r?this.Yo(2,i):!0===s?this.Yo(5,i):!0===r?this.Yo(4,i):this.Yo(0,i)}Yo(t,e){if(e)return t;if(0===t)return 0;const i=this.desiredSize;if(i.isReal())return 0;const n=!isNaN(i.width),s=!isNaN(i.height),r=this.angle;if(n)if(90!==r&&270!==r){if(5===t)return 0;if(2===t)return 4}else{if(4===t)return 0;if(2===t)return 5}if(s)if(90!==r&&270!==r){if(4===t)return 0;if(2===t)return 5}else{if(5===t)return 0;if(2===t)return 4}return t}get segmentOrientation(){return null!==this.Bt?this.Bt.A0:0}set segmentOrientation(t){const e=this.segmentOrientation;e!==t&&(null===this.Bt&&(this.Bt=new Ee),this.Bt.A0=t,this.c(),this.t("segmentOrientation",e,t),0===t&&(this.angle=0))}WR(){this.segmentOrientation=21}get segmentIndex(){return null!==this.Bt?this.Bt.T0:-1/0}set segmentIndex(t){t=Math.round(t);const e=this.segmentIndex;e!==t&&(null===this.Bt&&(this.Bt=new Ee),this.Bt.T0=t,this.c(),this.t("segmentIndex",e,t))}get segmentFraction(){return null!==this.Bt?this.Bt.D0:0}set segmentFraction(t){t<0?t=0:t>1&&(t=1);const e=this.segmentFraction;e!==t&&(null===this.Bt&&(this.Bt=new Ee),this.Bt.D0=t,this.c(),this.t("segmentFraction",e,t))}get segmentOffset(){return null!==this.Bt?this.Bt.F0:y.Lo}set segmentOffset(t){const e=this.segmentOffset;e.equals(t)||(t=t.N(),null===this.Bt&&(this.Bt=new Ee),this.Bt.F0=t,this.c(),this.t("segmentOffset",e,t))}get stretch(){return null!==this.b?this.b.oo:1}set stretch(t){const e=this.stretch;e!==t&&(this.qt().oo=t,this.c(),this.t("stretch",e,t))}get name(){return null!==this.b?this.b.Nt:""}set name(t){const e=this.name;e!==t&&(this.qt().Nt=t,null!==this.part&&this.part.R0(),this.t("name",e,t))}get opacity(){return this._t}set opacity(t){t<0?t=0:t>1&&(t=1);const e=this.opacity;if(e!==t){this._t=t,this.t("opacity",e,t);const i=this.diagram,n=this.part;null!==i&&null!==n&&i.C(n.Qh(n.actualBounds))}}get filter(){return this.y0}set filter(t){const e=this.filter;if(e!==t){this.y0=t,this.Ye(!0),this.t("filter",e,t);const i=this.diagram,n=this.part;null!==i&&null!==n&&i.C(n.Qh(n.actualBounds))}}get visible(){return 0!==(1&this.n)}set visible(t){const e=0!==(1&this.n);if(e!==t){this.n=1^this.n,this.nf(),this.t("visible",e,t);const i=this.panel;null!==i?i.c():this.js()&&this.Vi(t),this.C(),this.bA()}}get pickable(){return 0!==(2&this.n)}set pickable(t){const e=0!==(2&this.n);e!==t&&(this.n=2^this.n,this.t("pickable",e,t))}get fromLinkableDuplicates(){return 0!==(4&this.n)}set fromLinkableDuplicates(t){const e=0!==(4&this.n);e!==t&&(this.n=4^this.n,this.t("fromLinkableDuplicates",e,t))}get fromLinkableSelfNode(){return 0!==(8&this.n)}set fromLinkableSelfNode(t){const e=0!==(8&this.n);e!==t&&(this.n=8^this.n,this.t("fromLinkableSelfNode",e,t))}get toLinkableDuplicates(){return 0!==(16&this.n)}set toLinkableDuplicates(t){const e=0!==(16&this.n);e!==t&&(this.n=16^this.n,this.t("toLinkableDuplicates",e,t))}get toLinkableSelfNode(){return 0!==(32&this.n)}set toLinkableSelfNode(t){const e=0!==(32&this.n);e!==t&&(this.n=32^this.n,this.t("toLinkableSelfNode",e,t))}get isPanelMain(){return 0!==(64&this.n)}set isPanelMain(t){const e=0!==(64&this.n);e!==t&&(this.n=64^this.n,this.c(),this.t("isPanelMain",e,t))}get isActionable(){return 0!==(128&this.n)}set isActionable(t){const e=0!==(128&this.n);e!==t&&(this.n=128^this.n,this.t("isActionable",e,t))}get background(){return this.Dt}set background(t){const e=this.background;e!==t&&(null!==t&&Bt.nd(t,"GraphObject.background"),t instanceof Bt&&t.u(),this.Dt=t,this.C(),this.t("background",e,t))}f2(){return 0!==(512&this.n)}Ob(t){t?this.n|=512:this.n&=-513}_c(){return 0!==(1024&this.n)}g2(t){t?this.n|=1024:this.n&=-1025}Bb(){return 0!==(2048&this.n)}sd(t){t?this.n|=2048:this.n&=-2049}b0(){return 0!==(4096&this.n)}Ca(t){t?this.n|=4096:this.n&=-4097}Bo(){return 0!==(8192&this.n)}me(t){t?this.n|=8192:this.n&=-8193}es(){return 0!==(16384&this.n)}no(t){t?this.n|=16384:this.n&=-16385}jR(){return 0!==(32768&this.n)}Ye(t){t?this.n|=32768:this.n&=-32769}get part(){if(this.js())return this;if(null!==this.il)return this.il;let t=this;for(t=t.panel;t;){if(t instanceof Me)return this.il=t,t;t=t.panel}return null}get svg(){return this.Db}set svg(t){this.Db=t}vu(){this.svg=null}get panel(){return this.Gs}La(t){this.Gs=t,null!==this.svg&&this.svg.remove()}get layer(){const t=this.part;return null!==t?t.layer:null}get diagram(){const t=this.part;return null!==t?t.diagram:null}get position(){return this.dt}set position(t){const e=t.x,i=t.y,n=this.position,s=n.x,r=n.y;(s===e||isNaN(s)&&isNaN(e))&&(r===i||isNaN(r)&&isNaN(i))?this.p2():(t=t.copy(),this.m2(t,s,r)&&this.t("position",new y(s,r),t.copy()))}p2(){}m2(t,e,i){return this.dt=t,this.lf(),!0}Nc(t,e,i){this.dt.x===t&&this.dt.y===e||(this.dt.i(t,e),this.ef())}get actualBounds(){return this.Ai}get scale(){return this.nt}set scale(t){const i=this.scale;i!==t&&(t<=0&&e.o("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.nt=t,this.c(),this.t("scale",i,t))}get angle(){return this.Ht}set angle(t){const e=this.angle;if(e!==t){if(t%=360,t<0&&(t+=360),e===t)return;this.Ht=t,this.bA(),this.c(),this.t("angle",e,t)}}get desiredSize(){return this.ns}set desiredSize(t){const e=t.width,i=t.height,n=this.desiredSize,s=n.width,r=n.height;if((s!==e&&(!isNaN(s)||!isNaN(e))||r!==i&&(!isNaN(r)||!isNaN(i)))&&(t=t.N(),this.ns=t,this.c(),this instanceof le&&this.oe(),this.t("desiredSize",n,t),this._c())){const t=this.part;null!==t&&(this.Na(t,"width"),this.Na(t,"height"))}}get width(){return this.ns.width}set width(t){const e=this.ns.width;if(e!==t&&(!isNaN(e)||!isNaN(t))){const e=this.ns,i=new _(t,this.ns.height).u();if(this.ns=i,this.c(),this instanceof le&&this.oe(),this.t("desiredSize",e,i),this._c()){const t=this.part;null!==t&&this.Na(t,"width")}}}get height(){return this.ns.height}set height(t){const e=this.ns.height;if(e!==t&&(!isNaN(e)||!isNaN(t))){const e=this.ns,i=new _(this.ns.width,t).u();if(this.ns=i,this.c(),this instanceof le&&this.oe(),this.t("desiredSize",e,i),this._c()){const t=this.part;null!==t&&this.Na(t,"height")}}}get minSize(){return null!==this.b?this.b.Sr:_.hc}set minSize(t){const e=this.minSize;e.equals(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.u(),this.qt().Sr=t,this.c(),this.t("minSize",e,t))}get maxSize(){return null!==this.b?this.b.Mr:_.Fk}set maxSize(t){const e=this.maxSize;e.equals(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.u(),this.qt().Mr=t,this.c(),this.t("maxSize",e,t))}get measuredBounds(){return this.re}get naturalBounds(){return this.Ki}k0(){return 0}get margin(){return this.tl}set margin(t){"number"==typeof t&&(t=new b(t));const e=this.tl;e.equals(t)||(t=t.N(),this.tl=t,this.c(),this.t("margin",e,t))}get F(){return!0===this.Bb()&&this.Fb(),this._r}get Ys(){return!0===this.b0()&&this.Fb(),this.uh}trigger(t,e,i){let n=null;return n="string"==typeof t?new dt(t,e,i):t,n.Se=this,null===this.ks&&(this.ks=new p),this.ks.set(n.propertyName,n),this}get ks(){return null!==this.b?this.b.ks:null}set ks(t){this.ks!==t&&(this.qt().ks=t)}get Pr(){return null!==this.b?this.b.Pr:0}set Pr(t){this.Pr!==t&&(this.qt().Pr=t)}get alignment(){return this.fi}set alignment(t){const i=this.alignment;i.equals(t)||(t.isNoSpot()&&!t.isDefault()&&e.o("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),t=t.N(),this.fi=t,this.lf(),this.t("alignment",i,t))}get column(){return this.Qr}set column(t){t=Math.round(t);const i=this.column;i!==t&&(t<0&&e._(t,">= 0",Yt,"column"),this.Qr=t,this.c(),this.t("column",i,t),null!==this.svg&&this.svg.remove())}get columnSpan(){return null!==this.b?this.b.v0:1}set columnSpan(t){t=Math.round(t);const i=this.columnSpan;i!==t&&(t<1&&e._(t,">= 1",Yt,"columnSpan"),this.qt().v0=t,this.c(),this.t("columnSpan",i,t))}get row(){return this.p0}set row(t){t=Math.round(t);const i=this.row;i!==t&&(t<0&&e._(t,">= 0",Yt,"row"),this.p0=t,this.c(),this.t("row",i,t),null!==this.svg&&this.svg.remove())}get rowSpan(){return null!==this.b?this.b.O0:1}set rowSpan(t){t=Math.round(t);const i=this.rowSpan;i!==t&&(t<1&&e._(t,">= 1",Yt,"rowSpan"),this.qt().O0=t,this.c(),this.t("rowSpan",i,t))}get spanAllocation(){return null!==this.b?this.b.I0:null}set spanAllocation(t){const i=this.spanAllocation;i!==t&&(null!==t&&e.S(t,Yt,"spanAllocation"),this.qt().I0=t,this.c(),this.t("spanAllocation",i,t))}get alignmentFocus(){return this.$u}set alignmentFocus(t){const e=this.alignmentFocus;e.equals(t)||(t=t.N(),this.$u=t,this.c(),this.t("alignmentFocus",e,t))}get portId(){return this.m0}set portId(t){const i=this.portId;if(i!==t){const n=this.part;null!==n&&!(n instanceof Se)&&e.o("Cannot set portID on a Link: "+t);const s=n;null!==i&&null!==s&&s.w2(this),this.m0=t,null!==t&&null!==s&&(s.bn=!0,s.kA(this)),this.t("portId",i,t)}}Aa(){const t=this.part;if(t instanceof Se&&(null!==this.portId||this===t.port)){const e=t.diagram;null!==e&&!e.undoManager.isUndoingRedoing&&t.gA(this)}}bA(){const t=this.diagram;null===t||t.undoManager.isUndoingRedoing||(this instanceof ie?this instanceof Se?this.invalidateConnectedLinks():this.walkVisualTreeFrom(this,(t=>{t.Aa()})):this.Aa())}get toSpot(){return null!==this.gt?this.gt.ba:x.None}set toSpot(t){const e=this.toSpot;e.equals(t)||(t=t.N(),this.Xe().ba=t,this.t("toSpot",e,t),this.Aa())}get toEndSegmentLength(){return null!==this.gt?this.gt.Pa:10}set toEndSegmentLength(t){const i=this.toEndSegmentLength;i!==t&&(t<0&&e._(t,">= 0",Yt,"toEndSegmentLength"),this.Xe().Pa=t,this.t("toEndSegmentLength",i,t),this.Aa())}get toShortLength(){return null!==this.gt?this.gt.Ma:0}set toShortLength(t){const e=this.toShortLength;e!==t&&(this.Xe().Ma=t,this.t("toShortLength",e,t),this.Aa())}get toLinkable(){return null!==this.gt?this.gt.E0:null}set toLinkable(t){const e=this.toLinkable;e!==t&&(this.Xe().E0=t,this.t("toLinkable",e,t))}get toMaxLinks(){return null!==this.gt?this.gt.B0:1/0}set toMaxLinks(t){const i=this.toMaxLinks;i!==t&&(t<0&&e._(t,">= 0",Yt,"toMaxLinks"),this.Xe().B0=t,this.t("toMaxLinks",i,t))}get fromSpot(){return null!==this.gt?this.gt.xa:x.None}set fromSpot(t){const e=this.fromSpot;e.equals(t)||(t=t.N(),this.Xe().xa=t,this.t("fromSpot",e,t),this.Aa())}get fromEndSegmentLength(){return null!==this.gt?this.gt.ka:10}set fromEndSegmentLength(t){const i=this.fromEndSegmentLength;i!==t&&(t<0&&e._(t,">= 0",Yt,"fromEndSegmentLength"),this.Xe().ka=t,this.t("fromEndSegmentLength",i,t),this.Aa())}get fromShortLength(){return null!==this.gt?this.gt.Sa:0}set fromShortLength(t){const e=this.fromShortLength;e!==t&&(this.Xe().Sa=t,this.t("fromShortLength",e,t),this.Aa())}get fromLinkable(){return null!==this.gt?this.gt.U0:null}set fromLinkable(t){const e=this.fromLinkable;e!==t&&(this.Xe().U0=t,this.t("fromLinkable",e,t))}get fromMaxLinks(){return null!==this.gt?this.gt.V0:1/0}set fromMaxLinks(t){const i=this.fromMaxLinks;i!==t&&(t<0&&e._(t,">= 0",Yt,"fromMaxLinks"),this.Xe().V0=t,this.t("fromMaxLinks",i,t))}get cursor(){return null!==this.b?this.b.Tl:""}set cursor(t){const i=this.cursor;i!==t&&(e.s(t,"string",Yt,"cursor"),this.qt().Tl=t,this.t("cursor",i,t))}get click(){return null!==this.b?this.b.vr:null}set click(t){const i=this.click;i!==t&&(null!==t&&e.S(t,Yt,"click"),this.qt().vr=t,this.t("click",i,t))}get doubleClick(){return null!==this.b?this.b.Or:null}set doubleClick(t){const i=this.doubleClick;i!==t&&(null!==t&&e.S(t,Yt,"doubleClick"),this.qt().Or=t,this.t("doubleClick",i,t))}get contextClick(){return null!==this.b?this.b.Ir:null}set contextClick(t){const i=this.contextClick;i!==t&&(null!==t&&e.S(t,Yt,"contextClick"),this.qt().Ir=t,this.t("contextClick",i,t))}get mouseEnter(){return null!==this.b?this.b.zr:null}set mouseEnter(t){const i=this.mouseEnter;i!==t&&(null!==t&&e.S(t,Yt,"mouseEnter"),this.qt().zr=t,this.t("mouseEnter",i,t))}get mouseLeave(){return null!==this.b?this.b.Xr:null}set mouseLeave(t){const i=this.mouseLeave;i!==t&&(null!==t&&e.S(t,Yt,"mouseLeave"),this.qt().Xr=t,this.t("mouseLeave",i,t))}get mouseOver(){return null!==this.b?this.b.Er:null}set mouseOver(t){const i=this.mouseOver;i!==t&&(null!==t&&e.S(t,Yt,"mouseOver"),this.qt().Er=t,this.t("mouseOver",i,t))}get mouseHover(){return null!==this.b?this.b.Br:null}set mouseHover(t){const i=this.mouseHover;i!==t&&(null!==t&&e.S(t,Yt,"mouseHover"),this.qt().Br=t,this.t("mouseHover",i,t))}get mouseHold(){return null!==this.b?this.b.Ur:null}set mouseHold(t){const i=this.mouseHold;i!==t&&(null!==t&&e.S(t,Yt,"mouseHold"),this.qt().Ur=t,this.t("mouseHold",i,t))}get mouseDragEnter(){return null!==this.b?this.b.z0:null}set mouseDragEnter(t){const i=this.mouseDragEnter;i!==t&&(null!==t&&e.S(t,Yt,"mouseDragEnter"),this.qt().z0=t,this.t("mouseDragEnter",i,t))}get mouseDragLeave(){return null!==this.b?this.b.X0:null}set mouseDragLeave(t){const i=this.mouseDragLeave;i!==t&&(null!==t&&e.S(t,Yt,"mouseDragLeave"),this.qt().X0=t,this.t("mouseDragLeave",i,t))}get mouseDrop(){return null!==this.b?this.b.Vr:null}set mouseDrop(t){const i=this.mouseDrop;i!==t&&(null!==t&&e.S(t,Yt,"mouseDrop"),this.qt().Vr=t,this.t("mouseDrop",i,t))}get actionDown(){return null!==this.b?this.b.Y0:null}set actionDown(t){const i=this.actionDown;i!==t&&(null!==t&&e.S(t,Yt,"actionDown"),this.qt().Y0=t,this.t("actionDown",i,t))}get actionMove(){return null!==this.b?this.b.K0:null}set actionMove(t){const i=this.actionMove;i!==t&&(null!==t&&e.S(t,Yt,"actionMove"),this.qt().K0=t,this.t("actionMove",i,t))}get actionUp(){return null!==this.b?this.b.G0:null}set actionUp(t){const i=this.actionUp;i!==t&&(null!==t&&e.S(t,Yt,"actionUp"),this.qt().G0=t,this.t("actionUp",i,t))}get actionCancel(){return null!==this.b?this.b.H0:null}set actionCancel(t){const i=this.actionCancel;i!==t&&(null!==t&&e.S(t,Yt,"actionCancel"),this.qt().H0=t,this.t("actionCancel",i,t))}get toolTip(){return null!==this.b?this.b.Yr:null}set toolTip(t){const e=this.toolTip;e!==t&&(this.qt().Yr=t,this.t("toolTip",e,t))}get contextMenu(){return null!==this.b?this.b.Kr:null}set contextMenu(t){const e=this.contextMenu;e!==t&&(this.qt().Kr=t,this.t("contextMenu",e,t))}findBindingPanel(){let t=this instanceof ie?this:this.panel;for(;null!==t;){if(t.b2())return t;t=t.panel}return null}bind(t,e,i,n){return this.hf(t,e,i,n),this}bindTwoWay(t,e,i,n){return this.hf(t,e,i,n).makeTwoWay(),this}bindModel(t,e,i,n){return this.hf(t,e,i,n).ofModel(),this}bindObject(t,e,i,n,s){return this.hf(t,e,i,n).ofObject(s),this}theme(t,e,i,n,s){return this.xh(t,e,i,n,s),this}themeData(t,e,i,n,s){return this.xh(t,e,i,n,s).ofData(),this}themeObject(t,e,i,n,s,r){return this.xh(t,e,i,n,s).ofObject(r),this}themeModel(t,e,i,n,s){return this.xh(t,e,i,n,s).ofModel(),this}hf(t,e,i,n){let s=null;return s="string"==typeof t?new Ze(t,e,i,n):t,this.j0(s),s}xh(t,e,i,n,s){let r=null;return r="string"==typeof t?new Qe(t,e,i,n,s):t,this.j0(r),r}j0(t){t.Se=this;const i=this.findBindingPanel();null!==i&&i.PA()&&e.o("Cannot add a Binding to a template that has already been copied: "+t),null===this.Ti&&(this.Ti=new l),this.Ti.add(t)}set(t){return Object.assign(this,t),this}attach(t){return Yt.k2(this,t),this}apply(t){return t(this),this}setProperties(t){return _t.h0(this,t),this}static make(i,...n){let s=arguments,r=null,o=null;if(e.ot(i))o=i;else if("string"==typeof i){const n=Yt.Ub.get(i);e.ot(n)?(s=Array.prototype.slice.call(s),r=n(s),e.H(r)||e.o('GraphObject.make invoked object builder "'+i+'", but it did not return an Object')):o=t.go[i]}null===r&&((null==o||!o.constructor)&&e.o("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+i),r=new o);let a=1;if(r instanceof _t&&s.length>1){const t=r,e=s[1];("string"==typeof e||e instanceof HTMLDivElement)&&(t.kM(e),a++)}for(let t=a;t<s.length;t++){const i=s[t];void 0===i?e.o("Undefined value at argument "+t+" for object being constructed by GraphObject.make: "+r):Yt.k2(r,i)}return r}static k2(t,i){if("number"==typeof i)Yt.JR(t,i);else if("string"==typeof i)Yt.$R(t,i);else if(i instanceof Yt)t instanceof ie||e.o("A GraphObject can only be added to a Panel, not to: "+t),t.add(i);else if(i instanceof ae){let n;i.isRow&&e.ot(t.getRowDefinition)?n=t.getRowDefinition(i.index):!i.isRow&&e.ot(t.getColumnDefinition)&&(n=t.getColumnDefinition(i.index)),n instanceof ae?n.Vb(i):e.o("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(i instanceof zt){const e=t;e.type=i}else if(i instanceof Ze)t instanceof Yt||t instanceof ae?t.bind(i):e.o("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof dt)t instanceof Yt?t.trigger(i):e.o("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(i instanceof T)t instanceof S&&4===t.type?t.figures.add(i):e.o("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(i instanceof P)t instanceof T?t.segments.add(i):e.o("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof He)t instanceof _t||t instanceof Ie?t.layout=i:e.o("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(let e=0;e<i.length;e++){const n=i[e];Yt.k2(t,n)}else e.H(i)?Yt.ZR(t,i):e.o('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}static $R(t,i){if(t instanceof fe)t.text=i;else if(t instanceof le)t.figure=i;else if(t instanceof ye)t.source=i;else if(t instanceof ie){const e=zt.os.get(i);null!==e&&(t.type=e)}else if(t instanceof Bt){const n=e.Xh(It,i);null!==n?t.type=n:e.o("Unknown Brush type as an argument to GraphObject.make: "+i)}else if(t instanceof S){const n=e.Xh(k,i);null!==n&&(t.type=n)}else if(t instanceof P){const n=e.Xh(D,i);null!==n&&(t.type=n)}}static JR(t,i){e.ot(t.hi)?t.hi(i):e.cr(t,i)}static ZR(t,i){if(t instanceof Bt){const e=new n;for(const n in i){const s=parseFloat(n);isNaN(s)?e[n]=i[n]:t.addColorStop(s,i[n])}_t.h0(t,e)}else if(t instanceof ae){if(void 0!==i.row){const n=i.row;(null==n||n===1/0||isNaN(n)||n<0)&&e.o("Must specify non-negative integer row for RowColumnDefinition "+i+", not: "+n),t.isRow=!0,t.index=n}else if(void 0!==i.column){const n=i.column;(null==n||n===1/0||isNaN(n)||n<0)&&e.o("Must specify non-negative integer column for RowColumnDefinition "+i+", not: "+n),t.isRow=!1,t.index=n}const s=new n;for(const t in i)"row"===t||"column"===t||(s[t]=i[t]);_t.h0(t,s)}else _t.h0(t,i)}static build(t,i,...n){const s=Yt.Ub.get(t);if(e.ot(s)){const e=s([t].concat(n));if(e instanceof Yt)return i&&e.setProperties(i),e}e.o('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')}static defineBuilder(t,i){e.s(t,"string",Yt,"defineBuilder:name"),e.S(i,Yt,"defineBuilder:func");t.toLowerCase();Yt.Ub.set(t,i)}static isBuilderDefined(t){return Yt.Ub.has(t)}static takeBuilderArgument(t,i,n){void 0===n&&(n=null);const s=t[1];return(e.ot(n)?n(s):"string"==typeof s)?(t.splice(1,1),s):(void 0===i&&e.o("no "+(e.ot(n)?"satisfactory":"string")+" argument for GraphObject builder "+t[0]),i)}static Ub=new p;static{Yt.Vertical=4,Yt.Horizontal=5,Yt.defineBuilder("Button",(t=>{const e="#f5f5f5",i="#737373",n="#d4d4d4",s="#737373",r="#a3a3a3",o=2.76142374915397,a=2.761423749153969,l=new ie(ie.Auto,{isActionable:!0,enabledChanged:(t,e)=>{if(t instanceof ie){const i=t.findObject("ButtonBorder");if(null!==i)if(void 0===t._buttonFillNormal&&(t._buttonFillNormal=i.fill),e){let e=null;null!==t.layer&&null!==t.diagram&&t.isVisibleObject()&&(e=t.layer.findObjectAt(t.diagram.lastInput.documentPoint)),e===t||null!==e&&e.isContainedBy(t)?i.fill=t._buttonFillOver:i.fill=t._buttonFillNormal}else i.fill=t._buttonFillDisabled}},cursor:"pointer"}).attach({_buttonFillNormal:void 0,_buttonStrokeNormal:void 0,_buttonFillOver:n,_buttonStrokeOver:s,_buttonFillDisabled:r}).add(new le("RoundedRectangle",{name:"ButtonBorder",spot1:new x(0,0,o,a),spot2:new x(1,1,-o,-a),parameter1:2,fill:e,stroke:i}));return l.mouseEnter=(t,e,i)=>{if(!e.isEnabledObject()||!(e instanceof ie))return;const n=e.findObject("ButtonBorder");n instanceof le&&(void 0===e._buttonFillNormal&&(e._buttonFillNormal=n.fill),n.fill=e._buttonFillOver,void 0===e._buttonStrokeNormal&&(e._buttonStrokeNormal=n.stroke),n.stroke=e._buttonStrokeOver)},l.mouseLeave=(t,e,i)=>{if(!e.isEnabledObject()||!(e instanceof ie))return;const n=e.findObject("ButtonBorder");n instanceof le&&(void 0!==e._buttonFillNormal&&(n.fill=e._buttonFillNormal),void 0!==e._buttonStrokeNormal&&(n.stroke=e._buttonStrokeNormal))},l})),Yt.defineBuilder("TreeExpanderButton",(t=>{const e=Yt.build("Button");return e.attach({_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine",visible:!1}),e.add(new le("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:_.au}).bindObject("figure","isTreeExpanded",((t,e)=>{const i=e.panel;return t?i._treeExpandedFigure:i._treeCollapsedFigure}))),e.bindObject("visible","isTreeLeaf",(t=>!t)),e.click=(t,e)=>{let i=e.part;if(i instanceof ke&&(i=i.adornedPart),!(i instanceof Se))return;const n=i.diagram;if(null===n)return;const s=n.commandHandler;if(i.isTreeExpanded){if(!s.canCollapseTree(i))return}else if(!s.canExpandTree(i))return;t.handled=!0,i.isTreeExpanded?s.collapseTree(i):s.expandTree(i)},e})),Yt.defineBuilder("SubGraphExpanderButton",(t=>{const e=Yt.build("Button");return e.attach({_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"}),e.add(new le("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:_.au}).bindObject("figure","isSubGraphExpanded",((t,e)=>{const i=e.panel;return t?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}))),e.click=(t,e)=>{let i=e.part;if(i instanceof ke&&(i=i.adornedPart),!(i instanceof Ie))return;const n=i.diagram;if(null===n)return;const s=n.commandHandler;if(i.isSubGraphExpanded){if(!s.canCollapseSubGraph(i))return}else if(!s.canExpandSubGraph(i))return;t.handled=!0,i.isSubGraphExpanded?s.collapseSubGraph(i):s.expandSubGraph(i)},e})),Yt.defineBuilder("ToolTip",(t=>new ke(ie.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new y(0,2)}).add(new le("RoundedRectangle",{name:"Border",parameter1:1,fill:"#f5f5f5",strokeWidth:0,spot1:new x(0,0,4,6),spot2:new x(1,1,-4,-4)})))),Yt.defineBuilder("ContextMenu",(t=>new ke(ie.Vertical,{background:"#f5f5f5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new y(0,2)}).bindObject("background","",(t=>null!==t.adornedPart&&t.hasPlaceholder()?null:"#f5f5f5")))),Yt.defineBuilder("ContextMenuButton",(t=>{const e=Yt.build("Button");e.stretch=5;const i=e.findObject("ButtonBorder");return i instanceof le&&(i.figure="Rectangle",i.strokeWidth=0,i.spot1=new x(0,0,4,6),i.spot2=new x(1,1,-4,-4)),e})),Yt.defineBuilder("PanelExpanderButton",(t=>{const e=Yt.takeBuilderArgument(t,"COLLAPSIBLE"),i=Yt.build("Button");i.attach({_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8","ButtonBorder.fill":"rgba(0, 0, 0, 0)",_buttonFillNormal:"rgba(0, 0, 0, 0)","ButtonBorder.stroke":null,_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null}),i.add(new le({name:"ButtonIcon",strokeWidth:2}).bindObject("geometryString","visible",(t=>t?i._buttonExpandedFigure:i._buttonCollapsedFigure),void 0,e));const n=i.findObject("ButtonBorder");return n instanceof le&&(n.stroke=null,n.fill="rgba(0, 0, 0, 0)"),i.click=(t,i)=>{if(!(i instanceof ie))return;const n=i.diagram;if(null===n||n.isReadOnly)return;let s=i.findBindingPanel();if(null===s&&(s=i.part),null!==s){const i=s.findObject(e);null!==i&&(t.handled=!0,n.startTransaction("Collapse/Expand Panel"),i.visible=!i.visible,n.commitTransaction("Collapse/Expand Panel"))}},i})),Yt.defineBuilder("CheckBoxButton",(t=>{const i=Yt.takeBuilderArgument(t),n=Yt.build("Button",{desiredSize:new _(14,14)});n.attach({"ButtonBorder.spot1":new x(0,0,1,1),"ButtonBorder.spot2":new x(1,1,-1,-1)});const s=new le({name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:2,geometryStretch:6,visible:!1});return""!==i&&s.bindTwoWay("visible",i),n.add(s),n.click=(t,n)=>{if(!(n instanceof ie))return;const s=t.diagram;if(null===s||s.isReadOnly||""!==i&&s.model.isReadOnly)return;t.handled=!0;const r=n.findObject("ButtonIcon");s.startTransaction("checkbox"),null!==r&&(r.visible=!r.visible),e.ot(n._doClick)&&n._doClick(t,n),s.commitTransaction("checkbox")},n})),Yt.defineBuilder("CheckBox",(t=>{const e=Yt.takeBuilderArgument(t),i=Yt.build("CheckBoxButton",{name:"Button",isActionable:!1,margin:new b(0,1,0,0)},e),n=new ie("Horizontal",{isActionable:!0,cursor:i.cursor,margin:new b(1),mouseEnter:i.mouseEnter,mouseLeave:i.mouseLeave,click:i.click}).attach({_buttonFillNormal:i._buttonFillNormal,_buttonStrokeNormal:i._buttonStrokeNormal,_buttonFillOver:i._buttonFillOver,_buttonStrokeOver:i._buttonStrokeOver,_buttonFillDisabled:i._buttonFillDisabled,_buttonClick:i.click});return n.add(i),i.mouseEnter=null,i.mouseLeave=null,i.click=null,n}))}}class Ct{gi;Nt;io;Ti;eo;qs;Tl;vr;Or;Ir;zr;Xr;Er;Br;Ur;z0;X0;Vr;Y0;K0;G0;H0;Yr;Kr;C0;I0;ks;Sr;Mr;oo;O0;v0;Pr;M0;q0;W0;constructor(){this.gi=!1,this.Nt="",this.io=-1,this.Ti=null,this.eo=null,this.qs=null,this.Tl="",this.vr=null,this.Or=null,this.Ir=null,this.zr=null,this.Xr=null,this.Er=null,this.Br=null,this.Ur=null,this.z0=null,this.X0=null,this.Vr=null,this.Y0=null,this.K0=null,this.G0=null,this.H0=null,this.Yr=null,this.Kr=null,this.C0=null,this.I0=null,this.ks=null,this.Sr=_.hc,this.Mr=_.Fk,this.oo=1,this.O0=1,this.v0=1,this.Pr=0,this.M0=null,this.q0=null,this.W0="category"}copy(){const t=new Ct;return t.Nt=this.Nt,t.io=this.io,t.Ti=this.Ti,t.qs=this.qs,t.Tl=this.Tl,t.vr=this.vr,t.Or=this.Or,t.Ir=this.Ir,t.zr=this.zr,t.Xr=this.Xr,t.Er=this.Er,t.Br=this.Br,t.Ur=this.Ur,t.z0=this.z0,t.X0=this.X0,t.Vr=this.Vr,t.Y0=this.Y0,t.K0=this.K0,t.G0=this.G0,t.H0=this.H0,t.Yr=this.Yr,t.Kr=this.Kr,t.C0=this.C0,t.I0=this.I0,t.ks=this.ks,t.Sr=this.Sr.N(),t.Mr=this.Mr.N(),t.oo=this.oo,t.O0=this.O0,t.v0=this.v0,t.Pr=this.Pr,t.M0=this.M0,t.q0=this.q0,t.W0=this.W0,t}}class Nt{m;constructor(){this.m=[1,0,0,1,0,0]}copy(){const t=new Nt;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t}translate(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e}scale(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e}rotate(t,e,i){if(t>=360?t-=360:t<0&&(t+=360),0===t)return;this.translate(e,i);let n=0,s=0;if(90===t)n=0,s=1;else if(180===t)n=-1,s=0;else if(270===t)n=0,s=-1;else{const e=t*Math.PI/180;n=Math.cos(e),s=Math.sin(e)}const r=this.m[0]*n+this.m[2]*s,o=this.m[1]*n+this.m[3]*s,a=this.m[0]*-s+this.m[2]*n,l=this.m[1]*-s+this.m[3]*n;this.m[0]=r,this.m[1]=o,this.m[2]=a,this.m[3]=l,this.translate(-e,-i)}}class At{type;x1;y1;r1;x2;y2;r2;colors;pattern;constructor(t){this.type=t,this.x1=0,this.y1=0,this.r1=0,this.x2=0,this.y2=0,this.r2=0,this.colors=[],this.pattern=null}addColorStop(t,e){this.colors.push({offset:t,color:e})}}class Ot{Rt;ci;ya;Wu;P2;constructor(e,i,n){const s=void 0===i?t.document:i;this.ya=s,this.P2="http://www.w3.org/2000/svg";const r="http://www.w3.org/2000/xmlns/";void 0!==s&&(this.Rt=this.makeElement("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",n||(this.style.position="absolute"),this.Rt.setAttributeNS(r,"xmlns",this.P2),this.Rt.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink")),this.Wu=null,this.ci=new Ft(this,n)}resize(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",this.Rt.setAttributeNS(null,"width",i+"px"),this.Rt.setAttributeNS(null,"height",n+"px"),this.Rt.setAttributeNS(null,"viewBox","0 0 "+i+" "+n),this.ci.S2.firstElementChild.setAttributeNS(null,"width",i+"px"),this.ci.S2.firstElementChild.setAttributeNS(null,"height",n+"px"),!0)}makeElement(t,i,n){const s=this.ya.createElementNS(this.P2,t);if(e.H(i))for(const e in i)s.setAttributeNS("href"===e?"http://www.w3.org/1999/xlink":"",e,i[e]);return void 0!==n&&(s.textContent=n),s}getBoundingClientRect(){return this.Rt.getBoundingClientRect()}focus(){this.Rt.focus()}get width(){return this.Rt.width.baseVal.value}set width(t){this.Rt.setAttribute("width",t+"px")}get height(){return this.Rt.height.baseVal.value}set height(t){this.Rt.setAttribute("height",t+"px")}dispose(){this.ya=null}get style(){return this.Rt.style}}class Ft{af;cf;kn;Di;Ke;fillStyle;font;globalAlpha;lineCap;lineDashOffset;lineJoin;lineWidth;miterLimit;shadowBlur;shadowColor;shadowOffsetX;shadowOffsetY;strokeStyle;textAlign;imageSmoothingEnabled;clipInsteadOfFill;lastCreatedElement;ff;uf;surface;svg;S2;SA;zb;Ko;bh;Ta;currentElement;clipPathGroup;diagramGroup;lastDrawnPart;currentPath;outerGroup;pathAttributes;sl;Ar;filter;partClipRect;constructor(t,e){this.surface=t,this.svg=t.Rt,this.ff=[],this.uf=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.sl=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.af=0,this.cf=0,this.kn=0,this.lastCreatedElement=null,this.currentElement=null,this.Di=[],this.pathAttributes={},this.zb=!1,this.Ko=null,this.bh=0,this.Ke=new Nt,this.clipPathGroup=this.newGroup2(),this.diagramGroup=this.newGroup2("gojs-diagram"),this.lastDrawnPart=null,this.currentPath=null;const i=u.dw++,n=this.makeElement("clipPath",{id:"mainClip"+i}),s={x:0,y:0,width:t.width,height:t.height};n.appendChild(this.makeElement("rect",s)),this.S2=n,this.svg.appendChild(this.clipPathGroup),this.clipPathGroup.appendChild(this.diagramGroup),this.svg.appendChild(n),this.clipPathGroup.setAttributeNS(null,"clip-path","url(#mainClip"+i+")"),this.SA={},this.Ar=!!e,this.filter="",this.partClipRect=null}setDiagramPosScale(t,e,i,n,s,r){void 0===this.diagramGroup?this.newGroup(t,e,i,n,s,r):this.diagramGroup.setAttribute("transform","matrix("+t+", "+e+", "+i+", "+n+", "+s+", "+r+")")}resetInnerSVG(){null!==this.diagramGroup&&(this.diagramGroup.innerHTML="")}arc(t,e,i,n,s,r,o,a){const l=2*Math.PI,h=1e-6,u=l-h,c=i*Math.cos(n),d=i*Math.sin(n),f=t+c,m=e+d,g=r?0:1;let p=r?n-s:s-n;(Math.abs(o-f)>h||Math.abs(a-m)>h)&&this.Di.push(["L",f,+m]),p<0&&(p=p%l+l),p>u?(this.Di.push(["A",i,i,0,1,g,t-c,e-d]),this.Di.push(["A",i,i,0,1,g,f,m])):p>h&&this.Di.push(["A",i,i,0,+(p>=Math.PI),g,t+i*Math.cos(s),e+i*Math.sin(s)])}beginPath(){this.Di=[],this.pathAttributes={stroke:"none",fill:"none"}}endPath(t){this.QR(this.Di,this.Ke,t||0)}bezierCurveTo(t,e,i,n,s,r){this.Di.push(["C",t,e,i,n,s,r])}clearRect(t,e,i,n){}clip(){this.pathAttributes.clipPath=!0}closePath(){this.Di.push(["z"])}createLinearGradient(t,e,i,n){const s=new At("linear");return s.x1=t,s.y1=e,s.x2=i,s.y2=n,s}createPattern(t,e){let i="";t instanceof HTMLCanvasElement&&(i=t.toDataURL()),t instanceof HTMLImageElement&&(i=t.getAttribute("src"));const n=this.SA;if(n[i])return"url(#"+n[i]+")";const s="PATTERN"+u.dw++,r={width:t.width,height:t.height,id:s,patternUnits:"userSpaceOnUse"},o={x:0,y:0,width:t.width,height:t.height,href:i},a=this.makeElement("pattern",r);return a.appendChild(this.makeElement(_t.img,o)),this.svg.appendChild(a),n[i]=s,"url(#"+s+")"}createRadialGradient(t,e,i,n,s,r){const o=new At("radial");return o.x1=t,o.y1=e,o.r1=i,o.x2=n,o.y2=s,o.r2=r,o}amendImageTransform(t,e,i,n,s,r,o,a){const l=o/i,h=a/n;(0!==s||0!==r)&&this.Ke.translate(s,r),(1!==l||1!==h)&&this.Ke.scale(l,h),(0!==t||0!==e)&&this.Ke.translate(-t,-e)}drawImage(t,e,i,n,s,r,o,a,l){let h="";t instanceof HTMLCanvasElement&&(h=t.toDataURL()),t instanceof HTMLImageElement&&(h=t.getAttribute("src"));const u=t instanceof HTMLImageElement?t.naturalWidth:t.width,c=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===n&&(r=e,o=i,a=n=u,l=s=c),n=n||0,s=s||0,r=r||0,o=o||0,a=a||0,l=l||0,this.amendImageTransform(e,i,n,s,r,o,a,l);const d={x:0,y:0,width:u||n,height:c||s,href:h};w.Y(n,a)&&w.Y(s,l)?-1===h.toLowerCase().indexOf(".svg")&&-1===h.toLowerCase().indexOf("data:image/svg")&&(d.preserveAspectRatio="xMidYMid slice"):d.preserveAspectRatio="none",(0!==e||0!==i||n!==u||s!==c)&&(n+=e,s+=i,d["clip-path"]=`path('M ${e},${i} L ${n} ${i} L ${n} ${s} L ${e} ${s} z')`),this.processCommon(_t.img,d,this.Ke),this.od(_t.img,d)}fill(t,e){t&&(this.pathAttributes["fill-rule"]="evenodd"),this.setFill(this.pathAttributes)}fillContext(t,e,i){this.clipInsteadOfFill?this.clip():this.fill(e,i)}createOrUpdateClipGroup(t,e){const i=this.newGroup(1,0,0,1,-e.x,-e.y);i.setAttributeNS(null,"class","spotClip"),t.dh=i}fillRect(t,e,i,n){this.addRect("fill",[t,e,i,n],this.Ke)}fillBackground(t,e,i,n){const s={x:t,y:e,width:i,height:n};this.processCommon("fill",s,this.Ke),this.setFill(s),this.svg.prepend(this.makeElement("rect",s))}fillText(t,e,i){this.addText("fill",[t,e,i],this.Ke)}lineTo(t,e){this.Di.push(["L",t,e])}moveTo(t,e){this.Di.push(["M",t,e])}quadraticCurveTo(t,e,i,n){this.Di.push(["Q",t,e,i,n])}rect(t,e,i,n){this.Di.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])}restore(){this.Ke=this.ff.pop(),this.Di=this.ff.pop();const t=this.ff.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.partClipRect=t.partClipRect}save(){const t={fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,partClipRect:this.partClipRect};this.ff.push(t);const e=[];for(let i=0;i<this.Di.length;i++)e.push(this.Di[i]);this.ff.push(e),this.ff.push(this.Ke.copy())}setTransform(t,e,i,n,s,r){1===t&&0===e&&0===i&&1===n&&0===s&&0===r||this.newGroup(t,e,i,n,s,r)}setCurrentTransform(t,e,i,n,s,r){this.Ke.m=[t,e,i,n,s,r]}getCurrentTransform(){const t=this.Ke.m;return"matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}scale(t,e){this.Ke.scale(t,e)}translate(t,e){this.Ke.translate(t,e)}transform(t,e,i,n,s,r){}commitTransform(){}stroke(){this.setStroke(this.pathAttributes)}strokeContext(){this.clipInsteadOfFill||this.stroke()}strokeRect(t,e,i,n){this.addRect("stroke",[t,e,i,n],this.Ke)}makeElement(t,e,i){return this.surface.makeElement(t,e,i)}od(t,e,i){const n=this.makeElement(t,e,i);return null!==this.currentElement?this.currentElement.appendChild(n):this.currentElement=n,this.lastCreatedElement=n,n}processCommon(t,e,i){if("fill"===t?this.setFill(e):"stroke"===t&&this.setStroke(e),null!==i){const t=i.m;e.transform="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}}setFill(t){if(this.fillStyle instanceof At)t.fill=this.addGradient(this.fillStyle,!0);else if(/^rgba\(/.test(this.fillStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);t.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",t["fill-opacity"]=e[4]}else t.fill=this.fillStyle}setFillOrStrokeInPlace(t,e){const i=e?"fill":"stroke";if(this.fillStyle instanceof At)t.setAttributeNS(null,"fill",this.addGradient(this.fillStyle,!0));else if(/^rgba\(/.test(this.fillStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);t.setAttributeNS(null,i,"rgb("+e[1]+","+e[2]+","+e[3]+")"),t.setAttributeNS(null,i+"-opacity",e[4])}else t.setAttributeNS(null,i,this.fillStyle)}setStroke(t){if(this.strokeStyle instanceof At)t.stroke=this.addGradient(this.strokeStyle,!1);else if(/^rgba\(/.test(this.strokeStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.strokeStyle);t.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",t["stroke-opacity"]=e[4]}else t.stroke=this.strokeStyle;t["stroke-width"]=this.lineWidth,t["stroke-linecap"]=this.lineCap,t["stroke-linejoin"]=this.lineJoin,t["stroke-miterlimit"]=this.miterLimit,this.zb&&(t["stroke-dasharray"]=this.Ko.toString(),t["stroke-dashoffset"]=this.bh)}addGradient(t,i){let n="";const s=null!==this.currentPath?this.currentPath.getAttribute(i?"fill":"stroke"):null;if(null!==s&&-1!==s.indexOf("GRAD")){n=s.split("#")[1].slice(0,-1);const t=this.svg.getElementById(n);null!==t&&t.remove()}else n="GRAD"+u.dw++;let r;if("linear"===t.type){const e={x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,id:n,gradientUnits:"userSpaceOnUse"};r=this.makeElement("linearGradient",e)}else if("radial"===t.type){const e={x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,r1:t.r1,r2:t.r2,id:n};r=this.makeElement("radialGradient",e)}else e.o("invalid gradient");const o=t.colors,a=o.length,l=[];for(let e=0;e<a;e++){const t=o[e],i=t.color,n={offset:t.offset,"stop-color":i};if(/^rgba\(/.test(i)){const t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(i);n["stop-color"]="rgb("+t[1]+","+t[2]+","+t[3]+")",n["stop-opacity"]=t[4]}l.push(n)}l.sort(((t,e)=>t.offset>e.offset?1:-1));for(let e=0;e<a;e++)r.appendChild(this.makeElement("stop",l[e]));return this.svg.appendChild(r),"url(#"+n+")"}addRect(t,e,i){const n={x:e[0],y:e[1],width:e[2],height:e[3]};this.processCommon(t,n,i),this.od("rect",n)}addText(t,e,i){let n=this.textAlign;"left"===n?n="start":"right"===n?n="end":"center"===n&&(n="middle");const s={x:e[1],y:e[2],style:"font: "+this.font,"text-anchor":n};this.processCommon(t,s,i),this.od("text",s,e[0])}QR(t,e,i){const n=this._R(t),s=this.pathAttributes;if(s.clipPath)this.uf.length>1&&this.uf[this.uf.length-2].setAttributeNS(null,"clip-path",'path("'+n+'") view-box');else if(s.d=n,this.processCommon("",s,e),null!==this.currentPath){const t=this.currentPath;if("g"!==t.nodeName)for(const e in s)"transform"!==e&&t.setAttributeNS(null,e,s[e]);else{const e=t.getElementsByTagName("path");for(const t in s)"transform"!==t&&e[i].setAttributeNS(null,t,s[t])}}else this.od("path",s)}_R(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i].slice(),s=[n.shift()];if("A"===s[0])s.push(n.shift()+","+n.shift(),n.shift(),n.shift()+","+n.shift(),n.shift()+","+n.shift());else for(;n.length;)s.push(n.shift()+","+n.shift());e.push(s.join(" "))}return e.join(" ")}newGroup(t,e,i,n,s,r){const o=new Nt;o.m=[t,e,i,n,s,r];const a={};this.processCommon("g",a,o);const l=this.od("g",a);return this.uf.push(l),l}newGroup2(t){const e={};t&&(e.class=t);const i=this.od("g",e);return this.uf.push(i),i}endGroup(){return this.uf.pop()}dummyGroup(){return this.newGroup2(),this.endGroup()}shadowsSet(t,e,i){this.af=t,this.cf=e,this.kn=i}shadowsOff(){this.sl=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.sl=!0,this.shadowOffsetX=this.af,this.shadowOffsetY=this.cf,this.shadowBlur=this.kn}enableDash(t,e){this.zb=!0,this.Ko=t,this.bh=e}disableDash(){this.zb=!1}clearContextCache(t){}setImageSmoothingEnabled(t){}rotate(t){this.Ke.rotate(57.2958*t,0,0)}getImageData(t,e,i,n){return null}measureText(t){return null}removeOldGradient(t,e,i){const n=e.getAttribute(i);if(null===n)return;const s=n.split("#");if(1===s.length)return;const r=this.svg.getElementById(s[1].slice(0,-1));if(null!==r){const t=new RegExp(r.id,"g");1===this.svg.innerHTML.match(t).length&&r.remove()}}removePartFromView(t){null!==t.svg&&t.svg.parentNode===this.diagramGroup&&t.svg.remove()}}class Rt{Rt;ci;ya;Wu;constructor(e,i,n,s){const r=void 0===i?t.document:i;this.ya=r,this.Wu=null;const o=r.createElement("canvas");o.tabIndex=0,this.Rt=o,this.ci=new Et(o,n,s),_t.is.set(o,e)}resize(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",!0)}toDataURL(t,e){return this.Rt.toDataURL(t,e)}getBoundingClientRect(){return this.Rt.getBoundingClientRect()}focus(){this.Rt.focus()}get width(){return this.Rt.width}set width(t){this.Rt.width=t}get height(){return this.Rt.height}set height(t){this.Rt.height=t}dispose(){_t.is.delete(this.Rt),this.ya=null}get style(){return this.Rt.style}}class Et{U;Xb;Yb;Kb;clipInsteadOfFill;af;cf;kn;Ta;sl;Ar;constructor(t,i,n){this.U=t.getContext?t.getContext("2d",i):null,null===this.U&&e.o("Browser does not support HTML Canvas Element"),this.Xb="",this.Yb="",this.Kb="",this.clipInsteadOfFill=!1,this.af=0,this.cf=0,this.kn=0,this.sl=!1,this.Ta=new M,this.Ar=!!n}createOrUpdateClipGroup(t,e){}setImageSmoothingEnabled(t){this.U.imageSmoothingEnabled=t}get fillStyle(){return this.U.fillStyle}set fillStyle(t){this.Kb!==t&&(this.U.fillStyle=t,this.Kb=t)}get font(){return this.U.font}set font(t){this.Xb!==t&&(this.U.font=t,this.Xb=t)}get globalAlpha(){return this.U.globalAlpha}set globalAlpha(t){this.U.globalAlpha=t}get lineCap(){return this.U.lineCap}set lineCap(t){this.U.lineCap=t}get lineDashOffset(){return this.U.lineDashOffset}set lineDashOffset(t){this.U.lineDashOffset=t}get lineJoin(){return this.U.lineJoin}set lineJoin(t){this.U.lineJoin=t}get lineWidth(){return this.U.lineWidth}set lineWidth(t){this.U.lineWidth=t}get miterLimit(){return this.U.miterLimit}set miterLimit(t){this.U.miterLimit=t}get shadowBlur(){return this.U.shadowBlur}set shadowBlur(t){this.U.shadowBlur=t}get shadowColor(){return this.U.shadowColor}set shadowColor(t){this.U.shadowColor=t}get shadowOffsetX(){return this.U.shadowOffsetX}set shadowOffsetX(t){this.U.shadowOffsetX=t}get shadowOffsetY(){return this.U.shadowOffsetY}set shadowOffsetY(t){this.U.shadowOffsetY=t}get strokeStyle(){return this.U.strokeStyle}set strokeStyle(t){this.Yb!==t&&(this.U.strokeStyle=t,this.Yb=t)}get textAlign(){return this.U.textAlign}set textAlign(t){this.U.textAlign=t}get imageSmoothingEnabled(){return this.U.imageSmoothingEnabled}set imageSmoothingEnabled(t){this.U.imageSmoothingEnabled=t}get filter(){return this.U.filter}set filter(t){this.U.filter=""===t?"none":t}arc(t,e,i,n,s,r,o,a){this.U.arc(t,e,i,n,s,r)}beginPath(){this.U.beginPath()}endPath(){}bezierCurveTo(t,e,i,n,s,r){this.U.bezierCurveTo(t,e,i,n,s,r)}clearRect(t,e,i,n){this.commitTransform(),this.U.clearRect(t,e,i,n)}clip(t){t?this.U.clip(t):this.U.clip()}closePath(){this.U.closePath()}createLinearGradient(t,e,i,n){return this.U.createLinearGradient(t,e,i,n)}createPattern(t,e){return this.U.createPattern(t,e)}createRadialGradient(t,e,i,n,s,r){return this.U.createRadialGradient(t,e,i,n,s,r)}drawImage(t,e,i,n,s,r,o,a,l){void 0===n?this.U.drawImage(t,e,i):this.U.drawImage(t,e,i,n,s,r,o,a,l)}fill(t,e){e?this.U.fill(e,t?"evenodd":"nonzero"):this.U.fill(t?"evenodd":"nonzero")}fillRect(t,e,i,n){this.U.fillRect(t,e,i,n)}fillBackground(t,e,i,n){this.U.fillRect(t,e,i,n)}fillText(t,e,i){this.U.fillText(t,e,i)}getImageData(t,e,i,n){return this.U.getImageData(t,e,i,n)}lineTo(t,e){this.U.lineTo(t,e)}measureText(t){return this.U.measureText(t)}moveTo(t,e){this.U.moveTo(t,e)}quadraticCurveTo(t,e,i,n){this.U.quadraticCurveTo(t,e,i,n)}rect(t,e,i,n){this.U.rect(t,e,i,n)}restore(){this.U.restore()}save(){this.commitTransform(),this.U.save()}rotate(t){this.Ta.ds(57.2958*t,0,0)}setTransform(t,e,i,n,s,r){this.Ta.setTo(t,e,i,n,s,r)}scale(t,e){this.Ta.nt(t,e)}translate(t,e){this.Ta.Es(t,e)}stroke(t){t?this.U.stroke(t):this.U.stroke()}transform(t,e,i,n,s,r){if(1===t&&0===e&&0===i&&1===n&&0===s&&0===r)return;const o=this.Ta,a=o.m11*t+o.m21*e,l=o.m12*t+o.m22*e,h=o.m11*i+o.m21*n,u=o.m12*i+o.m22*n;o.dx=o.m11*s+o.m21*r+o.dx,o.dy=o.m12*s+o.m22*r+o.dy,o.m11=a,o.m12=l,o.m21=h,o.m22=u}commitTransform(){const t=this.Ta;this.U.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)}fillContext(t,e,i){this.radialFill(t,e,i)||this.fillOrClip(e,i)}radialFill(t,e,i){if(!(t instanceof Bt)||3!==t.type)return!1;const n=t.of,s=t.Eb;return s>n?(this.scale(n/s,1),this.translate((s-n)/2,0)):n>s&&(this.scale(1,s/n),this.translate(0,(n-s)/2)),this.fillOrClip(e,i),s>n?(this.translate(-(s-n)/2,0),this.scale(1/(n/s),1)):n>s&&(this.translate(0,-(n-s)/2),this.scale(1,1/(s/n))),!0}strokeContext(){this.clipInsteadOfFill||this.stroke()}fillOrClip(t,e){this.clipInsteadOfFill?this.clip(e):this.fill(t,e)}shadowsSet(t,e,i){this.af=t,this.cf=e,this.kn=i}shadowsOff(){this.sl=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.sl=!0,this.shadowOffsetX=this.af,this.shadowOffsetY=this.cf,this.shadowBlur=this.kn}enableDash(t,e){const i=this.U;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=e)}disableDash(){const t=this.U;void 0!==t.setLineDash&&(t.setLineDash(Et.EmptyArray),t.lineDashOffset=0)}clearContextCache(t){t&&(this.Xb=""),this.Yb="",this.Kb=""}removePartFromView(t){}static EmptyArray=Object.freeze([])}var It=(t=>(t[t.Solid=1]="Solid",t[t.Linear=2]="Linear",t[t.Radial=3]="Radial",t[t.Pattern=4]="Pattern",t))(It||{}),jt=(t=>(t[t.Lab=1]="Lab",t[t.HSL=2]="HSL",t[t.Oklch=3]="Oklch",t))(jt||{});class Ht{n0;n1;n2;n3;constructor(){this.n0=0,this.n1=0,this.n2=0,this.n3=0}}class Bt{h;$;Da;oi;ys;J0;$0;Go;Z0;xn;of;Eb;constructor(t,i){if(u.qi(this),this.h=!1,void 0===t)this.$=1,this.Da="black";else if("string"==typeof t){const i=e.Xh(It,t);null!==i?(this.$=i,this.Da="black"):(this.$=1,this.Da=t)}else Object.keys(It).hasOwnProperty(t)?(this.$=t,this.Da="black"):"object"==typeof t&&(this.$=1,i=t);const n=this.$;if(2===n?(this.oi=x.TopCenter,this.ys=x.BottomCenter):3===n?(this.oi=x.Center,this.ys=x.Center):(this.oi=x.None,this.ys=x.None),this.J0=0,this.$0=NaN,this.Go=null,this.Z0=null,this.xn=null,this.of=0,this.Eb=0,i){const t={};for(const e in i)isFinite(parseFloat(e))?this.addColorStop(parseFloat(e),i[e]):t[e]=i[e];Object.assign(this,t)}}copy(){const t=new Bt;return t.$=this.$,t.Da=this.Da,t.oi=this.oi.N(),t.ys=this.ys.N(),t.J0=this.J0,t.$0=this.$0,null!==this.Go&&(t.Go=this.Go.copy()),t.Z0=this.Z0,t}u(){return this.h=!0,null!==this.Go&&this.Go.u(),this}hi(t){t in It?this.type=t:e.cr(this,t)}toString(){let t="Brush(";if(1===this.type)t+=this.color;else if(2===this.type?t+="Linear ":3===this.type?t+="Radial ":4===this.type?t+="Pattern ":t+="(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops){const e=this.colorStops.iterator;for(;e.next();){const i=e.key,n=e.value;t+=" "+i+":"+n}}return t+=")",t}addColorStop(t,i){return this.h&&e.D(this),("number"!=typeof t||!isFinite(t)||t>1||t<0)&&e._(t,"0 <= loc <= 1",Bt,"addColorStop:loc"),e.s(i,"string",Bt,"addColorStop:color"),null===this.Go&&(this.Go=new p),this.Go.set(t,i),1===this.$&&(this.type=2),this.xn=null,this}get type(){return this.$}set type(t){this.h&&e.D(this,t),this.$=t,this.start.isNoSpot()&&(2===t?this.start=x.TopCenter:3===t&&(this.start=x.Center)),this.end.isNoSpot()&&(2===t?this.end=x.BottomCenter:3===t&&(this.end=x.Center)),this.xn=null}get color(){return this.Da}set color(t){this.h&&e.D(this,t),this.Da=t,this.xn=null}get start(){return this.oi}set start(t){this.h&&e.D(this,t),this.oi=t.N(),this.xn=null}get end(){return this.ys}set end(t){this.h&&e.D(this,t),this.ys=t.N(),this.xn=null}get startRadius(){return this.J0}set startRadius(t){this.h&&e.D(this,t),t<0&&e._(t,">= zero",Bt,"startRadius"),this.J0=t,this.xn=null}get endRadius(){return this.$0}set endRadius(t){this.h&&e.D(this,t),t<0&&e._(t,">= zero",Bt,"endRadius"),this.$0=t,this.xn=null}get colorStops(){return this.Go}set colorStops(t){this.h&&e.D(this,t),this.Go=t,this.xn=null}get pattern(){return this.Z0}set pattern(t){this.h&&e.D(this,t),this.Z0=t,this.xn=null}static randomColor(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));const i=Math.abs(e-t);let n=Math.floor(t+Math.random()*i).toString(16),s=Math.floor(t+Math.random()*i).toString(16),r=Math.floor(t+Math.random()*i).toString(16);return n.length<2&&(n="0"+n),s.length<2&&(s="0"+s),r.length<2&&(r="0"+r),"#"+n+s+r}static isValidColor(e){return!t.CSS||t.CSS.supports("color",e)}static lighten(t){return Bt.lightenBy(t)}lightenBy(t,i){this.h&&e.D(this);const n=void 0===t||"number"!=typeof t?.2:t,s=void 0===i?3:i;if(1===this.type)Bt.vo(this.color),this.color=Bt.rd(n,s);else if((2===this.type||3===this.type)&&null!==this.colorStops){const t=this.colorStops.iterator;for(;t.next();)Bt.vo(t.value),this.addColorStop(t.key,Bt.rd(n,s))}return this}static lightenBy(t,e,i){const n=void 0===e||"number"!=typeof e?.2:e,s=void 0===i?3:i;return Bt.vo(t),Bt.rd(n,s)}static darken(t){return Bt.darkenBy(t)}darkenBy(t,i){this.h&&e.D(this);const n=void 0===t||"number"!=typeof t?.2:t,s=void 0===i?3:i;if(1===this.type)Bt.vo(this.color),this.color=Bt.rd(-n,s);else if((2===this.type||3===this.type)&&null!==this.colorStops){const t=this.colorStops.iterator;for(;t.next();)Bt.vo(t.value),this.addColorStop(t.key,Bt.rd(-n,s))}return this}static darkenBy(t,e,i){const n=void 0===e||"number"!=typeof e?.2:e,s=void 0===i?3:i;return Bt.vo(t),Bt.rd(-n,s)}static mix(t,e,i){Bt.vo(t);const n=Bt.G.n0,s=Bt.G.n1,r=Bt.G.n2,o=Bt.G.n3;Bt.vo(e),void 0===i&&(i=.5);const a=Math.round((Bt.G.n0-n)*i+n),l=Math.round((Bt.G.n1-s)*i+s),h=Math.round((Bt.G.n2-r)*i+r),u=Math.round((Bt.G.n3-o)*i+o);return`rgba(${a}, ${l}, ${h}, ${u})`}isDark(){if(1===this.type)return Bt.isDark(this.color);if((2===this.type||3===this.type)&&null!==this.colorStops){const t=this.colorStops;if(3===this.type)return Bt.isDark(t.first().value);if(null!==t.get(.5))return Bt.isDark(t.get(.5));if(2===t.count){const e=t.toArray();return Bt.isDark(Bt.mix(e[0].value,e[1].value))}const e=t.iterator;let i=-1,n=-1,s=1,r=1;for(;e.next();){const t=e.key,o=Math.abs(.5-e.key);s>r&&o<s?(i=t,s=o):r>=s&&o<r&&(n=t,r=o)}if(i>n){let t=i;i=n,n=t,t=s,s=r,r=t}const o=n-i;return Bt.isDark(Bt.mix(t.get(i),t.get(n),1-r/o))}return!1}static isDark(t){return!!t&&(t instanceof Bt?t.isDark():(Bt.vo(t),(299*Bt.G.n0+587*Bt.G.n1+114*Bt.G.n2)/1e3<128))}static rd(t,i){switch(i){case 1:return Bt.tv(),Bt.ro.n0=Math.min(100,Math.max(0,Bt.ro.n0+100*t)),Bt.iv(),"rgba("+Bt.G.n0+", "+Bt.G.n1+", "+Bt.G.n2+", "+Bt.G.n3+")";case 2:return Bt.US(),Bt.Ui.n2=Math.min(100,Math.max(0,Bt.Ui.n2+100*t)),"hsla("+Bt.Ui.n0+", "+Bt.Ui.n1+"%, "+Bt.Ui.n2+"%, "+Bt.Ui.n3+")";case 3:return Bt.ev(),Bt.lo.n0=Math.min(100,Math.max(0,Bt.lo.n0+100*t)),Bt.sv(),"rgba("+Bt.G.n0+", "+Bt.G.n1+", "+Bt.G.n2+", "+Bt.G.n3+")";default:e.o("Unknown color space: "+i)}}static vo(t){const e=Bt.nl;if(null===e)return;e.clearRect(0,0,1,1),e.fillStyle="#000000";const i=e.fillStyle;if(e.fillStyle=t,e.fillStyle!==i){e.fillRect(0,0,1,1);const t=e.getImageData(0,0,1,1).data;Bt.G.n0=t[0],Bt.G.n1=t[1],Bt.G.n2=t[2],Bt.G.n3=t[3]/255}else{e.fillStyle="#FFFFFF";e.fillStyle;e.fillStyle=t,e.fillStyle,Bt.G.n0=0,Bt.G.n1=0,Bt.G.n2=0,Bt.G.n3=1}}static US(){const t=Bt.G.n0/255,e=Bt.G.n1/255,i=Bt.G.n2/255,n=Math.max(t,e,i),s=Math.min(t,e,i),r=n-s;let o,a;const l=(n+s)/2;if(0===r)o=a=0;else{switch(n){case t:o=(e-i)/r%6;break;case e:o=(i-t)/r+2;break;case i:o=(t-e)/r+4;break}o*=60,o<0&&(o+=360),a=r/(1-Math.abs(2*l-1))}Bt.Ui.n0=Math.round(o),Bt.Ui.n1=Math.round(100*a),Bt.Ui.n2=Math.round(100*l),Bt.Ui.n3=Bt.G.n3}static SE(){const t=Bt.Ui.n0,e=Bt.Ui.n1/100,i=Bt.Ui.n2/100;let n,s,r;const o=(1-Math.abs(2*i-1))*e,a=t/60,l=o*(1-Math.abs(a%2-1));a>=0&&a<1?(n=o,s=l,r=0):a>=1&&a<2?(n=l,s=o,r=0):a>=2&&a<3?(n=0,s=o,r=l):a>=3&&a<4?(n=0,s=l,r=o):a>=4&&a<5?(n=l,s=0,r=o):a>=5&&a<6&&(n=o,s=0,r=l);const h=i-.5*o;n+=h,s+=h,r+=h,Bt.G.n0=Math.round(255*n),Bt.G.n1=Math.round(255*s),Bt.G.n2=Math.round(255*r),Bt.G.n3=Bt.Ui.n3}static tv(){Bt.MA(),Bt.nv()}static iv(){Bt.ov(),Bt.NA()}static M2(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}static N2(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}static MA(){const t=Bt.M2(Bt.G.n0),e=Bt.M2(Bt.G.n1),i=Bt.M2(Bt.G.n2);Bt.vt.n0=.4124564*t+.3575761*e+.1804375*i,Bt.vt.n1=.2126729*t+.7151522*e+.072175*i,Bt.vt.n2=.0193339*t+.119192*e+.9503041*i,Bt.vt.n3=Bt.G.n3}static NA(){const t=3.2404542*Bt.vt.n0+-1.5371385*Bt.vt.n1+-.4985314*Bt.vt.n2,e=-.969266*Bt.vt.n0+1.8760108*Bt.vt.n1+.041556*Bt.vt.n2,i=.0556434*Bt.vt.n0+-.2040259*Bt.vt.n1+1.0572252*Bt.vt.n2;Bt.G.n0=255*Bt.N2(t),Bt.G.n1=255*Bt.N2(e),Bt.G.n2=255*Bt.N2(i),Bt.G.n3=Bt.vt.n3,Bt.G.n0=Math.round(Bt.G.n0),Bt.G.n0>255?Bt.G.n0=255:Bt.G.n0<0&&(Bt.G.n0=0),Bt.G.n1=Math.round(Bt.G.n1),Bt.G.n1>255?Bt.G.n1=255:Bt.G.n1<0&&(Bt.G.n1=0),Bt.G.n2=Math.round(Bt.G.n2),Bt.G.n2>255?Bt.G.n2=255:Bt.G.n2<0&&(Bt.G.n2=0)}static C2=216/24389;static Gb=24389/27;static ld=[95.047,100,108.883];static L2(t){return t>Bt.C2?Math.pow(t,1/3):(Bt.Gb*t+16)/116}static nv(){const t=Bt.L2(100*Bt.vt.n0/Bt.ld[0]),e=Bt.L2(100*Bt.vt.n1/Bt.ld[1]),i=Bt.L2(100*Bt.vt.n2/Bt.ld[2]);Bt.ro.n0=116*e-16,Bt.ro.n1=500*(t-e),Bt.ro.n2=200*(e-i),Bt.ro.n3=Bt.vt.n3}static CA(t){const e=t*t*t;return e>Bt.C2?e:(116*t-16)/Bt.Gb}static ov(){const t=(Bt.ro.n0+16)/116,e=Bt.ro.n1/500+t,i=t-Bt.ro.n2/200;Bt.vt.n0=Bt.ld[0]/100*Bt.CA(e),Bt.vt.n1=Bt.ld[1]/100*(Bt.ro.n0>Bt.Gb*Bt.C2?Math.pow(t,3):Bt.ro.n0/Bt.Gb),Bt.vt.n2=Bt.ld[2]/100*Bt.CA(i),Bt.vt.n3=Bt.ro.n3}static rv(){let t=.8190224*Bt.vt.n0+.3619062*Bt.vt.n1+-.1288737*Bt.vt.n2,e=.03298366*Bt.vt.n0+.9292868*Bt.vt.n1+.03614466*Bt.vt.n2,i=.04817719*Bt.vt.n0+.2642395*Bt.vt.n1+.6335478*Bt.vt.n2;t=Math.cbrt(t),e=Math.cbrt(e),i=Math.cbrt(i),Bt.ui.n0=.2104542*t+.7936177*e+-.004072046*i,Bt.ui.n1=1.977998*t+-2.428592*e+.4505937*i,Bt.ui.n2=.02590403*t+.7827717*e+-.8086757*i,Bt.ui.n3=Bt.vt.n3,Bt.ui.n0*=100}static lv(){Bt.ui.n0/=100;let t=.9999999*Bt.ui.n0+.3963377*Bt.ui.n1+.2158037*Bt.ui.n2,e=1.000000009*Bt.ui.n0+-.1055613*Bt.ui.n1+-.06385417*Bt.ui.n2,i=1.00000005*Bt.ui.n0+-.08948418*Bt.ui.n1+-1.291485*Bt.ui.n2;t=t**3,e=e**3,i=i**3,Bt.vt.n0=1.2268798*t+-.5578149*e+.281391*i,Bt.vt.n1=-.04057576*t+1.112286*e+-.07171106*i,Bt.vt.n2=-.07637294*t+-.4214933*e+1.586924*i,Bt.vt.n3=Bt.ui.n3}static hv(){const t=180*Math.atan2(Bt.ui.n2,Bt.ui.n1)/Math.PI;Bt.lo.n0=Bt.ui.n0,Bt.lo.n1=Math.sqrt(Bt.ui.n1**2+Bt.ui.n2**2),Bt.lo.n2=t>=0?t:t+360,Bt.lo.n3=Bt.ui.n3}static av(){Bt.ui.n0=Bt.lo.n0,Bt.ui.n1=Bt.lo.n1*Math.cos(Bt.lo.n2*Math.PI/180),Bt.ui.n2=Bt.lo.n1*Math.sin(Bt.lo.n2*Math.PI/180),Bt.ui.n3=Bt.lo.n3}static ev(){Bt.MA(),Bt.rv(),Bt.hv()}static sv(){Bt.av(),Bt.lv(),Bt.NA()}static nd(t,i){"string"==typeof t||t instanceof Bt||e.o("Value for "+i+" must be a color string or a Brush, not "+t)}static Solid=1;static Linear=2;static Radial=3;static Pattern=4;static Lab=1;static HSL=2;static nl=_t.isUsingDOM()?new Rt(null,void 0,{willReadFrequently:!0}).ci:null;static G=new Ht;static Ui=new Ht;static vt=new Ht;static ro=new Ht;static ui=new Ht;static lo=new Ht}class zt{Nt="Base";static os=new p;static Pn(t,e){e.name=t,zt.os.set(t,e)}get name(){return this.Nt}set name(t){this.Nt=t}constructor(){}get classType(){return ie}measure(t,e,i,n,s,r,o){}measureElement(t,e,i,n,s){t.ut(e,i,n,s)}arrange(t,e,i){}arrangeElement(t,e,i,n,s,r){t.Xt(e,i,n,s,r)}remeasureObject(t){t.rf()}zi(t,e,i){}}class Vt extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){const a=n.length,l=t.Ho();for(let h=0;h<a;h++){const t=n[h];if(!t.visible&&t!==l)continue;const a=t.margin,u=a.right+a.left,c=a.top+a.bottom;t.ut(e,i,r,o);const d=t.measuredBounds,f=Math.max(d.width+u,0),m=Math.max(d.height+c,0);let g=t.position.x,p=t.position.y;if(isFinite(g)||(g=0),isFinite(p)||(p=0),t instanceof le&&t.isGeometryPositioned){const e=t.strokeWidth/2;g-=e,p-=e}s.unionNoCheck(g,p,f,m)}}arrange(t,e,i){const n=e.length,s=t.padding,r=i.x-s.left,o=i.y-s.top;for(let a=0;a<n;a++){const t=e[a],i=t.measuredBounds,n=t.margin,s=t.position.x,l=t.position.y;let h=isNaN(s)?-r:s-r,u=isNaN(l)?-o:l-o;if(t instanceof le&&t.isGeometryPositioned){const e=t.strokeWidth/2;h-=e,u-=e}t.visible&&t.Xt(h+n.left,u+n.top,i.width,i.height)}}}zt.Pn("Position",new Vt);class Wt extends zt{constructor(){super()}measure(t,i,n,s,r,o,a){const l=s.length,h=e.rt(),u=t.Ho();for(let e=0;e<l;e++){const t=s[e];if(!t.visible&&t!==u)continue;const i=t.Hs(!1);if(0!==i&&5!==i){h.push(t);continue}t.ut(1/0,n,0,a);const o=t.margin,l=t.measuredBounds,c=Math.max(l.width+o.right+o.left,0),d=Math.max(l.height+o.top+o.bottom,0);r.zn(r.width+c,Math.max(r.height,d))}const c=h.length;t.desiredSize.height?n=Math.min(t.desiredSize.height,t.maxSize.height):0!==r.height&&(n=Math.min(r.height,t.maxSize.height));for(let e=0;e<c;e++){const t=h[e];if(!t.visible&&t!==u)continue;const i=t.margin,s=i.right+i.left,o=i.top+i.bottom;t.ut(1/0,n,0,a);const l=t.measuredBounds,c=Math.max(l.width+s,0),d=Math.max(l.height+o,0);r.width+=c,r.height=Math.max(r.height,d)}e.tt(h)}arrange(t,e,i){const n=e.length,s=t.padding,r=s.top,o=t.isOpposite;let a=o?i.width:s.left;for(let l=0;l<n;l++){const n=r,h=e[l];if(!h.visible)continue;const u=h.measuredBounds,c=h.margin,d=c.top+c.bottom,f=r+s.bottom;let m=u.height;const g=h.Hs(!1);(isNaN(h.desiredSize.height)&&2===g||4===g)&&(m=Math.max(i.height-d-f,0));const p=m+d+f;let y=h.alignment;y.isDefault()&&(y=t.defaultAlignment),y.isSpot()||(y=x.Center),o&&(a-=u.width+c.left+c.right),h.Xt(a+y.offsetX+c.left,n+y.offsetY+c.top+(i.height*y.y-p*y.y),u.width,m),o||(a+=u.width+c.left+c.right)}}}zt.Pn("Horizontal",new Wt);class Gt extends zt{constructor(){super()}measure(t,i,n,s,r,o,a){const l=s.length,h=e.rt(),u=t.Ho();for(let e=0;e<l;e++){const t=s[e];if(!t.visible&&t!==u)continue;const n=t.Hs(!1);if(0!==n&&4!==n){h.push(t);continue}t.ut(i,1/0,o,0);const a=t.margin,l=t.measuredBounds,c=Math.max(l.width+a.right+a.left,0),d=Math.max(l.height+a.top+a.bottom,0);r.zn(Math.max(r.width,c),r.height+d)}const c=h.length;t.desiredSize.width?i=Math.min(t.desiredSize.width,t.maxSize.width):0!==r.width&&(i=Math.min(r.width,t.maxSize.width));for(let e=0;e<c;e++){const t=h[e];if(!t.visible&&t!==u)continue;const n=t.margin,s=n.right+n.left,a=n.top+n.bottom;t.ut(i,1/0,o,0);const l=t.measuredBounds,c=Math.max(l.width+s,0),d=Math.max(l.height+a,0);r.width=Math.max(r.width,c),r.height+=d}e.tt(h)}arrange(t,e,i){const n=e.length,s=t.padding,r=s.left,o=t.isOpposite;let a=o?i.height:s.top;for(let l=0;l<n;l++){const n=r,h=e[l];if(!h.visible)continue;const u=h.measuredBounds,c=h.margin,d=c.left+c.right,f=r+s.right;let m=u.width;const g=h.Hs(!1);(isNaN(h.desiredSize.width)&&2===g||5===g)&&(m=Math.max(i.width-d-f,0));const p=m+d+f;let y=h.alignment;y.isDefault()&&(y=t.defaultAlignment),y.isSpot()||(y=x.Center),o&&(a-=u.height+c.bottom+c.top),h.Xt(n+y.offsetX+c.left+(i.width*y.x-p*y.x),a+y.offsetY+c.top,m,u.height),o||(a+=u.height+c.bottom+c.top)}}}zt.Pn("Vertical",new Gt);class Ut extends zt{constructor(){super()}static LA=!1;measure(t,i,n,s,r,o,a){const l=s.length;if(0===l)return;const h=t.findMainElement();let u=h.margin,c=0,d=0;const f=u.right+u.left,m=u.top+u.bottom;h.ut(i,n,o,a);let g=h.measuredBounds,p=g.width,_=g.height,b=Math.max(p+f,0),M=Math.max(_+m,0);const w=t.isClipping;w&&0!==h.k0()&&!Ut.LA&&(Ut.LA=!0,e.li("Main Shape for Spot Panel with isClipping = true must have a zero strokeWidth: "+t.toString()));const k=v.X(-u.left,-u.top,b,M);let L=v.X(0,0,p,_);this.A2(h,L,!0),p=L.width,_=L.height;let S=!0;const T=t.Ho();let D;for(let e=0;e<l;e++){const o=s[e];let a=i,l=n;if(o===h||!o.visible&&o!==T)continue;u=o.margin;let f=u.left,m=u.top;switch(c=u.right+u.left,d=u.top+u.bottom,D=o.Hs(!1),D){case 2:a=p,l=_,c=0,d=0,f=0,m=0;break;case 5:a=p,c=0,f=0;break;case 4:l=_,d=0,m=0;break}o.ut(a,l,0,0),g=o.measuredBounds,b=Math.max(g.width+c,0),M=Math.max(g.height+d,0);let v=o.alignment;v.isDefault()&&(v=t.defaultAlignment),v.isSpot()||(v=x.Center);let w=o.alignmentFocus;w.isDefault()&&(w=x.Center);let k=null;o instanceof ie&&""!==o.ho&&(k=o.findObject(o.ho),k===o&&(k=null));let P=L.x-f,Y=L.y-m;if(null!==k){o.Xt(0,0,g.width,g.height);const t=k.actualBounds,e=y.X(t.x+(w.x*t.width-w.offsetX),t.y+(w.y*t.height-w.offsetY));for(k=k.panel;k!==o;)k.F.xt(e),k=k.panel;P+=v.x*p+v.offsetX-e.x,Y+=v.y*_+v.offsetY-e.y,y.e(e)}else P+=v.x*p+v.offsetX-(w.x*g.width+w.offsetX),Y+=v.y*_+v.offsetY-(w.y*g.height+w.offsetY);S?(S=!1,r.i(P,Y,b,M)):r.unionNoCheck(P,Y,b,M)}switch(S?r.a(k):w?r.intersect(L.x,L.y,L.width,L.height):r.unionNoCheck(k.x,k.y,k.width,k.height),v.e(k),v.e(L),D=h.stretch,1===D&&(D=h.Hs(!1)),D){case 0:return;case 2:if(!isFinite(i)&&!isFinite(n))return;break;case 5:if(!isFinite(i))return;break;case 4:if(!isFinite(n))return;break}g=h.measuredBounds,p=g.width,_=g.height,b=Math.max(p+f,0),M=Math.max(_+m,0),u=h.margin,L=v.X(-u.left,-u.top,b,M),this.A2(h,L,!0),p=L.width,_=L.height;for(let e=0;e<l;e++){const i=s[e];if(i===h||!i.visible&&i!==T)continue;u=i.margin,c=u.right+u.left,d=u.top+u.bottom,g=i.measuredBounds,b=Math.max(g.width+c,0),M=Math.max(g.height+d,0);let n=i.alignment;n.isDefault()&&(n=t.defaultAlignment),n.isSpot()||(n=x.Center);let o=i.alignmentFocus;o.isDefault()&&(o=x.Center),S?(S=!1,r.i(n.x*p+n.offsetX-(o.x*g.width+o.offsetX)-u.left,n.y*_+n.offsetY-(o.y*g.height+o.offsetY)-u.top,b,M)):r.unionNoCheck(n.x*p+n.offsetX-(o.x*g.width+o.offsetX)-u.left,n.y*_+n.offsetY-(o.y*g.height+o.offsetY)-u.top,b,M)}S?r.a(k):w?r.intersect(L.x,L.y,L.width,L.height):r.unionNoCheck(k.x,k.y,k.width,k.height),v.e(L)}arrange(t,e,i){const n=e.length;if(0===n)return;const s=t.findMainElement(),r=s.measuredBounds,o=r.width,a=r.height,l=t.padding,h=l.left,u=l.top;let c=h-i.x,d=u-i.y;s.Xt(c,d,o,a);const f=v.X(0,0,o,a);this.A2(s,f,!1);for(let m=0;m<n;m++){const n=e[m];if(n===s)continue;const r=n.measuredBounds,o=r.width,a=r.height;let l=n.alignment;l.isDefault()&&(l=t.defaultAlignment),l.isSpot()||(l=x.Center);let g=n.alignmentFocus;g.isDefault()&&(g=x.Center);let p=null;if(n instanceof ie&&""!==n.ho&&(p=n.findObject(n.ho),p===n&&(p=null)),null!==p){const t=p.actualBounds,e=y.X(t.x+(g.x*t.width-g.offsetX),t.y+(g.y*t.height-g.offsetY));for(p=p.panel;p!==n;)p.F.xt(e),p=p.panel;c=l.x*f.width+l.offsetX-e.x,d=l.y*f.height+l.offsetY-e.y,y.e(e)}else c=l.x*f.width+l.offsetX-(g.x*o+g.offsetX),d=l.y*f.height+l.offsetY-(g.y*a+g.offsetY);c+=f.x-i.x,d+=f.y-i.y,n.visible&&n.Xt(h+c,u+d,o,a)}v.e(f)}A2(t,e,i){let n=null;if(t instanceof ie&&""!==t.ho&&(n=t.findObject(t.ho),n===t&&(n=null)),null!==n)for(i&&t.Xt(0,0,e.width,e.height),e.a(n.actualBounds),n=n.panel;n!==t;)n.F.Ug(e),n=n.panel}}zt.Pn("Spot",new Ut);class Kt extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){const a=n.length;if(0===a)return;const l=t.findMainElement();let h=l.margin,u=e,c=i;const d=h.right+h.left,f=h.top+h.bottom;l.ut(e,i,r,o);let m=l.measuredBounds,g=0,p=null;l instanceof le&&(p=l,g=p.strokeWidth*p.scale);let y=Math.max(m.width+d,0),v=Math.max(m.height+f,0),b=t.T2(l);const x=b.x*y+b.offsetX,M=b.y*v+b.offsetY;let w=t.D2(l);const k=w.x*y+w.offsetX,L=w.y*v+w.offsetY;isFinite(e)&&(u=Math.max(Math.abs(x-k)-g,0)),isFinite(i)&&(c=Math.max(Math.abs(M-L)-g,0));let S=0,T=0;r>0&&(S=Math.max(Math.abs(b.x*r+b.offsetX-(w.x*r+w.offsetX))-g,0)),o>0&&(T=Math.max(Math.abs(b.y*o+b.offsetY-(w.y*o+w.offsetY))-g,0));const D=_.l();D.i(0,0);const P=t.Ho();for(let _=0;_<a;_++){const t=n[_];if(t===l||!t.visible&&t!==P)continue;h=t.margin;const e=h.right+h.left,i=h.top+h.bottom;t.ut(u,c,S,T),m=t.measuredBounds,y=Math.max(m.width+e,0),v=Math.max(m.height+i,0),D.i(Math.max(y,D.width),Math.max(v,D.height))}if(1===a)return m=l.measuredBounds,s.width=y,s.height=v,void _.e(D);b=t.T2(l),w=t.D2(l);let Y=0,C=0;w.x!==b.x&&w.y!==b.y&&(Y=D.width/Math.abs(w.x-b.x),C=D.height/Math.abs(w.y-b.y)),_.e(D),g=0,null!==p&&(g=p.strokeWidth*p.scale,6===p.eS()&&(Y=C=Math.max(Y,C))),Y+=Math.abs(b.offsetX)+Math.abs(w.offsetX)+g,C+=Math.abs(b.offsetY)+Math.abs(w.offsetY)+g;let N=l.stretch;switch(1===N&&(N=l.Hs(!1)),N){case 0:r=0,o=0;break;case 2:isFinite(e)&&(Y=e),isFinite(i)&&(C=i);break;case 5:isFinite(e)&&(Y=e),o=0;break;case 4:r=0,isFinite(i)&&(C=i);break}l.rf(),l.ut(Y,C,r,o),s.width=l.measuredBounds.width+d,s.height=l.measuredBounds.height+f}arrange(t,e,i){const n=e.length;if(0===n)return;const s=t.findMainElement(),r=s.measuredBounds,o=v.l();o.i(0,0,1,1);let a=s.margin;const l=a.left,h=a.top,u=t.padding,c=u.left,d=u.top;let f=l,m=h,g=r.width,p=r.height;s.Xt(c+f,d+m,g,p);const y=t.T2(s),_=t.D2(s),b=0+y.x*r.width+y.offsetX,M=0+y.y*r.height+y.offsetY,w=0+_.x*r.width+_.offsetX,k=0+_.y*r.height+_.offsetY;o.x=b,o.y=M,o.unionNoCheck(w,k,0,0),o.x+=l+c,o.y+=h+d;for(let L=0;L<n;L++){const i=e[L];if(i===s)continue;const n=i.measuredBounds;a=i.margin;const r=Math.max(n.width+a.right+a.left,0),l=Math.max(n.height+a.top+a.bottom,0);let h=i.alignment;h.isDefault()&&(h=t.defaultAlignment),h.isSpot()||(h=x.Center),f=o.width*h.x+h.offsetX-r*h.x+a.left+o.x,m=o.height*h.y+h.offsetY-l*h.y+a.top+o.y,g=o.width,p=o.height,i.visible&&(v.contains(o.x,o.y,o.width,o.height,f,m,n.width,n.height)?i.Xt(f,m,n.width,n.height):i.Xt(f,m,n.width,n.height,new v(o.x,o.y,o.width,o.height)))}v.e(o)}}zt.Pn("Auto",new Kt);class Xt extends zt{constructor(){super(),this.name="Table"}measure(t,i,n,s,r,o,a){let l=s.length;const h=e.rt(),u=e.rt();for(let e=0;e<l;e++){const t=s[e],i=t instanceof ie?t:null;if(null!==i&&i.el()&&t.visible){u.push(i);const e=i.T.r,n=e.length;for(let s=0;s<n;s++){const n=e[s];i.type===ie.TableRow?n.row=t.row:i.type===ie.TableColumn&&(n.column=t.column),h.push(n)}}else h.push(t)}l=h.length,0===l&&(t.getRowDefinition(0),t.getColumnDefinition(0));const c=[];for(let e=0;e<l;e++){const t=h[e];t.visible&&(t.me(!0),t.no(!0),c[t.row]||(c[t.row]=[]),c[t.row][t.column]||(c[t.row][t.column]=[]),c[t.row][t.column].push(t))}e.tt(h);const d=e.rt(),f=e.rt(),m=e.rt(),g={count:0},p={count:0};let y=i,v=n;const b=t.Ge,x=t.He;let M=null;l=b.length;for(let e=0;e<l;e++)M=b[e],void 0!==M&&(M.actual=0,M.Fi=0);l=x.length;for(let e=0;e<l;e++)M=x[e],void 0!==M&&(M.actual=0,M.Fi=0);let w=c.length,k=0;for(let e=0;e<w;e++)c[e]&&(k=Math.max(k,c[e].length));const L=Math.min(t.topIndex,w-1),S=Math.min(t.leftIndex,k-1);let T,D=0;w=c.length;const P=t.Ho();for(let e=0;e<w;e++){if(!c[e])continue;k=c[e].length;const i=t.getRowDefinition(e);i.actual=0,i.Fi=0;for(let n=0;n<k;n++){if(!c[e][n])continue;const s=t.getColumnDefinition(n);void 0===d[n]&&(s.actual=0,s.Fi=0,d[n]=!0);const r=c[e][n],o=r.length;for(let a=0;a<o;a++){const o=r[a];if(!o.visible&&o!==P)continue;const l=o.rowSpan>1,h=o.columnSpan>1;(l||h)&&!(e<L)&&!(n<S)&&f.push(o);const u=o.margin,c=u.right+u.left,d=u.top+u.bottom;T=o.L0(i,s,!1);const _=o.desiredSize,b=!isNaN(_.width),x=!isNaN(_.height);if(0!==T&&!(b&&x)&&!(e<L)&&!(n<S)&&(!h&&void 0===g[n]&&(2===T||5===T)&&(g[n]=-1,g.count++),!l&&void 0===p[e]&&(2===T||4===T)&&(p[e]=-1,p.count++),!l&&!h&&m.push(o)),o.ut(1/0,1/0,0,0),e<L||n<S)continue;const w=o.measuredBounds,k=Math.max(w.width+c,0),Y=Math.max(w.height+d,0);if(1===o.rowSpan&&(0===T||5===T)){M=t.getRowDefinition(e);const i=M.computeEffectiveSpacing(),n=0===M.st;D=Math.max(Y-M.actual,0),D+(n?i:0)>v&&(D=Math.max(v-i,0)),M.Fi=M.Fi+D,M.actual=M.st+D,v=Math.max(v-(D+(n?i:0)),0)}if(1===o.columnSpan&&(0===T||4===T)){M=t.getColumnDefinition(n);const e=M.computeEffectiveSpacing(),i=0===M.st;D=Math.max(k-M.actual,0),D+(i?e:0)>y&&(D=Math.max(y-e,0)),M.Fi=M.Fi+D,M.actual=M.st+D,y=Math.max(y-(D+(i?e:0)),0)}(l||h)&&o.rf()}}}e.tt(d);let Y=0,C=0;l=t.columnCount;for(let e=0;e<l;e++){const t=x[e];void 0!==t&&(Y+=isNaN(t.pe)?t.Fi:t.pe,0!==t.Fi&&(Y+=t.computeEffectiveSpacing()))}l=t.rowCount;for(let e=0;e<l;e++){const t=b[e];void 0!==t&&(C+=isNaN(t.pe)?t.Fi:t.pe,0!==t.Fi&&(C+=t.computeEffectiveSpacing()))}y=Math.max(i-Y,0),v=Math.max(n-C,0);let N=v,A=y;l=m.length;for(let e=0;e<l;e++){const i=m[e],n=t.getRowDefinition(i.row),s=t.getColumnDefinition(i.column),r=i.measuredBounds,o=i.margin,a=o.right+o.left,l=o.top+o.bottom;0===s.Fi&&void 0!==g[i.column]?g[i.column]=Math.max(r.width+a,g[i.column]):g[i.column]=null,0===n.Fi&&void 0!==p[i.row]?p[i.row]=Math.max(r.height+l,p[i.row]):p[i.row]=null}let O,F=0,R=0;for(O in p)"count"!==O&&(F+=p[O]);for(O in g)"count"!==O&&(R+=g[O]);const E=_.l();for(let e=0;e<l;e++){const i=m[e];if(!i.visible&&i!==P)continue;const n=t.getRowDefinition(i.row),s=t.getColumnDefinition(i.column);let r=0;isFinite(s.width)?r=s.width:(r=isFinite(y)&&null!==g[i.column]?0===R?s.actual+y:g[i.column]/R*A:null!==g[i.column]?y:s.actual||y,r=Math.max(0,r-s.computeEffectiveSpacing()));let o=0;switch(isFinite(n.height)?o=n.height:(o=isFinite(v)&&null!==p[i.row]?0===F?n.actual+v:p[i.row]/F*N:null!==p[i.row]?v:n.actual||v,o=Math.max(0,o-n.computeEffectiveSpacing())),E.i(Math.max(s.minimum,Math.min(r,s.maximum)),Math.max(n.minimum,Math.min(o,n.maximum))),T=i.L0(n,s,!1),T){case 5:E.height=Math.max(E.height,n.actual+v);break;case 4:E.width=Math.max(E.width,s.actual+y);break}const a=i.margin,l=a.right+a.left,h=a.top+a.bottom;i.rf();let u=s.minimum,c=n.minimum;const d=i.measuredBounds;0===d.width&&null!==g[i.column]&&(u=Math.max(u,g[i.column])),0===d.height&&null!==p[i.row]&&(c=Math.max(u,p[i.row])),i.ut(E.width,E.height,u,c);const f=i.measuredBounds;let _=Math.max(f.width+l,0),b=Math.max(f.height+h,0);isFinite(y)&&(_=Math.min(_,E.width)),isFinite(v)&&(b=Math.min(b,E.height));let x=0;x=n.actual,n.actual=Math.max(n.actual,b),n.Fi=Math.max(n.Fi,b),D=n.actual-x,v=Math.max(v-D,0),null===p[i.row]&&(N=Math.max(N-D,0)),x=s.actual,s.actual=Math.max(s.actual,_),s.Fi=Math.max(s.Fi,_),D=s.actual-x,y=Math.max(y-D,0),null===g[i.column]&&(A=Math.max(A-D,0))}e.tt(m);const I=_.l(),j=e.rt(),H=e.rt();if(l=f.length,0!==l)for(let e=0;e<w;e++){if(!c[e])continue;k=c[e].length;const i=t.getRowDefinition(e);j[e]=i.actual;for(let n=0;n<k;n++){if(!c[e][n])continue;const i=t.getColumnDefinition(n);H[n]=i.actual}}for(let e=0;e<l;e++){const s=f[e];if(!s.visible&&s!==P)continue;const r=t.getRowDefinition(s.row),o=t.getColumnDefinition(s.column);switch(E.i(Math.max(o.minimum,Math.min(i,o.maximum)),Math.max(r.minimum,Math.min(n,r.maximum))),T=s.L0(r,o,!1),T){case 2:0!==H[o.index]&&(E.width=Math.min(E.width,H[o.index])),0!==j[r.index]&&(E.height=Math.min(E.height,j[r.index]));break;case 5:0!==H[o.index]&&(E.width=Math.min(E.width,H[o.index]));break;case 4:0!==j[r.index]&&(E.height=Math.min(E.height,j[r.index]));break}isFinite(o.width)&&(E.width=o.width),isFinite(r.height)&&(E.height=r.height),I.i(0,0);let a=o.minimum,l=r.minimum;for(let e=1;e<s.rowSpan&&!(s.row+e>=t.rowCount);e++)M=t.getRowDefinition(s.row+e),D=0,D=2===T||4===T?Math.max(M.minimum,0===j[s.row+e]?M.maximum:Math.min(j[s.row+e],M.maximum)):Math.max(M.minimum,isNaN(M.pe)?M.maximum:Math.min(M.pe,M.maximum)),I.height+=D,l+=M.minimum;for(let e=1;e<s.columnSpan&&!(s.column+e>=t.columnCount);e++)M=t.getColumnDefinition(s.column+e),D=0,D=2===T||5===T?Math.max(M.minimum,0===H[s.column+e]?M.maximum:Math.min(H[s.column+e],M.maximum)):Math.max(M.minimum,isNaN(M.pe)?M.maximum:Math.min(M.pe,M.maximum)),I.width+=D,a+=M.minimum;E.width+=I.width,E.height+=I.height;const h=s.margin,u=h.right+h.left,c=h.top+h.bottom;s.ut(E.width,E.height,a,l);const d=s.measuredBounds,m=Math.max(d.width+u,0),g=Math.max(d.height+c,0);let p=0;for(let e=0;e<s.rowSpan&&!(s.row+e>=t.rowCount);e++)M=t.getRowDefinition(s.row+e),p+=M.total||0;if(p<g){let e=g-p;const i=g-p;if(null!==s.spanAllocation){const n=s.spanAllocation;for(let r=0;r<s.rowSpan&&!(e<=0||s.row+r>=t.rowCount);r++){M=t.getRowDefinition(s.row+r);const o=M.st||0,a=n(s,M,i);M.actual=Math.min(M.maximum,o+a),M.st!==o&&(e-=M.st-o)}}for(;e>0;){const i=M.st||0;if(isNaN(M.height)&&M.maximum>i&&(M.actual=Math.min(M.maximum,i+e),M.st!==i&&(e-=M.st-i)),0===M.index)break;M=t.getRowDefinition(M.index-1)}}let y=0;for(let e=0;e<s.columnSpan&&!(s.column+e>=t.columnCount);e++)M=t.getColumnDefinition(s.column+e),y+=M.total||0;if(y<m){let e=m-y;const i=m-y;if(null!==s.spanAllocation){const n=s.spanAllocation;for(let r=0;r<s.columnSpan&&!(e<=0||s.column+r>=t.columnCount);r++){M=t.getColumnDefinition(s.column+r);const o=M.st||0,a=n(s,M,i);M.actual=Math.min(M.maximum,o+a),M.st!==o&&(e-=M.st-o)}}for(;e>0;){const i=M.st||0;if(isNaN(M.width)&&M.maximum>i&&(M.actual=Math.min(M.maximum,i+e),M.st!==i&&(e-=M.st-i)),0===M.index)break;M=t.getColumnDefinition(M.index-1)}}}e.tt(f),_.e(I),_.e(E),void 0!==j&&e.tt(j),void 0!==H&&e.tt(H);let B=0,z=0;const V=t.desiredSize,W=t.maxSize;T=t.Hs(!0),Y=0,C=0;let G=0,U=0;l=t.columnCount;for(let e=0;e<l;e++)if(void 0!==x[e]){if(M=t.getColumnDefinition(e),isFinite(M.width)){G+=M.width,G+=M.computeEffectiveSpacing();continue}if(2===M.Hb()){G+=M.st,G+=M.computeEffectiveSpacing();continue}0!==M.st&&(Y+=M.st,Y+=M.computeEffectiveSpacing())}B=isFinite(V.width)?Math.min(V.width,W.width):0!==T&&isFinite(i)?i:Y,B=Math.max(B,isFinite(i)?Math.min(o,i):o),B=Math.max(B-G,0);const K=0===Y?1:Math.max(B/Y,1);for(let e=0;e<l;e++)void 0!==x[e]&&(M=t.getColumnDefinition(e),!isFinite(M.width)&&2!==M.Hb()&&(M.actual=M.st*K),M.position=r.width,0!==M.st&&(r.width+=M.st,r.width+=M.computeEffectiveSpacing()));l=t.rowCount;for(let e=0;e<l;e++)if(void 0!==b[e]){if(M=t.getRowDefinition(e),isFinite(M.height)){U+=M.height,U+=M.computeEffectiveSpacing();continue}if(2===M.Hb()){U+=M.st,U+=M.computeEffectiveSpacing();continue}0!==M.st&&(C+=M.st,C+=M.computeEffectiveSpacing())}z=isFinite(V.height)?Math.min(V.height,W.height):0!==T&&isFinite(n)?n:C,z=Math.max(z,isFinite(n)?Math.min(a,n):a),z=Math.max(z-U,0);const X=0===C?1:Math.max(z/C,1);for(let e=0;e<l;e++)void 0!==b[e]&&(M=t.getRowDefinition(e),!isFinite(M.height)&&2!==M.Hb()&&(M.actual=M.st*X),M.position=r.height,0!==M.st&&(r.height+=M.st,r.height+=M.computeEffectiveSpacing()));l=u.length;for(let e=0;e<l;e++){const i=u[e];let n=0,s=0;i.type===ie.TableRow?(n=r.width,M=t.getRowDefinition(i.row),s=M.actual):(M=t.getColumnDefinition(i.column),n=M.actual,s=r.height),i.measuredBounds.i(0,0,n,s),i.me(!1)}e.tt(u),t.kh=c}arrange(t,e,i){const n=e.length,s=t.padding,r=s.left,o=s.top,a=t.kh;if(null===a)return;let l=0,h=0;const u=a.length;let c=0;for(let _=0;_<u;_++)a[_]&&(c=Math.max(c,a[_].length));const d=t.Ge,f=t.He;let m=0,g=0,p=Math.min(t.topIndex,u-1);if(d.length>0){for(;p!==u&&(void 0===d[p]||0===d[p].st);)p++;p=Math.max(Math.min(p,u-1),0),m=-d[p].position}let y=Math.min(t.leftIndex,c-1);if(f.length>0){for(;y!==c&&(void 0===f[y]||0===f[y].st);)y++;y=Math.max(Math.min(y,c-1),0),g=-f[y].position}let b=0,M=0;for(;b!==u&&void 0===d[b];)b++;for(;M!==u&&void 0===f[M];)M++;const w=t.part;let k=t.getRowDefinition(b),L=t.getColumnDefinition(M);for(let _=0;_<e.length;_++){const i=e[_];if(!(i instanceof ie&&i.visible&&i.el()))continue;i.type===ie.TableRow?(k=t.getRowDefinition(i.row),L=t.getColumnDefinition(M)):(k=t.getRowDefinition(b),L=t.getColumnDefinition(i.column)),h=k.position+m+o,0!==k.st&&(h+=k.computeEffectiveSpacingTop(Math.max(b,p))),l=L.position+g+r,0!==L.st&&(l+=L.computeEffectiveSpacingTop(Math.max(M,y)));const n=i.measuredBounds;i.ef(),i.actualBounds.At();const s=i.actualBounds,a=v.X(s.x,s.y,s.width,s.height);(s.x=i.type===ie.TableRow?r:l,s.y=i.type===ie.TableColumn?o:h,s.width=n.width,s.height=n.height,i.actualBounds.u(),i.no(!1),a.equalsApproxClose(s))?v.e(a):(null!==w&&(w.yh(),i.S0(w)),v.e(a))}const S=_.l();for(let _=0;_<u;_++){if(!a[_])continue;c=a[_].length;const e=t.getRowDefinition(_);h=e.position+m+o,0!==e.st&&(h+=e.computeEffectiveSpacingTop(Math.max(b,p)));for(let n=0;n<c;n++){if(!a[_][n])continue;const s=t.getColumnDefinition(n);l=s.position+g+r,0!==s.st&&(l+=s.computeEffectiveSpacingTop(Math.max(M,y)));const o=a[_][n],u=o.length;for(let r=0;r<u;r++){const a=o[r],u=a.measuredBounds;S.i(0,0);for(let e=1;e<a.rowSpan&&!(_+e>=t.rowCount);e++){const i=t.getRowDefinition(_+e);0!==i.st&&(S.height+=i.total)}for(let e=1;e<a.columnSpan&&!(n+e>=t.columnCount);e++){const i=t.getColumnDefinition(n+e);0!==i.st&&(S.width+=i.total)}const c=s.st+S.width,d=e.st+S.height;let f=l,m=h;const g=c,p=d,y=l,b=h;let M=c,w=d;l+c>i.width&&(M=Math.max(i.width-l,0)),h+d>i.height&&(w=Math.max(i.height-h,0));let k=a.alignment,L=0,T=0,D=0,P=0;if(k.isDefault()){k=t.defaultAlignment,k.isSpot()||(k=x.Center),L=k.x,T=k.y,D=k.offsetX,P=k.offsetY;const i=s.alignment,n=e.alignment;i.isSpot()&&(L=i.x,D=i.offsetX),n.isSpot()&&(T=n.y,P=n.offsetY)}else L=k.x,T=k.y,D=k.offsetX,P=k.offsetY;(isNaN(L)||isNaN(T))&&(L=.5,T=.5,D=0,P=0);let Y=u.width,C=u.height;const N=a.margin,A=N.left+N.right,O=N.top+N.bottom,F=a.L0(e,s,!1);isNaN(a.desiredSize.width)&&(2===F||5===F)&&(Y=Math.max(c-A,0)),isNaN(a.desiredSize.height)&&(2===F||4===F)&&(C=Math.max(d-O,0));const R=a.maxSize,E=a.minSize;Y=Math.min(R.width,Y),C=Math.min(R.height,C),Y=Math.max(E.width,Y),C=Math.max(E.height,C);const I=Y+A,j=C+O;f+=g*L-I*L+D+N.left,m+=p*T-j*T+P+N.top,a.visible&&(v.contains(y,b,M,w,f,m,u.width,u.height)?a.Xt(f,m,Y,C):a.Xt(f,m,Y,C,new v(y,b,M,w)))}}}_.e(S);for(let _=0;_<n;_++){const t=e[_],i=t instanceof ie?t:null;if(null!==i&&i.el()){const e=t.actualBounds;t.naturalBounds.At(),t.naturalBounds.i(0,0,e.width,e.height),t.naturalBounds.u()}}}}zt.Pn("Table",new Xt);class qt extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){}arrange(t,e,i){}}zt.Pn("TableRow",new qt);class Jt extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){}arrange(t,e,i){}}zt.Pn("TableColumn",new Jt);class $t extends zt{constructor(){super()}measure(t,i,n,s,r,o,a){1!==s.length&&e.o("Viewbox Panel must contain exactly one GraphObject.");const l=s[0];l.nt=1,l.rf(),l.ut(1/0,1/0,o,a);let h=l.measuredBounds;const u=l.margin,c=u.right+u.left,d=u.top+u.bottom;if(isFinite(i)||isFinite(n)){const e=l.scale,s=h.width,r=h.height,u=Math.max(i-c,0),f=Math.max(n-d,0);let m=1;6===t.viewboxStretch?(0!==s&&0!==r&&(m=Math.min(u/s,f/r)),0===m&&(m=1e-4),l.nt*=m):(0!==s&&0!==r&&(m=Math.max(u/s,f/r)),0===m&&(m=1e-4),l.nt*=m),e!==l.scale&&(l.me(!0),l.ut(1/0,1/0,o,a))}h=l.measuredBounds,r.width=isFinite(i)?i:Math.max(h.width+c,0),r.height=isFinite(n)?n:Math.max(h.height+d,0)}arrange(t,e,i){const n=e[0],s=n.measuredBounds,r=n.margin,o=r.right+r.left,a=r.top+r.bottom,l=Math.max(s.width+o,0),h=Math.max(s.height+a,0);let u=n.alignment;u.isDefault()&&(u=t.defaultAlignment),u.isSpot()||(u=x.Center),n.Xt(i.width*u.x-l*u.x+u.offsetX,i.height*u.y-h*u.y+u.offsetY,s.width,s.height)}}zt.Pn("Viewbox",new $t);class Zt extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){null===t.bi&&(t.bi=new se),this.cv(t),this.fv(t)}arrange(t,e,i){}zi(t,e,i){const n=t.naturalBounds,s=n.width,r=n.height;e.save(),e.beginPath(),e.rect(0,0,s,r),e.clip(),e.endPath(),this.uv(t,e,i),e.restore(),e.clearContextCache(!1)}uv(t,e,i){let n=t.getDocumentScale()*i.scale;n<=0&&(n=1);const s=t.gridCellSize,r=s.width,o=s.height,a=t.naturalBounds,l=t.actualBounds,h=a.width,u=a.height,c=Math.ceil(h/r),d=Math.ceil(u/o),f=t.gridOrigin,m=f.x,g=f.y,p=t.bi.Q0,y=t.T.r,_=y.length;for(let v=0;v<_;v++){const i=y[v];if(!i.visible)continue;const s=i.interval||1,f=Math.abs(s);if(r*f*n<2)continue;let _=i.segmentIndex;(!isFinite(_)||isNaN(_))&&(_=0),_<0&&(_=f-Math.min(-_,f)),_=Math.round(_%f);const b=i.opacity;let x=1;if(1!==b){if(0===b)continue;x=e.globalAlpha,e.globalAlpha=x*b}const M=p[v];let w=!1;const k=i.strokeDashArray;if(null!==k&&(w=!0,e.enableDash(k,i.strokeDashOffset)),null!==i.stroke&&i.strokeWidth>0&&("LineV"===i.figure||"LineH"===i.figure)){if(e.lineWidth=i.strokeWidth,t.mn(e,i.stroke,!1,!1,a,l),e.beginPath(),"LineV"===i.figure){const t=Math.floor((m-r)/r);for(let i=t;i<=t+c;i++){const t=i*r+m;0<=t&&t<=h&&this.jb(i,s,_,M)&&(e.moveTo(t,0),e.lineTo(t,u))}}else if("LineH"===i.figure){const t=Math.floor((g-o)/o);for(let i=t;i<=t+d;i++){const t=i*o+g;0<=t&&t<=u&&this.jb(i,s,_,M)&&(e.moveTo(0,t),e.lineTo(h,t))}}e.stroke(),e.endPath()}else if(null!==i.fill)if(t.mn(e,i.fill,!0,!1,a,l),"BarV"===i.figure){let t=i.width;isNaN(t)&&(t=r);const n=Math.floor((m-r)/r);for(let i=n;i<=n+c;i++){const n=i*r+m;0<=n+t&&n<=h&&this.jb(i,s,_,M)&&e.fillRect(n,0,t,u)}}else if("BarH"===i.figure){let t=i.height;isNaN(t)&&(t=o);const n=Math.floor((g-o)/o);for(let i=n;i<=n+d;i++){const n=i*o+g;0<=n+t&&n<=u&&this.jb(i,s,_,M)&&e.fillRect(0,n,h,t)}}w&&e.disableDash(),1!==b&&(e.globalAlpha=x)}}jb(t,e,i,n){if(e<0)return t%e===i;if(t%e!==i)return!1;const s=n.length;for(let r=0;r<s;r++){const e=n[r];if(t%e===i)return!1}return!0}fv(t){const e=[],i=t.T.r,n=i.length;for(let s=0;s<n;s++){const t=i[s],r=[];if(e.push(r),!t.visible)continue;const o=t.interval;if(o<0)continue;const a=t.figure,l=this.F2(a);for(let e=0;e<n;e++){if(e===s)continue;const t=i[e];if(!t.visible)continue;const n=t.figure;if(this.F2(n)!==l)continue;const a=t.interval;a>o&&r.push(a)}}t.bi.Q0=e}F2(t){return"LineV"===t||"BarV"===t}cv(t){let e=1,i=1;const n=t.T.r,s=n.length;for(let a=0;a<s;a++){const t=n[a],s=Math.abs(t.interval);s<2||(this.F2(t.figure)?i=i*s/w.MC(i,s):e=e*s/w.MC(e,s))}const r=t.gridCellSize,o=t.bi;o.qc.isReal()?o.qc.i(i*r.width,e*r.height):o.qc=new _(i*r.width,e*r.height)}}zt.Pn("Grid",new Zt);class Qt extends zt{constructor(){super()}measure(t,i,n,s,r,o,a){const l=s.length;if(!(t instanceof ke||t instanceof Ce))return;let h=null,u=null;if(t instanceof Ce&&(h=t),t instanceof ke&&(u=t,h=u.adornedPart,null===t.df&&(t.df=[])),!(h instanceof Ce))return;const c=h;if(0===l)return t.naturalBounds.zn(0,0),void t.measuredBounds.i(0,0,0,0);const d=t instanceof ke?null:h.path,f=h.routeBounds,m=t.jo;m.i(0,0,f.width,f.height);const g=c.points,p=h.pointsCount;null!==u?u.hd(!1):null!==h&&h.hd(!1);const _=f.width,b=f.height,w=t.df;if(w.length=0,null!==d){this.measureLinkPath(t,_,b,d);const e=d.measuredBounds;m.unionRect(e),w.push(e)}const k=M.l(),L=y.l(),S=y.l();for(let M=0;M<l;M++){const i=s[M];if(i===d)continue;let n=i.measuredBounds;if(i.isPanelMain&&i instanceof le){this.measureLinkPath(t,_,b,i),n=i.measuredBounds,m.unionRect(n),w.push(n);continue}if(p<2){i.ut(1/0,1/0,0,0),n=i.measuredBounds,m.unionRect(n),w.push(n);continue}const r=i.segmentIndex,o=i.segmentFraction;let a=i.alignmentFocus;a.isNoSpot()&&(a=x.Center);const l=i.segmentOrientation,h=i.segmentOffset;let u=0,T=0,D=0,P=0;if(isNaN(r)){const t=c.at,n=e.rt();t.getPointAndAngleAlongPath(o,n);const s=y.X(n[0],n[1]);P=n[2],0!==l&&(D=c.computeAngle(i,l,P),i.Ht=D,i.me(!0),i.no(!0)),u=s.x,T=s.y,y.e(s),e.tt(n)}else if(r<-p||r>=p){const t=y.l();c.AA(t),P=c.midAngle,0!==l&&(D=c.computeAngle(i,l,P),i.Ht=D,i.me(!0),i.no(!0)),u=t.x-f.x,T=t.y-f.y,y.e(t)}else{let t,e,n=0;if(r>=0?(t=g.elt(r),e=r<p-1?g.elt(r+1):t):(n=p+r,t=g.elt(n),e=n>0?g.elt(n-1):t),P=0,t.equalsApprox(e)){let i,s;r>=0?(i=r>0?g.elt(r-1):t,s=r<p-2?g.elt(r+2):e):(i=n<p-1?g.elt(n+1):t,s=n>1?g.elt(n-2):e);const o=i.distanceSquaredPoint(t),a=e.distanceSquaredPoint(s);P=o>a+10?r>=0?i.directionPoint(t):t.directionPoint(i):a>o+10?r>=0?e.directionPoint(s):s.directionPoint(e):r>=0?i.directionPoint(s):s.directionPoint(i)}else P=r>=0?t.directionPoint(e):e.directionPoint(t);0!==l&&(D=c.computeAngle(i,l,P),i.Ht=D,i.me(!0),i.no(!0)),u=t.x+(e.x-t.x)*o-f.x,T=t.y+(e.y-t.y)*o-f.y}i.ut(1/0,1/0,0,0),n=i.measuredBounds;const Y=i.naturalBounds;let C=0;i instanceof le&&(C=i.strokeWidth);const N=Y.width+C,A=Y.height+C;k.Ii(),k.Es(-n.x,-n.y),k.nt(i.scale,i.scale),k.ds(0===l?i.angle:P,N/2,A/2),(22===l||26===l)&&k.ds(90,N/2,A/2),(23===l||27===l)&&k.ds(-90,N/2,A/2),28===l&&(P>45&&P<135||P>225&&P<315)&&k.ds(-P,N/2,A/2);const O=new v(0,0,N,A);L.setRectSpot(O,a),k.xt(L);const F=-L.x+C/2*i.scale,R=-L.y+C/2*i.scale;S.a(h);const E=isNaN(h.x),I=isNaN(h.y);if(E||I){const t=N/2+3,e=A/2+3,i=P>=45&&P<=135,n=P>=225&&P<=315;0===l&&(i||n)?(S.x=I?t:h.y,S.y=E?e:h.x,i?r>=0||isNaN(r)&&o<.5||E&&(S.y=-e):n&&((r>=0||isNaN(r)&&o<.5)&&E&&(S.y=-e),I&&(S.x=-t))):(E&&(r>=0||isNaN(r)&&o<.5?S.x=t:S.x=-t),I&&(S.y=-e),S.rotate(P))}else S.rotate(P);u+=S.x,T+=S.y,O.i(u+F,T+R,n.width,n.height),w.push(O),m.unionRect(O)}if(null!==h){const t=h.labelNodes;for(;t.next();)t.value.ut(1/0,1/0)}t.jo=m,t.position.i(f.x+m.x,f.y+m.y),r.zn(m.width||0,m.height||0),M.e(k),y.e(L),y.e(S)}arrange(t,e,i){const n=e.length;if(!(t instanceof ke||t instanceof Ce))return;let s=t,r=null;t instanceof ke&&(r=t,s=r.adornedPart);const o=t,a=t instanceof ke?null:s.path,l=t.df;if(0!==l.length){let t=0;if(null!==a&&t<l.length){const e=l[t];t++,a.Xt(e.x-o.jo.x,e.y-o.jo.y,e.width,e.height)}for(let i=0;i<n;i++){const n=e[i];if(n!==a&&t<l.length){const e=l[t];t++,n.Xt(e.x-o.jo.x,e.y-o.jo.y,e.width,e.height)}}}const h=s.points,u=h.count;if(u>=2&&o instanceof Ce){const t=o.labelNodes;for(;t.next();){const e=t.value;o.dv(e,u,h)}}null!==r?r.hd(!1):s.hd(!1);const c=t.TA(y.l());t.location.i(t.position.x+c.x,t.position.y+c.y),y.e(c)}measureLinkPath(t,e,i,n){if(!1===n.Bo())return;let s=n.strokeWidth;if(0===s&&t instanceof ke&&t.type===ie.Link&&t.adornedObject instanceof le&&(s=t.adornedObject.strokeWidth),s*=n.nt,t instanceof Ce&&null!==t.at){const e=t.geometry.bounds;n.so(e.x-s/2,e.y-s/2,e.width+s,e.height+s)}else if(t instanceof ke&&null!==t.adornedPart.at){const e=t.adornedPart.at.bounds;n.so(e.x-s/2,e.y-s/2,e.width+s,e.height+s)}else n.so(-s/2,-s/2,e+s,i+s);n.gv(),n.me(!1)}}zt.Pn("Link",new Qt);class te extends zt{constructor(){super()}measure(t,e,i,n,s,r,o){const a=t.findMainElement();t.je=[];const l=a.margin,h=l.right+l.left,u=l.top+l.bottom;a.ut(e,i,r,o);const c=a.measuredBounds,d=c.width,f=c.height,m=Math.max(d+h,0),g=Math.max(f+u,0),p=new v(-l.left,-l.top,m,g);t.je.push(p),s.a(p),this.determineGraduatedMarks(t,a);const y=t.Ps;if(null===y)return;const _=n.length;for(let v=0;v<_;v++){const e=n[v],i=y[v];!e.visible||e===a||0===i.length||(e instanceof le?this.measureGraduatedTicks(t,e,i,s):e instanceof fe&&this.measureGraduatedLabels(t,e,i,s),e.me(!1))}}arrange(t,e,i){if(null===t.je)return;const n=t.findMainElement(),s=t.Ps;if(null===s)return;const r=t.je;let o=0,a=r[o];o++,null!==n&&n.Xt(a.x-i.x,a.y-i.y,a.width,a.height);const l=e.length;for(let h=0;h<l;h++){const t=e[h],l=s[h];!t.visible||t===n||0===l.length||(a=r[o],o++,t.Xt(a.x-i.x,a.y-i.y,a.width,a.height))}t.je=null}measureGraduatedTicks(t,e,i,n){let s=e.alignmentFocus;s.isNoSpot()&&(s=x.TopCenter);const r=e.angle;e.Ht=0,e.ut(1/0,1/0,0,0),e.Ht=r;const o=e.measuredBounds,a=o.width,l=o.height,h=v.X(0,0,a,l),u=y.l();u.setRectSpot(h,s),v.e(h);const c=-u.x,d=-u.y,f=new v,m=i.length;for(let g=0;g<m;g++){const t=i[g],n=t.pt.x,s=t.pt.y,r=t.angle;for(let i=0;i<4;i++){switch(i){case 0:u.i(c,d);break;case 1:u.i(c+a,d);break;case 2:u.i(c,d+l);break;case 3:u.i(c+a,d+l);break}u.rotate(r+e.angle),u.offset(n,s),0===g&&0===i?f.i(u.x,u.y,0,0):f.unionPoint(u),u.offset(-n,-s),u.rotate(-r-e.angle)}}y.e(u),null!==t.je&&t.je.push(f),n.unionNoCheck(f.x,f.y,f.width,f.height)}measureGraduatedLabels(t,e,i,n){null===t.Ne&&(t.Ne=new fe);const s=t.Ne;this.DA(e,s);let r=e.alignmentFocus;r.isNoSpot()&&(r=x.TopCenter);const o=e.segmentOrientation,a=e.segmentOffset,l=new v;let h=0,u=0,c=0,d=0,f=0;const m=i.length;for(let g=0;g<m;g++){const t=i[g];h=t.pt.x,u=t.pt.y,c=t.angle,d=e.angle,f=e.angle,0!==o&&(f=21===o||25===o?c+e.angle:c,d=Ce.computeAngle(o,f)),s.Ht=d,s.text=t.text||"",s.ut(1/0,1/0,0,0);const n=s.measuredBounds,m=s.naturalBounds,p=m.width,_=m.height,b=M.l();b.Ii(),b.Es(-n.x,-n.y),b.nt(s.scale,s.scale),b.ds(f,p/2,_/2),(22===o||26===o)&&b.ds(90,p/2,_/2),(23===o||27===o)&&b.ds(-90,p/2,_/2),28===o&&(c>45&&c<135||c>225&&c<315)&&b.ds(-c,p/2,_/2);const x=v.X(0,0,p,_),w=y.l();w.setRectSpot(x,r),b.xt(w);const k=-w.x,L=-w.y,S=y.l();S.a(a),isNaN(S.x)&&(S.x=p/2+3),isNaN(S.y)&&(S.y=-(_/2+3)),S.rotate(c),h+=S.x+k,u+=S.y+L;const T=new v(h,u,n.width,n.height),D=new v(n.x,n.y,n.width,n.height),P=new v(m.x,m.y,m.width,m.height);t.labelAngle=d,t.lineCount=s.lineCount,t.lines=s.getMetrics(),t.actualBounds=T,t.measuredBounds=D,t.naturalBounds=P,0===g?l.a(T):l.unionRect(T),y.e(S),y.e(w),v.e(x),M.e(b)}null!==t.je&&t.je.push(l),n.unionNoCheck(l.x,l.y,l.width,l.height)}determineGraduatedMarks(t,i){const n=i.geometry,s=i.strokeWidth,r=n.flattenedSegments,o=n.flattenedLengths,a=n.flattenedTotalLength,l=r.length;let h=0,u=0;const c=e.rt();for(let e=0;e<l;e++){const t=r[e],i=[];h=0,u=0;const n=t.length;for(let e=0;e<n;e+=2){const n=t[e],s=t[e+1];if(0===e){h=n,u=s;continue}let r=180*Math.atan2(s-u,n-h)/Math.PI;r<0&&(r+=360),i.push(r),h=n,u=s}c.push(i)}const d=this.mv(t),f=t.T.r,m=f.length;let g,p=0,_=0,v=a;t.Ps=[];for(let e=0;e<m;e++){const l=f[e];if(g=[],!l.visible||l===i){t.Ps.push(g);continue}const h=Math.abs(l.interval),u=t.graduatedTickUnit;if(u*h*a/t.graduatedRange<2&&null===l.graduatedSkip){t.Ps.push(g);continue}let m=o[0][0],b=0,x=0;_=a*l.graduatedStart-1e-4,v=a*l.graduatedEnd+1e-4;const M=u*h;let w=t.graduatedTickBase;if(w<t.graduatedMin){let e=(t.graduatedMin-w)/M;e=e%1===0?e:Math.floor(e+1),w+=e*M}else if(w>t.graduatedMin+M){const e=Math.floor((w-t.graduatedMin)/M);w-=e*M}const k=d[e],L=w,S=1e-6*t.graduatedMax;for(let e=1;w<=t.graduatedMax+S;e++){if(this.pv(t,w-t.graduatedTickBase,k)&&(w>t.graduatedMax&&(w=t.graduatedMax),(null===l.graduatedSkip||l instanceof fe&&!l.graduatedSkip(w,l)||l instanceof le&&!l.graduatedSkip(w,l))&&(p=(w-t.graduatedMin)*a/t.graduatedRange,p>a&&(p=a),_<=p&&p<=v))){let t=c[b][x],e=o[b][x];for(;b<o.length;){for(;p>m&&x<o[b].length-1;)x++,t=c[b][x],e=o[b][x],m+=e;if(p<=m)break;b++,x=0,t=c[b][x],e=o[b][x],m+=e}const a=r[b],h=a[2*x],u=a[2*x+1],d=a[2*x+2],f=a[2*x+3],_=(p-(m-e))/e,v=new y(h+(d-h)*_+s/2-n.bounds.x,u+(f-u)*_+s/2-n.bounds.y);if(v.scale(i.scale,i.scale),t=this.yv(t,_,a,c[b],x),l instanceof fe){let e="";null!==l.graduatedFunction?(e=l.graduatedFunction(w,l),e=null!=e?e.toString():""):e=(+w.toFixed(2)).toString(),""!==e&&g.push({pt:v,angle:t,text:e})}else g.push({pt:v,angle:t})}w=L+e*M}t.Ps.push(g)}e.tt(c)}yv(t,e,i,n,s){if(e<.5005&&e>.4995)return t;let r=t;if(e<.5?s>0?r=n[s-1]:w.Y(i[0],i[i.length-2])&&w.Y(i[1],i[i.length-1])&&(r=n[n.length-1]):e>.5&&(s+1<n.length?r=n[s+1]:w.Y(i[0],i[i.length-2])&&w.Y(i[1],i[i.length-1])&&(r=n[0])),t!==r){let i=Math.abs(t-r);if(i>180&&(t<r?t+=360:r+=360,i=Math.abs(t-r)),e<5e-4||e>.9995)return(t+r)/2%360;if(i<10){const i=1-Math.abs(.5-e);return(t*i+r*(1-i))%360}}return t}mv(t){if(null===t.rs){const e=[],i=t.T.r,n=i.length;for(let t=0;t<n;t++){const s=i[t],r=[];if(e.push(r),!s.visible)continue;const o=s.interval;if(!(o<0))for(let e=0;e<n;e++){if(e===t)continue;const n=i[e];if(!n.visible||s.constructor!==n.constructor)continue;const a=n.interval;a>o&&r.push(a)}}t.rs=e}return t.rs}pv(t,e,i){const n=i.length;for(let s=0;s<n;s++){const n=i[s]*t.graduatedTickUnit,r=e%n,o=1e-6*t.graduatedTickUnit;if(r<o&&r>-o)return!1}return!0}zi(t,e,i){const n=i.oa;i.oa=!0;const s=t.naturalBounds,r=s.width,o=s.height,a=e instanceof Ft;e.save(),e.beginPath(),e.rect(-1,-1,r+1,o+1),e.clip(),e.endPath();const l=t.findMainElement();l.zi(e,i);let h=t.getDocumentScale()*i.scale;h<=0&&(h=1);const u=l.actualBounds,c=t.T.r,d=t.Ps,f=c.length;for(let m=0;m<f;m++){const n=c[m],s=d[m],r=s.length;if(n.visible&&n!==l&&0!==s.length)if(n instanceof le){if(t.graduatedTickUnit*n.interval*l.geometry.flattenedTotalLength/t.graduatedRange*h<2&&null===n.graduatedSkip)continue;const o=n.measuredBounds,c=n.strokeWidth*n.scale;let d=n.alignmentFocus;d.isNoSpot()&&(d=x.TopCenter);for(let l=0;l<r;l++){const r=s[l].pt,h=s[l].angle;this.wv(n,r,u,h,o,c,d),n.zi(e,i),a&&(t.svg.appendChild(n.svg),n.svg=null),n._r.Ii()}}else if(n instanceof fe){null===t.Ne&&(t.Ne=new fe);const o=t.Ne;this.DA(n,o),o.R2=!0;for(let l=0;l<r;l++){const r=s[l];if(r.actualBounds&&r.measuredBounds&&r.naturalBounds){o.xv(r);const s=r.actualBounds;o.Xt(s.x,s.y,s.width,s.height),this.bv(o,u,s,r.measuredBounds,r.naturalBounds),o.il=n.part,o.Gs=n.panel,o.zi(e,i),o.Gs=null,o.il=null,a&&(t.svg.appendChild(o.svg),o.svg=null)}}}}i.oa=n,e.restore(),e.clearContextCache(!0)}wv(t,e,i,n,s,r,o){const a=t._r;a.Ii(),a.Es(e.x+i.x,e.y+i.y),a.ds(n+t.angle,0,0),a.Es(-s.width*o.x+o.offsetX+r/2,-s.height*o.y+o.offsetY+r/2),a.nt(t.scale,t.scale),t.sd(!1),t.uh.set(t._r),t.wa=t.scale,t.Ca(!1)}bv(t,e,i,n,s){const r=t._r;r.Ii(),r.Es(i.x+e.x,i.y+e.y),r.Es(-n.x,-n.y),t.x0(r,s.x,s.y,s.width,s.height),t.sd(!1),t.uh.set(t._r),t.wa=t.scale,t.Ca(!1)}DA(t,e){e.kv(t)}}zt.Pn("Graduated",new te);var ee=(t=>(t[t.Uniform=6]="Uniform",t[t.UniformToFill=7]="UniformToFill",t))(ee||{});class ie extends Yt{$;T;ti;ad;qn;ol;ho;jo;v2;O;cd;lt;bi;ei;fd;Ph;Ws;constructor(t,i){if(super(),this.$=null,void 0===t)this.$=ie.Position;else if("string"==typeof t){const e=zt.os.get(t);null!==e&&(this.$=e)}else t instanceof zt?this.$=t:t&&(this.$=ie.Position,i=t);null===this.$&&e.o("Panel type not specified or PanelLayout not loaded: "+t),this.n|=4194304|(this.$===ie.Grid?1048576:0),this.T=new l,this.ti=b.Bg,this.ad=x.Default,this.qn=1,this.ol=null,this.ho="",this.jo=new v(NaN,NaN,NaN,NaN),this.v2=null,this.O=null,this.cd=6,this.bi=null,this.lt=null,this.ei=null,this.fd=NaN,this.Ph=null,this.Ws=null,i&&Object.assign(this,i)}cloneProtected(t){super.cloneProtected(t),t.$=this.$,t.ti=this.ti.N(),t.ad=this.ad.N(),t.qn=this.qn,t.ho=this.ho,t.jo.a(this.jo),null!==this.O&&(t.O=this.O.copy(t)),t.cd=this.cd,null!==this.lt&&(t.lt=this.lt.copy()),null!==this.bi&&(t.bi=this.bi.copy()),t.ei=this.ei,t.fd=this.fd,t.Ph=this.Ph}Xo(t){super.Xo(t),t.T=this.T;const e=t.T.r,i=e.length;for(let n=0;n<i;n++){const i=e[n];i.Gs=t}t.ol=null}copy(){const t=super.copy();if(null!==t){const e=this.T.r,i=e.length;for(let n=0;n<i;n++){const i=e[n].copy();t.Pv(i)}return t}return null}toString(){return"Panel("+this.type.name+")#"+u.us(this)}get type(){return this.$}set type(t){const e=this.$;e!==t&&(this.$=t,this.gf=this.$===ie.Grid,this.c(),this.t("type",e,t))}get elements(){return this.T.iterator}get naturalBounds(){return this.Ki}get padding(){return this.ti}set padding(t){"number"==typeof t?(t<0&&e._(t,">= 0",ie,"padding"),t=new b(t)):(t.left<0&&e._(t.left,">= 0",ie,"padding:value.left"),t.right<0&&e._(t.right,">= 0",ie,"padding:value.right"),t.top<0&&e._(t.top,">= 0",ie,"padding:value.top"),t.bottom<0&&e._(t.bottom,">= 0",ie,"padding:value.bottom"));const i=this.ti;i.equals(t)||(t=t.N(),this.ti=t,this.c(),this.t("padding",i,t))}get defaultAlignment(){return this.ad}set defaultAlignment(t){const e=this.ad;e.equals(t)||(t=t.N(),this.ad=t,this.c(),this.t("defaultAlignment",e,t))}get defaultStretch(){return this.qn}set defaultStretch(t){const e=this.qn;e!==t&&(this.qn=t,this.c(),this.t("defaultStretch",e,t))}get defaultSeparatorPadding(){return null!==this.O?this.O._0:b.Bg}set defaultSeparatorPadding(t){"number"==typeof t&&(t=new b(t));const e=this.defaultSeparatorPadding;e.equals(t)||(t=t.N(),null===this.O&&(this.O=new re),this.O._0=t,this.c(),this.t("defaultSeparatorPadding",e,t))}get defaultRowSeparatorStroke(){return null!==this.O?this.O.tp:null}set defaultRowSeparatorStroke(t){const e=this.defaultRowSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof Bt)&&(t instanceof Bt&&t.u(),null===this.O&&(this.O=new re),this.O.tp=t,this.C(),this.t("defaultRowSeparatorStroke",e,t))}get defaultRowSeparatorStrokeWidth(){return null!==this.O?this.O.ip:1}set defaultRowSeparatorStrokeWidth(t){const e=this.defaultRowSeparatorStrokeWidth;e!==t&&isFinite(t)&&t>=0&&(null===this.O&&(this.O=new re),this.O.ip=t,this.c(),this.t("defaultRowSeparatorStrokeWidth",e,t))}get defaultRowSeparatorDashArray(){return null!==this.O?this.O.ep:null}set defaultRowSeparatorDashArray(t){const i=this.defaultRowSeparatorDashArray;if(i!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",ie,"defaultRowSeparatorDashArray:value"),null!==t){const n=t.length;let s=0;for(let i=0;i<n;i++){const n=t[i];("number"!=typeof n||!(n>=0)||!isFinite(n))&&e.o("defaultRowSeparatorDashArray value "+n+" at index "+i+" must be a positive number or zero."),s+=n}if(0===s){if(null===i)return;t=null}}null===this.O&&(this.O=new re),this.O.ep=t,this.C(),this.t("defaultRowSeparatorDashArray",i,t)}}get defaultColumnSeparatorStroke(){return null!==this.O?this.O.sp:null}set defaultColumnSeparatorStroke(t){const e=this.defaultColumnSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof Bt)&&(t instanceof Bt&&t.u(),null===this.O&&(this.O=new re),this.O.sp=t,this.C(),this.t("defaultColumnSeparatorStroke",e,t))}get defaultColumnSeparatorStrokeWidth(){return null!==this.O?this.O.np:1}set defaultColumnSeparatorStrokeWidth(t){const e=this.defaultColumnSeparatorStrokeWidth;e!==t&&isFinite(t)&&t>=0&&(null===this.O&&(this.O=new re),this.O.np=t,this.c(),this.t("defaultColumnSeparatorStrokeWidth",e,t))}get defaultColumnSeparatorDashArray(){return null!==this.O?this.O.op:null}set defaultColumnSeparatorDashArray(t){const i=this.defaultColumnSeparatorDashArray;if(i!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",ie,"defaultColumnSeparatorDashArray:value"),null!==t){const n=t.length;let s=0;for(let i=0;i<n;i++){const n=t[i];("number"!=typeof n||!(n>=0)||!isFinite(n))&&e.o("defaultColumnSeparatorDashArray value "+n+" at index "+i+" must be a positive number or zero."),s+=n}if(0===s){if(null===i)return;t=null}}null===this.O&&(this.O=new re),this.O.op=t,this.C(),this.t("defaultColumnSeparatorDashArray",i,t)}}get kh(){return null!==this.O?this.O.kh:null}set kh(t){null===this.O&&(this.O=new re),this.O.kh=t}get viewboxStretch(){return this.cd}set viewboxStretch(t){const e=this.cd;e!==t&&(this.cd=t,this.c(),this.t("viewboxStretch",e,t))}get gridCellSize(){return null!==this.bi?this.bi.ud:_.uC}set gridCellSize(t){null===this.bi&&(this.bi=new se);const i=this.bi.ud;if(!i.equals(t)){(!t.isReal()||0===t.width||0===t.height)&&e.o("Invalid Panel.gridCellSize: "+t),this.bi.ud=t.N();const n=this.diagram;null!==n&&this===n.grid&&n.rh(),this.C(),this.t("gridCellSize",i,t)}}get gridOrigin(){return null!==this.bi?this.bi.dd:y.Lo}set gridOrigin(t){null===this.bi&&(this.bi=new se);const i=this.bi.dd;if(!i.equals(t)){t.isReal()||e.o("Invalid Panel.gridOrigin: "+t),this.bi.dd=t.N();const n=this.diagram;null!==n&&this===n.grid&&n.rh(),this.C(),this.t("gridOrigin",i,t)}}get graduatedMin(){return null!==this.lt?this.lt.rp:0}set graduatedMin(t){const e=this.graduatedMin;if(e!==t&&(null===this.lt&&(this.lt=new ne),this.lt.rp=t,this.c(),this.t("graduatedMin",e,t),this._c())){const t=this.part;null!==t&&this.Na(t,"graduatedRange")}}get graduatedMax(){return null!==this.lt?this.lt.lp:100}set graduatedMax(t){const e=this.graduatedMax;if(e!==t&&(null===this.lt&&(this.lt=new ne),this.lt.lp=t,this.c(),this.t("graduatedMax",e,t),this._c())){const t=this.part;null!==t&&this.Na(t,"graduatedRange")}}get graduatedRange(){return this.graduatedMax-this.graduatedMin}get graduatedTickUnit(){return null!==this.lt?this.lt.hp:10}set graduatedTickUnit(t){const e=this.graduatedTickUnit;e!==t&&t>0&&(null===this.lt&&(this.lt=new ne),this.lt.hp=t,this.c(),this.t("graduatedTickUnit",e,t))}get graduatedTickBase(){return null!==this.lt?this.lt.ap:0}set graduatedTickBase(t){const e=this.graduatedTickBase;e!==t&&(null===this.lt&&(this.lt=new ne),this.lt.ap=t,this.c(),this.t("graduatedTickBase",e,t))}get Ps(){return null!==this.lt?this.lt.Ps:null}set Ps(t){null!==this.lt?this.lt.Ps=t:null!==t&&(this.lt=new ne,this.lt.Ps=t)}get je(){return null!==this.lt?this.lt.je:null}set je(t){null!==this.lt?this.lt.je=t:null!==t&&(this.lt=new ne,this.lt.je=t)}get rs(){return null!==this.lt?this.lt.rs:null}set rs(t){null!==this.lt?this.lt.rs=t:null!==t&&(this.lt=new ne,this.lt.rs=t)}get Ne(){return null!==this.lt?this.lt.Ne:null}set Ne(t){null!==this.lt?this.lt.Ne=t:null!==t&&(this.lt=new ne,this.lt.Ne=t)}S0(t){super.S0(t);const e=this.T.r,i=e.length;for(let n=0;n<i;n++)e[n].S0(t)}wh(t,e){if(this.$===ie.Grid)return t.commitTransform(),void this.$.zi(this,t,e);if(this.$===ie.Graduated)return t.commitTransform(),void this.$.zi(this,t,e);if(this.$===ie.Table)if(t.commitTransform(),t instanceof Ft){const i=t.currentElement;t.currentElement=t.newGroup2("gojs-ts"),this.O2(t,e),t.endGroup(),t.currentElement=i}else this.O2(t,e);const i=this.isClipping&&this.$===ie.Spot;i&&t.save();const n=this.findMainElement(),s=this.T.r,r=s.length;for(let o=0;o<r;o++){const r=s[o];i&&r===n&&(t.clipInsteadOfFill=!0),r.zi(t,e),i&&r===n&&(t.clipInsteadOfFill=!1)}i&&(t.restore(),t.clearContextCache(!0))}O2(t,e){t.lineCap="butt";const i=this.rowCount>0?this.Ge:null,n=this.columnCount>0?this.He:null;null!==i&&this.qb(t,e,!0,i,!0),null!==n&&this.qb(t,e,!1,n,!0),null!==i&&this.FA(t,!0,i),null!==n&&this.FA(t,!1,n),null!==i&&this.qb(t,e,!0,i,!1),null!==n&&this.qb(t,e,!1,n,!1)}FA(t,e,i){const n=i.length,s=this.actualBounds,r=this.naturalBounds;let o=!0;for(let a=0;a<n;a++){const n=i[a];if(void 0===n||0===n.actual)continue;if(o){o=!1;continue}if(e){if(n.position>r.height)continue}else if(n.position>r.width)continue;let l=n.separatorStrokeWidth;isNaN(l)&&(l=e?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let h=n.separatorStroke;if(null===h&&(h=e?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),0===l||null===h)continue;this.mn(t,h,!1,!1,r,s);let u=!1,c=n.separatorDashArray;null===c&&(c=e?this.defaultRowSeparatorDashArray:this.defaultColumnSeparatorDashArray),null!==c&&(u=!0,t.enableDash(c,0)),t.beginPath();const d=n.position+l;e?d>r.height&&(l-=d-r.height):d>r.width&&(l-=d-r.width);let f=n.position+l/2;t.lineWidth=l;const m=this.ti;if(e){f+=m.top;const e=m.left,i=r.width-m.right;t.moveTo(e,f),t.lineTo(i,f)}else{f+=m.left;const e=m.top,i=r.height-m.bottom;t.moveTo(f,e),t.lineTo(f,i)}t.stroke(),t.endPath(),u&&t.disableDash()}}qb(t,e,i,n,s){const r=n.length,o=this.actualBounds,a=this.naturalBounds,l=this.RA(!0),h=this.RA(!1);for(let u=0;u<r;u++){const e=n[u];if(void 0===e||null===e.background||e.coversSeparators===s||0===e.actual)continue;const r=i?o.height:o.width;if(e.position>r)continue;let c=e.computeEffectiveSpacing(),d=e.separatorStrokeWidth;isNaN(d)&&(d=i?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let f=e.separatorStroke;null===f&&(f=i?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),(null===f||e.index===(i?l:h))&&(d=0),c-=d;const m=e.position+d;let g=c+e.actual;if(m+g>r&&(g=r-m),g<=0)continue;const p=this.ti;this.mn(t,e.background,!0,!1,a,o),i?t.fillRect(p.left,m+p.top,o.width-(p.left+p.right),g):t.fillRect(m+p.left,p.top,g,o.height-(p.top+p.bottom))}}RA(t){const e=t?this.rowCount:this.columnCount;for(let i=0;i<e;i++){const e=t?this.Ge[i]:this.He[i];if(void 0!==e)return e.index}return 0}nf(){const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].nf();this.Ye(!0)}sf(t,e,i){const n=this.svg;if(null===n)return!1;if(this.type===ie.Table){const i=n.getElementsByClassName("gojs-ts"),s=0!==i.length?i[0]:null;null!==s&&(s.innerHTML=""),t.currentElement=s,this.O2(t,e),t.currentElement=null}else{if(this.$===ie.Grid)return n.innerHTML="",n.remove(),!1;if(this.$===ie.Graduated)return n.innerHTML="",n.remove(),!1;if(this.$===ie.Spot&&this.isClipping)return n.innerHTML="",n.remove(),this.dh=null,this.nf(),!1}if(!super.sf(t,e,i))return!1;const s=this.T.r,r=s.length;for(let o=0;o<r;o++)s[o].zi(t,e);return!0}ed(t){return!0}N0(t,e,i,n){if(!this.isClipping){if(this.js()&&null!==t.partClipRect){const e=t.partClipRect,s=this.T.r;let r=0,o=0;for(let t=0;t<s.length;t++){if(!s[t].isVisibleObject())continue;const e=s[t].actualBounds;r=0===t?e.x:Math.min(e.x,r),o=0===t?e.y:Math.min(e.y,o)}return void n.setAttributeNS(null,"clip-path",`path('M ${e.x-i.x-r},${e.y-i.y-o} l ${e.width} 0 l 0 ${e.height} l -${e.width} 0 z')`)}super.N0(t,e,i,n)}}tf(t,e,i,n,s){const r=this.wn(),o=this.F,a=1/(o.m11*o.m22-o.m12*o.m21);let l=o.m22*a,h=-o.m12*a,u=-o.m21*a,c=o.m11*a,d=a*(o.m21*o.dy-o.m22*o.dx),f=a*(o.m12*o.dx-o.m11*o.dy);if(null!==this.background){const r=t*l+e*u+d,a=t*h+e*c+f,m=i*l+n*u+d,g=i*h+n*c+f;s.i(0,0);const p=this.naturalBounds,y=w.kl(0,0,p.width,p.height,r,a,m,g,s);return s.F(o),y}{r||(l=1,h=0,u=0,c=1,d=0,f=0);const a=t*l+e*u+d,m=t*h+e*c+f,g=i*l+n*u+d,p=i*h+n*c+f;s.i(g,p);let _=(g-a)**2+(p-m)**2,v=!1;const b=this.T.r,x=b.length,M=y.l();let w=null,k=1/0,L=null;const S=this.isClipping&&this.$===ie.Spot;S&&(L=y.l(),w=this.findMainElement(),v=w.tf(a,m,g,p,L),v&&(k=(a-L.x)**2+(m-L.y)**2));for(let t=0;t<x;t++){const e=b[t];if(!e.visible||e===w||!e.tf(a,m,g,p,M))continue;v=!0;const i=(a-M.x)**2+(m-M.y)**2;i<_&&(_=i,s.set(M))}return S&&(k>_&&s.set(L),y.e(L)),y.e(M),r&&s.F(o),v}}vu(){const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].vu();super.vu()}c(t){if(this.Bo())return;super.c(t);let e=null;(this.$===ie.Auto||this.$===ie.Link)&&(e=this.findMainElement());const i=this.T.r,n=i.length;for(let s=0;s<n;s++){const t=i[s];if((t===e||t.isPanelMain)&&t.c(!0),t.desiredSize.isReal())continue;const n=t.Hs(!1);!(t instanceof je)&&!(t instanceof ie)&&!(t instanceof fe)&&0===n||t.c(!0)}}rf(){if(this.Bo())return;this.me(!0),this.no(!0);const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].rf()}ef(){if(!1===this.Bb()){this.sd(!0),this.Ca(!0);const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].d2()}}d2(){this.Ca(!0);const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].d2()}_u(t,e,i,n){const s=this.jo;s.i(0,0,0,0);const r=this.desiredSize,o=this.minSize;void 0===i&&(i=o.width,n=o.height),i=Math.max(i,o.width),n=Math.max(n,o.height);const a=this.maxSize;isNaN(r.width)||(t=Math.min(r.width,a.width)),isNaN(r.height)||(e=Math.min(r.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);const l=this.ti;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);const h=this.T.r;this.$.measure(this,t,e,h,s,i,n);let u=s.width+l.left+l.right,c=s.height+l.top+l.bottom;isFinite(r.width)&&(u=r.width),isFinite(r.height)&&(c=r.height),u=Math.min(a.width,u),c=Math.min(a.height,c),u=Math.max(o.width,u),c=Math.max(o.height,c),u=Math.max(i,u),c=Math.max(n,c),s.zn(u,c),this.naturalBounds.zn(u,c),this.so(0,0,u,c)}findMainElement(){if(null===this.ol){const t=this.T.r,e=t.length;if(0===e)return null;for(let i=0;i<e;i++){const e=t[i];if(!0===e.isPanelMain)return this.ol=e,e}this.ol=t[0]}return this.ol}Ho(){return null!==this.part?this.part.locationObject:null}get panelLayoutState(){return this.v2}set panelLayoutState(t){this.v2=t}ph(t,e,i,n){const s=this.T.r;if(this.actualBounds.i(t,e,i,n),!this.desiredSize.isReal()){let t=this.Hs(!0);const e=this.measuredBounds,s=e.width,r=e.height,o=this.tl,a=o.left+o.right,l=o.top+o.bottom;switch(s===i&&r===n&&(t=0),t){case 0:(s>i||r>n)&&(this.c(),this.ut(s>i?i:s,r>n?n:r,0,0));break;case 2:this.c(!0),this.ut(i+a,n+l,0,0);break;case 5:this.c(!0),this.ut(i+a,r+l,0,0);break;case 4:this.c(!0),this.ut(s+a,n+l,0,0);break}}this.$.arrange(this,s,this.jo)}mh(t){const e=this.naturalBounds,i=this.Ho();if(v.contains(0,0,e.width,e.height,t.x,t.y)){const e=this.T.r,n=e.length,s=y.X(0,0);for(let r=n;r--;){const n=e[r];if((n.visible||n===i)&&(s.set(t).Be(n.F),n.containsPoint(s)))return y.e(s),!0}return y.e(s),null!==this.Dt}return!1}w0(t){if(this.io===t)return this;const e=this.T.r,i=e.length;for(let n=0;n<i;n++){const i=e[n].w0(t);if(null!==i)return i}return null}walkVisualTreeFrom(t,e){if(e(this,t),t instanceof ie){const i=t.T.r,n=i.length;for(let t=0;t<n;t++)this.walkVisualTreeFrom(i[t],e)}}$r(t){this.vA(this,t)}vA(t,e){e(t);const i=t.T.r,n=i.length;for(let s=0;s<n;s++){const t=i[s];t instanceof ie&&this.vA(t,e)}}Sv(t){this.OA(this,t)}OA(t,e){if(e(t),t instanceof ie){const i=t.T.r,n=i.length;for(let t=0;t<n;t++)this.OA(i[t],e)}}findInVisualTree(t){return this.IA(this,t)}IA(t,e){if(e(t))return t;if(t instanceof ie){const i=t.T.r,n=i.length;for(let t=0;t<n;t++){const n=this.IA(i[t],e);if(null!==n)return n}}return null}findObject(t){if(this.name===t)return this;const e=this.T.r;let i=e.length;this.Mv()&&(i=this.cp());for(let n=0;n<i;n++){const i=e[n];if(i instanceof ie){const e=i.findObject(t);if(null!==e)return e}if(i.name===t)return i}return null}EA(){const t=this.T.r,e=t.length;let i=0;for(let n=0;n<e;n++){const e=t[n];e instanceof ie?i=Math.max(i,e.EA()):e instanceof le&&(i=Math.max(i,e.Nv()))}return i}wn(){return!(this.type===ie.TableRow||this.type===ie.TableColumn)}el(){return this.type===ie.TableRow||this.type===ie.TableColumn}gL(t,e,i){if(!1===this.pickable||(void 0===e&&(e=null),void 0===i&&(i=null),this.es()))return null;const n=this.naturalBounds,s=1/this.getDocumentScale(),r=this.wn(),o=r?t:y.X(t.x,t.y).Be(this.F),a=this.diagram;let l=10,h=5;if(null!==a&&(l=a.getInputOption("extraTouchArea"),h=l/2),v.contains(-h*s,-h*s,n.width+l*s,n.height+l*s,o.x,o.y)){if(!this.gf){const n=this.T.r,s=n.length,a=y.l(),l=this.isClipping&&this.$===ie.Spot,h=l?this.findMainElement():null;if(l&&(h.wn()?a.set(t).Be(h.F):a.set(t),!h.containsPoint(a)))return y.e(a),r||y.e(o),null;const u=this.Ho();for(let c=s;c--;){const s=n[c];if(!s.visible&&s!==u||(s.wn()?a.set(t).Be(s.F):a.set(t),l&&s===h))continue;let d=null;if(s instanceof ie?d=s.gL(a,e,i):!0===s.pickable&&s.containsPoint(a)&&(d=s),null!==d&&(null!==e&&(d=e(d)),null!==d&&(null===i||i(d))))return y.e(a),r||y.e(o),d}y.e(a)}if(null===this.background)return r||y.e(o),null;const s=v.contains(0,0,n.width,n.height,o.x,o.y)?this:null;return r||y.e(o),s}return r||y.e(o),null}mL(t,e,i,n){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);const s=this.naturalBounds,r=this.wn(),o=r?t:y.X(t.x,t.y).Be(this.F),a=this.el(),l=v.contains(0,0,s.width,s.height,o.x,o.y);if(a||l){if(!this.gf){const s=this.T.r,r=s.length,o=y.l(),a=this.Ho();for(let l=r;l--;){const r=s[l];if(!r.visible&&r!==a)continue;r.wn()?o.set(t).Be(r.F):o.set(t);let h=r;const u=r instanceof ie?r:null;if(null!==u?u.mL(o,e,i,n):h.containsPoint(o)){if(!1===h.pickable)continue;null!==e&&(h=e(h)),null!==h&&(null===i||i(h))&&n.add(h)}}y.e(o)}return r||y.e(o),l&&null!==this.background}return r||y.e(o),!1}Om(t,e,i,n,s,r){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);let o=r;if(void 0===o&&(o=M.l(),o.Ii()),o.ac(this.F),this.containedInRect(t,o))return this.I2(e,i,s),void 0===r&&M.e(o),!0;if(this.intersectsRect(t,o)){if(!this.gf){const r=this.Ho(),a=this.T.r,l=a.length;for(let h=l;h--;){const l=a[h];if(!l.visible&&l!==r)continue;const u=l.actualBounds,c=this.naturalBounds;if(u.x>c.width||u.y>c.height||u.x+u.width<0||u.y+u.height<0)continue;let d=l;const f=l instanceof ie?l:null,m=M.l();m.set(o),(null!==f?f.Om(t,e,i,n,s,m):d.uA(t,n,m))&&(null!==e&&(d=e(d)),null!==d&&(null===i||i(d))&&s.add(d)),M.e(m)}}return void 0===r&&M.e(o),n}return void 0===r&&M.e(o),!1}I2(t,e,i){const n=this.T.r,s=n.length;for(let r=s;r--;){const s=n[r];if(!s.visible)continue;const o=s.actualBounds,a=this.naturalBounds;if(o.x>a.width||o.y>a.height||o.x+o.width<0||o.y+o.height<0)continue;s instanceof ie&&s.I2(t,e,i);let l=s;null!==t&&(l=t(l)),null!==l&&(null===e||e(l))&&i.add(l)}}pL(t,e,i,n,s,r){if(!1===this.pickable)return!1;void 0===i&&(i=null),void 0===n&&(n=null);const o=this.naturalBounds,a=this.wn(),l=a?t:y.X(t.x,t.y).Be(this.F),h=a?e:y.X(e.x,e.y).Be(this.F),u=l.distanceSquaredPoint(h),c=l.x>0&&l.x<o.width&&l.y>0&&l.y<o.height||y.distanceLineSegmentSquared(l.x,l.y,0,0,0,o.height)<=u||y.distanceLineSegmentSquared(l.x,l.y,0,o.height,o.width,o.height)<=u||y.distanceLineSegmentSquared(l.x,l.y,o.width,o.height,o.width,0)<=u||y.distanceLineSegmentSquared(l.x,l.y,o.width,0,0,0)<=u,d=l.distanceSquared(0,0)<=u&&l.distanceSquared(0,o.height)<=u&&l.distanceSquared(o.width,0)<=u&&l.distanceSquared(o.width,o.height)<=u;if(a||(y.e(l),y.e(h)),c){if(!this.gf){const o=y.l(),l=y.l(),h=this.Ho(),u=this.T.r,c=u.length;for(let d=c;d--;){const c=u[d];if(!c.visible&&c!==h)continue;const f=c.actualBounds,m=this.naturalBounds;if(a&&(f.x>m.width||f.y>m.height||f.x+f.width<0||f.y+f.height<0))continue;if(c.wn()){const i=c.F;o.set(t).Be(i),l.set(e).Be(i)}else o.set(t),l.set(e);let g=c;const p=c instanceof ie?c:null;(null!==p?p.pL(o,l,i,n,s,r):g.dA(o,l,s))&&(null!==i&&(g=i(g)),null!==g&&(null===n||n(g))&&r.add(g))}y.e(o),y.e(l)}return s?c:d}return!1}T2(t){let e=null;if(t instanceof le){e=t.spot1,e===x.Default&&(e=null);const i=t.geometry;null!==i&&null===e&&(e=i.spot1)}return null===e&&(e=x.TopLeft),e}D2(t){let e=null;if(t instanceof le){e=t.spot2,e===x.Default&&(e=null);const i=t.geometry;null!==i&&null===e&&(e=i.spot2)}return null===e&&(e=x.BottomRight),e}add(...t){for(let e=0;e<t.length;e++)this.insertAt(this.T.count,t[e]);return this}elt(t){return this.T.elt(t)}insertAt(t,i){i instanceof Me&&e.o("Cannot add a Part to a Panel: "+i+"; use a Panel instead"),(this===i||this.isContainedBy(i))&&(this===i&&e.o("Cannot make a Panel contain itself: "+this.toString()),e.o("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+i.toString()));const n=i.panel;if(null!==n&&n!==this&&e.o("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+i.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.$===ie.Grid&&!(i instanceof le)&&e.o("Can only add Shapes to a Grid Panel, not: "+i),this.$===ie.Graduated&&!(i instanceof le||i instanceof fe)&&e.o("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+i),i.La(this),i.il=null,null!==this.itemArray){const t=i.data;e.H(t)&&(null===this.Ws&&(this.Ws=new p),this.Ws.set(t,i))}const s=this.T;let r=-1;if(n===this){let o=-1;const a=this.T.r,l=a.length;for(let t=0;t<l;t++)if(a[t]===i){o=t;break}if(-1!==o){if(o===t||o+1>=s.count&&t>=s.count)return;s.removeAt(o),r=o}else e.o("element "+i.toString()+" has panel "+n.toString()+" but is not contained by it.")}(t<0||t>s.count)&&(t=s.count),s.insertAt(t,i),(0===t||i.isPanelMain)&&(this.ol=null),this.Bo()||this.c(),i.c(!1),(null!==i.portId||i instanceof ie&&!0===i.bn)&&(this.bn=!0),this.rs=null,this.isEnabledObject()||this.Wb(i,!1);const o=this.part;if(null!==o){o.R0(),o.mf(),this.bn&&o instanceof Se&&(o.bn=!0),o.bn&&o instanceof Se&&(o.le=null);const e=this.diagram;if(null!==e&&e.undoManager.isUndoingRedoing)return;-1!==r&&o.raiseChangedEvent(4,"elements",this,i,null,r,null),o.raiseChangedEvent(3,"elements",this,null,i,null,t)}}get bn(){return 0!==(8388608&this.n)}set bn(t){0!==(8388608&this.n)!==t&&(this.n=8388608^this.n)}a2(){return 0!==(16777216&this.n)}E2(t){t?this.n|=16777216:this.n&=-16777217}Pv(t){t.La(this),t.il=null;const e=this.T,i=e.count;e.insertAt(i,t);const n=this.part;if(null!==n){n.R0(),null!==t.portId&&n instanceof Se&&(n.bn=!0);const e=this.diagram;if(null!==e&&e.undoManager.isUndoingRedoing)return;n.raiseChangedEvent(3,"elements",this,null,t,null,i)}}GR(t){const e=this.T.r,i=e.length;let n=-1;for(let s=0;s<i;s++)if(e[s]===t){n=s;break}return n}remove(t){const e=this.T.r,i=e.length;let n=-1;for(let s=0;s<i;s++)if(e[s]===t){n=s;break}-1!==n&&this.se(n,!0)}removeAt(t){t>=0&&this.se(t,!0)}se(t,i){const n=this.T,s=n.elt(t);if(s.il=null,s.La(null),null!==this.Ws){const t=s.data;e.H(t)&&this.Ws.delete(t)}n.removeAt(t),this.me(!1),this.c(),this.ol===s&&(this.ol=null),this.rs=null;const r=this.part;if(null!==r){r.R0(),r.mf(),r.invalidateAdornments(),r instanceof Se&&(s instanceof ie?s.walkVisualTreeFrom(s,((t,e)=>r.w2(e,i))):r.w2(s,i));const e=this.diagram;if(null!==e&&e.undoManager.isUndoingRedoing)return;r.raiseChangedEvent(4,"elements",this,s,null,t,null)}}get Ge(){return null===this.O&&(this.O=new re),this.O.Ge}get rowCount(){return null===this.O?0:this.Ge.length}getRowDefinition(t){t<0&&e._(t,">= 0",ie,"getRowDefinition:idx"),t=Math.round(t);const i=this.Ge;if(void 0===i[t]){const e=new ae;e.La(this),e.isRow=!0,e.index=t,i[t]=e,this.raiseChangedEvent(3,"rowdefs",this,null,e,null,t)}return i[t]}removeRowDefinition(t){if(t<0&&e._(t,">= 0",ie,"removeRowDefinition:idx"),0===this.rowCount)return;t=Math.round(t);const i=this.Ge,n=i[t];if(n){i[t]=void 0;let e=i.length-1;for(;e>=0&&void 0===i[e--];)i.length--;this.raiseChangedEvent(4,"rowdefs",this,n,null,t,null),this.c()}}GL(t,e){const i=this.Ge;if(!(t<0)){if(i[t]=e instanceof ae?e:void 0,!e){let t=i.length-1;for(;t>=0&&void 0===i[t--];)i.length--}this.c()}}get He(){return null===this.O&&(this.O=new re),this.O.He}get columnCount(){return null===this.O?0:this.He.length}getColumnDefinition(t){t<0&&e._(t,">= 0",ie,"getColumnDefinition:idx"),t=Math.round(t);const i=this.He;if(void 0===i[t]){const e=new ae;e.La(this),e.isRow=!1,e.index=t,i[t]=e,this.raiseChangedEvent(3,"coldefs",this,null,e,null,t)}return i[t]}removeColumnDefinition(t){if(t<0&&e._(t,">= 0",ie,"removeColumnDefinition:idx"),0===this.columnCount)return;t=Math.round(t);const i=this.He,n=i[t];if(n){i[t]=void 0;let e=i.length-1;for(;e>=0&&void 0===i[e--];)i.length--;this.raiseChangedEvent(4,"coldefs",this,n,null,t,null),this.c()}}HL(t,e){const i=this.He;if(!(t<0)){if(i[t]=e instanceof ae?e:void 0,!e){let t=i.length-1;for(;t>=0&&void 0===i[t--];)i.length--}this.c()}}addRowColumnDefinition(t){let e=null;return t.isRow?e=this.getRowDefinition(t.index):t.isRow||(e=this.getColumnDefinition(t.index)),e&&e.Vb(t),this}addRowDefinition(t,e){const i=this.getRowDefinition(t);return i&&i.Vb(new ae(e)),this}addColumnDefinition(t,e){const i=this.getColumnDefinition(t);return i&&i.Vb(new ae(e)),this}get rowSizing(){return null!==this.O?this.O.fp:3}set rowSizing(t){const e=this.rowSizing;e!==t&&(null===this.O&&(this.O=new re),this.O.fp=t,this.c(),this.t("rowSizing",e,t))}get columnSizing(){return null!==this.O?this.O.dp:3}set columnSizing(t){const e=this.columnSizing;e!==t&&(null===this.O&&(this.O=new re),this.O.dp=t,this.c(),this.t("columnSizing",e,t))}get topIndex(){return null!==this.O?this.O.gp:0}set topIndex(t){const i=this.topIndex;i!==t&&((!isFinite(t)||t<0)&&e.o("Panel.topIndex must be greater than zero and a real number, not: "+t),null===this.O&&(this.O=new re),this.O.gp=t,this.c(),this.t("topIndex",i,t))}get leftIndex(){return null!==this.O?this.O.mp:0}set leftIndex(t){const i=this.leftIndex;i!==t&&((!isFinite(t)||t<0)&&e.o("Panel.leftIndex must be greater than zero and a real number, not: "+t),null===this.O&&(this.O=new re),this.O.mp=t,this.c(),this.t("leftIndex",i,t))}findRowForLocalY(t){if(t<0||this.type!==ie.Table||0===this.rowCount)return-1;let e=0;const i=this.Ge,n=i.length;let s=this.topIndex;for(;s<n;s++){const n=i[s];if(void 0!==n&&(e+=n.total,t<e))return s}return s}findColumnForLocalX(t){if(t<0||this.type!==ie.Table||0===this.columnCount)return-1;let e=0;const i=this.He,n=i.length;let s=this.leftIndex;for(;s<n;s++){const n=i[s];if(void 0!==n&&(e+=n.total,t<e))return s}return s}graduatedPointForValue(t,e){if(void 0===e&&(e=new y(NaN,NaN)),this.type!==ie.Graduated)return e.i(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);const i=this.findMainElement();return i.geometry.getPointAlongPath((t-this.graduatedMin)/this.graduatedRange,e),i.F.xt(e)}graduatedValueForPoint(t){if(this.type!==ie.Graduated)return NaN;const e=this.findMainElement();return e.F._e(t),e.geometry.getFractionForPoint(t)*this.graduatedRange+this.graduatedMin}get data(){return this.ei}set data(t){const i=this.ei;if(i!==t){const n=this instanceof Me&&!(this instanceof ke);n&&e.s(t,"object",ie,"data"),this.Vt(),this.ei=t;const s=this.diagram;if(null!==s)if(n)s.partManager.Cv(this,i,t);else{const e=this.panel;null!==e&&null!==e.Ws&&(null!==i&&e.Ws.delete(i),null!==t&&e.Ws.set(t,this))}if(this.t("data",i,t),null!==s&&s.undoManager.isUndoingRedoing)return;null!==t&&this.updateTargetBindings()}}get itemIndex(){return this.fd}set itemIndex(t){const e=this.fd;e!==t&&(this.fd=t,this.t("itemIndex",e,t))}get qs(){return null!==this.b?this.b.qs:null}set qs(t){this.Ti!==t&&(null===this.b&&(this.b=new Ct),this.b.qs=t)}b2(){return null!==this.qs}PA(){const t=this.qs;return null!==t&&t.h}freezeBindings(){return this.Vt()}Vt(){let t=this.qs;if(null===t)null!==this.data&&e.o("Template cannot have .data be non-null: "+this),this.qs=t=new l;else if(t.h)return this;const i=new l;this.E2(!1),this.walkVisualTreeFrom(this,((e,n)=>{n.gh();const s=n.Ti;if(null!==s){n.g2(!1);const r=s.iterator;for(;r.next();){const s=r.value;2===s.mode&&n.g2(!0);const o=s.sourceName;if(s.isToObject){"/"===o&&e.E2(!0);const t=s.fA(e,n);null!==t&&(i.add(t),null===t.eo&&(t.eo=new l),t.eo.add(s))}t.add(s)}}if(n instanceof ie&&n.type===ie.Table){if(n.rowCount>0){const e=n.Ge,i=e.length;for(let n=0;n<i;n++){const i=e[n];if(void 0!==i&&null!==i.Ss){const e=i.Ss.iterator;for(;e.next();){const n=e.value;n.Se=i,n.gd=2,n.pf=i.index,t.add(n)}}}}if(n.columnCount>0){const e=n.He,i=e.length;for(let n=0;n<i;n++){const i=e[n];if(void 0!==i&&null!==i.Ss){const e=i.Ss.iterator;for(;e.next();){const n=e.value;n.Se=i,n.gd=1,n.pf=i.index,t.add(n)}}}}}}));const n=i.iterator;for(;n.next();){const t=n.value;if(null!==t.eo){t.g2(!0);const e=t.eo.iterator;for(;e.next();){const i=e.value;null===t.Ti&&(t.Ti=new l),t.Ti.add(i)}}t.eo=null}let s=t.iterator;for(;s.next();){const t=s.value;let i=t.Se;if(null!==i){t.Se=null;const n=t.targetProperty,s=n.indexOf(".");if(s>0&&i instanceof ie){const r=n.substring(0,s),o=n.substring(s+1),a=i.findObject(r);null!==a?(i=a,t.targetProperty=o):(e.li('Warning: unable to find GraphObject named "'+r+'" for Binding: '+t.toString()),i=null)}if(i instanceof ae){const e=u.us(i.panel);t.targetId=void 0===e?-1:e,i.panel.io=t.targetId}else if(i instanceof Yt){const e=u.us(i);t.targetId=void 0===e?-1:e,i.io=t.targetId}else e.o("Unknown type of binding target: "+i);t.check(i)}}return t.u(),this instanceof Me&&this.Me()&&this.ensureBounds(),this}static ME=!1;copyTemplate(t){void 0===t&&(t=!1);const e=this.copy();return e.Sv((t=>{t instanceof ie&&(t.qs=null,t.ei=null);const e=t.Ti;null!==e&&(t.Ti=null,e.each((e=>t.bind(e.copy()))));const i=t.ks;null!==i&&(t.ks=null,i.each((e=>t.trigger(e.value.copy()))))})),t&&e.Vt(),e}updateTargetBindings(t){const e=this.qs;if(null===e)return;void 0===t&&(t="");const i=this.diagram?.model,n=e.iterator;for(;n.next();){const e=n.value,s=this.BA(e,t);if(null===s)continue;const{data:r,elt:o}=s;e.isToTheme&&null===this.diagram||void 0!==o&&e.updateTarget(o,r,void 0,i)}}Uo(){if(null!==this.diagram)if(this.b2()){const t=this.diagram.model,e=this.qs.iterator;for(;e.next();){const i=e.value;if(!i.isToTheme)continue;const n=this.BA(i);if(null===n)continue;const{data:s,elt:r}=n;void 0!==r&&i.updateTarget(r,s,void 0,t)}}else{const t=this.T.r,e=t.length;for(let i=0;i<e;i++)t[i].Uo()}}BA(t,e=""){const i=t.sourceProperty;if(""!==e&&""!==i&&i!==e)return null;const n=t.targetProperty;if(null===t.converter&&""===n)return null;let s=this.data;const r=t.sourceName;if(t.isToObject){if(s=this.cA(r),null===s)return null}else if(t.isToModel){const t=this.diagram;if(null===t)return null;s=t.model.modelData}let o=this;const a=t.targetId;if(-1!==a){if(o=this.w0(a),null===o)return null}else null!==t.Se&&(o=t.Se);"/"===r?s=o.part:"."===r?s=o:".."===r&&(s=o.panel);const l=t.gd;if(0!==l){if(!(o instanceof ie))return null;1===l?o=o.getColumnDefinition(t.pf):2===l&&(o=o.getRowDefinition(t.pf))}return{data:s,elt:o}}get itemArray(){return this.Ph}set itemArray(t){const e=this.Ph;if(e!==t||null!==t&&this.Lv(t)){const i=this.diagram;if(e!==t&&(null!==i&&null!==e&&i.partManager.TM(this,i),this.Ph=t,null!==i&&null!==t&&i.partManager.AM(this,i)),this.t("itemArray",e,t),null!==i&&i.undoManager.isUndoingRedoing)return;this.UA(e,t)}}findItemPanelForData(t){return null==t||null===this.Ws?null:(e.lc(t,ie,"findItemPanelForData"),this.Ws.get(t))}Lv(t){const e=this.T.r,i=e.length,n=t.length;let s=0,r=null;for(;s<i&&(r=e[s],!(r instanceof ie)||null===r.data);)s++,r=e[s];if(i-s!==n)return!0;if(null===r)return n>0;let o=0;for(;s<i&&o<n;){if(r=e[s],!(r instanceof ie)||r.data!==t[o])return!0;s++,o++}return!1}cp(){if(this.type===ie.Spot||this.type===ie.Auto)return Math.min(this.T.length,1);if(this.type===ie.Link){const t=this.T,e=t.length;let i=0;for(;i<e;i++){const e=t.elt(i);if(!(e instanceof le)||!e.isPanelMain)return i}return i}if(this.type===ie.Table&&this.T.length>0){const t=this.T.elt(0);if(t.isPanelMain&&t instanceof ie&&t.el())return 1}return 0}rebuildItemElements(){const t=this.cp();for(;this.T.length>t;)this.se(this.T.length-1,!1);this.UA(null,this.itemArray)}UA(t,e){const i=this.cp(),n=e;if(null!==n&&0!==n.length)if(this.T.length<=i){const t=n.length;for(let e=0;e<t;e++)this.Jb(n[e],e,!0)}else{let t=i;for(let i=0;i<n.length;i++,t++){const e=n[i],s=t<this.T.length?this.T.elt(t):null;if(s instanceof ie){if(s.data!==e){const n=this.B2(s.data,i),r=this.B2(e,i);let o=r!==n;if(!o){const t=this.U2(s.data,i,n);o=this.U2(e,i,r)!==t}o?(this.se(t,!1),this.Jb(e,i,!1)):s.data=e}}else this.Jb(e,i,!1)}for(;t<this.T.length;)this.se(t,!1);this.ol=null,this.V2(i,0),this.Bo()||this.c(),this.rs=null,this.isEnabledObject()||this.Wb(this,!1);const e=this.part;null!==e&&(e.R0(),e.mf(),this.bn&&e instanceof Se&&(e.bn=!0),e.bn&&e instanceof Se&&(e.le=null))}else for(;this.T.length>i;)this.se(this.T.length-1,!1)}Jb(t,i,n){if(null==t||i<0)return null;const s=this.B2(t,i),r=this.U2(t,i,s);if(null!==r){r.Vt();const s=r.copy();if(s.a2()){const t=this.findBindingPanel();null!==t&&t.E2(!0)}e.H(t)&&(null===this.Ws&&(this.Ws=new p),this.Ws.set(t,s));const o=i+this.cp();return this.insertAt(o,s),n&&(s.ei=t,this.V2(o,i),s.ei=null),s.data=t,s}return null}Av(t){if(t<0)return;const e=t+this.cp();this.se(e,!0),this.V2(e,t)}V2(t,e){const i=this.T;let n=t,s=e;for(;n<i.length;){const t=i.elt(n);t instanceof ie&&t.Tv(n,s),n++,s++}}Tv(t,e){this.type===ie.TableRow?this.row=t:this.type===ie.TableColumn&&(this.column=t),this.itemIndex=e}Mv(){return null!==this.Ph||null!==this.itemTemplateMap}get itemTemplate(){return null===this.itemTemplateMap?null:this.itemTemplateMap.get("")}set itemTemplate(t){if(null===this.itemTemplateMap){if(null===t)return;this.itemTemplateMap=new p}const i=this.itemTemplateMap.get("");if(i!==t){(t instanceof Me||t.isPanelMain)&&e.o("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.set("",t),this.t("itemTemplate",i,t);const n=this.diagram;if(null!==n&&n.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemTemplateMap(){return null!==this.b?this.b.q0:null}set itemTemplateMap(t){const e=this.itemTemplateMap;if(e!==t){const i=t.iterator;for(;i.next();){i.value}this.qt().q0=t,this.t("itemTemplateMap",e,t);const n=this.diagram;if(null!==n&&n.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemCategoryProperty(){return null!==this.b?this.b.W0:"category"}set itemCategoryProperty(t){const i=this.itemCategoryProperty;i!==t&&("string"!=typeof t&&!e.ot(t)&&e.te(t,"string or function",ie,"itemCategoryProperty"),this.qt().W0=t,this.t("itemCategoryProperty",i,t))}B2(t,i){if(null===t)return"";const n=this.itemCategoryProperty;let s="";if(e.ot(n))s=n(t);else{if("string"!=typeof n||!e.H(t))return"";{if(""===n)return"";const e=this.diagram,i=null!==e?e.model:null;s=i?i.bt(t,n):ti.bt(t,n)}}return void 0===s?"":"string"==typeof s?s:void e.o("Panel.getCategoryForItemData found a non-string category for "+t+": "+s)}static VA=!1;static zA=null;U2(t,i,n){const s=this.itemTemplateMap;let r=null;return null!==s&&(r=s.get(n)),null===r&&(null!==s&&(r=s.get("")),null===r&&(ie.VA||(ie.VA=!0,e.li('No item template Panel found for category "'+n+'" on '+this),e.li("  Using default item template."),ie.zA=(new ie).add((new fe).bind("text","",e.toString).theme("stroke","text"))),r=ie.zA)),r}get gf(){return 0!==(1048576&this.n)}set gf(t){const i=0!==(1048576&this.n);i!==t&&(e.s(t,"boolean",ie,"isAtomic"),this.n=1048576^this.n,this.t("isAtomic",i,t))}get isClipping(){return 0!==(2097152&this.n)}set isClipping(t){const e=0!==(2097152&this.n);e!==t&&(this.nf(),this.n=2097152^this.n,this instanceof Ie&&(this.ri=null),this.c(),this.t("isClipping",e,t))}get isOpposite(){return 0!==(33554432&this.n)}set isOpposite(t){const e=0!==(33554432&this.n);e!==t&&(this.n=33554432^this.n,this.c(),this.t("isOpposite",e,t))}get isEnabled(){return 0!==(4194304&this.n)}set isEnabled(t){const e=0!==(4194304&this.n);if(e!==t){const i=null===this.panel||this.panel.isEnabledObject();this.n=4194304^this.n,this.t("isEnabled",e,t);const n=this.diagram;if(null!==n&&n.undoManager.isUndoingRedoing)return;i&&this.Wb(this,t)}}Wb(t,e){const i=t.enabledChanged;if(null!==i&&i(t,e),t instanceof ie){const i=t.T.r,n=i.length;for(let t=0;t<n;t++){const n=i[t];e&&n instanceof ie&&!n.isEnabled||this.Wb(n,e)}}}get alignmentFocusName(){return this.ho}set alignmentFocusName(t){const e=this.ho;e!==t&&(this.ho=t,this.c(),this.t("alignmentFocusName",e,t))}static definePanelLayout(t,e){zt.Pn(t,e)}static isBuilderDefined(t){return zt.os.has(t)}static Position=zt.os.get("Position");static Horizontal=zt.os.get("Horizontal");static Vertical=zt.os.get("Vertical");static Spot=zt.os.get("Spot");static Auto=zt.os.get("Auto");static Table=zt.os.get("Table");static Viewbox=zt.os.get("Viewbox");static TableRow=zt.os.get("TableRow");static TableColumn=zt.os.get("TableColumn");static Link=zt.os.get("Link");static Grid=zt.os.get("Grid");static Graduated=zt.os.get("Graduated")}ie.definePanelLayout=ie.definePanelLayout;class ne{rp;lp;hp;ap;Ps;je;rs;Ne;constructor(){this.rp=0,this.lp=100,this.hp=10,this.ap=0,this.Ps=null,this.je=null,this.rs=null,this.Ne=null}copy(){const t=new ne;return t.rp=this.rp,t.lp=this.lp,t.hp=this.hp,t.ap=this.ap,t.Ps=this.Ps,t.je=this.je,t.rs=this.rs,t.Ne=this.Ne,t}}class se{ud;dd;qc;Q0;constructor(){this.ud=_.uC,this.dd=y.Lo,this.qc=_.mw,this.Q0=[]}copy(){const t=new se;return t.ud=this.ud.copy(),t.dd=this.dd.copy(),t.qc=this.qc.copy(),t.Q0=this.Q0,t}}class re{Ge;He;fp;dp;gp;mp;_0;ip;tp;ep;np;sp;op;kh;constructor(){this.Ge=[],this.He=[],this.fp=3,this.dp=3,this.gp=0,this.mp=0,this._0=b.Bg,this.ip=1,this.tp=null,this.ep=null,this.np=1,this.sp=null,this.op=null,this.kh=null}copy(t){const e=new re,i=this.Ge,n=i.length,s=e.Ge;for(let l=0;l<n;l++){if(void 0===i[l])continue;const e=i[l].copy();e.La(t),s[l]=e}const r=this.He,o=r.length,a=e.He;for(let l=0;l<o;l++){if(void 0===r[l])continue;const e=r[l].copy();e.La(t),a[l]=e}return e.fp=this.fp,e.dp=this.dp,e.gp=this.gp,e.mp=this.mp,e._0=this._0.N(),e.ip=this.ip,e.tp=this.tp,e.ep=this.ep,e.np=this.np,e.sp=this.sp,e.op=this.op,e.kh=this.kh,e}}var oe=(t=>(t[t.Default=1]="Default",t[t.None=2]="None",t[t.ProportionalExtra=3]="ProportionalExtra",t))(oe||{});class ae{Gs;pp;Ft;Fa;Ra;fi;dt;md;oo;rl;pd;yd;va;Dt;wd;Ss;st;Fi;pe;constructor(t){u.qi(this),this.Gs=null,this.pp=!0,this.Ft=0,this.pe=NaN,this.Fa=0,this.Ra=1/0,this.fi=x.Default,this.st=0,this.Fi=0,this.dt=0,this.Ss=null,this.md=1,this.oo=1,this.rl=null,this.pd=null,this.yd=NaN,this.va=null,this.Dt=null,this.wd=!1,t&&(Object.assign(this,t),void 0!==t.column?(this.isRow=!1,this.index=t.column):void 0!==t.row&&(this.isRow=!0,this.index=t.row))}copy(){const t=new ae;return t.pp=this.pp,t.Ft=this.Ft,t.pe=this.pe,t.Fa=this.Fa,t.Ra=this.Ra,t.fi=this.fi,t.st=this.st,t.Fi=this.Fi,t.dt=this.dt,t.oo=this.oo,t.md=this.md,null===this.rl?t.rl=null:t.rl=this.rl.N(),t.pd=this.pd,t.yd=this.yd,t.va=null,null!==this.va&&(t.separatorDashArray=this.va.slice()),t.Dt=this.Dt,t.wd=this.wd,t.Ss=this.Ss,t}Vb(t){t.isRow?void 0!==t.height&&(this.height=t.height):void 0!==t.width&&(this.width=t.width),void 0!==t.minimum&&(this.minimum=t.minimum),void 0!==t.maximum&&(this.maximum=t.maximum),void 0!==t.alignment&&(this.alignment=t.alignment),void 0!==t.stretch&&(this.stretch=t.stretch),void 0!==t.sizing&&(this.sizing=t.sizing),void 0!==t.separatorPadding&&(this.separatorPadding=t.separatorPadding),void 0!==t.separatorStroke&&(this.separatorStroke=t.separatorStroke),void 0!==t.separatorStrokeWidth&&(this.separatorStrokeWidth=t.separatorStrokeWidth),void 0!==t.separatorDashArray&&(this.va=t.separatorDashArray),void 0!==t.background&&(this.background=t.background),void 0!==t.coversSeparators&&(this.coversSeparators=t.coversSeparators),void 0!==t.Ss&&(this.Ss=t.Ss)}hi(t){t in oe?this.sizing=t:e.cr(this,t)}toString(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+u.us(this)}static Default=1;static None=2;static ProportionalExtra=3;La(t){this.Gs=t}computeEffectiveSpacingTop(t){let e=0;const i=this.Gs;if(this.index!==t){let t=this.separatorStroke;null===t&&null!==i&&(t=this.isRow?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),null!==t&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==i?this.isRow?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:0))}let n=this.rl;if(null===n){if(null===i)return e;n=i.defaultSeparatorPadding}return e+(this.isRow?n.top:n.left)}computeEffectiveSpacing(){let t=0;const e=this.Gs;let i=0;const n=this.isRow;if(null!==e&&e.type===ie.Table){const t=n?e.Ge.length:e.He.length;for(let s=0;s<t;s++){const t=n?e.Ge[s]:e.He[s];if(void 0!==t&&0!==t.st){i=t.index;break}}}if(this.index!==i){let i=this.separatorStroke;null===i&&null!==e&&(i=n?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==i&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?n?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))}let s=this.rl;if(null===s){if(null===e)return t;s=e.defaultSeparatorPadding}return t+(this.isRow?s.top+s.bottom:s.left+s.right)}t(t,e,i,n,s){const r=this.Gs;if(null!==r&&(r.raiseChangedEvent(2,t,this,e,i,n,s),null!==this.Ss)){const e=r.diagram;if(null!==e&&!e.ge){const e=r.findBindingPanel();if(null!==e){const i=e.data;if(null!==i){const n=this.Ss.iterator;for(;n.next();)n.value.updateSource(this,i,t,e)}}}}}get panel(){return this.Gs}get isRow(){return this.pp}set isRow(t){this.pp=t}get index(){return this.Ft}set index(t){this.Ft=t}get height(){return this.pe}set height(t){const i=this.pe;i!==t&&(t<0&&e._(t,">= 0",ae,"height"),this.pe=t,this.actual=this.st,null!==this.panel&&this.panel.c(),this.t("height",i,t))}get width(){return this.pe}set width(t){const i=this.pe;i!==t&&(t<0&&e._(t,">= 0",ae,"width"),this.pe=t,this.actual=this.st,null!==this.panel&&this.panel.c(),this.t("width",i,t))}get minimum(){return this.Fa}set minimum(t){const i=this.Fa;i!==t&&((t<0||!isFinite(t))&&e._(t,">= 0",ae,"minimum"),this.Fa=t,this.actual=this.st,null!==this.panel&&this.panel.c(),this.t("minimum",i,t))}get maximum(){return this.Ra}set maximum(t){const i=this.Ra;i!==t&&(t<0&&e._(t,">= 0",ae,"maximum"),this.Ra=t,this.actual=this.st,null!==this.panel&&this.panel.c(),this.t("maximum",i,t))}get alignment(){return this.fi}set alignment(t){const e=this.fi;e.equals(t)||(this.fi=t.N(),null!==this.panel&&this.panel.c(),this.t("alignment",e,t))}get stretch(){return this.oo}set stretch(t){const e=this.oo;e!==t&&(this.oo=t,null!==this.panel&&this.panel.c(),this.t("stretch",e,t))}get separatorPadding(){return this.rl}set separatorPadding(t){"number"==typeof t&&(t=new b(t));const e=this.rl;(null===t||null===e||!e.equals(t))&&(null!==t&&(t=t.N()),this.rl=t,null!==this.panel&&this.panel.c(),this.t("separatorPadding",e,t))}get separatorStroke(){return this.pd}set separatorStroke(t){const e=this.pd;e!==t&&(null!==t&&Bt.nd(t,"RowColumnDefinition.separatorStroke"),t instanceof Bt&&t.u(),this.pd=t,null!==this.panel&&this.panel.c(),this.t("separatorStroke",e,t))}get separatorStrokeWidth(){return this.yd}set separatorStrokeWidth(t){const e=this.yd;e!==t&&(this.yd=t,null!==this.panel&&this.panel.c(),this.t("separatorStrokeWidth",e,t))}get separatorDashArray(){return this.va}set separatorDashArray(t){const i=this.va;if(i!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",ae,"separatorDashArray:value"),null!==t){const n=t.length;let s=0;for(let i=0;i<n;i++){const n=t[i];("number"!=typeof n||!(n>=0)||!isFinite(n))&&e.o("separatorDashArray value "+n+" at index "+i+" must be a positive number or zero."),s+=n}if(0===s){if(null===i)return;t=null}}this.va=t,null!==this.panel&&this.panel.C(),this.t("separatorDashArray",i,t)}}get background(){return this.Dt}set background(t){const e=this.Dt;e!==t&&(null!==t&&Bt.nd(t,"RowColumnDefinition.background"),t instanceof Bt&&t.u(),this.Dt=t,null!==this.panel&&this.panel.C(),this.t("background",e,t))}get coversSeparators(){return this.wd}set coversSeparators(t){const i=this.wd;i!==t&&(e.s(t,"boolean",ae,"coversSeparators"),this.wd=t,null!==this.panel&&this.panel.C(),this.t("coversSeparators",i,t))}get sizing(){return this.md}set sizing(t){const e=this.md;e!==t&&(this.md=t,null!==this.panel&&this.panel.c(),this.t("sizing",e,t))}Hb(){if(1===this.sizing){const t=this.Gs;return this.isRow?t.rowSizing:t.columnSizing}return this.sizing}get actual(){return this.st}set actual(t){isNaN(this.pe)?this.st=Math.max(Math.min(this.Ra,t),this.Fa):this.st=Math.max(Math.min(this.Ra,this.pe),this.Fa)}get measured(){return this.Fi}set measured(t){this.Fi=t}get total(){return this.st+this.computeEffectiveSpacing()}get position(){return this.dt}set position(t){this.dt=t}bind(t,e,i,n){return this.hf(t,e,i,n),this}bindTwoWay(t,e,i,n){const s=this.hf(t,e,i,n);return void 0===n&&s.makeTwoWay(),this}theme(t,e,i,n,s){return this.xh(t,e,i,n,s),this}themeData(t,e,i,n,s){return this.xh(t,e,i,n,s).ofData(),this}themeObject(t,e,i,n,s,r){return this.xh(t,e,i,n,s).ofObject(r),this}themeModel(t,e,i,n,s){return this.xh(t,e,i,n,s).ofModel(),this}hf(t,e,i,n){let s;return s="string"==typeof t?new Ze(t,e,i,n):t,this.j0(s),s}xh(t,e,i,n,s){let r;return r="string"==typeof t?new Qe(t,e,i,n,s):t,this.j0(r),r}j0(t){t.Se=this;const i=this.panel;if(null!==i){const n=i.findBindingPanel();null!==n&&n.PA()&&e.o("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+i)}null===this.Ss&&(this.Ss=new l),this.Ss.add(t)}}class le extends Yt{at;Ms;xd;Oa;Wi;qo;Ko;Wt;bd;kd;W;constructor(t,e){super(),this.at=null,this.Ms=null,this.xd="None",this.Oa="black",this.Wi="black",this.qo=1,this.Ko=null,this.Wt=null,this.bd=NaN,this.kd=NaN,this.W=null,"string"==typeof t?this.figure=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}cloneProtected(t){super.cloneProtected(t),t.at=this.at,t.Ms=this.Ms,t.xd=this.xd,t.Oa=this.Oa,t.Wi=this.Wi,t.qo=this.qo,null!==this.Ko&&(t.Ko=this.Ko.slice()),null!==this.Wt&&(this.Wt.gi?t.Wt=this.Wt:t.Wt=this.Wt.copy()),t.bd=this.bd,t.kd=this.kd,null!==this.W&&(t.W=this.W.copy())}Ia(){return null===this.Wt?this.Wt=new he:this.Wt.gi&&(this.Wt=this.Wt.copy()),this.Wt}gh(){super.gh(),null!==this.Wt&&(this.Wt.gi=!0)}hi(t){t in L?this.geometryStretch=t:super.hi(t)}toString(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+u.us(this)}Dv(t,i){const n=this.pathPattern;n.ut(1/0,1/0);const s=n.measuredBounds;n.Xt(0,0,s.width,s.height);const r=this.geometry;t.save(),t.beginPath();const o=e.rt();if(1===r.type)o.push(r.startX),o.push(r.startY),o.push(r.endX),o.push(r.endY),this.Pd(t,i,o,n);else if(4===r.type){const s=r.figures.iterator;for(;s.next();){const r=s.value;o.length=0,o.push(r.startX),o.push(r.startY);let a=r.startX,l=r.startY,h=a,u=l;const c=r.segments.r,d=c.length;for(let s=0;s<d;s++){const d=c[s];switch(d.type){case 1:this.Pd(t,i,o,n),o.length=0,o.push(d.endX),o.push(d.endY),a=d.endX,l=d.endY,h=a,u=l;break;case 2:o.push(d.endX),o.push(d.endY),a=d.endX,l=d.endY;break;case 3:w.Yn(a,l,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,o),a=d.endX,l=d.endY;break;case 4:w.Vg(a,l,d.point1X,d.point1Y,d.endX,d.endY,.5,o),a=d.endX,l=d.endY;break;case 5:{const t=d.Ao(r),e=t.length;if(0===e){o.push(d.centerX),o.push(d.centerY),a=d.centerX,l=d.centerY;break}for(let i=0;i<e;i++){const e=t[i];w.Yn(a,l,e[2],e[3],e[4],e[5],e[6],e[7],.5,o),a=e[6],l=e[7]}break}case 6:{const t=d.Yh(r,a,l),e=t.length;if(0===e){o.push(d.endX),o.push(d.endY),a=d.endX,l=d.endY;break}for(let i=0;i<e;i++){const e=t[i];w.Yn(a,l,e[2],e[3],e[4],e[5],e[6],e[7],.5,o),a=e[6],l=e[7]}break}default:e.o("Segment not of valid type: "+d.type)}d.isClosed&&(o.push(h),o.push(u),this.Pd(t,i,o,n))}this.Pd(t,i,o,n)}}else if(2===r.type)o.push(r.startX),o.push(r.startY),o.push(r.endX),o.push(r.startY),o.push(r.endX),o.push(r.endY),o.push(r.startX),o.push(r.endY),o.push(r.startX),o.push(r.startY),this.Pd(t,i,o,n);else if(3===r.type){const e=new T;e.startX=r.endX,e.startY=(r.startY+r.endY)/2;const s=new P(5);s.startAngle=0,s.sweepAngle=360,s.centerX=(r.startX+r.endX)/2,s.centerY=(r.startY+r.endY)/2,s.radiusX=Math.abs(r.startX-r.endX)/2,s.radiusY=Math.abs(r.startY-r.endY)/2,e.add(s);const a=s.Ao(e),l=a.length;if(0===l)o.push(s.centerX),o.push(s.centerY);else{let t=e.startX,i=e.startY;for(let e=0;e<l;e++){const n=a[e];w.Yn(t,i,n[2],n[3],n[4],n[5],n[6],n[7],.5,o),t=n[6],i=n[7]}}this.Pd(t,i,o,n)}e.tt(o),t.restore(),t.clearContextCache(!1)}Fv(t){let e=t.measuredBounds.width;return t instanceof le&&(e-=t.strokeWidth),e<1&&(e=1),e}Pd(t,i,n,s){const r=n.length;if(r<4)return;const o=s.measuredBounds,a=Math.max(1,o.width),l=o.height;let h=n[0],u=n[1],c=0,d=0,f=0,m=0,g=0,p=0,y=0,_=0;const v=e.rt();for(let e=2;e<r;e+=2)c=n[e],d=n[e+1],f=c-h,m=d-u,0===f&&(f=.001),g=m/f,p=Math.atan2(m,f),y=Math.sqrt(f*f+m*m),v.push([f,p,g,y]),_+=y,h=c,u=d;h=n[0],u=n[1];const b=this.Fv(s);let x=b;const M=a/2;let w=0!==M,k=0,L=v[k];f=L[0],p=L[1],g=L[2],y=L[3];let S=0;for(;_>=.1;){if(0===S&&(w?(x=b,x-=M,_-=M,w=!1):x=b,0===x&&(x=1)),x>_)return x=_,void e.tt(v);x>y?(S=x-y,x=y):S=0;let n=Math.sqrt(x*x/(1+g*g));if(f<0&&(n=-n),h+=n,u+=g*n,t.translate(h,u),t.rotate(p),t.translate(-a/2,-l/2),0===S&&s.wh(t,i),t.translate(a/2,l/2),t.rotate(-p),t.translate(-h,-u),_-=x,y-=x,0!==S){if(k++,k===v.length)return void e.tt(v);L=v[k],f=L[0],p=L[1],g=L[2],y=L[3],x=S}}e.tt(v)}wh(t,e){const i=t instanceof Ft;let n=this.Wi;const s=this.Oa;if(null===n&&null===s)return;const r=this.at;if(null===r)return;t.commitTransform();const o=this.actualBounds,a=this.naturalBounds;null!==s&&this.mn(t,s,!0,!1,a,o);const l=this.part;let h=this.qo;null!==n&&0===h&&null!==l&&(this.isPanelMain||l.findMainElement()===this)&&(h=l.Rv()),0===h&&(n=null),null!==n&&0!==h&&(this.mn(t,n,!1,!1,a,o),t.lineWidth=h,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit);let u=!1;l&&e.getRenderingHint("drawShadows")&&(u=l.isShadowed),!1===t.sl&&(u=!1);let c=!0;null!==n&&(null===s||"transparent"===s)&&(c=!1);let d=!1;const f=this.strokeDashArray;if(null!==f&&(d=!0,t.enableDash(f,this.strokeDashOffset)),1===r.type)t.beginPath(),t.moveTo(r.startX,r.startY),t.lineTo(r.endX,r.endY),null!==n&&t.strokeContext(),t.endPath();else if(2===r.type){const e=r.startX,i=r.startY,o=r.endX,a=r.endY,l=Math.min(e,o),h=Math.min(i,a),d=Math.abs(o-e),f=Math.abs(a-i);t.beginPath(),t.rect(l,h,d,f),null!==s&&t.fillContext(s,!1,null),null!==n&&(c&&u&&t.shadowsOff(),t.strokeContext(),c&&u&&t.shadowsOn()),t.endPath()}else if(3===r.type){const e=r.startX,i=r.startY,o=r.endX,a=r.endY,l=Math.abs(o-e)/2,h=Math.abs(a-i)/2,d=Math.min(e,o)+l,f=Math.min(i,a)+h;t.beginPath(),t.moveTo(d,f-h),t.bezierCurveTo(d+w.Xn*l,f-h,d+l,f-w.Xn*h,d+l,f),t.bezierCurveTo(d+l,f+w.Xn*h,d+w.Xn*l,f+h,d,f+h),t.bezierCurveTo(d-w.Xn*l,f+h,d-l,f+w.Xn*h,d-l,f),t.bezierCurveTo(d-l,f-w.Xn*h,d-w.Xn*l,f-h,d,f-h),t.closePath(),null!==s&&t.fillContext(s,!1,null),null!==n&&(c&&u&&t.shadowsOff(),t.strokeContext(),c&&u&&t.shadowsOn()),t.endPath()}else if(4===r.type){const e=r.figures,o=e.length;for(let r=0;r<o;r++){const o=e.r[r];i?this.buildPath(t,o):null===o.Ve&&(o.Ve=new Path2D,this.buildPath(o.Ve,o));const a=o.isFilled;u?o.isShadowed?(!0===a&&"transparent"!==s&&null!==s&&t.fillContext(s,o.isEvenOdd,o.Ve),null!==n&&(a&&c&&t.shadowsOff(),t.stroke(o.Ve),a&&c&&t.shadowsOn())):(t.shadowsOff(),a&&"transparent"!==s&&null!==s&&t.fillContext(s,o.isEvenOdd,o.Ve),null!==n&&t.stroke(o.Ve),t.shadowsOn()):(a&&null!==s&&t.fillContext(s,o.isEvenOdd,o.Ve),null!==n&&t.stroke(o.Ve)),t.endPath(r)}}d&&t.disableDash(),null!==this.pathPattern&&this.Dv(t,e)}buildPath(t,e){t instanceof Path2D||t.beginPath(),t.moveTo(e.startX,e.startY);const i=e.segments.r,n=i.length;let s=null;for(let r=0;r<n;r++){const n=i[r];switch(n.type){case 1:t.moveTo(n.endX,n.endY);break;case 2:t.lineTo(n.endX,n.endY);break;case 3:t.bezierCurveTo(n.point1X,n.point1Y,n.point2X,n.point2Y,n.endX,n.endY);break;case 4:t.quadraticCurveTo(n.point1X,n.point1Y,n.endX,n.endY);break;case 5:if(n.radiusX===n.radiusY){const i=null!==s?s.endX:e.startX,r=null!==s?s.endY:e.startY,o=Math.PI/180;t.arc(n.point1X,n.point1Y,n.radiusX,n.startAngle*o,(n.startAngle+n.sweepAngle)*o,n.sweepAngle<0,i,r)}else{const i=n.Ao(e),s=i.length;if(0===s){t.lineTo(n.centerX,n.centerY);break}for(let e=0;e<s;e++){const n=i[e];0===e&&t.lineTo(n[0],n[1]),t.bezierCurveTo(n[2],n[3],n[4],n[5],n[6],n[7])}}break;case 6:{let i,r=0,o=0;if(null!==s&&5===s.type){i=s.Ao(e);const a=i.length;if(0===a){t.lineTo(n.endX,n.endY);break}const l=i[a-1]||null;null!==l&&(r=l[6],o=l[7])}else r=null!==s?s.endX:e.startX,o=null!==s?s.endY:e.startY;i=n.Yh(e,r,o);const a=i.length;if(0===a){t.lineTo(n.endX,n.endY);break}for(let e=0;e<a;e++){const n=i[e];t.bezierCurveTo(n[2],n[3],n[4],n[5],n[6],n[7])}break}}n.isClosed&&t.closePath(),s=n}}sf(t,e,i){if(!super.sf(t,e,i)||null===this.Wi&&null===this.Oa||null===this.at||null!==this.pathPattern)return!1;const n=this.svg.getElementsByTagName("path");return this.geometry.figures.length===n.length&&(t.currentPath=this.svg,this.wh(t,e),t.currentPath=null,!0)}ed(t){return null!==this.geometry&&this.geometry.figures.length>1||null!==this.pathPattern||super.ed(t)}u2(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{const i=t.getElementsByTagName("path");for(let t=0;t<i.length;t++)i[t].setAttributeNS(null,"filter",e)}}getDocumentPoint(t,i){if(void 0===i&&(i=new y),t instanceof x){const n=t;n.isNoSpot()&&e.o("getDocumentPoint Spot must be a real, specific Spot, not: "+n.toString());const s=this.naturalBounds,r=this.strokeWidth;return i.i(n.x*(s.width+r)-r/2+s.x+n.offsetX,n.y*(s.height+r)-r/2+s.y+n.offsetY),this.Ys.xt(i),i}return i.set(t),this.Ys.xt(i),i}getDocumentBounds(t){void 0===t&&(t=new v);const e=this.naturalBounds,i=this.Ys,n=v.X(e.x,e.y,e.width,e.height),s=this.strokeWidth;n.inflate(s/2,s/2);const r=y.X(n.x,n.y).F(i);return t.i(r.x,r.y,0,0),r.i(n.right,n.y).F(i),t.unionNoCheck(r.x,r.y,0,0),r.i(n.right,n.bottom).F(i),t.unionNoCheck(r.x,r.y,0,0),r.i(n.x,n.bottom).F(i),t.unionNoCheck(r.x,r.y,0,0),v.e(n),y.e(r),t}mh(t,i){const n=this.geometry;if(null===n||null===this.fill&&null===this.stroke)return!1;const s=n.bounds;let r=this.strokeWidth/2;1===n.type&&!i&&(r+=2);const o=v.l();if(o.a(s),o.inflate(r+2,r+2),!o.containsPoint(t))return v.e(o),!1;const a=r+1e-4;if(1===n.type){if(null===this.stroke)return!1;const e=(n.startX-n.endX)*(t.x-n.endX)+(n.startY-n.endY)*(t.y-n.endY),i=(n.endX-n.startX)*(t.x-n.startX)+(n.endY-n.startY)*(t.y-n.startY);return!(e<0||i<0)&&(v.e(o),w.Ei(n.startX,n.startY,n.endX,n.endY,r,t.x,t.y))}if(2===n.type){const e=n.startX,i=n.startY,s=n.endX,l=n.endY;if(o.x=Math.min(e,s),o.y=Math.min(i,l),o.width=Math.abs(s-e),o.height=Math.abs(l-i),null===this.fill){if(o.inflate(-a,-a),o.containsPoint(t))return v.e(o),!1;o.inflate(a,a)}null!==this.stroke&&o.inflate(r,r);const h=o.containsPoint(t);return v.e(o),h}if(3===n.type){const e=n.startX,i=n.startY,s=n.endX,r=n.endY;let l=Math.min(e,s),h=Math.min(i,r);const u=Math.abs(s-e),c=Math.abs(r-i);let d=u/2,f=c/2;if(l=t.x-(l+d),h=t.y-(h+f),null===this.fill){if(d-=a,f-=a,d<=0||f<=0)return v.e(o),!1;if(l*l/(d*d)+h*h/(f*f)<=1)return v.e(o),!1;d+=a,f+=a}return null!==this.stroke&&(d+=a,f+=a),v.e(o),!(d<=0||f<=0)&&l*l/(d*d)+h*h/(f*f)<=1}if(4===n.type)return v.e(o),null===this.fill?n.DC(t.x,t.y,r):n.zk(t,r,this.strokeWidth>1,i);e.o("Unknown Geometry type: "+n.type)}_u(t,i,n,s){const r=this.desiredSize,o=this.qo;let a;if(t=Math.max(t,0),i=Math.max(i,0),null!==this.Ms)a=this.geometry.bounds;else{const t=this.figure;let i=le.z2[t];if(void 0===i){let n=w.Gn[t];"string"==typeof n&&(n=w.Gn[n]),e.ot(n)?(i=n(null,100,100),le.z2[t]=i):e.o("Unsupported Figure: "+t)}a=i.bounds}let l=a.width,h=a.height,u=a.width,c=a.height;switch(this.Hs(!0)){case 0:n=0,s=0;break;case 2:u=Math.max(t-o,0),c=Math.max(i-o,0);break;case 5:u=Math.max(t-o,0),s=0;break;case 4:n=0,c=Math.max(i-o,0);break}isFinite(r.width)&&(u=r.width),isFinite(r.height)&&(c=r.height);const d=this.maxSize,f=this.minSize;n=Math.max(n-o,f.width),s=Math.max(s-o,f.height),u=Math.min(d.width,u),c=Math.min(d.height,c),u=isFinite(u)?Math.max(n,u):Math.max(l,n),c=isFinite(c)?Math.max(s,c):Math.max(h,s);const m=this.eS();switch(m){case 0:break;case 2:l=u,h=c;break;case 6:{let t=Math.min(u/l,c/h);isFinite(t)||(t=1),l*=t,h*=t;break}default:e.o(m+" is not a valid geometryStretch.")}if(null!==this.Ms){0===l&&(l=.001),0===h&&(h=.001);const t=(null!==this.Ms?this.Ms:this.at).sF(l,h);this.at=t}else(null===this.at||!w.Y(this.at.fc,t-o)||!w.Y(this.at.uc,i-o))&&(this.at=le.vv(this,l,h));a=this.at.bounds,t===1/0||i===1/0?this.so(a.x-o/2,a.y-o/2,0===t&&0===l?0:a.width+o,0===i&&0===h?0:a.height+o):this.so(-o/2,-o/2,u+o,c+o),r.isReal()?(u=r.width,c=r.height,u=Math.min(d.width,u),c=Math.min(d.height,c),u=Math.max(f.width,u),c=Math.max(f.height,c),this.Ki.i(0,0,u,c)):this.Ki.a(a)}eS(){const t=this.geometryStretch;return null!==this.Ms?1===t?2:t:1===t?le.z2[this.figure].defaultStretch:t}ph(t,e,i,n){this.commonArrange(t,e,i,n)}getNearestIntersectionPoint(t,e,i){return this.tf(t.x,t.y,e.x,e.y,i)}tf(t,i,n,s,r){const o=this.F,a=1/(o.m11*o.m22-o.m12*o.m21),l=o.m22*a,h=-o.m12*a,u=-o.m21*a,c=o.m11*a,d=a*(o.m21*o.dy-o.m22*o.dx),f=a*(o.m12*o.dx-o.m11*o.dy),m=t*l+i*u+d,g=t*h+i*c+f,p=n*l+s*u+d,_=n*h+s*c+f,b=this.qo/2;let x=this.at;null===x&&(this.ut(1/0,1/0),x=this.at);const M=x.bounds;let k=!1;if(1===x.type)if(this.strokeWidth<=1.5)k=w.Kn(x.startX,x.startY,x.endX,x.endY,m,g,p,_,r);else{let t=0,i=0;if(x.startX===x.endX)t=b,i=0;else{const e=(x.endY-x.startY)/(x.endX-x.startX);i=b/Math.sqrt(1+e*e),t=i*e}const n=e.rt();let s=new y;w.Kn(x.startX+t,x.startY+i,x.endX+t,x.endY+i,m,g,p,_,s)&&n.push(s),s=new y,w.Kn(x.startX-t,x.startY-i,x.endX-t,x.endY-i,m,g,p,_,s)&&n.push(s),s=new y,w.Kn(x.startX+t,x.startY+i,x.startX-t,x.startY-i,m,g,p,_,s)&&n.push(s),s=new y,w.Kn(x.endX+t,x.endY+i,x.endX-t,x.endY-i,m,g,p,_,s)&&n.push(s);const o=n.length;if(0===o)return e.tt(n),!1;k=!0;let a=1/0;for(let e=0;e<o;e++){const t=n[e],i=(t.x-m)**2+(t.y-g)**2;i<a&&(a=i,r.x=t.x,r.y=t.y)}e.tt(n)}else if(2===x.type)k=w.kl(M.x-b,M.y-b,M.x+M.width+b,M.y+M.height+b,m,g,p,_,r);else if(3===x.type){const t=v.X(M.x,M.y,M.width,M.height).inflate(b,b);k=this.Ov(t,m,g,p,_,r),v.e(t)}else if(4===x.type){let o=0,a=0,l=0,h=0;const u=y.l();let c=p-m,d=_-g,f=c*c+d*d,v=m,L=g;if(f>0&&M.contains(v,L)&&(u.x=v,u.y=L,this.containsPoint(u)))for(0!==c&&Math.abs(c)<.5?(d*=.5/c,c=.5):0!==d&&Math.abs(d)<.5&&(c*=.5/d,d=.5),v-=c,L-=d;M.contains(v,L);)v-=c,L-=d;const S=.6;r.x=p,r.y=_;for(let t=0;t<x.figures.count;t++){const i=x.figures.r[t],n=i.isFilled?v:m,s=i.isFilled?L:g,c=i.segments;o=i.startX,a=i.startY;let d=o,y=a;for(let t=0;t<c.count;t++){const m=c.r[t],g=m.type;l=m.endX,h=m.endY;let v=!1;switch(g){case 1:d=l,y=h;break;case 2:v=this.$b(o,a,l,h,n,s,p,_,u);break;case 3:v=w.zg(o,a,m.point1X,m.point1Y,m.point2X,m.point2Y,l,h,n,s,p,_,S,u);break;case 4:v=w.zg(o,a,o+2/3*(m.point1X-o),a+2/3*(m.point1Y-a),l+2/3*(m.point1X-l),h+2/3*(m.point1Y-h),l,h,n,s,p,_,S,u);break;case 5:case 6:{const t=5===m.type?m.Ao(i):m.Yh(i,o,a),e=t.length;if(0===e){v=this.$b(o,a,5===m.type?m.centerX:m.endX,5===m.type?m.centerY:m.endY,n,s,p,_,u);break}let c=null;for(let i=0;i<e;i++){if(c=t[i],0===i&&this.$b(o,a,c[0],c[1],n,s,p,_,u)){const t=this.Zb(n,s,u,f,r);t<f&&(f=t,k=!0)}if(w.zg(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],n,s,p,_,S,u)){const t=this.Zb(n,s,u,f,r);t<f&&(f=t,k=!0)}}l=c[6],h=c[7];break}default:e.o("Unknown Segment type: "+g)}if(o=l,a=h,v){const t=this.Zb(n,s,u,f,r);t<f&&(f=t,k=!0)}if(m.isClosed&&(l=d,h=y,this.$b(o,a,l,h,n,s,p,_,u))){const t=this.Zb(n,s,u,f,r);t<f&&(f=t,k=!0)}}}let T=n-t,D=s-i;const P=Math.sqrt(T*T+D*D);0!==P&&(T/=P,D/=P),r.x-=T*b,r.y-=D*b,y.e(u)}else e.o("Unknown Geometry type: "+x.type);return!!k&&(this.F.xt(r),!0)}Zb(t,e,i,n,s){const r=i.x-t,o=i.y-e,a=r*r+o*o;return a<n?(s.x=i.x,s.y=i.y,a):n}$b(t,e,i,n,s,r,o,a,l){if(w.Y(t,i)&&w.Y(e,n)||w.Y(s,o)&&w.Y(r,a))return!1;let h=!1;const u=(s-o)*(e-n)-(r-a)*(t-i);if(0===u)return!1;if(l.x=((s*a-r*o)*(t-i)-(s-o)*(t*n-e*i))/u,l.y=((s*a-r*o)*(e-n)-(r-a)*(t*n-e*i))/u,(t>i?t-i:i-t)<(e>n?e-n:n-e)){const t=e<n?e:n,i=e<n?n:e;(l.y>t||w.Y(l.y,t))&&(l.y<i||w.Y(l.y,i))&&(h=!0)}else{const e=t<i?t:i,n=t<i?i:t;(l.x>e||w.Y(l.x,e))&&(l.x<n||w.Y(l.x,n))&&(h=!0)}return h}Iv(t,e,i){return!1!==this.pickable&&(i.ac(this.F),e?this.Ev(t,i):this.containedInRect(t,i))}containedInRect(t,e){if(void 0===e)return t.containsRect(this.actualBounds);let i=this.at;null===i&&(this.ut(1/0,1/0),i=this.at);const n=i.bounds,s=this.strokeWidth/2;let r=!1;const o=y.l();return o.i(n.x-s,n.y-s),t.containsPoint(e.xt(o))&&(o.i(n.x-s,n.bottom+s),t.containsPoint(e.xt(o))&&(o.i(n.right+s,n.bottom+s),t.containsPoint(e.xt(o))&&(o.i(n.right+s,n.y-s),t.containsPoint(e.xt(o))&&(r=!0)))),y.e(o),r}intersectsRect(t,e){if(this.containedInRect(t,e)||void 0===e&&(e=this.F,t.containsRect(this.actualBounds)))return!0;const i=M.l();i.set(e),i.yw();const n=t.left,s=t.right,r=t.top,o=t.bottom,a=y.l();if(a.i(n,r),i.xt(a),this.mh(a,!0))return y.e(a),!0;if(a.i(s,r),i.xt(a),this.mh(a,!0))return y.e(a),!0;if(a.i(n,o),i.xt(a),this.mh(a,!0))return y.e(a),!0;if(a.i(s,o),i.xt(a),this.mh(a,!0))return y.e(a),!0;const l=y.l(),h=y.l();i.set(e),i.xC(this.F),i.yw(),l.x=s,l.y=r,l.F(i),a.x=n,a.y=r,a.F(i);let u=!1;return this.Ea(a,l,h)?u=!0:(a.x=s,a.y=o,a.F(i),this.Ea(a,l,h)?u=!0:(l.x=n,l.y=o,l.F(i),this.Ea(a,l,h)?u=!0:(a.x=n,a.y=r,a.F(i),this.Ea(a,l,h)&&(u=!0)))),y.e(a),M.e(i),y.e(l),y.e(h),u}Ea(t,e,i){if(!this.getNearestIntersectionPoint(t,e,i))return!1;const n=t.x,s=t.y,r=e.x,o=e.y,a=i.x,l=i.y;if(n===r){let t=0,e=0;return s<o?(t=s,e=o):(t=o,e=s),l>=t&&l<=e}{let t=0,e=0;return n<r?(t=n,e=r):(t=r,e=n),a>=t&&a<=e}}Ev(t,e){if(this.containedInRect(t,e)||void 0===e&&(e=this.F,t.containsRect(this.actualBounds)))return!0;const i=t.left,n=t.right,s=t.top,r=t.bottom,o=y.l(),a=y.l(),l=y.l(),h=M.l();h.set(e),h.xC(this.F),h.yw(),a.x=n,a.y=s,a.F(h),o.x=i,o.y=s,o.F(h);let u=!1;return this.Ea(o,a,l)?u=!0:(o.x=n,o.y=r,o.F(h),this.Ea(o,a,l)?u=!0:(a.x=i,a.y=r,a.F(h),this.Ea(o,a,l)?u=!0:(o.x=i,o.y=s,o.F(h),this.Ea(o,a,l)&&(u=!0)))),M.e(h),y.e(o),y.e(a),y.e(l),u}dA(t,i,n){if(n&&null!==this.fill&&this.mh(t,!0))return!0;let s=t.distanceSquaredPoint(i);const r=s;this.strokeWidth>1.5&&(s=this.strokeWidth/2+Math.sqrt(s),s*=s);let o=this.at;if(null===o&&(this.ut(1/0,1/0),o=this.at,null===o))return!1;if(!n){const e=o.bounds,i=e.x,n=e.y,r=e.x+e.width,a=e.y+e.height;if(y.distanceSquared(t.x,t.y,i,n)<=s&&y.distanceSquared(t.x,t.y,r,n)<=s&&y.distanceSquared(t.x,t.y,i,a)<=s&&y.distanceSquared(t.x,t.y,r,a)<=s)return!0}function a(t,e){const i=t.length;for(let n=0;n<i;n+=2)if(e.distanceSquared(t[n],t[n+1])>s)return!0;return!1}const l=o.startX,h=o.startY,u=o.endX,c=o.endY;if(1===o.type){const e=y.distanceLineSegmentSquared(t.x,t.y,l,h,u,c),i=(u-l)*(t.x-l)+(c-h)*(t.y-h),n=(l-u)*(t.x-u)+(h-c)*(t.y-c),o=i>=0&&n>=0?s:r;return e<=o}if(2===o.type){let e=!1;return n&&(e=y.distanceLineSegmentSquared(t.x,t.y,l,h,l,c)<=s||y.distanceLineSegmentSquared(t.x,t.y,l,h,u,h)<=s||y.distanceLineSegmentSquared(t.x,t.y,u,h,u,c)<=s||y.distanceLineSegmentSquared(t.x,t.y,l,c,u,c)<=s),e}if(3===o.type){const e=(l+u)/2,i=(h+c)/2,r=t.x-e,o=t.y-i,a=Math.abs(u-l)/2,d=Math.abs(c-h)/2;if(0===a||0===d)return y.distanceLineSegmentSquared(t.x,t.y,l,h,u,c)<=s;if(n){const t=w.WD(a,d,r,o);return t*t<=s}return!(y.distanceSquared(r,o,-a,0)>=s||y.distanceSquared(r,o,0,-d)>=s||y.distanceSquared(r,o,0,d)>=s||y.distanceSquared(r,o,a,0)>=s)}if(4===o.type){const i=o.bounds,r=i.x,l=i.y,h=i.x+i.width,u=i.y+i.height;if(t.x>h&&t.x<r&&t.y>u&&t.y<l&&y.distanceLineSegmentSquared(t.x,t.y,r,l,r,u)>s&&y.distanceLineSegmentSquared(t.x,t.y,r,l,h,l)>s&&y.distanceLineSegmentSquared(t.x,t.y,h,u,r,u)>s&&y.distanceLineSegmentSquared(t.x,t.y,h,u,h,l)>s)return!1;const c=Math.sqrt(s);if(!n){const i=o.figures;for(let n=0;n<i.count;n++){const r=i.r[n];let o=r.startX,l=r.startY;if(t.distanceSquared(o,l)>s)return!1;const h=r.segments.r,u=h.length;for(let i=0;i<u;i++){const n=h[i];switch(n.type){case 1:case 2:if(o=n.endX,l=n.endY,t.distanceSquared(o,l)>s)return!1;break;case 3:{const i=e.rt();w.Yn(o,l,n.point1X,n.point1Y,n.point2X,n.point2Y,n.endX,n.endY,.8,i);const r=a(i,t);if(e.tt(i),r||(o=n.endX,l=n.endY,t.distanceSquared(o,l)>s))return!1;break}case 4:{const i=e.rt();w.Vg(o,l,n.point1X,n.point1Y,n.endX,n.endY,.8,i);const r=a(i,t);if(e.tt(i),r||(o=n.endX,l=n.endY,t.distanceSquared(o,l)>s))return!1;break}case 5:case 6:{const i=5===n.type?n.Ao(r):n.Yh(r,o,l),h=i.length;if(0===h){if(o=5===n.type?n.centerX:n.endX,l=5===n.type?n.centerY:n.endY,t.distanceSquared(o,l)>s)return!1;break}let u=null;const c=e.rt();for(let n=0;n<h;n++)if(u=i[n],c.length=0,w.Yn(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],.8,c),a(c,t))return e.tt(c),!1;e.tt(c),null!==u&&(o=u[6],l=u[7]);break}default:e.o("Unknown Segment type: "+n.type)}}}return!0}if(null===this.fill?o.DC(t.x,t.y,c):o.zk(t,c,!0,!1))return!0}return!1}Ov(t,e,i,n,s,r){if(0===t.width)return w.Kn(t.x,t.y,t.x,t.y+t.height,e,i,n,s,r);if(0===t.height)return w.Kn(t.x,t.y,t.x+t.width,t.y,e,i,n,s,r);{const o=t.width/2,a=t.height/2,l=t.x+o,h=t.y+a;let u=9999;if(e!==n&&(u=(i-s)/(e-n)),Math.abs(u)<9999){const t=i-h-u*(e-l);if(o*o*(u*u)+a*a-t*t<0)return r.x=NaN,r.y=NaN,!1;const n=Math.sqrt(o*o*(u*u)+a*a-t*t),s=(-o*o*u*t+o*a*n)/(a*a+o*o*(u*u))+l,c=(-o*o*u*t-o*a*n)/(a*a+o*o*(u*u))+l,d=u*(s-l)+t+h,f=u*(c-l)+t+h,m=Math.abs((e-s)**2)+Math.abs((i-d)**2),g=Math.abs((e-c)**2)+Math.abs((i-f)**2);m<g?(r.x=s,r.y=d):(r.x=c,r.y=f)}else{const t=a*a,n=o*o,s=e-l,u=t-t/n*(s*s);if(u<0)return r.x=NaN,r.y=NaN,!1;const c=Math.sqrt(u),d=h+c,f=h-c,m=Math.abs(d-i),g=Math.abs(f-i);m<g?(r.x=e,r.y=d):(r.x=e,r.y=f)}return!0}}Nv(){return this.qo/2*this.strokeMiterLimit*this.getDocumentScale()}get geometry(){return null!==this.at?this.at:this.Ms}set geometry(t){const e=this.at,i=this.Ms;if(e===t)return;null!==t?(this.at=t.u(),this.Ms=this.at):(this.at=null,this.Ms=null);const n=this.part;if(null!==n&&n.mf(),this.c(),this.t("geometry",e||i,t),this._c()){const t=this.part;null!==t&&this.Na(t,"geometryString")}}get geometryString(){return null===this.geometry?"":this.geometry.toString()}set geometryString(t){const e=S.parse(t),i=e.normalize();this.geometry=e;const n=y.X(-i.x,-i.y);this.position=n,y.e(n)}get isGeometryPositioned(){return 0!==(1048576&this.n)}set isGeometryPositioned(t){const e=0!==(1048576&this.n);e!==t&&(this.n=1048576^this.n,this.c(),this.t("isGeometryPositioned",e,t))}oe(){this.at=null}get fill(){return this.Oa}set fill(t){const e=this.Oa;e!==t&&(null!==t&&Bt.nd(t,"Shape.fill"),t instanceof Bt&&t.u(),this.Oa=t,this.C(),this.t("fill",e,t))}get stroke(){return this.Wi}set stroke(t){const e=this.Wi;e!==t&&(null!==t&&Bt.nd(t,"Shape.stroke"),t instanceof Bt&&t.u(),this.Wi=t,this.C(),this.t("stroke",e,t))}get strokeWidth(){return this.qo}set strokeWidth(t){const i=this.qo;if(i!==t)if(t>=0){this.qo=t,this.c();const e=this.part;null!==e&&e.mf(),this.t("strokeWidth",i,t)}else e._(t,"value >= 0",le,"strokeWidth:value")}k0(){return this.qo}get strokeCap(){return null!==this.Wt?this.Wt.yp:"butt"}set strokeCap(t){const i=this.strokeCap;i!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?e._(t,'"butt", "round", or "square"',le,"strokeCap"):(this.Ia().yp=t,this.C(),this.t("strokeCap",i,t)))}get strokeJoin(){return null!==this.Wt?this.Wt.wp:"miter"}set strokeJoin(t){const i=this.strokeJoin;i!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?e._(t,'"miter", "bevel", or "round"',le,"strokeJoin"):(this.Ia().wp=t,this.C(),this.t("strokeJoin",i,t)))}get strokeMiterLimit(){return null!==this.Wt?this.Wt.xp:10}set strokeMiterLimit(t){const e=this.strokeMiterLimit;if(e!==t&&t>=1){this.Ia().xp=t,this.C();const i=this.part;null!==i&&i.mf(),this.t("strokeMiterLimit",e,t)}}get strokeDashArray(){return this.Ko}set strokeDashArray(t){const i=this.Ko;if(i!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",le,"strokeDashArray:value"),null!==t){const n=t.length;let s=0;for(let i=0;i<n;i++){const n=t[i];(!(n>=0)||!isFinite(n))&&e.o("strokeDashArray:value "+n+" at index "+i+" must be a positive number or zero."),s+=n}if(0===s){if(null===i)return;t=null}}this.Ko=t,this.C(),this.t("strokeDashArray",i,t)}}get strokeDashOffset(){return null!==this.Wt?this.Wt.bh:0}set strokeDashOffset(t){const e=this.strokeDashOffset;e!==t&&t>=0&&(this.Ia().bh=t,this.C(),this.t("strokeDashOffset",e,t))}get figure(){return this.xd}set figure(t){const i=this.xd;if(i!==t){let n=w.Gn[t];if(e.ot(n)?n=t:(n=w.Gn[t.toLowerCase()],n||e.o("Unknown Shape.figure: "+t)),i!==n){const t=this.part;null!==t&&t.mf(),this.xd=n,this.Ms=null,this.oe(),this.c(),this.t("figure",i,n)}}}get toArrow(){return null!==this.Bt?this.Bt.bp:"None"}set toArrow(t){const i=this.toArrow;if(!0===t?t="Standard":!1===t&&(t=""),i!==t){const n=le.XA(t);null===n?e.o("Unknown Shape.toArrow: "+t):i!==n&&(null===this.Bt&&(this.Bt=new Ee),this.Bt.bp=n,this.Ms=null,this.oe(),this.c(),this.YA(n),this.t("toArrow",i,n))}}get fromArrow(){return null!==this.Bt?this.Bt.kp:"None"}set fromArrow(t){const i=this.fromArrow;if(!0===t?t="Standard":!1===t&&(t=""),i!==t){const n=le.XA(t);null===n?e.o("Unknown Shape.fromArrow: "+t):i!==n&&(null===this.Bt&&(this.Bt=new Ee),this.Bt.kp=n,this.Ms=null,this.oe(),this.c(),this.YA(n),this.t("fromArrow",i,n))}}YA(t){const e=this.diagram;if(null!==e&&e.undoManager.isUndoingRedoing)return;this.WR();const i=x.MiddleRight;"None"!==this.toArrow?(this.segmentIndex=-1,this.alignmentFocus=i):"None"!==this.fromArrow&&(this.segmentIndex=0,this.alignmentFocus=new x(1-i.x,i.y))}get spot1(){return null!==this.Wt?this.Wt.Hn:x.Default}set spot1(t){const e=this.spot1;e.equals(t)||(t=t.N(),this.Ia().Hn=t,this.c(),this.t("spot1",e,t))}get spot2(){return null!==this.Wt?this.Wt.jn:x.Default}set spot2(t){const e=this.spot2;e.equals(t)||(t=t.N(),this.Ia().jn=t,this.c(),this.t("spot2",e,t))}get parameter1(){return this.bd}set parameter1(t){const e=this.bd;e!==t&&(this.bd=t,this.oe(),this.c(),this.t("parameter1",e,t))}get parameter2(){return this.kd}set parameter2(t){const e=this.kd;e!==t&&(this.kd=t,this.oe(),this.c(),this.t("parameter2",e,t))}get naturalBounds(){return this.Ki}gv(){const t=this.desiredSize;if(t.isReal()||null===this.at)this.Ki.i(0,0,t.width,t.height);else{const t=this.at.bounds;this.Ki.a(t)}}get pathPattern(){return null!==this.Wt?this.Wt.Pp:null}set pathPattern(t){const e=this.pathPattern;e!==t&&(this.Ia().Pp=t,this.C(),this.t("pathPattern",e,t))}get geometryStretch(){return null!==this.Wt?this.Wt.Sp:1}set geometryStretch(t){const e=this.geometryStretch;e!==t&&(this.Ia().Sp=t,this.c(),this.t("geometryStretch",e,t))}get interval(){return null!==this.W?this.W.yf:1}set interval(t){const e=this.interval;if(t=Math.round(t),e!==t&&0!==t&&isFinite(t)){null===this.W&&(this.W=new ge),this.W.yf=t;const i=this.diagram;null!==i&&this.panel===i.grid&&i.rh(),this.c();const n=this.panel;null!==n&&(n.rs=null),this.t("interval",e,t)}}get graduatedStart(){return null!==this.W?this.W.wf:0}set graduatedStart(t){const e=this.graduatedStart;e!==t&&(t<0?t=0:t>1&&(t=1),null===this.W&&(this.W=new ge),this.W.wf=t,this.c(),this.t("graduatedStart",e,t))}get graduatedEnd(){return null!==this.W?this.W.xf:1}set graduatedEnd(t){const e=this.graduatedEnd;e!==t&&(t<0?t=0:t>1&&(t=1),null===this.W&&(this.W=new ge),this.W.xf=t,this.c(),this.t("graduatedEnd",e,t))}get graduatedSkip(){return null!==this.W?this.W.bf:null}set graduatedSkip(t){const i=this.graduatedSkip;i!==t&&(null!==t&&e.S(t,le,"graduatedSkip"),null===this.W&&(this.W=new ge),this.W.bf=t,this.c(),this.t("graduatedSkip",i,t))}static vv(t,i,n){let s=null;if("None"!==t.toArrow)s=le.Sn[t.toArrow];else if("None"!==t.fromArrow)s=le.Sn[t.fromArrow];else{let r=w.Gn[t.figure];"string"==typeof r&&(r=w.Gn[r]),void 0===r&&e.o("Unknown Shape.figure: "+t.figure),s=r(t,i,n),s.fc=i,s.uc=n}if(null===s){const r=w.Gn.Rectangle;e.ot(r)&&(s=r(t,i,n))}return s}static getFigureGenerators(){const t=new p;for(const e in w.Gn){if(e===e.toLowerCase())continue;const i=w.Gn[e];t.set(e,i)}return t.u(),t}static defineFigureGenerator(t,i){e.s(t,"string",le,"defineFigureGenerator:name"),"string"==typeof i||e.S(i,le,"defineFigureGenerator:func");const n=t.toLowerCase(),s=w.Gn;s[t]=i,s[n]=t}static isFigureDefined(t){return w.Gn.has(t)}static getArrowheadGeometries(){const t=new p;for(const e in w.Kg)if(void 0===le.Sn[e]){const t=S.parse(w.Kg[e],!1);le.Sn[e]=t;const i=e.toLowerCase();i!==e&&(le.Sn[i]=e)}for(const e in le.Sn){if(e===e.toLowerCase())continue;const i=le.Sn[e];i instanceof S&&t.set(e,i)}return t.u(),t}static defineArrowheadGeometry(t,i){e.s(t,"string",le,"defineArrowheadGeometry:name");let n=null;"string"==typeof i?(e.s(i,"string",le,"defineArrowheadGeometry:pathstr"),n=S.parse(i,!1)):n=i;const s=t.toLowerCase();("none"===s||t===s)&&e.o("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);const r=le.Sn;r[t]=n,r[s]=t}static isArrowheadDefined(t){return le.Sn.has(t)}static Sn=new n;static z2=new n;static XA(t){let e=le.Sn[t];if(void 0===e){const i=t.toLowerCase();if("none"===i)return"None";if(e=le.Sn[i],void 0===e){let t=null;for(const e in w.Kg)if(e.toLowerCase()===i){t=e;break}if(null!==t){const e=S.parse(w.Kg[t],!1);return le.Sn[t]=e,i!==t&&(le.Sn[i]=t),t}}}return"string"==typeof e?e:e instanceof S?t:null}}class he{gi;yp;wp;xp;bh;Pp;Sp;Hn;jn;constructor(){this.gi=!1,this.yp="butt",this.wp="miter",this.xp=10,this.bh=0,this.Pp=null,this.Sp=1,this.Hn=x.Default,this.jn=x.Default}copy(){const t=new he;return t.yp=this.yp,t.wp=this.wp,t.xp=this.xp,t.bh=this.bh,t.Pp=this.Pp,t.Sp=this.Sp,t.Hn=this.Hn.N(),t.jn=this.jn.N(),t}}var ue=(t=>(t[t.None=0]="None",t[t.Fit=1]="Fit",t[t.DesiredSize=2]="DesiredSize",t[t.BreakAll=3]="BreakAll",t))(ue||{}),ce=(t=>(t[t.Clip=0]="Clip",t[t.Ellipsis=1]="Ellipsis",t))(ce||{}),de=(t=>(t[t.Trim=0]="Trim",t[t.None=1]="None",t))(de||{});class fe extends Yt{ai;Wi;Mn;ye;mi;P0;Sd;W;ct;El;ao;Nn;Te;Ri;Cn;constructor(t,e){return super(),this.n|=2097152,this.ai="",this.Wi="black",this.Mn="13px sans-serif",this.ye=0,this.mi=0,this.P0=0,this.Sd=null,this.W=null,this.ct=null,this.El=0,this.ao=null,this.Nn=0,this.Te=null,this.Ri=null,this.Cn=null,"string"==typeof t?this.text=t:t&&Object.assign(this,t),e&&Object.assign(this,e),this}cloneProtected(t){super.cloneProtected(t),t.ai=this.ai,t.Wi=this.Wi,t.Mn=this.Mn,t.ye=this.ye,t.mi=this.mi,t.P0=this.P0,t.Sd=this.Sd,null!==this.W&&(t.W=this.W.copy()),null!==this.ct&&(this.ct.gi?t.ct=this.ct:t.ct=this.ct.copy()),t.El=this.El,t.ao=this.ao,t.Nn=this.Nn,t.Te=this.Te,t.Ri=this.Ri,t.Cn=this.Cn}Ln(){return null===this.ct?this.ct=new me:this.ct.gi&&(this.ct=this.ct.copy()),this.ct}gh(){super.gh(),null!==this.ct&&(this.ct.gi=!0)}kv(t){this.n=6144|t.n,this._t=t.opacity,this.Dt=t.background,this.ns=t.desiredSize.N(),this.minSize=t.minSize.N(),this.maxSize=t.maxSize.N(),null!==t.ki?this.ki=t.ki.copy():this.ki=null,this.nt=t.scale,this.Ht=t.angle,this.stretch=t.stretch,this.tl=t.margin.N(),this.fi=t.alignment.N(),this.$u=t.alignmentFocus.N(),this.segmentFraction=t.segmentFraction,this.segmentOffset=t.segmentOffset.N(),this.segmentOrientation=t.segmentOrientation,null!==t.ri&&(this.ri=t.ri.copy()),this.shadowVisible=t.shadowVisible,this.ai=t.ai,this.Wi=t.Wi,this.Mn=t.Mn,null!==this.W&&(this.W=t.W.copy()),null!==t.ct&&(t.ct.gi?this.ct=t.ct:this.ct=t.ct.copy()),this.El=t.El}xv(t){if(this.ai=t.text||"",this.Ht=t.labelAngle||0,this.ye=t.lineCount||0,this.Bv(t.lines),t.naturalBounds&&(this.Ki=t.naturalBounds),t.actualBounds){const e=t.actualBounds;this.Xt(e.x,e.y,e.width,e.height)}}hi(t){t in ue?this.wrap=t:super.hi(t)}toString(){return this.ai.length>22?'TextBlock("'+this.ai.substring(0,20)+'"...)':'TextBlock("'+this.ai+'")'}static getEllipsis(){return fe.Mp}static setEllipsis(t){fe.Mp=t,fe.Qb=new n,fe.X2=0}static getBaseline(){return fe._b}static setBaseline(t){fe._b=t}static _b=null;static getUnderline(){return fe.t1}static setUnderline(t){fe.t1=t}static t1=null;static None=0;static WrapFit=1;static WrapDesiredSize=2;static WrapBreakAll=3;static OverflowClip=0;static OverflowEllipsis=1;static FormatTrim=0;static FormatNone=1;c(){super.c(),this.Ye(!0)}get font(){return this.Mn}set font(t){const e=this.Mn;e!==t&&(this.Mn=t,this.ao=null,this.c(),this.t("font",e,t))}static isValidFont(e){return!t.CSS||t.CSS.supports("font",e)}get text(){return this.ai}set text(t){const e=this.ai;t=null!=t?t.toString():"",e!==t&&(this.ai=t,this.c(),this.t("text",e,t))}get textAlign(){return null!==this.ct?this.ct.Np:"start"}set textAlign(t){const e=this.textAlign;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t)&&(this.Ln().Np=t,this.C(),this.t("textAlign",e,t))}get flip(){return null!==this.ct?this.ct.co:0}set flip(t){const e=this.flip;e!==t&&(this.Ln().co=t,this.C(),this.t("flip",e,t))}get verticalAlignment(){return null!==this.ct?this.ct.ll:x.Top}set verticalAlignment(t){const e=this.verticalAlignment;e.equals(t)||(t=t.N(),this.Ln().ll=t,this.lf(),this.t("verticalAlignment",e,t))}get naturalBounds(){if(!this.Ki.isReal()){const t=_.l();this.Y2(this.ai,999999,t);let e=t.width;_.e(t);let i=this.KA(e);const n=this.desiredSize;isNaN(n.width)||(e=n.width),isNaN(n.height)||(i=n.height),this.Ki.zn(e,i)}return this.Ki}get isMultiline(){return 0!==(2097152&this.n)}set isMultiline(t){const e=0!==(2097152&this.n);e!==t&&(this.n=2097152^this.n,this.c(),this.t("isMultiline",e,t))}get isUnderline(){return 0!==(4194304&this.n)}set isUnderline(t){const e=0!==(4194304&this.n);e!==t&&(this.n=4194304^this.n,this.Ye(!0),this.C(),this.t("isUnderline",e,t))}get isStrikethrough(){return 0!==(8388608&this.n)}set isStrikethrough(t){const e=0!==(8388608&this.n);e!==t&&(this.n=8388608^this.n,this.Ye(!0),this.C(),this.t("isStrikethrough",e,t))}get wrap(){return null!==this.ct?this.ct.Cp:2}set wrap(t){const e=this.wrap;e!==t&&(this.Ln().Cp=t,this.c(),this.t("wrap",e,t))}get overflow(){return null!==this.ct?this.ct.Lp:0}set overflow(t){const e=this.overflow;e!==t&&(this.Ln().Lp=t,this.c(),this.t("overflow",e,t))}get isOverflowed(){return 0!==(16777216&this.n)}K2(t){t?this.n|=16777216:this.n&=-16777217}get stroke(){return this.Wi}set stroke(t){const e=this.Wi;e!==t&&(null!==t&&Bt.nd(t,"TextBlock.stroke"),t instanceof Bt&&t.u(),this.Wi=t,"string"!=typeof t&&this.nf(),this.C(),this.t("stroke",e,t))}get lineCount(){return this.ye}get lineHeight(){return this.Ap()}get editable(){return 0!==(1048576&this.n)}set editable(t){const e=0!==(1048576&this.n);e!==t&&(this.n=1048576^this.n,this.t("editable",e,t))}get R2(){return 0!==(33554432&this.n)}set R2(t){this.n=33554432^this.n}get textEditor(){return null!==this.ct?this.ct.Tp:null}set textEditor(t){const e=this.textEditor;e!==t&&(this.Ln().Tp=t,this.t("textEditor",e,t))}get errorFunction(){return null!==this.ct?this.ct.ls:null}set errorFunction(t){const i=this.errorFunction;i!==t&&(null!==t&&e.S(t,fe,"errorFunction"),this.Ln().ls=t,this.t("errorFunction",i,t))}get interval(){return null!==this.W?this.W.yf:1}set interval(t){const e=this.interval;if(t=Math.round(t),e!==t&&0!==t&&isFinite(t)){null===this.W&&(this.W=new ge),this.W.yf=t,this.c();const i=this.panel;null!==i&&(i.rs=null),this.t("interval",e,t)}}get graduatedStart(){return null!==this.W?this.W.wf:0}set graduatedStart(t){const e=this.graduatedStart;e!==t&&(t<0?t=0:t>1&&(t=1),null===this.W&&(this.W=new ge),this.W.wf=t,this.c(),this.t("graduatedStart",e,t))}get graduatedEnd(){return null!==this.W?this.W.xf:1}set graduatedEnd(t){const e=this.graduatedEnd;e!==t&&(t<0?t=0:t>1&&(t=1),null===this.W&&(this.W=new ge),this.W.xf=t,this.c(),this.t("graduatedEnd",e,t))}get graduatedFunction(){return null!==this.W?this.W.Dp:null}set graduatedFunction(t){const i=this.graduatedFunction;i!==t&&(null!==t&&e.S(t,fe,"graduatedFunction"),null===this.W&&(this.W=new ge),this.W.Dp=t,this.c(),this.t("graduatedFunction",i,t))}get graduatedSkip(){return null!==this.W?this.W.bf:null}set graduatedSkip(t){const i=this.graduatedSkip;i!==t&&(null!==t&&e.S(t,fe,"graduatedSkip"),null===this.W&&(this.W=new ge),this.W.bf=t,this.c(),this.t("graduatedSkip",i,t))}wh(t,e){if(null===this.Wi||0===this.ai.length||null===this.Mn)return;const i=this.naturalBounds,n=this.actualBounds,s=i.width,r=i.height,o=this.Ap();let a=t.textAlign=this.textAlign;const l=e.Hu;"start"===a?a=l?"right":"left":"end"===a&&(a=l?"left":"right");const h=this.isUnderline,u=this.isStrikethrough;this.mn(t,this.Wi,!0,!1,i,n),(h||u)&&this.mn(t,this.Wi,!1,!1,i,n);const c=0;let d=0;const f=s;let m=!1;e.ii===t&&!(e.ii instanceof Ft)&&!this.R2&&!0===e.getRenderingHint("textGreeking")&&o*this.wa*e.scale<3&&(m=!0);const g=this.spacingAbove,p=this.spacingBelow;switch(this.flip){case 0:break;case 2:t.translate(s,0),t.scale(-1,1);break;case 1:t.translate(0,r),t.scale(1,-1);break;case 3:t.translate(s,r),t.scale(-1,-1);break}t.commitTransform();const y=this.ye,_=(g+o+p)*y;if(r>_){const t=this.verticalAlignment;d=t.y*r-t.y*_+t.offsetY}if(1===y&&null!==this.Cn){let e=this.mi;e>f&&(e=f),d+=g,this.GA(this.Cn,t,c,d,f,o,e,m,a,h,u)}else if(null!==this.Te&&null!==this.Ri)for(let v=0;v<y;v++){let e=this.Te[v];e>f&&(e=f),d+=g,this.GA(this.Ri[v],t,c,d,f,o,e,m,a,h,u),d+=o+p}switch(this.flip){case 0:break;case 2:t.scale(-1,1),t.translate(-s,0);break;case 1:t.scale(1,-1),t.translate(0,-r);break;case 3:t.scale(-1,-1),t.translate(-s,-r);break}}GA(t,e,i,n,s,r,o,a,l,h,u){let c=0;if(a){"left"===l?c=0:"right"===l?c=s-o:"center"===l&&(c=(s-o)/2);const t=e.globalAlpha;return e.globalAlpha=t/2,e.fillRect(i+c,n+r/4,o,r/2),void(e.globalAlpha=t)}"left"===l?c=0:"right"===l?c=s:"center"===l&&(c=s/2);const d=null!==fe._b?fe._b(this,r):.75*r;e.fillText(t,i+c,n+d);let f=r/20|0;if(0===f&&(f=1),"right"===l?c-=o:"center"===l&&(c-=o/2),h){const t=null!==fe.t1?fe.t1(this,r):.8*r;this.HA(i+c,n+t,i+c+o,n+t,f,e),e instanceof Ft&&e.lastCreatedElement.classList.add("gojs-td")}if(u){let t=n+r-r/2.2|0;f%2!==0&&(t+=.5),this.HA(i+c,t,i+c+o,t,f,e),e instanceof Ft&&e.lastCreatedElement.classList.add("gojs-td")}}HA(t,e,i,n,s,r){r.beginPath(),r.lineWidth=s,r.moveTo(t,e),r.lineTo(i,n),r.stroke(),r.endPath()}sf(t,e,i){if(!super.sf(t,e,i))return!1;if(this.mn(t,this.Wi,!0,!1,this.naturalBounds,this.actualBounds),i){if(0===this.svg.getElementsByTagName("text").length)return!0;const e=this.svg.getElementsByClassName("gojs-td");for(let i=0;i<e.length;i++)t.setFillOrStrokeInPlace(e[i],!1)}else this.Uv(this.svg,this.text,t);return!0}Uv(t,e,i){t.innerHTML=e,i.setFillOrStrokeInPlace(t,!0)}ed(t){return!!(this.lineCount>1||this.isUnderline||this.isStrikethrough)||super.ed(t)}u2(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{const i=t.getElementsByTagName("text");for(let t=0;t<i.length;t++)i[t].setAttributeNS(null,"filter",e)}}Vv(){this.Nn=0,this.mi=0,this.ao=null,this.Te=null,this.Ri=null,this.Cn=null}_u(t,e,i,n){const s=this.ye;this.El=t,this.K2(!1);const r=this.Mn;null!==fe.nl&&fe.jA!==r&&(fe.nl.font=r,fe.jA=r),this.Vv();let o=0,a=0;isNaN(this.desiredSize.width)?(o=this.zv(),o=Math.min(o,t/this.scale)):o=this.desiredSize.width,null!==this.panel&&(o=Math.min(o,this.panel.maxSize.width)),a=this.KA(o),a=isNaN(this.desiredSize.height)?Math.min(a,e/this.scale):this.desiredSize.height,this.Xv(t,a),(1===this.wrap||isNaN(this.desiredSize.width))&&(o=isNaN(t)?this.mi:Math.min(t,this.mi)),o=Math.max(i,o),a=Math.max(n,a),this.Ki.zn(o,a),this.so(0,0,o,a),null!==this.svg&&s!==this.ye&&this.Ye(!0)}ph(t,e,i,n){this.commonArrange(t,e,i,n)}An(t,e){null===this.Cn?(this.Cn=t,this.mi=e):((null===this.Ri||null===this.Te)&&(this.Ri=[],this.Te=[],this.Ri.push(this.Cn),this.Te.push(this.mi)),this.Ri.push(t),this.Te.push(e),this.Ri.length>this.maxLines&&(this.n|=16777216))}Y2(t,e,i){const n=0===this.formatting;n&&(t=t.trim());let s=0,r=0,o=0;const a=this.Mn,l=this.spacingAbove+this.spacingBelow,h=Math.max(0,this.Ap()+l),u=1===this.overflow?this.qA(a):0;if(this.ye>=this.maxLines)return void(null!==i&&i.i(0,h));let c=t;if(0===this.wrap){if(this.Nn=1,r=this.getStringWidth(t),0===u||r<=e)return this.mi=Math.max(this.mi,r),this.An(t,this.mi),void(null!==i&&i.i(r,h));let s=this.Md(c);c=c.substring(s.length);let a=this.Md(c);for(r=this.getStringWidth(s+a),o=0;a.length>0&&r<=e;){s+=a,c=c.substring(a.length),a=this.Md(c),o=r;let t=s+a;n&&(t=t.trim()),r=this.getStringWidth(t)}for(n&&(a=a.trim()),s+=a,e=Math.max(1,e-u);this.getStringWidth(s)>e&&s.length>1;)s=s.substring(0,s.length-1);return this.K2(!0),s+=fe.Mp,o=this.getStringWidth(s),this.mi=o,this.An(s,o),void(null!==i&&i.i(o,h))}let d=0;for(0===c.length&&(d=1,this.An(c,0));c.length>0;){let t=this.Md(c);for(c=c.substring(t.length);this.getStringWidth(t)>e;){let i=1;for(r=this.getStringWidth(t.substring(0,i)),o=0;r<=e;)i++,o=r,r=this.getStringWidth(t.substring(0,i));let n=0;1===i?(n=r,s=Math.max(s,r)):(n=o,s=Math.max(s,o)),i--,i<1&&(i=1);const a=t.substring(0,i);if(this.An(a,n),d++,t=t.substring(i),this.ye+d>this.maxLines)break}let i=this.Md(c);for(r=this.getStringWidth(t+i),o=0;i.length>0&&r<=e;){t+=i,c=c.substring(i.length),i=this.Md(c),o=r;let e=t+i;n&&(e=e.trim()),r=this.getStringWidth(e)}if(n&&(t=t.trim()),""===t)continue;""===t[t.length-1]&&(t=t.substring(0,t.length-1)+"");let a=0;if(0===i.length?(a=r,s=Math.max(s,r)):(o=this.getStringWidth(t),a=o,s=Math.max(s,o)),this.An(t,a),d++,this.ye+d>this.maxLines)break}this.Nn=Math.min(this.maxLines-this.ye,d),this.mi=Math.max(this.mi,s),null!==i&&i.i(this.mi,h*this.Nn)}Xv(t,e){if(0===this.mi||null===this.Te||null===this.Ri||1!==this.overflow)return;const i=this.Mn,n=1===this.overflow?this.qA(i):0,s=this.spacingAbove+this.spacingBelow,r=Math.max(0,this.Ap()+s),o=Math.min(this.maxLines-1,Math.max(Math.floor(e/r+.01)-1,0));if(o+1>=this.Ri.length)return;this.K2(!0);let a=this.Ri[o];const l=Math.max(1,t-n);for(;this.getStringWidth(a)>l&&a.length>1;)a=a.substring(0,a.length-1);a+=fe.Mp;const h=this.getStringWidth(a);this.Ri[o]=a,this.Ri=this.Ri.slice(0,o+1),this.Te[o]=h,this.Te=this.Te.slice(0,o+1),this.Nn=this.Ri.length,this.mi=Math.max(this.mi,h),this.ye=this.Nn,1===this.ye&&(this.Cn=this.Ri[0])}Md(t){if(3===this.wrap)return t.substring(0,1);let e=t.length,i=0;const n=fe.Yv;for(;i<e&&!n.test(t.charAt(i));)i++;for(1===this.formatting&&(e=Math.min(e,i+1));i<e&&n.test(t.charAt(i));)i++;return i>=t.length?t:t.substring(0,i)}getStringWidth(t){return null===fe.nl?8*t.length:fe.nl.measureText(t).width}Ap(){if(null!==this.ao)return this.ao;const t=this.Mn;let e=0;return null===fe.nl?(e=16,this.ao=e,e):(void 0!==fe.G2[t]&&fe.WA<5e3?e=fe.G2[t]:(e=1.3*fe.nl.measureText("M").width,fe.G2[t]=e,fe.WA++),this.ao=e,e)}qA(t){if(null===fe.nl)return 6;let e=0;return void 0!==fe.Qb[t]&&fe.X2<5e3?e=fe.Qb[t]:(e=fe.nl.measureText(fe.Mp).width,fe.Qb[t]=e,fe.X2++),e}i1(t,e){return t.indexOf("\n",e)}KA(t){let e=this.ai.replace(/\r\n/g,"\n").replace(/\r/g,"\n");const i=this.spacingAbove+this.spacingBelow,n=Math.max(0,this.Ap()+i);if(0===e.length)return this.mi=0,this.ye=1,n;if(!this.isMultiline){const t=this.i1(e,0);t>=0&&(e=e.substring(0,t))}let s=0;this.ye=0;let r=0,o=-1,a=!1;for(;!a;){if(o=this.i1(e,r),-1===o&&(o=e.length,a=!0),r<=o){const i=e.substring(r,o);if(0!==this.wrap){this.Nn=0;const e=_.l();this.Y2(i,t,e),s+=e.height,_.e(e),this.ye+=this.Nn}else this.Y2(i,t,null),s+=n,this.ye++;this.ye===this.maxLines&&(a=!0)}r=o+1}return this.P0=s,s}zv(){let t=this.ai.replace(/\r\n/g,"\n").replace(/\r/g,"\n");if(0===t.length)return 8;if(this.isMultiline){let e=0,i=0,n=!1;for(;!n;){let s=this.i1(t,i);-1===s&&(s=t.length,n=!0);let r=t.substring(i,s);0===this.formatting&&(r=r.trim()),e=Math.max(e,this.getStringWidth(r)),i=s+1}return e}{const e=this.i1(t,0);return e>=0&&(t=t.substring(0,e)),this.getStringWidth(t)}}get textValidation(){return null!==this.ct?this.ct.Il:null}set textValidation(t){const i=this.textValidation;i!==t&&(null!==t&&e.S(t,fe,"textValidation"),this.Ln().Il=t,this.t("textValidation",i,t))}get textEdited(){return null!==this.ct?this.ct.Fp:null}set textEdited(t){const i=this.textEdited;i!==t&&(null!==t&&e.S(t,fe,"textEdited"),this.Ln().Fp=t,this.t("textEdited",i,t))}get spacingAbove(){return null!==this.ct?this.ct.Rp:0}set spacingAbove(t){const e=this.spacingAbove;e!==t&&(this.Ln().Rp=t,this.c(),this.t("spacingAbove",e,t))}get spacingBelow(){return null!==this.ct?this.ct.vp:0}set spacingBelow(t){const e=this.spacingBelow;e!==t&&(this.Ln().vp=t,this.c(),this.t("spacingBelow",e,t))}get formatting(){return null!==this.ct?this.ct.Op:0}set formatting(t){const e=this.formatting;e!==t&&(this.Ln().Op=t,this.c(),this.t("formatting",e,t))}get maxLines(){return null!==this.ct?this.ct.Ip:1/0}set maxLines(t){const i=this.maxLines;i!==t&&(t=Math.floor(t),t<=0&&e._(t,"> 0",fe,"maxLines"),this.Ln().Ip=t,this.c(),this.t("maxLines",i,t))}getMetrics(){return[this.mi,this.El,this.ao,this.Nn,this.Te,this.Ri,this.Cn]}Bv(t){void 0!==t&&(this.mi=t[0],this.El=t[1],this.ao=t[2],this.Nn=t[3],this.Te=t[4],this.Ri=t[5],this.Cn=t[6])}get metrics(){return{arrSize:null!==this.Te?this.Te:[this.mi],arrText:null!==this.Ri?this.Ri:[this.Cn],maxLineWidth:this.mi,fontHeight:this.ao}}get choices(){return this.Sd}set choices(t){const e=this.Sd;e!==t&&(this.Sd=t,this.t("choices",e,t))}static Yv=new RegExp("[ ]");static G2=new n;static WA=0;static Qb=new n;static X2=0;static Mp="...";static jA="";static nl=_t.isUsingDOM()?new Rt(null).ci:null}class me{gi;ls;co;Op;Ip;Lp;Rp;vp;Np;Fp;Tp;Il;ll;Cp;constructor(){this.gi=!1,this.ls=null,this.co=0,this.Op=0,this.Ip=1/0,this.Lp=0,this.Rp=0,this.vp=0,this.Np="start",this.Fp=null,this.Tp=null,this.Il=null,this.ll=x.Top,this.Cp=2}copy(){const t=new me;return t.ls=this.ls,t.co=this.co,t.Op=this.Op,t.Ip=this.Ip,t.Lp=this.Lp,t.Rp=this.Rp,t.vp=this.vp,t.Np=this.Np,t.Fp=this.Fp,t.Tp=this.Tp,t.Il=this.Il,t.ll=this.ll,t.Cp=this.Cp,t}}class ge{yf;wf;xf;Dp;bf;constructor(){this.yf=1,this.wf=0,this.xf=1,this.Dp=null,this.bf=null}copy(){const t=new ge;return t.yf=this.yf,t.wf=this.wf,t.xf=this.xf,t.Dp=this.Dp,t.bf=this.bf,t}}var pe=(t=>(t[t.None=0]="None",t[t.Fill=2]="Fill",t[t.Uniform=6]="Uniform",t[t.UniformToFill=7]="UniformToFill",t))(pe||{});class ye extends Yt{hl;wt;al;kf;ls;cl;Pf;co;Sf;Mf;Ib;constructor(t,e){super(),this.n|=2097152,this.hl=null,this.wt="",this.al=v.KD,this.kf=2,this.ls=null,this.cl=null,this.Pf=x.Center,this.co=0,this.Sf=null,this.Mf=null,this.Ib=null,"string"==typeof t?this.source=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}cloneProtected(t){super.cloneProtected(t),t.wt=this.wt,t.element=this.hl,t.al=this.al.N(),t.kf=this.kf,t.co=this.co,t.ls=this.ls,t.cl=this.cl,t.Pf=this.Pf.N(),t.Mf=this.Mf}hi(t){t in pe?this.imageStretch=t:super.hi(t)}toString(){return"Picture("+this.source+")#"+u.us(this)}get Nf(){return 0!==(1048576&this.n)}set Nf(t){this.Nf!==t&&(this.n=1048576^this.n)}get Ep(){return 0!==(2097152&this.n)}set Ep(t){this.Ep!==t&&(this.n=2097152^this.n)}get yn(){return 0!==(4194304&this.n)}set yn(t){this.yn!==t&&(this.n=4194304^this.n)}static clearCache(t){void 0===t&&(t=""),e.s(t,"string",ye,"clearCache:url"),""!==t?ye.Bp[t]&&(delete ye.Bp[t],ye.e1--):(ye.Bp=new n,ye.e1=0)}static WL(t,e){e.JA||(e.s1=i=>{ye.Kv(e,i),t.desiredSize.isReal()||(t.me(!1),t.c())},e.o1=t=>ye.Gv(e,t),e.addEventListener("load",e.s1),e.addEventListener("error",e.o1),e.JA=!0)}static FR(t){t.s1&&t.removeEventListener("load",t.s1),t.o1&&t.removeEventListener("error",t.o1),delete t.s1,delete t.o1,delete t.JA}get element(){return this.hl}set element(t){const i=this.hl;if(this.Ye(!0),i!==t){this.Nf=t instanceof HTMLCanvasElement;const n=t instanceof HTMLImageElement;null!==t&&!(n||t instanceof HTMLVideoElement||this.Nf)&&e.o("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);const s=this.diagram;null!==s&&s.EM(this),this.hl=t,null!==t&&n&&void 0===t.ss&&(t.ss=new u),null!==s&&n&&s.IM(this),this.t("element",i,t),this.C()}}TR(){const t=this.hl;if(null===t)return;const e=this.desiredSize.isReal();(this.Nf||!0===t.complete)&&(t.c0&&(t.Up instanceof Event&&null!==this.ls?this.ls(this,t.Up):!0===t.yn&&!t.Up&&null!==this.cl&&t.H2&&this.cl(this,t.H2)),t.yn=!0),t.yn&&e&&null!==this.diagram&&this.diagram.Gu.add(this)}Hv(){if(null===this.hl)return void(this.Sf=!1);const t=new Rt(null).ci;try{t.drawImage(this.hl,0,0)}catch{this.Ep=!1}try{t.getImageData(0,0,1,1).data[3]&&(this.Sf=!1),this.Sf=!1}catch{this.Sf=!0}}get source(){return this.wt}set source(t){const i=this.wt;if(i!==t){this.Ye(!0),e.s(t,"string",ye,"source"),this.wt=t;let n=ye.Bp;if(!_t.isUsingDOM())return void this.t("source",i,t);let s=null;if(void 0!==n[t])s=n[t];else if(""!==t){ye.e1>30&&(ye.clearCache(),n=ye.Bp),s=e.fs("img"),s.c0=!0,ye.WL(this,s);const i=this.Mf;null!==i&&(s.crossOrigin=i(this)),s.src=t,n[t]=s,ye.e1++}this.element=s,null!==s&&void 0===s.__goCache&&(s.__goCache=new _e),this.c(),this.C(),this.t("source",i,t)}}static Kv(t,e){let i;t.yn=!0,t.Up=!1;const n=t.ss.copy();if(null==n)return;const s=n.iterator;for(;s.next();){const n=s.value;n.C();const r=t.getAttribute("src")||"",o=n.ih.get(r);if(null===o)continue;const a=o.length;for(let s=0;s<a;s++)i=o[s],i.desiredSize.isReal()||n.Gu.add(i),i.Ye(!0),n.requestUpdate(),t.c0&&(void 0===t.H2&&(t.H2=e),null!==i.cl&&i.cl(i,e))}t.ss.clear()}static Gv(t,i){let n;t.Up=i;const s=t.ss.copy();if(null==s)return;const r=s.iterator;for(;r.next();){const s=r.value,o=t.getAttribute("src")||"",a=s.ih.get(o);if(null===a)continue;const l=a.length,h=e.rt();for(let t=0;t<l;t++)h.push(a[t]);if(t.c0)for(let t=0;t<l;t++)n=h[t],null!==n.ls&&n.ls(n,i);e.tt(h)}t.ss.clear()}reloadSource(){if(""===this.source)return;ye.clearCache(this.source);const t=this.source;this.source="",this.source=t}redraw(){this.C(),this.Ye(!0)}get sourceCrossOrigin(){return this.Mf}set sourceCrossOrigin(t){if(this.Mf!==t&&(null!==t&&e.S(t,ye,"sourceCrossOrigin"),this.Mf=t,null!==this.element)){const e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}get sourceRect(){return this.al}set sourceRect(t){const e=this.al;e.equals(t)||(t=t.N(),this.al=t,this.C(),this.t("sourceRect",e,t))}get imageStretch(){return this.kf}set imageStretch(t){const e=this.kf;e!==t&&(this.kf=t,this.C(),this.t("imageStretch",e,t))}get flip(){return this.co}set flip(t){const e=this.co;e!==t&&(this.co=t,this.C(),this.t("flip",e,t))}get imageAlignment(){return this.Pf}set imageAlignment(t){const e=this.Pf;e.equals(t)||(t=t.N(),this.Pf=t,this.C(),this.t("imageAlignment",e,t))}get errorFunction(){return this.ls}set errorFunction(t){const i=this.ls;i!==t&&(null!==t&&e.S(t,ye,"errorFunction"),this.ls=t,this.t("errorFunction",i,t))}get successFunction(){return this.cl}set successFunction(t){const i=this.cl;i!==t&&(null!==t&&e.S(t,ye,"successFunction"),this.cl=t,this.t("successFunction",i,t))}wh(t,e){const i=this.hl;if(null===i)return;const n=i.getAttribute("src");if(i instanceof HTMLImageElement&&(null===n||""===n)||i.Up instanceof Event&&t instanceof Et)return;const s=t instanceof Ft,r=this.naturalBounds;let o=0,a=0;const l=this.Nf;let h=l?+i.width:i.naturalWidth,u=l?+i.height:i.naturalHeight;if(void 0===h&&i.videoWidth&&(h=i.videoWidth),void 0===u&&i.videoHeight&&(u=i.videoHeight),0===h||0===u)return;const c=h,d=u;this.sourceRect.isReal()&&(o=this.al.x,a=this.al.y,h=this.al.width,u=this.al.height);let f=h,m=u;const g=this.kf,p=this.Pf;switch(g){case 0:if(this.sourceRect.isReal())break;f>=r.width&&(o=o+p.offsetX+(f*p.x-r.width*p.x)),m>=r.height&&(a=a+p.offsetY+(m*p.y-r.height*p.y)),h=Math.min(r.width,f),u=Math.min(r.height,m);break;case 2:f=r.width,m=r.height;break;case 6:case 7:let t=0;6===g?(t=Math.min(r.height/m,r.width/f),f*=t,m*=t):7===g&&(t=Math.max(r.height/m,r.width/f),f*=t,m*=t,f>=r.width&&(o=(o+p.offsetX+(f*p.x-r.width*p.x)/f)*h),m>=r.height&&(a=(a+p.offsetY+(m*p.y-r.height*p.y)/m)*u),h*=1/(f/r.width),u*=1/(m/r.height),f=r.width,m=r.height);break}const y=h*u,_=this.getDocumentScale()*e.scale,v=f*_,b=m*_,x=v*b,M=y/x,w=i.__goCache;let k=null;const L=ye.jv;if(!s){if(i.yn&&void 0!==w&&c<8e3&&d<8e3&&x>4&&M>L*L){null===w.Yt&&(w.$A(4,c,d,i),w.$A(16,c,d,i));const t=w.Yt,e=t.length;for(let i=0;i<e&&t[i].Nd*t[i].Nd<M;i++)k=t[i]}if(!e.Ku&&(null===this.Sf&&this.Hv(),this.Sf))return}const S=f<r.width?p.offsetX+(r.width*p.x-f*p.x):0,T=m<r.height?p.offsetY+(r.height*p.y-m*p.y):0;switch(this.flip){case 0:break;case 2:t.translate(Math.min(r.width,f),0),t.scale(-1,1);break;case 1:t.translate(0,Math.min(r.height,m)),t.scale(1,-1);break;case 3:t.translate(Math.min(r.width,f),Math.min(r.height,m)),t.scale(-1,-1);break}if(t.commitTransform(),e.getRenderingHint("pictureRatioOptimization")&&!e.oa&&void 0!==w&&null!==k&&1!==k.Nd){t.save();const e=k.Nd;try{t.drawImage(k.wt,o/e,a/e,Math.min(k.wt.width,h/e),Math.min(k.wt.height,u/e),S,T,Math.min(r.width,f),Math.min(r.height,m)),t instanceof Ft&&(this.Ib=[o/e,a/e,Math.min(k.wt.width,h/e),Math.min(k.wt.height,u/e),S,T,Math.min(r.width,f),Math.min(r.height,m)])}catch{this.Ep=!1}t.restore()}else try{t.drawImage(i,o,a,h,u,S,T,Math.min(r.width,f),Math.min(r.height,m)),t instanceof Ft&&(this.Ib=[o,a,h,u,S,T,Math.min(r.width,f),Math.min(r.height,m)])}catch{this.Ep=!1}switch(this.flip){case 0:break;case 2:t.scale(-1,1),t.translate(-Math.min(r.width,f),0);break;case 1:t.scale(1,-1),t.translate(0,-Math.min(r.height,m));break;case 3:t.scale(-1,-1),t.translate(-Math.min(r.width,f),-Math.min(r.height,m));break}}get naturalBounds(){return this.Ki}_u(t,e,i,n){const s=this.desiredSize,r=this.Hs(!0),o=this.hl,a=this.Nf;let l=0,h=0;(a||!this.yn&&o&&o.complete)&&(this.yn=!0),null===o?(isFinite(s.width)||(t=i),isFinite(s.height)||(e=n)):(l=a?+o.width:o.naturalWidth,h=a?+o.height:o.naturalHeight),isFinite(s.width)||2===r||5===r?(isFinite(t)||(this.sourceRect.isReal()?t=this.sourceRect.width:null!==o&&(t=l)),i=0):null!==o&&!1!==this.yn&&(t=this.sourceRect.isReal()?this.sourceRect.width:l),isFinite(s.height)||2===r||4===r?(isFinite(e)||(this.sourceRect.isReal()?e=this.sourceRect.height:null!==o&&(e=h)),n=0):null!==o&&!1!==this.yn&&(e=this.sourceRect.isReal()?this.sourceRect.height:h),isFinite(s.width)&&(t=s.width),isFinite(s.height)&&(e=s.height);const u=this.maxSize,c=this.minSize;i=Math.max(i||0,c.width),n=Math.max(n||0,c.height),t=Math.min(u.width,t),e=Math.min(u.height,e),t=Math.max(i,t),e=Math.max(n,e),null!==o&&!o.complete&&(isFinite(t)||(t=0),isFinite(e)||(e=0)),this.Ki.zn(t,e),this.so(0,0,t,e)}ph(t,e,i,n){this.commonArrange(t,e,i,n)}static Bp=new n;static e1=0;static jv=4}class _e{Yt;constructor(){this.Yt=null}$A(t,e,i,n){null===this.Yt&&(this.Yt=[]);const s=new Rt(null),r=s.ci,o=1/t;if(s.width=e/t,s.height=i/t,0===s.width||0===s.height)return;const a=new ve(s.Rt,t);let l=n,h=1;if(this.Yt.length>0){const t=this.Yt[this.Yt.length-1];l=t.wt,h=t.Nd}r.setTransform(o*h,0,0,o*h,0,0),r.commitTransform(),r.drawImage(l,0,0),this.Yt.push(a)}}class ve{wt;Nd;constructor(t,e){this.wt=t,this.Nd=e}}class be{Si;Wg;constructor(){this.Wg=new S,this.Si=null}Ii(t){null!==t?(this.Wg=t,t.figures.clear()):this.Wg=new S,this.Si=null}du(t,e,i,n,s,r){if(void 0!==n&&!0===n){const i=new P(1);i.endX=t,i.endY=e,this.Si.segments.add(i)}else this.Si=new T,this.Si.startX=t,this.Si.startY=e,this.Si.isFilled=i,this.Si.isEvenOdd=r||!1,this.Wg.figures.add(this.Si);void 0!==s&&(this.Si.isShadowed=s)}_D(){const t=this.Si.segments.length;t>0&&this.Si.segments.elt(t-1).close()}tF(){this.Si.segments.length>0&&(this.Si.isFilled=!0)}iF(t){this.Si.isShadowed=t}NE(t){this.Si.isEvenOdd=t}$D(t,e,i){void 0===i&&(i=!1);const n=new P(1);n.endX=t,n.endY=e,i&&n.close(),this.Si.segments.add(n)}mr(t,e,i){void 0===i&&(i=!1);const n=new P(2);n.endX=t,n.endY=e,i&&n.close(),this.Si.segments.add(n)}pr(t,e,i,n,s,r,o){void 0===o&&(o=!1);const a=new P(3);a.point1X=t,a.point1Y=e,a.point2X=i,a.point2Y=n,a.endX=s,a.endY=r,o&&a.close(),this.Si.segments.add(a)}Sw(t,e,i,n,s){void 0===s&&(s=!1);const r=new P(4);r.point1X=t,r.point1Y=e,r.endX=i,r.endY=n,s&&r.close(),this.Si.segments.add(r)}ZD(t,e,i,n,s,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);const a=new P(5);a.startAngle=t,a.sweepAngle=e,a.centerX=i,a.centerY=n,a.radiusX=s,a.radiusY=0!==r?r:s,o&&a.close(),this.Si.segments.add(a)}QD(t,e,i,n,s,r,o,a){void 0===a&&(a=!1);const l=new P(6,r,o,t,e,i,n,s);a&&l.close(),this.Si.segments.add(l)}static j2=null;static CC(t){const e=be.j2;if(null!==e)return be.j2=null,e.Ii(t),e;{const e=new be;return e.Ii(t),e}}static LC(t){be.j2=t}}{const t=function(t,e){const i=t.toLowerCase(),n=w.Gn;n[t]=e,n[i]=t};t("Rectangle",((t,e,i)=>{const n="r"+e+","+i;let s=w.dr[n];return void 0!==s||(s=new S(2),s.endX=e,s.endY=i,w.gr<w.Gg&&(w.dr[n]=s,w.gr++)),s})),t("Square",((t,e,i)=>{const n="s"+e+","+i;let s=w.dr[n];return void 0!==s||(s=new S(2),s.endX=e,s.endY=i,s.defaultStretch=6,w.gr<w.Gg&&(w.dr[n]=s,w.gr++)),s}));const e=(t,e,i,n,s)=>{(isNaN(n)||n<0)&&(n=5),isNaN(s)&&(s=15);const r="rr"+e+","+i+","+n+","+s;let o=w.dr[r];if(void 0!==o)return o;let a=n;1===(1&s)?(a=Math.min(a,2===(2&s)?e/3:e),a=Math.min(a,8===(8&s)?i/3:i)):a=0;const l=new T(a,0,!0);o=(new S).add(l);const h=x.TopLeft.copy(),u=x.BottomRight.copy();if(2===(2&s)){let t=n;t=Math.min(t,1===(1&s)?e/3:e),t=Math.min(t,4===(4&s)?i/3:i);const r=t*w.Xn;l.add(new P(2,e-t,0)).add(new P(3,e,t,e-r,0,e,r)),h.offsetY=r,u.offsetX=-r}else l.add(new P(2,e,0));if(4===(4&s)){let t=n;t=Math.min(t,8===(8&s)?e/3:e),t=Math.min(t,2===(2&s)?i/3:i);const r=t*w.Xn;l.add(new P(2,e,i-t)).add(new P(3,e-t,i,e,i-r,e-r,i)),u.offsetX=-r,u.offsetY=-r}else l.add(new P(2,e,i));if(8===(8&s)){let t=n;t=Math.min(t,4===(4&s)?e/3:e),t=Math.min(t,1===(1&s)?i/3:i);const r=t*w.Xn;l.add(new P(2,t,i)).add(new P(3,0,i-t,r,i,0,i-r)),h.offsetX=r,u.offsetY=-r}else l.add(new P(2,0,i));if(1===(1&s)){const t=a*w.Xn;l.add(new P(2,0,a)).add(new P(3,a,0,0,t,t,0).close()),h.offsetX=t,h.offsetY=t}else l.add(new P(2,0,0).close());return o.spot1=h,o.spot2=u,w.gr<w.Gg&&(w.dr[r]=o,w.gr++),o};t("RoundedRectangle",((t,i,n)=>{const s=t?t.parameter1:NaN,r=t?t.parameter2:NaN;return e(t,i,n,s,r)})),t("Border","RoundedRectangle"),t("RoundedTopRectangle",((t,i,n)=>{const s=t?t.parameter1:NaN;return e(t,i,n,s,3)})),t("RoundedBottomRectangle",((t,i,n)=>{const s=t?t.parameter1:NaN;return e(t,i,n,s,12)})),t("RoundedLeftRectangle",((t,i,n)=>{const s=t?t.parameter1:NaN;return e(t,i,n,s,9)})),t("RoundedRightRectangle",((t,i,n)=>{const s=t?t.parameter1:NaN;return e(t,i,n,s,6)})),t("Ellipse",((t,e,i)=>{const n="e"+e+","+i;let s=w.dr[n];return void 0!==s||(s=new S(3),s.endX=e,s.endY=i,s.spot1=x.vk,s.spot2=x.Ok,w.gr<w.Gg&&(w.dr[n]=s,w.gr++)),s})),t("Circle",((t,e,i)=>{const n="c"+e+","+i;let s=w.dr[n];return void 0!==s||(s=new S(3),s.endX=e,s.endY=i,s.spot1=x.vk,s.spot2=x.Ok,s.defaultStretch=6,w.gr<w.Gg&&(w.dr[n]=s,w.gr++)),s})),t("TriangleRight",((t,e,i)=>(new S).add(new T(0,0).add(new P(2,e,.5*i)).add(new P(2,0,i).close())).setSpots(0,.25,.5,.75))),t("TriangleDown",((t,e,i)=>(new S).add(new T(0,0).add(new P(2,e,0)).add(new P(2,.5*e,i).close())).setSpots(.25,0,.75,.5))),t("TriangleLeft",((t,e,i)=>(new S).add(new T(e,i).add(new P(2,0,.5*i)).add(new P(2,e,0).close())).setSpots(.5,.25,1,.75))),t("TriangleUp",((t,e,i)=>(new S).add(new T(e,i).add(new P(2,0,i)).add(new P(2,.5*e,0).close())).setSpots(.25,.5,.75,1))),t("Triangle","TriangleUp"),t("Diamond",((t,e,i)=>(new S).add(new T(.5*e,0).add(new P(2,0,.5*i)).add(new P(2,.5*e,i)).add(new P(2,e,.5*i).close())).setSpots(.25,.25,.75,.75))),t("LineH",((t,e,i)=>{const n=new S(1);return n.startX=0,n.startY=i/2,n.endX=e,n.endY=i/2,n})),t("LineV",((t,e,i)=>{const n=new S(1);return n.startX=e/2,n.startY=0,n.endX=e/2,n.endY=i,n})),t("None","Rectangle"),t("BarH","Rectangle"),t("BarV","Rectangle"),t("MinusLine","LineH"),t("PlusLine",((t,e,i)=>(new S).add(new T(0,i/2,!1).add(new P(2,e,i/2)).add(new P(1,e/2,0)).add(new P(2,e/2,i))))),t("XLine",((t,e,i)=>(new S).add(new T(0,i,!1).add(new P(2,e,0)).add(new P(1,0,0)).add(new P(2,e,i))))),t("LineRight",((t,e,i)=>(new S).add(new T(.25*e,0,!1).add(new P(2,.75*e,.5*i)).add(new P(2,.25*e,i))))),t("LineDown",((t,e,i)=>(new S).add(new T(0,.25*i,!1).add(new P(2,.5*e,.75*i)).add(new P(2,e,.25*i))))),t("LineLeft",((t,e,i)=>(new S).add(new T(.75*e,0,!1).add(new P(2,.25*e,.5*i)).add(new P(2,.75*e,i))))),t("LineUp",((t,e,i)=>(new S).add(new T(0,.75*i,!1).add(new P(2,.5*e,.25*i)).add(new P(2,e,.75*i))))),t("Capsule",((t,e,i)=>{const n=new S;if(e<i){const s=e/2,r=new T(0,s,!0);n.add(r),r.add(new P(5,180,180,s,s,s,s)),r.add(new P(2,e,i-s)),r.add(new P(5,0,180,s,i-s,s,s)),r.add(new P(2,0,s));const o=isFinite(t.parameter1)?t.parameter1:.156*e;return n.spot1=new x(0,0,0,o),n.spot2=new x(1,1,0,-o),n}if(e>i){const s=i/2,r=new T(s,0,!0);n.add(r),r.add(new P(2,e-s,0)),r.add(new P(5,270,180,e-s,s,s,s)),r.add(new P(2,s,i)),r.add(new P(5,90,180,s,s,s,s));const o=isFinite(t.parameter1)?t.parameter1:.156*i;return n.spot1=new x(0,0,o,0),n.spot2=new x(1,1,-o,0),n}return n.type=3,n.endX=e,n.endY=i,n.spot1=x.vk,n.spot2=x.Ok,n}));const i=(t,e)=>new T(t,e,!1,!1),n=(t,e,i)=>t.add(new P(2,e,i)),s=(t,e,i)=>t.add(new P(1,e,i));t("Borders",((t,e,r)=>{let o=t?t.parameter1:NaN;isNaN(o)?o=10:o&=15;const a=new S;let l;return 10===o?(l=i(e,0),n(l,e,r),s(l,0,r),n(l,0,0)):5===o?(l=i(0,0),n(l,e,0),s(l,e,r),n(l,0,r)):1===o?(l=i(0,0),n(l,e,0),s(l,e,r)):2===o?(l=i(e,0),n(l,e,r)):4===o?(l=i(e,r),n(l,0,r)):8===o?(l=i(0,r),n(l,0,0),s(l,e,r)):3===o?(l=i(0,0),n(l,e,0),n(l,e,r)):6===o?(l=i(e,0),n(l,e,r),n(l,0,r)):12===o?(l=i(e,r),n(l,0,r),n(l,0,0)):9===o?(l=i(0,r),n(l,0,0),n(l,e,0)):7===o?(l=i(0,0),n(l,e,0),n(l,e,r),n(l,0,r)):14===o?(l=i(e,0),n(l,e,r),n(l,0,r),n(l,0,0)):13===o?(l=i(e,r),n(l,0,r),n(l,0,0),n(l,e,0)):11===o?(l=i(0,r),n(l,0,0),n(l,e,0),n(l,e,r)):15===o?(l=i(0,0),n(l,e,0),n(l,e,r),n(l,0,r),l.add(new P(2,0,0).close())):(l=i(0,0),s(l,e,r)),a.add(l),a}))}w.Kg={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};var xe=(t=>(t[t.None=0]="None",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Shown=4]="Shown",t[t.Hidden=8]="Hidden",t[t.NodeSized=16]="NodeSized",t[t.GroupLayout=32]="GroupLayout",t[t.NodeReplaced=64]="NodeReplaced",t[t.Standard=127]="Standard",t[t.All=16777215]="All",t))(xe||{});class Me extends ie{k;Wo;J;fl;ul;Jo;ai;$o;Sh;Js;Zo;Cd;XS;ZA;Vp;zp;constructor(t,e){let i;void 0===t||t instanceof zt||"string"==typeof t?i=t:t&&(e=t),super(i),this.k=2408959,this.Wo="",this.J=null,this.fl="",this.ul=null,this.Jo=null,this.ai="",this.$o=null,this.Sh=null,this.Js=new y(NaN,NaN).u(),this.Zo=null,this.Cd=NaN,this.XS=-1,this.ZA=new v,this.Vp=null,this.zp=NaN,e&&Object.assign(this,e)}cloneProtected(t){super.cloneProtected(t),t.k=49152|-4097&this.k,t.Wo=this.Wo,null!==this.J&&(this.J.gi?t.J=this.J:t.J=this.J.copy()),t.fl=this.fl,t.Jo=null,t.ai=this.ai,t.Js.a(this.Js),t.Cd=this.Cd}Xo(t){super.Xo(t),t.yh(),t.ul=null,t.Zo=null,t.Vp=null}toString(){let t=e.Vn(this.constructor)+"#"+u.us(this);return null!==this.data&&(t+="("+e.toString(this.data)+")"),t}static LayoutNone=0;static LayoutAdded=1;static LayoutRemoved=2;static LayoutShown=4;static LayoutHidden=8;static LayoutNodeSized=16;static LayoutGroupLayout=32;static LayoutNodeReplaced=64;static LayoutStandard=127;static LayoutAll=16777215;Ji(){return null===this.J?this.J=new we:this.J.gi&&(this.J=this.J.copy()),this.J}gh(){super.gh(),null!==this.J&&(this.J.gi=!0)}Qc(t,e,i,n,s,r,o){const a=this.diagram;null!==a&&(3===t&&"elements"===e?s instanceof ie?s.$r((t=>{a.partManager.AM(t,a)})):s instanceof ye&&a.IM(s):4===t&&"elements"===e&&(s instanceof ie?s.$r((t=>a.partManager.TM(t,a))):s instanceof ye&&a.EM(s)),a.raiseChangedEvent(t,e,i,n,s,r,o))}updateTargetBindings(t){if(super.updateTargetBindings(t),null===this.data)return;const e=this.T.r,i=e.length;for(let s=0;s<i;s++){const t=e[s];t instanceof ie&&t.$r((t=>{null!==t.data&&t.updateTargetBindings()}))}const n=this.adornments;for(;n.next();)n.value.updateTargetBindings(t)}Uo(){if(super.Uo(),this.b2()){const t=this.T.r,e=t.length;for(let i=0;i<e;i++){const e=t[i];e instanceof ie&&e.$r((t=>t.Uo()))}}const t=this.adornments;for(;t.next();)t.value.Uo()}updateRelationshipsFromData(){null!==this.data&&this.diagram?.partManager.updateRelationshipsFromData(this)}get key(){const t=this.diagram;if(null!==t)return t.model.getKeyForNodeData(this.data)}get adornments(){return null===this.Jo?s.instance:this.Jo.iteratorValues}findAdornment(t){const e=this.Jo;return null===e?null:e.get(t)}addAdornment(t,e){if(null===e)return;let i=null,n=this.Jo;if(null!==n&&(i=n.get(t)),i!==e){if(null!==i){const t=i.diagram;null!==t&&t.remove(i)}null===n&&(n=new p,this.Jo=n),e.Wo!==t&&(e.category=t),n.set(t,e);const s=this.diagram;if(null!==s){s.add(e);const t=e.adornedObject;if(null!==t){const i=t.findBindingPanel();null!==i&&(e.data=i.data)}}}}removeAdornment(t){const e=this.Jo;if(null===e)return;const i=e.get(t);if(null!==i){const t=i.diagram;null!==t&&(t.remove(i),i.data=null)}e.delete(t),0===e.count&&(this.Jo=null)}clearAdornments(){const t=this.Jo;if(null===t)return;const i=e.rt(),n=t.iterator;for(;n.next();){const t=n.key;i.push(t)}const s=i.length;for(let e=0;e<s;e++)this.removeAdornment(i[e]);e.tt(i)}updateAdornments(){const t=this.diagram;if(null===t)return;this.qv(t),this.Wv(t);let e=this.adornments;for(;e.next();){const t=e.value;t.c(),t.hasPlaceholder()&&t.placeholder?.c()}for(e=this.adornments;e.next();)e.value.updateTargetBindings()}invalidateAdornments(){const t=this.diagram;null!==t&&(t.oh(),!0!==this.QA()&&this._A(!0))}YS(){!1!==this.QA()&&(this.updateAdornments(),this._A(!1))}qv(t){const e="Selection";if(this.isSelected&&this.selectionAdorned){const i=this.selectionObject;if(null!==i&&this.actualBounds.isReal()&&this.isVisible()&&i.isVisibleObject()&&i.actualBounds.isReal()){let n=this.findAdornment(e);if(null===n){let e=this.selectionAdornmentTemplate;null===e&&(e=this.Rl()?t.linkSelectionAdornmentTemplate:this instanceof Ie?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),n=e.copy(),null!==n&&(this.Rl()&&this.selectionObject===this.path&&(n.type=ie.Link),n.adornedObject=i)}if(null!==n)return n.type===ie.Link&&n.c(),void this.addAdornment(e,n)}}this.removeAdornment(e)}Wv(t){const e=this;t.toolManager.mouseDownTools.each((t=>{t.isEnabled&&t.updateAdornments(e)})),t.toolManager.updateAdornments(e)}VS(t){this.$o=t,null===t&&this.HR()}get layer(){return this.$o}get diagram(){const t=this.$o;return null==t?null:t.diagram}get layerName(){return this.fl}set layerName(t){const e=this.fl;if(e===t)return;let i=this.diagram;if(null!==i&&(null===i.findLayer(t)||i.partManager.addsToTemporaryLayer))return;this.fl=t,null!==i&&i.invalidateDocumentBounds(),this.t("layerName",e,t);const n=this.layer;if(null===n||n.name===t||(i=n.diagram,null===i))return;const s=i.findLayer(t);if(null===s||s===n)return;let r=n.se(-1,this,!0);r>=0&&i.raiseChangedEvent(4,"parts",n,this,null,r,!0),r=s._h(99999999,this,!0),n.visible!==s.visible&&this.Vi(s.visible),r>=0&&i.raiseChangedEvent(3,"parts",s,null,this,!0,r);const o=this.layerChanged;if(null===o)return;const a=i.K;i.K=!0,o(this,n,s),i.K=a}get layerChanged(){return null!==this.J?this.J.Xp:null}set layerChanged(t){const i=this.layerChanged;i!==t&&(null!==t&&e.S(t,Me,"layerChanged"),this.Ji().Xp=t,this.t("layerChanged",i,t))}get zOrder(){return this.Cd}set zOrder(t){const e=this.Cd;if(e===t)return;this.Cd=t;const i=this.layer;null!==i&&i.mx(-1,this),this.t("zOrder",e,t);const n=this.diagram;null!==n&&n.C()}Jv(){const t=this.layer;null!==t&&t.mx(-1,this)}l1(){if(!1!==this.lh())return;this.q2(!0),this.ef();const t=this.diagram;null!==t&&(t.o0(this),t.requestUpdate())}tT(){if(this.k|=2097152,!1===this.lh())return;const t=this.position,e=this.location;(!e.isReal()||!t.isReal())&&this.iT(t,e);const i=this.Ai,n=v.l().a(i);i.At(),i.x=t.x,i.y=t.y,i.u(),this.td(n,i),v.e(n),this.q2(!1),this.ef()}so(t,e,i,n){const s=this.re;s.i(t,e,i,n),null===this.ki&&(this.ki=new M);const r=this.ki;r.Ii(),this.x0(r,t,e,i,n),this.ki=r,r.Ik()||r.Ug(s)}x0(t,e,i,n,s){if(1!==this.nt&&t.nt(this.nt),0===this.Ht)return;let r=x.Center;this.locationSpot.isSpot()&&(r=this.locationSpot);const o=y.l();if(this.locationObject!==this){const t=this.locationObject,e=t.naturalBounds;o.setSpot(e.x,e.y,e.width,e.height,r),null!==t.ki&&t.ki.xt(o),o.offset(-t.measuredBounds.x,-t.measuredBounds.y);let i=t.panel;for(;null!==i&&i!==this;)null!==i.ki&&i.ki.xt(o),o.offset(-i.measuredBounds.x,-i.measuredBounds.y),i=i.panel}else o.setSpot(e,i,n,s,r);t.ds(this.Ht,o.x,o.y),y.e(o)}get locationObject(){if(null===this.Zo)if(this instanceof ke&&this.type!==ie.Link&&this.hasPlaceholder())this.Zo=this.placeholder;else{const t=this.locationObjectName;if(""!==t){const e=this.findObject(t);this.Zo=null!==e?e:this}else this.Zo=this}return this.Zo?.visible?this.Zo:this}get minLocation(){return null!==this.J?this.J.Yp:y.hC}set minLocation(t){const e=this.minLocation;e.equals(t)||(t=t.N(),this.Ji().Yp=t,this.t("minLocation",e,t))}get maxLocation(){return null!==this.J?this.J.Kp:y.aC}set maxLocation(t){const e=this.maxLocation;e.equals(t)||(t=t.N(),this.Ji().Kp=t,this.t("maxLocation",e,t))}get locationObjectName(){return null!==this.J?this.J.Gp:""}set locationObjectName(t){const e=this.locationObjectName;e!==t&&(this.Ji().Gp=t,this.Zo=null,this.c(),this.t("locationObjectName",e,t))}get locationSpot(){return null!==this.J?this.J.Hp:x.TopLeft}set locationSpot(t){const e=this.locationSpot;e.equals(t)||(t=t.N(),this.Ji().Hp=t,this.c(),this.t("locationSpot",e,t))}move(t,e){!0===e?this.location=t:this.position=t}moveTo(t,e,i){const n=y.X(t,e);this.move(n,i),y.e(n)}isVisible(){if(!this.visible)return!1;const t=this.layer;if(null!==t){if(!t.visible)return!1;const e=t.diagram;if(null!==e&&e.animationManager.ex(this))return!0}const e=this.containingGroup;return!(null!==e&&(!e.isSubGraphExpanded||!e.isVisible()))}Vi(t){const e=this.diagram;t?(this.invalidateLayout(4),this.invalidateAdornments(),null!==e&&e.o0(this)):(this.invalidateLayout(8),this.clearAdornments()),this.yh(),null!==e&&(e.invalidateDocumentBounds(),e.C())}findObject(t){if(this.name===t)return this;let e=this.Vp;if(null===e&&(this.Vp=e=new p),null!==e.get(t))return e.get(t);const i=super.findObject(t);return null!==i?(e.set(t,i),i):(e.set(t,null),null)}R0(){this.Vp=null}getRelativePoint(t,e,i){void 0===i&&(i=new y);const n=e.isNoSpot()?x.Center:e,s=t.naturalBounds;if(i.i(s.width*n.x+n.offsetX,s.height*n.y+n.offsetY),null===t||t===this)return i;t.F.xt(i);let r=t.panel;for(;null!==r&&r!==this;)r.F.xt(i),r=r.panel;return null!==this.ki&&this.ki.xt(i),i.offset(-this.re.x,-this.re.y),i}getDocumentBounds(t){return void 0===t&&(t=new v),t.a(this.actualBounds)}ensureBounds(){this.ut(1/0,1/0),this.Xt()}TA(t){const e=this.locationSpot,i=this.locationObject;let n=i.naturalBounds;n.isReal()||(n=v.Eg);const s=i instanceof le?i.strokeWidth:0;if(t.setSpot(0,0,n.width+s,n.height+s,e),i!==this){t.offset(-s/2,-s/2),i.F.xt(t);let e=i.panel;for(;null!==e&&e!==this;)e.F.xt(t),e=e.panel}return null!==this.ki&&this.ki.xt(t),t.offset(-this.re.x,-this.re.y),t}Qh(t,e){const i=void 0===e?this.ZA:e,n=this.$v(),s=2*n;if(!this.isShadowed)return i.i(t.x-1-n,t.y-1-n,t.width+2+s,t.height+2+s),i;let r=t.x,o=t.y,a=t.width,l=t.height;const h=this.shadowBlur,u=this.shadowOffset;return a+=h,l+=h,r-=h/2,o-=h/2,u.x>0?a+=u.x:(r+=u.x,a-=u.x),u.y>0?l+=u.y:(o+=u.y,l-=u.y),i.i(r-1,o-1,a+2,l+2),i}Rv(){return this.type===ie.Link&&this instanceof ke&&"Selection"===this.category&&this.adornedObject instanceof le&&this.adornedPart.findMainElement()===this.adornedObject?this.adornedObject.strokeWidth:0}$v(){return isNaN(this.zp)&&(this.zp=this.EA()),this.zp}mf(){this.zp=NaN}Xt(){if(!1===this.es())return void this.tT();this.no(!1);const t=this.Ai,e=v.l();e.a(t);const i=this.Fl();this.ph(0,0,this.re.width,this.re.height);const n=this.position;this.iT(n,this.location),t.At(),t.x=n.x,t.y=n.y,t.u(),this.td(e,t),e.equals(t)?this.xs(i):this.Me()&&(!w.f(e.width,t.width)||!w.f(e.height,t.height))&&this.XS>=0&&this.invalidateLayout(16),v.e(e),this.q2(!1)}td(t,e){const i=this.diagram;if(null===i)return;let n=!1;if(!1===i.na&&t.isReal()){const s=v.l();s.a(i.documentBounds),s.subtractMargin(i.padding),t.x>s.x&&t.y>s.y&&t.right<s.right&&t.bottom<s.bottom&&e.x>s.x&&e.y>s.y&&e.right<s.right&&e.bottom<s.bottom&&(n=!0),v.e(s)}(!0===this.Zv()||!t.equals(e))&&this.UL(n,i),i.C(),(t.isReal()||e.isReal())&&!t.equalsApproxClose(e)&&(this instanceof Se&&!i.undoManager.isUndoingRedoing&&this.invalidateConnectedLinks(),this.yh())}get location(){return this.Js}set location(t){const e=t.x,i=t.y,n=this.Js;(n.x!==e&&(!isNaN(n.x)||!isNaN(e))||n.y!==i&&(!isNaN(n.y)||!isNaN(i)))&&(t=t.copy(),this.Qv(t,n)&&this.t("location",n,t.copy()))}Qv(t,e){if(this.Rl())return!1;if(this.Js=t,this.k|=2097152,!1===this.es()){this.l1();const i=this.dt;if(i.isReal()){const n=this.diagram;if(null===n||n.animationManager.isTicking||!n.undoManager.isUndoingRedoing){const s=i.copy();i.i(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.eT(n,i,s.x,s.y),this.t("position",s,i.copy())}}}return!0}m2(t,e,i){if(this.Rl()||!t.isReal())return!1;const n=this.diagram;if(null!==n&&this.eT(n,t,e,i),this.dt=t,this.k&=-2097153,this.Js.isReal()&&(null===n||n.animationManager.isTicking||!n.undoManager.isUndoingRedoing)){const n=this.Js;this.Js=new y(n.x+(t.x-e),n.y+(t.y-i)),this.t("location",n,this.Js.copy())}return!1===this.lh()&&!1===this.es()&&(this.l1(),this.tT()),!0}eT(t,e,i,n){if(null===t||this instanceof ke)return;const s=t.animationManager;s.xi&&s.lL(this,new y(i,n),e,!1)}Nc(t,e,i){const n=this.Js,s=this.dt;if(i){if(n.x===t&&n.y===e)return;this.lh()||this.es()?s.i(NaN,NaN):s.i(s.x+t-n.x,s.y+e-n.y),n.i(t,e)}else{if(s.x===t&&s.y===e)return;n.i(n.x+t-s.x,n.y+e-s.y),s.i(t,e)}this.l1()}p2(){this.k&=-2097153,this.l1()}iT(t,e){const i=this.TA(y.l()),n=this.diagram,s=e.isReal(),r=t.isReal();s&&r?2097152&this.k?this.sT(t,e,n,i):this.nT(t,e,n,i):s?this.sT(t,e,n,i):r&&this.nT(t,e,n,i),this.k|=2097152,y.e(i),this.ef()}sT(t,e,i,n){const s=t.x,r=t.y;if(t.i(e.x-n.x,e.y-n.y),null!==i){const e=i.animationManager,n=e.defaultAnimation.isAnimating;!n&&e.xi&&!(this instanceof ke)&&e.lL(this,new y(s,r),t,!1),!n&&(t.x!==s||t.y!==r)&&this.t("position",new y(s,r),t.copy())}}nT(t,e,i,n){const s=e.copy();e.i(t.x+n.x,t.y+n.y),!e.equals(s)&&null!==i&&this.t("location",s,e.copy())}UL(t,e){this.c2(!1),this instanceof Se&&e.YM(this),!this.layer.isTemporary&&!t&&e.invalidateDocumentBounds();const i=this.Ai,n=e.viewportBounds;n.isReal()?this.Fl()?(i.intersectsRectPlus(n,10)||this.xs(!1),this.updateAdornments()):this.isVisible()&&i.intersectsRect(n)?(this.xs(!0),this.updateAdornments()):this.invalidateAdornments():e.zc=!0}Jr(){return!0}Me(){return!0}Rl(){return!1}js(){return!0}hasPlaceholder(){return!1}get category(){return this.Wo}set category(t){const e=this.Wo;if(e===t)return;null!==this.svg&&(this.svg.remove(),this.Ye(!0));const i=this.diagram,n=this.data;let s=null;if(null!==i&&null!==n&&!(this instanceof ke)){const t=i.model.undoManager;t.isEnabled&&!t.isUndoingRedoing&&(s=this.clone(),s.T.addAll(this.T))}if(this.Wo=t,this.t("category",e,t),null===i||null===n||this instanceof ke){if(this instanceof ke){const t=this.adornedPart;if(null!==t){const i=t.Jo;null!==i&&i.delete(e),t.addAdornment(this.category,this)}}}else{const r=i.model;if(r.undoManager.isUndoingRedoing)return;if(this.Rl()){i.partManager.setLinkCategoryForData(n,t);const s=i.partManager.findLinkTemplateForCategory(t);if(null!==s){s.Vt();const i=s.copy();null!==i&&this.W2(i,e,t)}}else{null!==r&&r.setCategoryForNodeData(n,t);const s=i.partManager.findTemplateForNodeData(n,t);if(null!==s){s.Vt();const i=s.copy();if(null!==i&&!(i instanceof Ce)){const n=this.location.copy();this.W2(i,e,t),this.location.isReal()||(this.location=n)}}}if(null!==s){const t=this.clone();t.T.addAll(this.T),this.t("self",s,t)}}}get self(){return this}set self(t){this.W2(t,this.category,t.category)}static oT=!1;W2(t,i,n){t.constructor!==this.constructor&&(Me.oT||(Me.oT=!0,e.li('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),e.li("  Old class: "+e.Vn(this.constructor)+", new class: "+e.Vn(t.constructor)+", part: "+this.toString()))),this.clearAdornments();const s=this.data,r=this.layerName,o=this.isSelected,a=this.isHighlighted;let l=!0,h=!0,u=!1;this instanceof Se&&(l=this.isTreeLeaf,h=this.isTreeExpanded,u=this.wasTreeExpanded),t.Xo(this),t.cloneProtected(this),this.Wo=n,null!==this.svg&&(this.svg.remove(),this.svg=null,this.Ye(!0)),this.c(),this.C();const c=this.diagram;let d=!0;null!==c&&(d=c.skipsUndoManager,c.skipsUndoManager=!0),this.ei=s,this.k=o?4096|this.k:-4097&this.k,this.k=a?524288|this.k:-524289&this.k,this instanceof Se&&(this.E=l?4|this.E:-5&this.E,this.E=h?1|this.E:-2&this.E,this.E=u?2|this.E:-3&this.E),null!==s&&this.updateTargetBindings();const f=this.layerName;f!==r&&(this.fl=r,this.layerName=f),null!==c&&(c.skipsUndoManager=d),this.Me()&&this.invalidateLayout(64)}canCopy(){if(!this.copyable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowCopy)return!1;const e=t.diagram;return null===e||!!e.allowCopy}canDelete(){if(!this.deletable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowDelete)return!1;const e=t.diagram;return null===e||!!e.allowDelete}canEdit(){if(!this.textEditable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowTextEdit)return!1;const e=t.diagram;return null===e||!!e.allowTextEdit}canGroup(){if(!this.groupable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowGroup)return!1;const e=t.diagram;return null===e||!!e.allowGroup}canMove(){if(!this.movable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowMove)return!1;const e=t.diagram;return null===e||!!e.allowMove}canReshape(){if(!this.reshapable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowReshape)return!1;const e=t.diagram;return null===e||!!e.allowReshape}canResize(){if(!this.resizable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowResize)return!1;const e=t.diagram;return null===e||!!e.allowResize}canRotate(){if(!this.rotatable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowRotate)return!1;const e=t.diagram;return null===e||!!e.allowRotate}canSelect(){if(!this.selectable)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowSelect)return!1;const e=t.diagram;return null===e||!!e.allowSelect}get copyable(){return 0!==(1&this.k)}set copyable(t){const e=0!==(1&this.k);e!==t&&(this.k=1^this.k,this.t("copyable",e,t))}get deletable(){return 0!==(2&this.k)}set deletable(t){const e=0!==(2&this.k);e!==t&&(this.k=2^this.k,this.t("deletable",e,t))}get textEditable(){return 0!==(4&this.k)}set textEditable(t){const e=0!==(4&this.k);e!==t&&(this.k=4^this.k,this.t("textEditable",e,t),this.invalidateAdornments())}get groupable(){return 0!==(8&this.k)}set groupable(t){const e=0!==(8&this.k);e!==t&&(this.k=8^this.k,this.t("groupable",e,t))}get movable(){return 0!==(16&this.k)}set movable(t){const e=0!==(16&this.k);e!==t&&(this.k=16^this.k,this.t("movable",e,t))}get selectionAdorned(){return 0!==(32&this.k)}set selectionAdorned(t){const e=0!==(32&this.k);e!==t&&(this.k=32^this.k,this.t("selectionAdorned",e,t),this.invalidateAdornments())}get isInDocumentBounds(){return 0!==(64&this.k)}set isInDocumentBounds(t){const e=0!==(64&this.k);if(e!==t){this.k=64^this.k;const i=this.diagram;null!==i&&i.invalidateDocumentBounds(),this.t("isInDocumentBounds",e,t)}}get isLayoutPositioned(){return 0!==(128&this.k)}set isLayoutPositioned(t){const e=0!==(128&this.k);e!==t&&(this.k=128^this.k,this.t("isLayoutPositioned",e,t),this.invalidateLayout(t?4:8))}get selectable(){return 0!==(256&this.k)}set selectable(t){const e=0!==(256&this.k);e!==t&&(this.k=256^this.k,this.t("selectable",e,t),this.invalidateAdornments())}get reshapable(){return 0!==(512&this.k)}set reshapable(t){const e=0!==(512&this.k);e!==t&&(this.k=512^this.k,this.t("reshapable",e,t),this.invalidateAdornments())}get resizable(){return 0!==(1024&this.k)}set resizable(t){const e=0!==(1024&this.k);e!==t&&(this.k=1024^this.k,this.t("resizable",e,t),this.invalidateAdornments())}get rotatable(){return 0!==(2048&this.k)}set rotatable(t){const e=0!==(2048&this.k);e!==t&&(this.k=2048^this.k,this.t("rotatable",e,t),this.invalidateAdornments())}get isSelected(){return 0!==(4096&this.k)}set isSelected(t){const e=0!==(4096&this.k);if(e!==t){const i=this.diagram;if(t){if(!this.canSelect())return;if(null!==i){const t=i.maxSelectionCount;if(i.selection.count>=t)return}}this.k=4096^this.k;let n=!1;if(null!==i){n=i.skipsUndoManager,i.skipsUndoManager=!0;const e=i.selection;e.At(),t?e.add(this):e.delete(this),e.u()}this.t("isSelected",e,t),this.invalidateAdornments();const s=this.selectionChanged;null!==s&&s(this),null!==i&&(i.requestUpdate(),i.skipsUndoManager=n)}}get isHighlighted(){return 0!==(524288&this.k)}set isHighlighted(t){const e=0!==(524288&this.k);if(e!==t){this.k=524288^this.k;const i=this.diagram;if(null!==i){const e=i.highlighteds;e.At(),t?e.add(this):e.delete(this),e.u()}this.t("isHighlighted",e,t),this.C();const n=this.highlightedChanged;null!==n&&n(this)}}get isShadowed(){return 0!==(8192&this.k)}set isShadowed(t){const e=0!==(8192&this.k);e!==t&&(this.k=8192^this.k,this.Ye(!0),this.t("isShadowed",e,t),this.C())}QA(){return 0!==(16384&this.k)}_A(t){t?this.k|=16384:this.k&=-16385}lh(){return 0!==(32768&this.k)}q2(t){t?this.k|=32768:this.k&=-32769}Zv(){return 0!==(65536&this.k)}c2(t){t?this.k|=65536:this.k&=-65537}Fl(){return 0!==(131072&this.k)}xs(t){t?this.k|=131072:this.k&=-131073}rT(){return 0!==(1048576&this.k)}h1(t){t?this.k|=1048576:this.k&=-1048577}get isAnimated(){return 0!==(262144&this.k)}set isAnimated(t){const e=0!==(262144&this.k);e!==t&&(this.k=262144^this.k,this.t("isAnimated",e,t))}get highlightedChanged(){return null!==this.J?this.J.jp:null}set highlightedChanged(t){const i=this.highlightedChanged;i!==t&&(null!==t&&e.S(t,Me,"highlightedChanged"),this.Ji().jp=t,this.t("highlightedChanged",i,t))}get selectionObjectName(){return null!==this.J?this.J.qp:""}set selectionObjectName(t){const e=this.selectionObjectName;e!==t&&(this.Ji().qp=t,this.ul=null,this.t("selectionObjectName",e,t))}get selectionAdornmentTemplate(){return null!==this.J?this.J.Wp:null}set selectionAdornmentTemplate(t){const e=this.selectionAdornmentTemplate;e!==t&&(null!==t&&t.Vt(),this.Ji().Wp=t,this.t("selectionAdornmentTemplate",e,t))}get selectionObject(){if(null===this.ul){const t=this.selectionObjectName;if(null!==t&&""!==t){const e=this.findObject(t);this.ul=null!==e?e:this}else if(this instanceof Ce){const t=this.path;this.ul=null!==t?t:this}else this.ul=this}return this.ul}get selectionChanged(){return null!==this.J?this.J.Jp:null}set selectionChanged(t){const i=this.selectionChanged;i!==t&&(null!==t&&e.S(t,Me,"selectionChanged"),this.Ji().Jp=t,this.t("selectionChanged",i,t))}get resizeAdornmentTemplate(){return null!==this.J?this.J.$p:null}set resizeAdornmentTemplate(t){const e=this.resizeAdornmentTemplate;e!==t&&(this.Ji().$p=null!==t?t.Vt():null,this.t("resizeAdornmentTemplate",e,t))}get resizeObjectName(){return null!==this.J?this.J.Zp:""}set resizeObjectName(t){const e=this.resizeObjectName;e!==t&&(this.Ji().Zp=t,this.t("resizeObjectName",e,t))}get resizeObject(){const t=this.resizeObjectName;if(""!==t){const e=this.findObject(t);if(null!==e)return e}return this}get resizeCellSize(){return null!==this.J?this.J.Qp:_.mw}set resizeCellSize(t){const e=this.resizeCellSize;e.equals(t)||(t=t.N(),this.Ji().Qp=t,this.t("resizeCellSize",e,t))}get rotateAdornmentTemplate(){return null!==this.J?this.J._p:null}set rotateAdornmentTemplate(t){const e=this.rotateAdornmentTemplate;e!==t&&(this.Ji()._p=null!==t?t.Vt():null,this.t("rotateAdornmentTemplate",e,t))}get rotateObjectName(){return null!==this.J?this.J.ty:""}set rotateObjectName(t){const e=this.rotateObjectName;e!==t&&(this.Ji().ty=t,this.t("rotateObjectName",e,t))}get rotateObject(){const t=this.rotateObjectName;if(""!==t){const e=this.findObject(t);if(null!==e)return e}return this}get rotationSpot(){return null!==this.J?this.J.iy:x.Default}set rotationSpot(t){const e=this.rotationSpot;e.equals(t)||(t=t.N(),this.Ji().iy=t,this.t("rotationSpot",e,t))}get text(){return this.ai}set text(t){const e=this.ai;e!==t&&(this.ai=t,this.t("text",e,t))}get containingGroup(){return this.Sh}set containingGroup(t){if(this.Me()){const i=this.Sh;if(i!==t){null!==t&&(this===t||t.isMemberOf(this))&&(this===t&&e.o("Cannot make a Group a member of itself: "+this.toString()),e.o("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.invalidateLayout(2);const n=this.diagram;if(null!==i?i.J2(this):this instanceof Ie&&null!==n&&n.qr.delete(this),this.Sh=t,null!==t?t.$2(this):this instanceof Ie&&null!==n&&n.qr.add(this),this.invalidateLayout(1),null!==n&&n.K){const e=this.data,i=n.model;if(null!==e&&i.Zc()){const n=null!==t?t.data:null;i.setGroupForData(e,i.getKeyForNodeData(n))}}const s=this.containingGroupChanged;if(null!==s){let e=!0;null!==n&&(e=n.K,n.K=!0),s(this,i,t),null!==n&&(n.K=e)}if(this instanceof Ie){const t=new u;Me.ch(t,this,!0,0,!0);const e=t.iterator;for(;e.next();){const t=e.value;if(t instanceof Se){const e=t.linksConnected;for(;e.next();)e.value.Ld()}}}if(this instanceof Se){const t=this.linksConnected;for(;t.next();)t.value.Ld();const e=this.labeledLink;null!==e&&e.Ld()}this.t("containingGroup",i,t),null!==t&&t.Jv()}}else e.o("cannot set the Part.containingGroup of a Link or Adornment")}yh(){const t=this.containingGroup;null!==t&&(t.hasPlaceholder()&&t.placeholder?.c(),t.c(),t.invalidateConnectedLinks())}C(){const t=this.diagram;null!==t&&!this.es()&&!this.lh()&&this.isVisible()&&this.Ai.isReal()&&t.C(this.Qh(this.Ai))}c(){if(this.Bo())return;super.c();const t=this.diagram;null!==t&&(t.o0(this),this instanceof Se&&null!==this.labeledLink&&this.labeledLink.lf(),t.requestUpdate(!0))}lf(t){if(this.es())return;const e=this.diagram;null!==e&&(e.o0(this),this instanceof Se&&this.invalidateConnectedLinks(),e.requestUpdate()),this.no(!0)}Bm(t){if(!t){const t=this.Sh;null!==t&&t.$2(this)}}Um(t){if(!t){const t=this.Sh;null!==t&&t.J2(this)}}jc(){const t=this.data;if(null!==t){const e=this.diagram;if(null!==e){const i=e.model;null!==i&&i.removeNodeData(t)}}}get containingGroupChanged(){return null!==this.J?this.J.ey:null}set containingGroupChanged(t){const i=this.containingGroupChanged;i!==t&&(null!==t&&e.S(t,Me,"containingGroupChanged"),this.Ji().ey=t,this.t("containingGroupChanged",i,t))}findSubGraphLevel(){return this.Z2(this)}Z2(t){const e=t.containingGroup;if(null!==e)return 1+this.Z2(e);if(t instanceof Se){const e=t.labeledLink;if(null!==e)return this.Z2(e)}return 0}findTopLevelPart(){return this.Q2(this)}Q2(t){const e=t.containingGroup;if(null!==e)return this.Q2(e);if(t instanceof Se){const e=t.labeledLink;if(null!==e)return this.Q2(e)}return t}get isTopLevel(){return!(null!==this.containingGroup||this instanceof Se&&null!==this.labeledLink)}isMemberOf(t){return t instanceof Ie&&this._2(this,t)}_2(t,e){if(t===e||null===e)return!1;const i=t.containingGroup;if(null!==i&&(i===e||this._2(i,e)))return!0;if(t instanceof Se){const i=t.labeledLink;if(null!==i)return this._2(i,e)}return!1}findCommonContainingGroup(t){if(null===t)return null;if(this===t)return this.containingGroup;let e=this;for(;null!==e;){if(e instanceof Ie&&e.h1(!0),e instanceof Se){const t=e.labeledLink;null!==t&&(e=t)}e=e.containingGroup}let i=null;for(e=t;null!==e;){if(e.rT()){i=e;break}if(e instanceof Se){const t=e.labeledLink;null!==t&&(e=t)}e=e.containingGroup}for(e=this;null!==e;){if(e instanceof Ie&&e.h1(!1),e instanceof Se){const t=e.labeledLink;null!==t&&(e=t)}e=e.containingGroup}return i}get layoutConditions(){return null!==this.J?this.J.sy:127}set layoutConditions(t){const e=this.layoutConditions;e!==t&&(this.Ji().sy=t,this.t("layoutConditions",e,t))}canLayout(){if(!this.isLayoutPositioned||!this.isVisible())return!1;const t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Se&&this.isLinkLabel)}_v(t){if(!this.isLayoutPositioned||!(t&this.layoutConditions))return!1;const e=this.layer;if(null!==e&&e.isTemporary||this instanceof Se&&this.isLinkLabel)return!1;const i=this.diagram;return!(null!==i&&i.undoManager.isUndoingRedoing)}invalidateLayout(t){if(void 0===t&&(t=16777215),!this._v(t))return;const e=this.Sh;if(null!==e){const i=e.layout;null!==i?i.invalidateLayout():e.invalidateLayout(t)}else{const t=this.diagram;if(null!==t){const e=t.layout;null!==e&&e.invalidateLayout()}}}VL(){if(!this.isVisible())return!1;const t=this.layer;return!(null!==t&&t.isTemporary)}static ch(t,e,i,n,s,r){if(void 0===r&&(r=null),!t.has(e)&&(null===r||r(e))&&!(e instanceof ke))if(t.add(e),e instanceof Se){if(i&&e instanceof Ie){const o=e.memberParts;for(;o.next();){const e=o.value;Me.ch(t,e,i,n,s,r)}}if(!1!==s){const o=e.linksConnected;for(;o.next();){const e=o.value;if(t.has(e))continue;const a=e.fromNode,l=e.toNode,h=null===a||t.has(a),u=null===l||t.has(l);(s?h&&u:h||u)&&Me.ch(t,e,i,n,s,r)}}if(n>1){const o=e.findTreeChildrenNodes();for(;o.next();){const e=o.value;Me.ch(t,e,i,n-1,s,r)}}}else if(e instanceof Ce){const o=e.labelNodes;for(;o.next();){const e=o.value;Me.ch(t,e,i,n,s,r)}}}get dragComputation(){return null!==this.J?this.J.ny:null}set dragComputation(t){const i=this.dragComputation;i!==t&&(null!==t&&e.S(t,Me,"dragComputation"),this.Ji().ny=t,this.t("dragComputation",i,t))}get shadowOffset(){return null!==this.J?this.J.oy:y.cC}set shadowOffset(t){const e=this.shadowOffset;e.equals(t)||(t=t.N(),this.Ji().oy=t,this.C(),this.t("shadowOffset",e,t))}get shadowColor(){return null!==this.J?this.J.ry:"gray"}set shadowColor(t){const e=this.shadowColor;e!==t&&(this.Ji().ry=t,this.C(),this.t("shadowColor",e,t))}get shadowBlur(){return null!==this.J?this.J.kn:4}set shadowBlur(t){const e=this.shadowBlur;e!==t&&(this.Ji().kn=t,this.C(),this.t("shadowBlur",e,t))}}class we{gi;Xp;ey;Wp;qp;Jp;jp;$p;Zp;Qp;_p;ty;iy;Gp;Hp;Yp;Kp;ny;sy;oy;ry;kn;constructor(){this.gi=!1,this.Xp=null,this.ey=null,this.Wp=null,this.qp="",this.Jp=null,this.jp=null,this.$p=null,this.Zp="",this.Qp=_.mw,this._p=null,this.ty="",this.iy=x.Default,this.Gp="",this.Hp=x.TopLeft,this.Yp=y.hC,this.Kp=y.aC,this.ny=null,this.sy=127,this.oy=y.cC,this.ry="gray",this.kn=4}copy(){const t=new we;return t.Xp=this.Xp,t.ey=this.ey,t.Wp=this.Wp,t.qp=this.qp,t.Jp=this.Jp,t.jp=this.jp,t.$p=this.$p,t.Zp=this.Zp,t.Qp=this.Qp.N(),t._p=this._p,t.ty=this.ty,t.iy=this.iy.N(),t.Gp=this.Gp,t.Hp=this.Hp.N(),t.Yp=this.Yp.N(),t.Kp=this.Kp.N(),t.ny=this.ny,t.sy=this.sy,t.oy=this.oy.N(),t.ry=this.ry,t.kn=this.kn,t}}class ke extends Me{ms;Ot;ZP;QP;df;constructor(t,e){let i;void 0===t||t instanceof zt||"string"==typeof t?i=t:t&&(e=t),super(i),this.k&=-257,this.fl="Adornment",this.ms=null,this.ZP=0,this.QP=!1,this.Ot=null,this.df=null,e&&Object.assign(this,e)}toString(){const t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")}updateRelationshipsFromData(){}hd(t){const e=this.adornedObject;if(!(e instanceof le))return;const i=e.part;if(!(i instanceof Ce))return;const n=i.path;let s=n.geometry;i.hd(t),s=n.geometry;const r=this.T.r,o=r.length;for(let a=0;a<o;a++){const t=r[a];t.isPanelMain&&t instanceof le&&(t.at=s)}}hasPlaceholder(){return null!==this.Ot&&this.Ot.isVisibleObject()}get placeholder(){return this.Ot}get adornedObject(){return this.ms}set adornedObject(t){const e=this.adornedPart;let i=null;null!==t&&(i=t.part),null!==e&&(null===t||e!==i)&&e.removeAdornment(this.category),this.ms=t,null!==i&&i.addAdornment(this.category,this)}get adornedPart(){const t=this.ms;return null!==t?t.part:null}Jr(){const t=this.ms;if(null===t)return!0;const e=t.part;return null===e||!e.es()}Me(){return!1}get containingGroup(){return null}Qc(t,e,i,n,s,r,o){if(3===t&&"elements"===e){if(s instanceof je)null===this.Ot&&(this.Ot=s);else if(s instanceof ie){const t=s.findInVisualTree((t=>t instanceof je));t instanceof je&&null===this.Ot&&(this.Ot=t)}}else 4===t&&"elements"===e&&null!==this.Ot&&(n===this.Ot||n instanceof ie&&this.Ot.isContainedBy(n))&&(this.Ot=null);super.Qc(t,e,i,n,s,r,o)}updateAdornments(){}jc(){}}var Le=(t=>(t[t.None=0]="None",t[t.Evenly=1]="Evenly",t[t.Packed=2]="Packed",t))(Le||{});class Se extends Me{E;It;Cf;dl;Mh;le;si;constructor(t,e){let i;void 0===t||t instanceof zt||"string"==typeof t?i=t:t&&(e=t),super(i),this.E=13,this.It=null,this.si=new l,this.Cf=null,this.dl=null,this.le=null,this.Mh=!1,e&&Object.assign(this,e)}cloneProtected(t){super.cloneProtected(t),t.E=this.E,null!==this.It&&(this.It.gi?t.It=this.It:t.It=this.It.copy())}Xo(t){super.Xo(t),t.invalidateConnectedLinks(),t.dl=this.dl,t.le=null}static SpreadingNone=0;static SpreadingEvenly=1;static SpreadingPacked=2;gl(){return null===this.It?this.It=new Te:this.It.gi&&(this.It=this.It.copy()),this.It}gh(){super.gh(),null!==this.It&&(this.It.gi=!0)}lT(t){null!==t&&(null===this.dl&&(this.dl=new u),this.dl.add(t))}hT(t){null!==t&&null!==this.dl&&this.dl.delete(t)}aT(t,e,i){if(null===t||null===this.dl)return null;const n=this.dl.iterator;for(;n.next();){const s=n.value;if(s.ly===this&&s.a1===t&&s.tN===e&&s.iN===i||s.ly===t&&s.a1===this&&s.tN===i&&s.iN===e)return s}return null}invalidateLinkBundle(t,e,i){null==e&&(e=""),null==i&&(i="");const n=this.aT(t,e,i);null!==n&&n.Ad()}Qc(t,e,i,n,s,r,o){(3===t&&"elements"===e||4===t&&"elements"===e)&&(this.le=null),super.Qc(t,e,i,n,s,r,o)}invalidateConnectedLinks(t){const e=this.linksConnected;for(;e.next();){const i=e.value;void 0!==t&&t.has(i)||(this.$i(i.fromPort),this.$i(i.toPort),i.invalidateRoute())}}gA(t){const e=this.linksConnected;for(;e.next();){const i=e.value;i.fromPort!==t&&i.toPort!==t||(this.$i(i.fromPort),this.$i(i.toPort),i.invalidateRoute())}}$i(t){if(null===t)return;const e=t.Ju;null!==e&&e.Ad();const i=t.part,n=i.containingGroup;null!==n&&!i.isVisible()&&n.$i(n.port)}Jr(){return!0}get portSpreading(){return null!==this.It?this.It.hy:1}set portSpreading(t){const e=this.portSpreading;if(e!==t){this.gl().hy=t,this.t("portSpreading",e,t);const i=this.diagram;if(null!==i&&i.undoManager.isUndoingRedoing)return;this.invalidateConnectedLinks()}}get avoidable(){return 0!==(8&this.E)}set avoidable(t){const e=0!==(8&this.E);if(e!==t){this.E=8^this.E;const i=this.diagram;null!==i&&i.YM(this),this.t("avoidable",e,t)}}get avoidableMargin(){return null!==this.It?this.It.ay:b.pC}set avoidableMargin(t){"number"==typeof t&&(t=new b(t));const e=this.avoidableMargin;if(!e.equals(t)){t=t.N(),this.gl().ay=t;const i=this.diagram;null!==i&&i.YM(this),this.t("avoidableMargin",e,t)}}canAvoid(){return this.avoidable&&!this.isLinkLabel}getAvoidableRect(t){return t.set(this.actualBounds),t.addMargin(this.avoidableMargin),t}findVisibleNode(){let t=this;for(;null!==t&&!t.isVisible();)t=t.containingGroup;return t}isVisible(){if(!super.isVisible())return!1;let t=!0,e=1;const i=this.diagram;if(null!==i){if(i.animationManager.ex(this))return!0;t=i.isTreePathToChildren,e=i.treeCollapsePolicy}if(1===e){const t=this.findTreeParentNode();if(null!==t&&!t.isTreeExpanded)return!1}else if(2===e){const e=t?this.findLinksInto():this.findLinksOutOf();let i=!1,n=!1;for(;e.next();){const s=e.value;if(s.isTreeLink){i=!0;const e=t?s.fromNode:s.toNode;if(e&&e.isTreeExpanded){n=!0;break}}}if(i&&!n)return!1}else if(3===e){const e=t?this.findLinksInto():this.findLinksOutOf();let i=!1,n=!1;for(;e.next();){const s=e.value;if(s.isTreeLink){i=!0;const e=t?s.fromNode:s.toNode;if(e&&!e.isTreeExpanded){n=!0;break}}}if(i&&n)return!1}const n=this.labeledLink;return null===n||n.isVisible()}Vi(t){super.Vi(t);const e=this.linksConnected;for(;e.next();){const i=e.value;if(t&&null!==this.containingGroup){const t=i.getOtherNode(this);null!==t&&!t.isMemberOf(this.containingGroup)&&i.invalidateRoute()}i.Vi(t)}}get linksConnected(){return this.si.iterator}findExternalTreeLinksConnected(){const t=new u,e=new u;return this.cT(this,t,e),e.iterator}cT(t,e,i){if(null===t||e.has(t))return;e.add(t);let n=!0;const s=this.diagram;null!==s&&(n=s.isTreePathToChildren),t.linksConnected.each((s=>{s.isTreeLink?(n?s.fromNode===t:s.toNode===t)&&this.cT(n?s.toNode:s.fromNode,e,i):i.add(s)}))}findLinksConnected(t){if(void 0===t&&(t=null),null===t)return this.si.iterator;const e=new o(this.si),i=this;return e.predicate=e=>e.fromNode===i&&e.fromPortId===t||e.toNode===i&&e.toPortId===t,e}findLinksOutOf(t){void 0===t&&(t=null);const e=new o(this.si),i=this;return e.predicate=e=>e.fromNode===i&&(null===t||e.fromPortId===t),e}findLinksInto(t){void 0===t&&(t=null);const e=new o(this.si),i=this;return e.predicate=e=>e.toNode===i&&(null===t||e.toPortId===t),e}findNodesConnected(t){void 0===t&&(t=null);let e=null,i=null;const n=this.si.iterator;for(;n.next();){const s=n.value;if(s.fromNode===this){if(null===t||s.fromPortId===t){const t=s.toNode;null!==e?e.add(t):null!==i&&i!==t?(e=new u,e.add(i),e.add(t)):i=t}}else if(s.toNode===this&&(null===t||s.toPortId===t)){const t=s.fromNode;null!==e?e.add(t):null!==i&&i!==t?(e=new u,e.add(i),e.add(t)):i=t}}return null!==e?e.iterator:null!==i?new r(i):s.instance}findNodesOutOf(t){void 0===t&&(t=null);let e=null,i=null;const n=this.si.iterator;for(;n.next();){const s=n.value;if(s.fromNode===this&&(null===t||s.fromPortId===t)){const t=s.toNode;null!==e?e.add(t):null!==i&&i!==t?(e=new u,e.add(i),e.add(t)):i=t}}return null!==e?e.iterator:null!==i?new r(i):s.instance}findNodesInto(t){void 0===t&&(t=null);let e=null,i=null;const n=this.si.iterator;for(;n.next();){const s=n.value;if(s.toNode===this&&(null===t||s.toPortId===t)){const t=s.fromNode;null!==e?e.add(t):null!==i&&i!==t?(e=new u,e.add(i),e.add(t)):i=t}}return null!==e?e.iterator:null!==i?new r(i):s.instance}findLinksBetween(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);const n=new o(this.si),s=this;return n.predicate=n=>n.fromNode===s&&n.toNode===t&&(null===e||n.fromPortId===e)&&(null===i||n.toPortId===i)||n.fromNode===t&&n.toNode===s&&(null===i||n.fromPortId===i)&&(null===e||n.toPortId===e),n}findLinksTo(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);const n=new o(this.si),s=this;return n.predicate=n=>!(n.fromNode!==s||n.toNode!==t||null!==e&&n.fromPortId!==e||null!==i&&n.toPortId!==i),n}get linkConnected(){return null!==this.It?this.It.cy:null}set linkConnected(t){const i=this.linkConnected;i!==t&&(null!==t&&e.S(t,Se,"linkConnected"),this.gl().cy=t,this.t("linkConnected",i,t))}get linkDisconnected(){return null!==this.It?this.It.fy:null}set linkDisconnected(t){const i=this.linkDisconnected;i!==t&&(null!==t&&e.S(t,Se,"linkDisconnected"),this.gl().fy=t,this.t("linkDisconnected",i,t))}get linkValidation(){return null!==this.It?this.It.Dl:null}set linkValidation(t){const i=this.linkValidation;i!==t&&(null!==t&&e.S(t,Se,"linkValidation"),this.gl().Dl=t,this.t("linkValidation",i,t))}c1(t,e){this.$i(e);const i=this.si.has(t);if(i||this.si.add(t),!i||t.fromNode===t.toNode){const i=this.linkConnected;if(null!==i){let n=!0;const s=this.diagram;null!==s&&(n=s.K,s.K=!0),i(this,t,e),null!==s&&(s.K=n)}}if(!i){if(!t.isTreeLink)return;const e=t.fromNode,i=t.toNode;if(null!==e&&null!==i&&e!==i){let t=!0;const n=this.diagram;null!==n&&(t=n.isTreePathToChildren);const s=t?i:e,r=t?e:i;if(s.Mh||(s.Mh=r),r.isTreeLeaf){if(null!==n&&n.undoManager.isUndoingRedoing)return;t?e===r&&(r.isTreeLeaf=!1):i===r&&(r.isTreeLeaf=!1)}}}}f1(t,e){this.$i(e);const i=this.si.delete(t);let n=null;if(i||t.toNode===t.fromNode){const i=this.linkDisconnected;if(n=this.diagram,null!==i){let s=!0;null!==n&&(s=n.K,n.K=!0),i(this,t,e),null!==n&&(n.K=s)}}if(i){if(!t.isTreeLink)return;let e=!0;null!==n&&(e=n.isTreePathToChildren);const i=e?t.toNode:t.fromNode,s=e?t.fromNode:t.toNode;if(null!==i&&(i.Mh=!1),null!==s&&!s.isTreeLeaf)if(0===s.si.count){if(s.Mh=null,null!==n&&n.undoManager.isUndoingRedoing)return;s.isTreeLeaf=!0}else s.f0()}}f0(){if(this.Mh=!1,0===this.si.count)return;let t=!0;const e=this.diagram;if(null!==e&&e.undoManager.isUndoingRedoing)return;null!==e&&(t=e.isTreePathToChildren);const i=this.si.iterator;for(;i.next();){const e=i.value;if(e.isTreeLink)if(t){if(e.fromNode===this)return void(this.isTreeLeaf=!1)}else if(e.toNode===this)return void(this.isTreeLeaf=!1)}this.isTreeLeaf=!0}updateRelationshipsFromData(){const t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}Bm(t){if(super.Bm(t),!t){this.f0();const t=this.Cf;null!==t&&t.fT(this)}}Um(t){if(super.Um(t),!t){const t=this.Cf;null!==t&&t.uT(this)}}jc(){if(this.si.count>0){const t=this.diagram;if(null!==t){const e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,i=this.si.copy().iterator;for(;i.next();){const n=i.value;e?t.remove(n):(n.fromNode===this&&(n.fromNode=null),n.toNode===this&&(n.toNode=null))}}}this.labeledLink=null,super.jc()}get isLinkLabel(){return null!==this.Cf}get labeledLink(){return this.Cf}set labeledLink(t){const e=this.Cf;if(e!==t){const i=this.diagram,n=this.data;if(null!==e){if(e.uT(this),null!==i&&null!==n&&!i.undoManager.isUndoingRedoing){const t=e.data,s=i.model;if(null!==t&&s.Ba()){const e=s.getKeyForNodeData(n);void 0!==e&&s.removeLabelKeyForLinkData(t,e)}}this.containingGroup=null}if(this.Cf=t,null!==t){if(t.fT(this),null!==i&&null!==n&&!i.undoManager.isUndoingRedoing){const e=t.data,s=i.model;if(null!==e&&s.Ba()){const t=s.getKeyForNodeData(n);void 0!==t&&s.addLabelKeyForLinkData(e,t)}}this.containingGroup=t.containingGroup}this.lf(),this.t("labeledLink",e,t)}}findVisiblePort(t){let e=t;for(;null!==e&&(!e.actualBounds.isReal()||!e.isVisibleObject());)e=e.panel;return null===e?this.port:e}findPort(t){if(null===this.le){if(""===t&&!1===this.bn)return this;this.dT()}let e=this.le.get(t);return null!==e||""!==t&&(e=this.le.get(""),null!==e)?e:this}get port(){return this.findPort("")}get ports(){return null===this.le&&this.dT(),this.le.iteratorValues}dT(){null===this.le?this.le=new p:this.le.clear(),this.walkVisualTreeFrom(this,((t,e)=>t.kA(e))),0===this.le.count&&this.le.set("",this)}kA(t){const e=t.portId;null!==e&&null!==this.le&&this.le.set(e,t)}w2(t,i){const n=t.portId;if(null!==n){null!==this.le&&this.le.delete(n);const t=this.diagram;if(null!==t&&i){let i=null;const s=this.findLinksConnected(n);for(;s.next();){const t=s.value;null===i&&(i=e.rt()),i.push(t)}if(null!==i){for(let e=0;e<i.length;e++){const n=i[e];t.remove(n)}e.tt(i)}}}}isInTreeOf(t){if(null===t||t===this)return!1;let e=!0;const i=this.diagram;null!==i&&(e=i.isTreePathToChildren);let n=this;const s=t;let r;if(e)for(;n!==s;){r=null;const t=n.si.iterator;for(;t.next();){const e=t.value;if(e.isTreeLink&&(r=e.fromNode,r!==n&&r!==this))break}if(r===this||null===r||r===n)return!1;n=r}else for(;n!==s;){r=null;const t=n.si.iterator;for(;t.next();){const e=t.value;if(e.isTreeLink&&(r=e.toNode,r!==n&&r!==this))break}if(r===this||null===r||r===n)return!1;n=r}return!0}findTreeRoot(){let t=!0;const e=this.diagram;null!==e&&(t=e.isTreePathToChildren);let i,n=this;if(t)for(;;){i=null;const t=n.si.iterator;for(;t.next();){const e=t.value;if(e.isTreeLink&&(i=e.fromNode,i!==n&&i!==this))break}if(i===this)return this;if(null===i||i===n)return n;n=i}else for(;;){i=null;const t=n.si.iterator;for(;t.next();){const e=t.value;if(e.isTreeLink&&(i=e.toNode,i!==n&&i!==this))break}if(i===this)return this;if(null===i||i===n)return n;n=i}}findCommonTreeParent(t){if(null===t)return null;if(this===t)return this;let e=this;for(;null!==e;)e.h1(!0),e=e.findTreeParentNode();let i=null;for(e=t;null!==e;){if(e.rT()){i=e;break}e=e.findTreeParentNode()}for(e=this;null!==e;)e.h1(!1),e=e.findTreeParentNode();return i}findTreeParentLink(){let t=!0;const e=this.diagram;null!==e&&(t=e.isTreePathToChildren);const i=this.si.iterator;if(t)for(;i.next();){const t=i.value;if(t.isTreeLink&&t.fromNode!==this)return t}else for(;i.next();){const t=i.value;if(t.isTreeLink&&t.toNode!==this)return t}return null}findTreeParentNode(){const t=this.Mh;if(null===t)return null;if(t instanceof Se)return t;const e=this.diagram,i=null===e||e.isTreePathToChildren,n=this.si.iterator;for(;n.next();){const t=n.value;if(!t.isTreeLink)continue;const e=i?t.fromNode:t.toNode;if(e!==this)return this.Mh=e,e}return this.Mh=null,null}findTreeParentChain(){function t(e,i){i.add(e);const n=e.findTreeParentLink();if(null!==n){i.add(n);const s=e.findTreeParentNode();if(null===s)return;t(s,i)}}const e=new u;return t(this,e),e}findTreeLevel(){return this.tO(this)}tO(t){let e=0,i=t.findTreeParentNode();for(;null!==i&&i!==t;)i=i.findTreeParentNode(),e++;return e}findTreeChildrenLinks(){let t=!0;const e=this.diagram;null!==e&&(t=e.isTreePathToChildren);const i=new o(this.si),n=this;return i.predicate=t?t=>!(!t.isTreeLink||t.fromNode!==n):t=>!(!t.isTreeLink||t.toNode!==n),i}findTreeChildrenNodes(){let t=!0;const e=this.diagram;null!==e&&(t=e.isTreePathToChildren);let i=null,n=null;const o=this.si.iterator;if(t)for(;o.next();){const t=o.value;if(t.isTreeLink&&t.fromNode===this){const e=t.toNode;null!==i?i.add(e):null!==n&&n!==e?(i=new l,i.add(n),i.add(e)):n=e}}else for(;o.next();){const t=o.value;if(t.isTreeLink&&t.toNode===this){const e=t.fromNode;null!==i?i.add(e):null!==n&&n!==e?(i=new l,i.add(n),i.add(e)):n=e}}return null!==i?i.iterator:null!==n?new r(n):s.instance}findTreeParts(t){void 0===t&&(t=1/0),e.s(t,"number",Se,"findTreeParts:level");const i=new u;return Me.ch(i,this,!1,t,!0),i}collapseTree(t){void 0===t&&(t=1),t<1&&(t=1);const e=this.diagram;if(null===e||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const i=new u;i.add(this),this.gT(i,e.isTreePathToChildren,t,e,this,1===e.treeCollapsePolicy),e.isCollapsingExpanding=!1}gT(t,e,i,n,s,r){if(i>1){const o=e?this.findLinksOutOf():this.findLinksInto();for(;o.next();){const a=o.value;if(!a.isTreeLink)continue;const l=a.getOtherNode(this);null!==l&&l!==this&&!t.has(l)&&(t.add(l),l.gT(t,e,i-1,n,s,r))}}else this.mT(t,e,n,s,r)}mT(t,e,i,n,s){const r=n===this||this.isTreeExpanded,o=e?this.findLinksOutOf():this.findLinksInto();for(;o.next();){const a=o.value;if(!a.isTreeLink)continue;const l=a.getOtherNode(this);if(null!==l&&l!==this){const o=t.has(l);if(o||t.add(l),r){const t=e?l.findNodesInto():l.findNodesOutOf(),s=this;t.all((t=>t===s||!t.isTreeExpanded))&&i.Rc(l,n),l.yh(),l.Vi(!1)}l.isTreeExpanded&&(l.wasTreeExpanded=l.isTreeExpanded,o||l.mT(t,e,i,n,s))}}this.isTreeExpanded=!1}expandTree(t){void 0===t&&(t=2),t<2&&(t=2);const e=this.diagram;if(null===e||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const i=new u;i.add(this),this.pT(i,e.isTreePathToChildren,t,e,this,1===e.treeCollapsePolicy),e.isCollapsingExpanding=!1}pT(t,e,i,n,s,r){const o=s!==this&&this.isTreeExpanded,a=e?this.findLinksOutOf():this.findLinksInto();for(;a.next();){const l=a.value;if(!l.isTreeLink)continue;o||l.Ce||l.invalidateRoute();const h=l.getOtherNode(this);if(null!==h&&h!==this&&!t.has(h)){if(t.add(h),!o){h.Vi(!0),h.yh();const t=e?h.findNodesInto():h.findNodesOutOf(),i=this;t.all((t=>t===i||!t.isTreeExpanded))&&n.Fc(h,s)}(i>2||h.wasTreeExpanded)&&(h.wasTreeExpanded=!1,h.pT(t,e,i-1,n,s,r))}}this.isTreeExpanded=!0}get isTreeExpanded(){return 0!==(1&this.E)}set isTreeExpanded(t){const e=0!==(1&this.E);if(e!==t){this.E=1^this.E;const i=this.diagram;this.t("isTreeExpanded",e,t);const n=this.treeExpandedChanged;if(null!==n){let t=!0;null!==i&&(t=i.K,i.K=!0),n(this),null!==i&&(i.K=t)}if(null!==i&&i.undoManager.isUndoingRedoing)return void this.Vi(t);t?this.expandTree():this.collapseTree()}}get wasTreeExpanded(){return 0!==(2&this.E)}set wasTreeExpanded(t){const e=0!==(2&this.E);e!==t&&(this.E=2^this.E,this.t("wasTreeExpanded",e,t))}get treeExpandedChanged(){return null!==this.It?this.It.uy:null}set treeExpandedChanged(t){const i=this.treeExpandedChanged;i!==t&&(null!==t&&e.S(t,Se,"treeExpandedChanged"),this.gl().uy=t,this.t("treeExpandedChanged",i,t))}get isTreeLeaf(){return 0!==(4&this.E)}set isTreeLeaf(t){const e=0!==(4&this.E);e!==t&&(this.E=4^this.E,this.t("isTreeLeaf",e,t))}get isTreeRoot(){return null===this.findTreeParentLink()}}class Te{gi;cy;fy;Dl;uy;ay;hy;gy;my;ah;py;constructor(){this.gi=!1,this.cy=null,this.fy=null,this.Dl=null,this.uy=null,this.ay=b.pC,this.hy=1,this.gy=null,this.my=null,this.ah=null,this.py=null}copy(){const t=new Te;return t.cy=this.cy,t.fy=this.fy,t.Dl=this.Dl,t.uy=this.uy,t.ay=this.ay.N(),t.hy=this.hy,t.gy=this.gy,t.my=this.my,t.ah=this.ah,t.py=this.py,t}}var De=(t=>(t[t.None=0]="None",t[t.End=17]="End",t[t.Scale=18]="Scale",t[t.Stretch=19]="Stretch",t))(De||{}),Pe=(t=>(t[t.Normal=1]="Normal",t[t.Orthogonal=2]="Orthogonal",t[t.AvoidsNodes=6]="AvoidsNodes",t[t.AvoidsNodesStraight=7]="AvoidsNodesStraight",t))(Pe||{}),Ye=(t=>(t[t.None=0]="None",t[t.Bezier=9]="Bezier",t[t.JumpGap=10]="JumpGap",t[t.JumpOver=11]="JumpOver",t))(Ye||{});class Ce extends Me{Lt;fo;uo;Td;go;mo;Dd;Lf;Fd;Rd;vd;Ua;Od;$s;Pi;ml;Lr;Af;Qo;eN;sN;u1;nN;oN;Va;d1;at;_o;static za=null;static Xa=null;df;rN;lN;constructor(t){super(ie.Link),this.Lt=8,this.fo=null,this.uo="",this.Td=null,this.go=null,this.mo="",this.Dd=null,this.Lf=0,this.Fd=0,this.Rd=0,this.vd=NaN,this.Ua=1,this.Od=.5,this.$s=null,this.Pi=(new l).u(),this.ml=null,this.Lr=null,this.Af=new v,this.at=new S,this.Qo=null,this._o=null,this.eN=null,this.sN=null,this.rN=0,this.lN=0,this.u1=new y,this.nN=null,this.oN=null,this.Va=null,this.d1=NaN,this.gt=null,this.df=[],t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Lt=-113&this.Lt,t.uo=this.uo,t.Td=this.Td,t.mo=this.mo,t.Dd=this.Dd,t.Lf=this.Lf,t.Fd=this.Fd,t.Rd=this.Rd,t.vd=this.vd,t.Ua=this.Ua,t.Od=this.Od,null!==this.gt&&(t.gt=this.gt.copy())}Xo(t){super.Xo(t),this.uo=t.uo,this.mo=t.mo,t.ml=null,t.invalidateRoute(),t._o=this._o;const e=t.fromPort;null!==e&&t.fromNode.$i(e);const i=t.toPort;null!==i&&t.toNode.$i(i)}hi(t){t in Pe||t in Ye||t in De?Ce.hN(t)?this.routing=t:9===t||10===t||11===t?this.curve=t:17===t||18===t||19===t?this.adjusting=t:1===t||0===t||e.o("Unknown Link enum value for a Link property: "+t):super.hi(t)}static Normal=1;static Orthogonal=2;static AvoidsNodes=6;static AvoidsNodesStraight=7;static None=0;static Bezier=9;static JumpGap=10;static JumpOver=11;static End=17;static Scale=18;static Stretch=19;static OrientAlong=21;static OrientPlus90=22;static OrientMinus90=23;static OrientOpposite=24;static OrientUpright=25;static OrientPlus90Upright=26;static OrientMinus90Upright=27;static OrientUpright45=28;static iO=8;static eO=16;static sO=14;static Ya=8;Xe(){return null===this.gt&&(this.gt=new Re),this.gt}dv(t,i,n){const s=t.segmentIndex,r=t.segmentFraction;let o=t.alignmentFocus;const a=t.segmentOrientation,l=t.segmentOffset;let h=0,u=0,c=0,d=0;if(isNaN(s)){const i=this.at,n=e.rt();i.getPointAndAngleAlongPath(r,n);const s=y.X(n[0],n[1]);if(s.add(this.getPoint(0)),1===i.type)s.offset(-i.startX,-i.startY);else{const t=i.figures.first();s.offset(-t.startX,-t.startY)}d=n[2],0!==a&&(c=this.computeAngle(t,a,d),t.angle=c),h=s.x,u=s.y,y.e(s),e.tt(n)}else if(s<-i||s>=i){const e=y.l();this.AA(e),d=this.midAngle,0!==a&&(c=this.computeAngle(t,a,d),t.angle=c),h=e.x,u=e.y,y.e(e)}else{let e,o,l=0;if(s>=0?(e=n.r[s],o=s<i-1?n.r[s+1]:e):(l=i+s,e=n.r[l],o=l>0?n.r[l-1]:e),e.equalsApprox(o)){let t,r;s>=0?(t=s>0?n.r[s-1]:e,r=s<i-2?n.r[s+2]:o):(t=l<i-1?n.r[l+1]:e,r=l>1?n.r[l-2]:o);const a=t.distanceSquaredPoint(e),h=o.distanceSquaredPoint(r);d=a>h+10?s>=0?t.directionPoint(e):e.directionPoint(t):h>a+10?s>=0?o.directionPoint(r):r.directionPoint(o):s>=0?t.directionPoint(r):r.directionPoint(t)}else d=s>=0?e.directionPoint(o):o.directionPoint(e);0!==a&&(c=this.computeAngle(t,a,d),t.angle=c),h=e.x+(o.x-e.x)*r,u=e.y+(o.y-e.y)*r}if(o.isNone())return void(t.location=new y(h,u));o.isNoSpot()&&(o=x.Center);const f=M.l();f.Ii(),f.nt(t.scale,t.scale),f.ds(t.angle,0,0);const m=t.naturalBounds,g=v.X(0,0,m.width,m.height),p=y.l();p.setRectSpot(g,o),f.xt(p);let _=-p.x,b=-p.y;const w=m.width,k=m.height,L=y.l();L.a(l);const S=isNaN(l.x),T=isNaN(l.y);if(S||T){const t=w/2+3,e=k/2+3,i=d>=45&&d<=135,n=d>=225&&d<=315;0===a&&(i||n)?(L.x=T?t:l.y,L.y=S?e:l.x,i?s>=0||isNaN(s)&&r<.5||S&&(L.y=-e):n&&((s>=0||isNaN(s)&&r<.5)&&S&&(L.y=-e),T&&(L.x=-t))):(S&&(s>=0||isNaN(s)&&r<.5?L.x=t:L.x=-t),T&&(L.y=-e),L.rotate(d))}else L.rotate(d);h+=L.x,u+=L.y,f.Ug(g),_+=g.x,b+=g.y;const D=y.X(h+_,u+b);t.move(D),y.e(D),y.e(L),y.e(p),v.e(g),M.e(f)}Jr(){let t=this.fromNode;if(null!==t){const e=t.findVisibleNode();if(null!==e&&(t=e),t.es()||t.lh())return!1}let e=this.toNode;if(null!==e){const t=e.findVisibleNode();if(null!==t&&(e=t),e.es()||e.lh())return!1}return!0}m2(t,e,i){return!1}p2(){}Me(){return!1}computeAngle(t,e,i){return Ce.computeAngle(e,i)}static computeAngle(t,e){let i=0;switch(t){default:case 0:i=0;break;case 21:i=e;break;case 22:i=e+90;break;case 23:i=e-90;break;case 24:i=e+180;break;case 25:i=w.Yg(e),i>90&&i<270&&(i-=180);break;case 26:i=w.Yg(e+90),i>90&&i<270&&(i-=180);break;case 27:i=w.Yg(e-90),i>90&&i<270&&(i-=180);break;case 28:if(i=w.Yg(e),i>45&&i<135||i>225&&i<315)return 0;i>90&&i<270&&(i-=180);break}return w.Yg(i)}get fromNode(){return this.fo}set fromNode(t){const e=this.fo;if(e!==t){const i=this.fromPort;null!==e&&(this.go!==e&&e.f1(this,i),this.yy(),this.invalidateLayout(2)),this.fo=t,null!==t&&this.Vi(t.isVisible()),this.Qo=null,this.invalidateRoute();const n=this.diagram;null!==n&&n.K&&n.partManager.setFromNodeForLink(this,t,e);const s=this.fromPort,r=this.fromPortChanged;if(null!==r){let t=!0;null!==n&&(t=n.K,n.K=!0),r(this,i,s),null!==n&&(n.K=t)}null!==t&&(this.go!==t&&t.c1(this,s),this.wy(),this.invalidateLayout(1)),this.t("fromNode",e,t),this.Ld()}}get fromPortId(){return this.uo}set fromPortId(t){const e=this.uo;if(e!==t){const i=this.fromPort;null!==i&&this.fromNode?.$i(i),this.yy(),this.uo=t;const n=this.fromPort;null!==n&&this.fromNode?.$i(n);const s=this.diagram;if(null!==s){const e=this.data,i=s.model;null!==e&&i.Ba()&&i.setFromPortIdForLinkData(e,t)}if(i!==n){this.Qo=null,this.invalidateRoute();const t=this.fromPortChanged;if(null!==t){let e=!0;null!==s&&(e=s.K,s.K=!0),t(this,i,n),null!==s&&(s.K=e)}}this.wy(),this.t("fromPortId",e,t)}}get fromPort(){const t=this.fo;if(null===t)return null;const e=this.uo;return t.findPort(e)}get fromPortChanged(){return this.Td}set fromPortChanged(t){const i=this.Td;i!==t&&(null!==t&&e.S(t,Ce,"fromPortChanged"),this.Td=t,this.t("fromPortChanged",i,t))}get toNode(){return this.go}set toNode(t){const e=this.go;if(e!==t){const i=this.toPort;null!==e&&(this.fo!==e&&e.f1(this,i),this.yy(),this.invalidateLayout(2)),this.go=t,null!==t&&this.Vi(t.isVisible()),this.Qo=null,this.invalidateRoute();const n=this.diagram;null!==n&&n.K&&n.partManager.setToNodeForLink(this,t,e);const s=this.toPort,r=this.toPortChanged;if(null!==r){let t=!0;null!==n&&(t=n.K,n.K=!0),r(this,i,s),null!==n&&(n.K=t)}null!==t&&(this.fo!==t&&t.c1(this,s),this.wy(),this.invalidateLayout(1)),this.t("toNode",e,t),this.Ld()}}get toPortId(){return this.mo}set toPortId(t){const e=this.mo;if(e!==t){const i=this.toPort;null!==i&&this.toNode?.$i(i),this.yy(),this.mo=t;const n=this.toPort;null!==n&&this.toNode?.$i(n);const s=this.diagram;if(null!==s){const e=this.data,i=s.model;null!==e&&i.Ba()&&i.setToPortIdForLinkData(e,t)}if(i!==n){this.Qo=null,this.invalidateRoute();const t=this.toPortChanged;if(null!==t){let e=!0;null!==s&&(e=s.K,s.K=!0),t(this,i,n),null!==s&&(s.K=e)}}this.wy(),this.t("toPortId",e,t)}}get toPort(){const t=this.go;if(null===t)return null;const e=this.mo;return t.findPort(e)}get toPortChanged(){return this.Dd}set toPortChanged(t){const i=this.Dd;i!==t&&(null!==t&&e.S(t,Ce,"toPortChanged"),this.Dd=t,this.t("toPortChanged",i,t))}get fromSpot(){return null!==this.gt?this.gt.xa:x.Default}set fromSpot(t){const e=this.fromSpot;if(!e.equals(t)){if(t=t.N(),this.Xe().xa=t,this.t("fromSpot",e,t),e.isSide()||t.isSide()){const t=this.fromNode;null!==t&&t.$i(this.fromPort)}this.invalidateRoute()}}get fromEndSegmentLength(){return null!==this.gt?this.gt.ka:NaN}set fromEndSegmentLength(t){const i=this.fromEndSegmentLength;if(i!==t){if(t<0&&e._(t,">= 0",Ce,"fromEndSegmentLength"),this.Xe().ka=t,this.t("fromEndSegmentLength",i,t),this.computeSpot(!0,this.fromPort).isSide()){const t=this.fromNode;null!==t&&t.$i(this.fromPort)}this.invalidateRoute()}}get fromShortLength(){return null!==this.gt?this.gt.Sa:NaN}set fromShortLength(t){const e=this.fromShortLength;e!==t&&(this.Xe().Sa=t,this.oe(),this.t("fromShortLength",e,t))}get toSpot(){return null!==this.gt?this.gt.ba:x.Default}set toSpot(t){const e=this.toSpot;if(!e.equals(t)){if(t=t.N(),this.Xe().ba=t,this.t("toSpot",e,t),e.isSide()||t.isSide()){const t=this.toNode;null!==t&&t.$i(this.toPort)}this.invalidateRoute()}}get toEndSegmentLength(){return null!==this.gt?this.gt.Pa:NaN}set toEndSegmentLength(t){const i=this.toEndSegmentLength;if(i!==t){if(t<0&&e._(t,">= 0",Ce,"toEndSegmentLength"),this.Xe().Pa=t,this.t("toEndSegmentLength",i,t),this.computeSpot(!1,this.toPort).isSide()){const t=this.toNode;null!==t&&t.$i(this.toPort)}this.invalidateRoute()}}get toShortLength(){return null!==this.gt?this.gt.Ma:NaN}set toShortLength(t){const e=this.toShortLength;e!==t&&(this.Xe().Ma=t,this.oe(),this.t("toShortLength",e,t))}Ld(){const t=this.fromNode,e=this.toNode;let i=null;if(i=null!==t?null!==e?t.findCommonContainingGroup(e):t.containingGroup:null!==e?e.containingGroup:null,this.nO(i),this.isLabeledLink){const t=this.labelNodes;for(;t.next();){const e=t.value;e.containingGroup=i}}}nO(t){const e=this.Sh;if(e!==t){null!==e&&e.J2(this),this.Sh=t,null!==t&&t.$2(this);const i=this.containingGroupChanged;if(null!==i){let n=!0;const s=this.diagram;null!==s&&(n=s.K,s.K=!0),i(this,e,t),null!==s&&(s.K=n)}this.Ce&&(this.nN===e||this.oN===e)&&this.invalidateRoute()}}yh(){const t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&super.yh()}getOtherNode(t){const e=this.fromNode;return t===e?this.toNode:e}getOtherPort(t){const e=this.fromPort;return t===e?this.toPort:e}get isLabeledLink(){return null!==this.$s&&this.$s.count>0}get labelNodes(){return null===this.$s?s.instance:this.$s.iterator}fT(t){null===this.$s&&(this.$s=new u),this.$s.add(t),this.c()}uT(t){null!==this.$s&&(this.$s.delete(t),this.c())}Bm(t){if(super.Bm(t),this.Ka()&&this.invalidateOtherJumpOvers(this.actualBounds),!t){const t=this.fo;let e=null;null!==t&&(e=this.fromPort,t.c1(this,e));const i=this.go;let n=null;null!==i&&(n=this.toPort,(i!==t||n!==e)&&i.c1(this,n)),this.wy()}}Um(t){if(super.Um(t),this.Ka()&&this.invalidateOtherJumpOvers(this.actualBounds),!t){const t=this.fo;let e=null;null!==t&&(e=this.fromPort,t.f1(this,e));const i=this.go;let n=null;null!==i&&(n=this.toPort,(i!==t||n!==e)&&i.f1(this,n)),this.yy()}}jc(){if(this.Ce=!0,null!==this.$s){const t=this.diagram;if(null!==t){const e=this.$s.copy().iterator;for(;e.next();){const i=e.value;t.remove(i)}}}if(null!==this.data){const t=this.diagram;null!==t&&t.partManager.aN(this)}}updateRelationshipsFromData(){if(null===this.data)return;const t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}move(t,e){const i=e?this.location:this.position;let n=i.x;isNaN(n)&&(n=0);let s=i.y;isNaN(s)&&(s=0);const r=t.x-n,o=t.y-s;if(!0===e)super.move(t,!1);else{const t=y.X(i.x+r,i.y+o);super.move(t,!1),y.e(t)}this.xr(r,o);const a=this.labelNodes;for(;a.next();){const t=a.value,e=t.position;t.moveTo(e.x+r,e.y+o)}}get relinkableFrom(){return 0!==(1&this.Lt)}set relinkableFrom(t){const e=0!==(1&this.Lt);e!==t&&(this.Lt=1^this.Lt,this.t("relinkableFrom",e,t),this.invalidateAdornments())}get relinkableTo(){return 0!==(2&this.Lt)}set relinkableTo(t){const e=0!==(2&this.Lt);e!==t&&(this.Lt=2^this.Lt,this.t("relinkableTo",e,t),this.invalidateAdornments())}canRelinkFrom(){if(!this.relinkableFrom)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowRelink)return!1;const e=t.diagram;return!(null!==e&&!e.allowRelink)}canRelinkTo(){if(!this.relinkableTo)return!1;const t=this.layer;if(null===t)return!0;if(!t.allowRelink)return!1;const e=t.diagram;return!(null!==e&&!e.allowRelink)}get resegmentable(){return 0!==(4&this.Lt)}set resegmentable(t){const e=0!==(4&this.Lt);e!==t&&(this.Lt=4^this.Lt,this.t("resegmentable",e,t),this.invalidateAdornments())}get isTreeLink(){return 0!==(8&this.Lt)}set isTreeLink(t){const e=0!==(8&this.Lt);e!==t&&(this.Lt=8^this.Lt,this.t("isTreeLink",e,t),null!==this.fromNode&&this.fromNode.f0(),null!==this.toNode&&this.toNode.f0())}get path(){const t=this.findMainElement();return t instanceof le?t:null}get routeBounds(){return this.updateRoute(),this.oO(this.Af)}oO(t){let e=1/0,i=1/0;const n=this.pointsCount;if(0===n)return t.i(NaN,NaN,0,0),t;if(1===n){const n=this.getPoint(0);e=Math.min(n.x,e),i=Math.min(n.y,i),t.i(n.x,n.y,0,0)}else if(2===n){const n=this.getPoint(0),s=this.getPoint(1);e=Math.min(n.x,s.x),i=Math.min(n.y,s.y),t.i(n.x,n.y,0,0),t.unionPoint(s)}else if(9===this.computeCurve()&&n>=3&&!this.isOrthogonal){let s=this.getPoint(0);if(e=s.x,i=s.y,t.i(e,i,0,0),3===n){const n=this.getPoint(1);e=Math.min(n.x,e),i=Math.min(n.y,i);const r=this.getPoint(2);e=Math.min(r.x,e),i=Math.min(r.y,i),w.cu(s.x,s.y,n.x,n.y,n.x,n.y,r.x,r.y,.5,t)}else for(let r=3;r<n;r+=3){const o=this.getPoint(r-2);r+3>=n&&(r=n-1);const a=this.getPoint(r-1),l=this.getPoint(r);w.cu(s.x,s.y,o.x,o.y,a.x,a.y,l.x,l.y,.5,t),e=Math.min(l.x,e),i=Math.min(l.y,i),s=l}}else{const s=this.getPoint(0),r=this.getPoint(1);e=Math.min(s.x,r.x),i=Math.min(s.y,r.y),t.i(s.x,s.y,0,0),t.unionPoint(r);for(let o=2;o<n;o++){const n=this.getPoint(o);e=Math.min(n.x,e),i=Math.min(n.y,i),t.unionPoint(n)}}return this.u1.i(e-t.x,i-t.y),t}get midPoint(){return this.updateRoute(),this.computeMidPoint(new y)}AA(t){return this.updateRoute(),this.computeMidPoint(t)}computeMidPoint(t){const e=this.pointsCount;if(0===e)return t.a(y.Ak),t;if(1===e)return t.a(this.getPoint(0)),t;if(2===e){const e=this.getPoint(0),i=this.getPoint(1);return t.i((e.x+i.x)/2,(e.y+i.y)/2),t}if(this.isOrthogonal&&(this.computeCorner()>=15||9===this.computeCurve())){this.at.getPointAlongPath(.5,t),t.add(this.getPoint(0));const e=this.at.figures.first();return t.offset(-e.startX,-e.startY),t}if(9===this.computeCurve()){if(3===e){const e=this.getPoint(0),i=this.getPoint(1),n=this.getPoint(2);return w.PC(e.x,e.y,i.x,i.y,i.x,i.y,n.x,n.y,t),t}const i=(e-1)/3|0,n=3*(i/2|0);if(i%2===1){const e=this.getPoint(n),i=this.getPoint(n+1),s=this.getPoint(n+2),r=this.getPoint(n+3);return w.PC(e.x,e.y,i.x,i.y,s.x,s.y,r.x,r.y,t),t}return t.a(this.getPoint(n)),t}const i=this.flattenedLengths,n=this.flattenedTotalLength;let s=0,r=0,o=0;for(;s<n/2&&r<e&&(o=i[r],!(s+o>n/2));)s+=o,r++;const a=this.getPoint(r),l=this.getPoint(r+1);if(Math.abs(a.x-l.x)<1)a.y>l.y?t.i(a.x,a.y-(n/2-s)):t.i(a.x,a.y+(n/2-s));else if(Math.abs(a.y-l.y)<1)a.x>l.x?t.i(a.x-(n/2-s),a.y):t.i(a.x+(n/2-s),a.y);else{const e=(n/2-s)/o,i=e*(l.x-a.x),r=e*(l.y-a.y);t.i(a.x+i,a.y+r)}return t}get midAngle(){return this.updateRoute(),this.computeMidAngle()}computeMidAngle(){const t=this.pointsCount;if(t<2)return NaN;if(2===t){const t=this.getPoint(0),e=this.getPoint(1);return t.directionPoint(e)}if(this.isOrthogonal&&(this.computeCorner()>=15||9===this.computeCurve()))return this.at.getAngleAlongPath(.5);if(9===this.computeCurve()&&t>=4){const e=(t-1)/3|0;let i=3*(e/2|0);if(e%2===1){i=Math.floor(i);const t=this.getPoint(i),e=this.getPoint(i+1),n=this.getPoint(i+2),s=this.getPoint(i+3);return w.jD(t.x,t.y,e.x,e.y,n.x,n.y,s.x,s.y)}if(i>0&&i+1<t){const t=this.getPoint(i-1),e=this.getPoint(i+1);return t.directionPoint(e)}}const e=this.flattenedLengths,i=this.flattenedTotalLength;let n=0,s=0,r=0;for(;n<i/2&&s<t&&(r=e[s],!(n+r>i/2));)n+=r,s++;const o=this.getPoint(s),a=this.getPoint(s+1);if(Math.abs(o.x-a.x)<1&&Math.abs(o.y-a.y)<1){if(s>0&&s+2<t){const t=this.getPoint(s-1),e=this.getPoint(s+2);return t.directionPoint(e)}}else{if(Math.abs(o.x-a.x)<1)return o.y>a.y?270:90;if(Math.abs(o.y-a.y)<1)return o.x>a.x?180:0}return o.directionPoint(a)}get flattenedLengths(){return null!==this.Va?this.Va:(this.Ce||this.g1(),this.rO())}get flattenedTotalLength(){let t=this.d1;if(isNaN(t)){const e=this.flattenedLengths,i=e.length;t=0;for(let n=0;n<i;n++)t+=e[n];this.d1=t}return t}rO(){null===this.Va?this.Va=[]:this.Va.length=0;const t=this.Va,e=this.pointsCount;for(let i=0;i<e-1;i++){let e=0;const n=this.getPoint(i),s=this.getPoint(i+1);w.Y(n.x,s.x)?(e=s.y-n.y,e<0&&(e=-e),t.push(e)):w.Y(n.y,s.y)?(e=s.x-n.x,e<0&&(e=-e),t.push(e)):(e=Math.sqrt(n.distanceSquaredPoint(s)),t.push(e))}return t}get points(){return this.Pi}set points(t){const i=this.Pi;if(i===t)return;let n=null;if(Array.isArray(t)){const i=t;let s=i.length%2===0;if(s)for(let t=0;t<i.length;t++)if("number"!=typeof i[t]||isNaN(i[t])){s=!1;break}if(s){n=new l;for(let t=0;t<i.length/2;t++){const e=new y(i[2*t],i[2*t+1]).u();n.add(e)}}else{let t=!0;for(let n=0;n<i.length;n++){const s=i[n];if(!e.H(s)||"number"!=typeof s.x||isNaN(s.x)||"number"!=typeof s.y||isNaN(s.y)){t=!1;break}}if(t){n=new l;for(let t=0;t<i.length;t++){const e=i[t];n.add(new y(e.x,e.y).u())}}}}else if(t instanceof l){n=t.copy();const e=n.iterator;for(;e.next();)e.value.u()}else e.o("Link.points value is not an instance of List or Array: "+t);if(null===n)return;n.u(),this.Pi=n,this.oe(),this.g1();const s=this.diagram;null!==s&&(!s.Kh&&!s.undoManager.isUndoingRedoing&&s.ux.add(this),s.animationManager.xi&&s.animationManager.RS(this,n)),this.t("points",i,n)}get pointsCount(){return this.Pi.count}getPoint(t){return this.Pi.r[t]}setPoint(t,e){this.Pi.setElt(t,e)}setPointAt(t,e,i){this.Pi.setElt(t,new y(e,i))}insertPoint(t,e){this.Pi.insertAt(t,e)}insertPointAt(t,e,i){this.Pi.insertAt(t,new y(e,i))}addPoint(t){this.Pi.add(t)}addPointAt(t,e){this.Pi.add(new y(t,e))}removePoint(t){this.Pi.removeAt(t)}clearPoints(){this.Pi.clear()}xr(t,e){if(0===t&&0===e)return;if(0===this.pointsCount)return this.defaultFromPoint&&this.defaultFromPoint.offset(t,e),void(this.defaultToPoint&&this.defaultToPoint.offset(t,e));const i=this.Ce,n=new l,s=this.Pi.iterator;for(;s.next();){const i=s.value;n.add(new y(i.x+t,i.y+e).u())}n.u();const r=this.Pi;this.Pi=n;const o=this.diagram;isNaN(t)||isNaN(e)||null!==o&&o.animationManager.xi?this.c():(this.Js.i(this.Js.x+t,this.Js.y+e),this.dt.i(this.dt.x+t,this.dt.y+e),this.lf()),i?this.g1():(this.defaultFromPoint&&(this.defaultFromPoint=this.getPoint(0)),this.defaultToPoint&&(this.defaultToPoint=this.getPoint(this.pointsCount-1))),null!==o&&o.animationManager.xi&&o.animationManager.RS(this,n),this.t("points",r,n)}startRoute(){null===this.ml&&(this.ml=this.Pi,this.Pi=this.Pi.copy())}commitRoute(){if(null===this.ml)return;const t=this.ml,e=this.Pi;let i=1/0,n=1/0;const s=t.r,r=s.length;for(let c=0;c<r;c++){const t=s[c];i=Math.min(t.x,i),n=Math.min(t.y,n)}let o=1/0,a=1/0;const l=e.r,h=l.length;for(let c=0;c<h;c++){const t=l[c];o=Math.min(t.x,o),a=Math.min(t.y,a),t.u()}if(e.u(),h===r)for(let c=0;c<h;c++){const t=s[c],e=l[c];if(t.x-i!==e.x-o||t.y-n!==e.y-a){this.oe();break}}else this.oe();this.ml=null;const u=this.diagram;null!==u&&u.animationManager.xi&&u.animationManager.RS(this,e),this.g1(),this.t("points",t,e)}rollbackRoute(){null!==this.ml&&(this.Pi=this.ml,this.ml=null)}FF(){null!==this.Lr&&(this.points=this.Lr,this.Lr=null)}g1(){0!==this.Pi.count?(this.Ce=!0,this.Va=null,this.d1=NaN,this.defaultFromPoint=this.getPoint(0),this.defaultToPoint=this.getPoint(this.pointsCount-1),this.m1(!1)):this.Ce=!1}invalidateRoute(){if(this.suspendsRouting)return;const t=this.path;if(null===t)return;const e=this.diagram;if(e){if(e.ux.has(this)||e.undoManager.isUndoingRedoing)return;const t=e.animationManager;if(t.isTicking&&!t.isAnimating)return;null!==this.Lr&&!t.isTicking&&(this.Lr=null)}this.Ce=!1,this.c(),t.c()}get Ce(){return 0!==(16&this.Lt)}set Ce(t){0!==(16&this.Lt)!==t&&(this.Lt=16^this.Lt)}get suspendsRouting(){return 0!==(32&this.Lt)}set suspendsRouting(t){0!==(32&this.Lt)!==t&&(this.Lt=32^this.Lt)}get xy(){return 0!==(64&this.Lt)}set xy(t){0!==(64&this.Lt)!==t&&(this.Lt=64^this.Lt)}get cN(){return 0!==(512&this.Lt)}set cN(t){0!==(512&this.Lt)!==t&&(this.Lt=512^this.Lt)}get defaultFromPoint(){return this.eN}set defaultFromPoint(t){this.eN=null!==t?t.copy():null}get defaultToPoint(){return this.sN}set defaultToPoint(t){this.sN=null!==t?t.copy():null}updateRoute(){if(this.Ce||this.xy)return;let t=!0;try{this.xy=!0,this.startRoute(),t=this.computePoints()}catch{this.xy=!1,this.rollbackRoute()}finally{this.xy=!1,t?this.commitRoute():this.rollbackRoute()}}computePoints(){const t=this.diagram;if(null===t)return!1;let e=this.fromNode,i=null;if(null===e?(Ce.za||(Ce.za=new Se,Ce.za.desiredSize=_.hc,Ce.za.ensureBounds()),this.defaultFromPoint&&(Ce.za.location=this.defaultFromPoint,Ce.za.ensureBounds(),e=Ce.za,i=Ce.za)):i=this.fromPort,null!==i&&!e.isVisible()){const t=e.findVisibleNode();null!==t&&t!==e?(e=t,i=t.port):e=t}if(this.nN=e,null===e||!e.location.isReal()||null===i||(i=e.findVisiblePort(i),null===i))return!1;let n=this.toNode,s=null;if(null===n?(Ce.Xa||(Ce.Xa=new Se,Ce.Xa.desiredSize=_.hc,Ce.Xa.ensureBounds()),this.defaultToPoint&&(Ce.Xa.location=this.defaultToPoint,Ce.Xa.ensureBounds(),n=Ce.Xa,s=Ce.Xa)):s=this.toPort,null!==s&&!n.isVisible()){const t=n.findVisibleNode();null!==t&&t!==n?(n=t,s=t.port):n=t}if(this.oN=n,null===n||!n.location.isReal()||null===s||(s=n.findVisiblePort(s),null===s))return!1;const r=this.pointsCount,o=this.computeSpot(!0,i),a=this.computeSpot(!1,s),l=this.Id(o),h=this.Id(a),u=i===s&&null!==i,c=this.isOrthogonal;let d=9===this.curve;u&&!c?(d=!0,this.Qo=!0):this.Qo=!1;const f=0===this.computeAdjusting()||u;if(!c&&!u&&l&&h){let t=!1;if(!f&&r>=3){let l=this.getLinkPoint(e,i,o,!0,!1,n,s),h=this.getLinkPoint(n,s,a,!1,!1,e,i);t=this.adjustPoints(0,l,r-1,h),t&&(l=this.getLinkPoint(e,i,o,!0,!1,n,s),h=this.getLinkPoint(n,s,a,!1,!1,e,i),this.adjustPoints(0,l,r-1,h))}t||(this.clearPoints(),d?this.lO(e,i,o,n,s,a):this.hO(e,i,o,n,s,a))}else{const t=this.isAvoiding;f&&(c&&t||u)&&this.clearPoints();const d=u?this.computeCurviness():0,m=this.getLinkPoint(e,i,o,!0,c,n,s);let g=0,p=0,_=0;if(c||!l||u){let t=this.computeEndSegmentLength(e,i,o,!0);if(_=this.getLinkDirection(e,i,m,o,!0,c,n,s),u&&(l||o.equals(a)||!c&&o.x+a.x===1&&o.y+a.y===1)&&(_-=c?90:30,d<0&&(_-=180)),_<0?_+=360:_>=360&&(_-=360),u&&(t+=Math.abs(d)*(c?1:2)),0===_?g=t:90===_?p=t:180===_?g=-t:270===_?p=-t:(g=t*Math.cos(_*Math.PI/180),p=t*Math.sin(_*Math.PI/180)),o.isNoSpot()&&u){const t=i.getDocumentPoint(x.Center,y.l()),n=y.X(t.x+1e3*g,t.y+1e3*p);this.getLinkPointFromPoint(e,i,t,n,!0,m),y.e(t),y.e(n)}}const v=this.getLinkPoint(n,s,a,!1,c,e,i);let b=0,M=0,w=0;if(c||!h||u){let t=this.computeEndSegmentLength(n,s,a,!1);if(w=this.getLinkDirection(n,s,v,a,!1,c,e,i),u&&(h||o.equals(a)||!c&&o.x+a.x===1&&o.y+a.y===1)&&(w+=c?0:30,d<0&&(w+=180)),w<0?w+=360:w>=360&&(w-=360),u&&(t+=Math.abs(d)*(c?1:2)),0===w?b=t:90===w?M=t:180===w?b=-t:270===w?M=-t:(b=t*Math.cos(w*Math.PI/180),M=t*Math.sin(w*Math.PI/180)),a.isNoSpot()&&u){const t=s.getDocumentPoint(x.Center,y.l()),e=y.X(t.x+1e3*b,t.y+1e3*M);this.getLinkPointFromPoint(n,s,t,e,!1,v),y.e(t),y.e(e)}}let k=m;(c||!l||u)&&(k=new y(m.x+g,m.y+p));let L=v;(c||!h||u)&&(L=new y(v.x+b,v.y+M)),!f&&!c&&l&&r>3&&this.adjustPoints(0,m,r-2,L)?this.setPoint(r-1,v):!f&&!c&&h&&r>3&&this.adjustPoints(1,k,r-1,v)?this.setPoint(0,m):!f&&(c?r>=6:r>4)&&this.adjustPoints(1,k,r-2,L)?(this.setPoint(0,m),this.setPoint(r-1,v)):(this.clearPoints(),this.addPoint(m),(c||!l||u)&&this.addPoint(k),c&&this.addOrthoPoints(k,_,L,w,e,n),(c||!h||u)&&this.addPoint(L),this.addPoint(v))}return t.addInvalidRoute(this),!0}fN(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e}getLinkPointFromPoint(t,e,i,n,s,r){if(void 0===r&&(r=new y),null===t||null===e)return r.a(i),r;if(!t.isVisible()){const i=t.findVisibleNode();null!==i&&i!==t&&(t=i,e=t.port)}let o=0,a=0,l=0,h=0,u=null,c=e.panel;if(null!==c&&!c.wn()&&(c=c.panel),null===c)o=n.x,a=n.y,l=i.x,h=i.y;else{u=c.Ys;const t=1/(u.m11*u.m22-u.m12*u.m21),e=u.m22*t,s=-u.m12*t,r=-u.m21*t,d=u.m11*t,f=t*(u.m21*u.dy-u.m22*u.dx),m=t*(u.m12*u.dx-u.m11*u.dy);o=n.x*e+n.y*r+f,a=n.x*s+n.y*d+m,l=i.x*e+i.y*r+f,h=i.x*s+i.y*d+m}return e.tf(o,a,l,h,r),null!==u&&r.F(u),r}aO(t,e){const i=t.Ju;return null!==i?i.yT(e):null}p1(t){if(null===t)return null;let e=t.Ju;return null===e&&(e=new Oe(t.part,t),t.Ju=e),e.yT(this)}getLinkPoint(t,e,i,n,s,r,o,a){if(void 0===a&&(a=new y),i.isSpot()&&!this.Id(i))return e.getDocumentPoint(i,a),a;if(i.isSide()){const l=this.p1(e);if(null!==l){const h=l.Ed;if(a.a(h),s&&7===this.routing){const h=this.p1(o);if(null!==h&&l.Tf<h.Tf){const l=y.l(),h=y.l(),u=new v(e.getDocumentPoint(x.TopLeft,l),e.getDocumentPoint(x.BottomRight,h)),c=this.computeSpot(!n,o),d=this.getLinkPoint(r,o,c,!n,s,t,e,h);(i.includesSide(x.LeftSide)||i.includesSide(x.RightSide))&&d.y>=u.y&&d.y<=u.y+u.height?a.y=d.y:(i.includesSide(x.TopSide)||i.includesSide(x.BottomSide))&&d.x>=u.x&&d.x<=u.x+u.width&&(a.x=d.x),y.e(l),y.e(h)}}return a}}const l=e.getDocumentPoint(this.w1(i,n),y.l());let h=null;if(this.pointsCount>(s?6:2))h=n?this.getPoint(1):this.getPoint(this.pointsCount-2),s&&(h=this.fN(l,h.copy()));else{const t=this.computeSpot(!n,o),e=y.l();h=o.getDocumentPoint(this.w1(t,!n),e),s&&(h=this.fN(l,h)),y.e(e)}return this.getLinkPointFromPoint(t,e,l,h,n,a),y.e(l),a}getLinkDirection(t,e,i,n,s,r,o,a){let l=this.cO(t,e,i,n,s,r,o,a);if(o&&n.isNoSpot()&&o.isMemberOf(t)&&(l+=180,l>=360&&(l-=360)),this.Id(n)||null===e)return l;const h=e.getDocumentAngle();return 0===h||(45<=h&&h<135?l+=90:135<=h&&h<225?l+=180:225<=h&&h<315&&(l+=270),l>=360&&(l-=360)),l}cO(t,e,i,n,s,r,o,a){if(n.isSpot())return n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:n.x<.5?225:n.x>.5?45:0;if(n.isSide()){const t=this.p1(e);if(null===t)return n.includesSide(x.TopSide)?270:n.includesSide(x.BottomSide)?90:n.includesSide(x.LeftSide)?180:0;switch(t.we){case 1:return 270;case 2:return 180;default:case 4:return 0;case 8:return 90}}if(null===e||null===a)return 0;const l=e.getDocumentPoint(x.Center,y.l());let h=null;if(this.pointsCount>(r?6:2))h=s?this.getPoint(1):this.getPoint(this.pointsCount-2),h=r?this.fN(l,h.copy()):i;else{const t=y.l();h=a.getDocumentPoint(x.Center,t),y.e(t)}let u=0;return u=Math.abs(h.x-l.x)>Math.abs(h.y-l.y)?h.x>=l.x?0:180:h.y>=l.y?90:270,y.e(l),u}computeEndSegmentLength(t,e,i,n){if(null!==e&&i.isSide()){const t=this.p1(e);if(null!==t)return t.b1}let s=NaN;return s=n?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(s)&&(s=n?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(s)&&(s=10),s}computeSpot(t,e){return void 0===e&&(e=null),t?this.fO(e||this.fromPort):this.uO(e||this.toPort)}fO(t){if(null===t)return x.Center;let e=this.fromSpot;return e.isDefault()&&(e=t.fromSpot),e===x.Default?x.None:e}uO(t){if(null===t)return x.Center;let e=this.toSpot;return e.isDefault()&&(e=t.toSpot),e===x.Default?x.None:e}Id(t){return t===x.None||.5===t.x&&.5===t.y}w1(t,e){return.5===t.x&&.5===t.y?t:x.Center}computeOtherPoint(t,e){if(0!==this.computeAdjusting()&&this.pointsCount>4)return this.computeMidPoint(new y);{const t=this.aO(e,this);return null!==t?t.Ed:e.getDocumentPoint(x.Center)}}computeShortLength(t){if(t){let t=this.fromShortLength;if(isNaN(t)){const e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}{let t=this.toShortLength;if(isNaN(t)){const e=this.toPort;null!==e&&(t=e.toShortLength)}return isNaN(t)?0:t}}Om(t,e,i,n,s,r){if(!1===this.pickable)return!1;let o;if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===r?(o=M.l(),o.Ii()):o=r,o.ac(this.F),this.containedInRect(t,o))return this.I2(e,i,s),void 0===r&&M.e(o),!0;if(this.intersectsRect(t,o)){let a=!1;if(!this.gf){const r=this.T.r,l=r.length;for(let h=l;h--;){const l=r[h];if(!l.visible&&l!==this.locationObject)continue;const u=l.actualBounds,c=this.naturalBounds;if(u.x>c.width||u.y>c.height||u.x+u.width<0||u.y+u.height<0)continue;const d=l,f=M.l();if(f.set(o),d instanceof ie?a=d.Om(t,e,i,n,s,f):this.path===d?d instanceof le&&(a=d.Iv(t,n,f)):a=d.uA(t,n,f),a){let t=d;null!==e&&(t=e(d)),t&&(null===i||i(t))&&s.add(t)}M.e(f)}}return void 0===r&&M.e(o),a||null!==this.background}return void 0===r&&M.e(o),!1}get isOrthogonal(){return 2===(2&this.Ua)}static hN(t){return 2===(2&t)}get isAvoiding(){return 4===(4&this.Ua)}computeCurve(){if(null===this.Qo){const t=this.fromPort,e=null!==t&&t===this.toPort,i=this.isOrthogonal;this.Qo=e&&!i}return this.Qo?9:this.curve}computeCorner(){if(9===this.curve)return 0;let t=this.corner;return(isNaN(t)||t<0)&&(t=10),t}findMidLabel(){const t=this.path,e=this.T.r,i=e.length;for(let s=0;s<i;s++){const i=e[s];if(i!==t&&!i.isPanelMain&&(i.segmentIndex===-1/0||isNaN(i.segmentIndex)))return i}const n=this.labelNodes;for(;n.next();){const t=n.value;if(t.segmentIndex===-1/0||isNaN(t.segmentIndex))return t}return null}computeSpacing(){if(!this.isVisible())return 0;let t=Ce.sO;t=Math.max(t,this.computeThickness());const e=this.fromPort,i=this.toPort;if(null!==e&&null!==i){const n=this.findMidLabel();if(null!==n){const s=n.naturalBounds,r=n.margin,o=isNaN(s.width)?30:s.width*n.scale+r.left+r.right,a=isNaN(s.height)?14:s.height*n.scale+r.top+r.bottom,l=n.segmentOrientation;if(21===l||25===l||24===l)t=Math.max(t,a);else if(23===l||27===l||22===l||26===l)t=Math.max(t,o);else{const n=e.getDocumentPoint(x.Center).directionPoint(i.getDocumentPoint(x.Center))/180*Math.PI;t=Math.max(t,Math.abs(Math.sin(n)*o)+Math.abs(Math.cos(n)*a)+1)}9===this.curve&&(t*=1.333)}}return t}arrangeBundledLinks(t,e){if(e)for(let i=0;i<t.length;i++){const e=t[i];0===e.computeAdjusting()&&e.invalidateRoute()}}computeCurviness(){let t=this.curviness;if(isNaN(t)){t=Ce.eO;const i=this._o;if(null!==i){const n=e.rt();let s=0;const r=i.Zs;for(let t=0;t<r.length;t++){const e=r[t].computeSpacing();n.push(e),s+=e}let o=-s/2;for(let e=0;e<r.length;e++){if(r[e]===this){t=o+n[e]/2;break}o+=n[e]}i.ly===this.fromNode&&(t=-t),e.tt(n)}}return t}computeThickness(){if(!this.isVisible())return 0;const t=this.path;return null!==t?Math.max(t.strokeWidth,1):1}hasCurviness(){return!isNaN(this.curviness)||null!==this._o}hO(t,e,i,n,s,r){const o=this.getLinkPoint(t,e,i,!0,!1,n,s),a=this.getLinkPoint(n,s,r,!1,!1,t,e);if(this.hasCurviness()){const t=a.x-o.x,e=a.y-o.y,i=this.computeCurviness(),n=i,s=o.x+t/2,r=o.y+e/2;let l=s,h=r;if(w.f(e,0))t>0?h-=n:h+=n;else{const o=-t/e;let a=Math.sqrt(n*n/(o*o+1));i<0&&(a=-a),l=(e<0?-1:1)*a+s,h=o*(l-s)+r}this.addPoint(o),this.addPointAt(l,h),this.addPoint(a)}else{this.addPoint(o),this.addPoint(a);const l=v.l();e.getDocumentBounds(l);const h=l.containsPoint(a);s.getDocumentBounds(l);const u=l.containsPoint(o);if(h||u){const l=e.getDocumentPoint(this.w1(i,!0),new y);this.setPoint(0,this.getLinkPointFromPoint(t,e,l,a,!0,l));const h=s.getDocumentPoint(this.w1(r,!1),new y);this.setPoint(1,this.getLinkPointFromPoint(n,s,h,o,!1,h))}v.e(l)}}lO(t,e,i,n,s,r){const o=this.getLinkPoint(t,e,i,!0,!1,n,s),a=this.getLinkPoint(n,s,r,!1,!1,t,e),l=a.x-o.x,h=a.y-o.y,u=this.computeCurviness();let c=0,d=0,f=o.x+l/3,m=o.y+h/3,g=f,p=m;w.f(h,0)?l>0?p-=u:p+=u:(c=-l/h,d=Math.sqrt(u*u/(c*c+1)),u<0&&(d=-d),g=(h<0?-1:1)*d+f,p=c*(g-f)+m),f=o.x+2*l/3,m=o.y+2*h/3;let y=f,_=m;w.f(h,0)?l>0?_-=u:_+=u:(y=(h<0?-1:1)*d+f,_=c*(y-f)+m),this.clearPoints(),this.addPoint(o),this.addPointAt(g,p),this.addPointAt(y,_),this.addPoint(a),this.setPoint(0,this.getLinkPoint(t,e,i,!0,!1,n,s)),this.setPoint(3,this.getLinkPoint(n,s,r,!1,!1,t,e))}adjustPoints(t,e,i,n){let s=this.computeAdjusting();if(this.isOrthogonal){if(18===s)return!1;19===s&&(s=17)}switch(s){case 18:return this.dO(t,e,i,n);case 19:return this.gO(t,e,i,n);case 17:return this.mO(t,e,i,n);default:return!1}}dO(t,e,i,n){const s=this.getPoint(t),r=this.getPoint(i);if(s.equalsApprox(e)&&r.equalsApprox(n))return!0;const o=s.x,a=s.y,l=r.x,h=r.y;let u=l-o,c=h-a;const d=Math.sqrt(u*u+c*c);if(w.Y(d,0))return!0;let f=0;w.Y(u,0)?f=c<0?-Math.PI/2:Math.PI/2:(f=Math.atan(c/Math.abs(u)),u<0&&(f=Math.PI-f));const m=e.x,g=e.y,p=n.x,y=n.y,_=p-m,v=y-g,b=Math.sqrt(_*_+v*v);let x=0;w.Y(_,0)?x=v<0?-Math.PI/2:Math.PI/2:(x=Math.atan(v/Math.abs(_)),_<0&&(x=Math.PI-x));const M=b/d,k=x-f;this.setPoint(t,e);for(let L=t+1;L<i;L++){const t=this.getPoint(L);u=t.x-o,c=t.y-a;const e=Math.sqrt(u*u+c*c);if(w.Y(e,0))continue;let i=0;w.Y(u,0)?i=c<0?-Math.PI/2:Math.PI/2:(i=Math.atan(c/Math.abs(u)),u<0&&(i=Math.PI-i));const n=i+k,s=e*M,r=m+s*Math.cos(n),l=g+s*Math.sin(n);this.setPointAt(L,r,l)}return this.setPoint(i,n),!0}gO(t,e,i,n){const s=this.getPoint(t),r=this.getPoint(i);if(s.equalsApprox(e)&&r.equalsApprox(n))return!0;const o=s.x,a=s.y,l=r.x,h=r.y,u=(l-o)**2+(h-a)**2,c=e.x,d=e.y,f=n.x,m=n.y;let g=0,p=1;f-c!==0?(g=(m-d)/(f-c),p=Math.sqrt(1+1/(g*g))):g=9e9,this.setPoint(t,e);for(let y=t+1;y<i;y++){const t=this.getPoint(y),e=t.x,i=t.y;let n=.5;0!==u&&(n=((o-e)*(o-l)+(a-i)*(a-h))/u);const s=o+n*(l-o),r=a+n*(h-a);let _=Math.sqrt((e-s)**2+(i-r)**2);i<g*(e-s)+r&&(_=-_),g>0&&(_=-_);const v=c+n*(f-c),b=d+n*(m-d);if(0!==g){const t=v+_/p,e=b-(t-v)/g;this.setPointAt(y,t,e)}else this.setPointAt(y,v,b+_)}return this.setPoint(i,n),!0}mO(t,e,i,n){if(this.isOrthogonal){let s=this.getPoint(t),r=this.getPoint(t+1),o=this.getPoint(t+2),a=r.x,l=r.y;const h=a,u=l;w.f(s.y,r.y)?w.f(r.x,o.x)?l=e.y:w.f(r.y,o.y)&&(a=e.x):w.f(s.x,r.x)&&(w.f(r.y,o.y)?a=e.x:w.f(r.x,o.x)&&(l=e.y)),this.setPointAt(t+1,a,l),s=this.getPoint(i),r=this.getPoint(i-1),o=this.getPoint(i-2);let c=r.x,d=r.y;const f=c,m=d;if(w.f(s.y,r.y)?w.f(r.x,o.x)?d=n.y:w.f(r.y,o.y)&&(c=n.x):w.f(s.x,r.x)&&(w.f(r.y,o.y)?c=n.x:w.f(r.x,o.x)&&(d=n.y)),this.setPointAt(i-1,c,d),this.YL())return this.setPointAt(t+1,h,u),this.setPointAt(i-1,f,m),!1}return this.setPoint(t,e),this.setPoint(i,n),!0}addOrthoPoints(t,e,i,n,s,r){e<0?e+=360:e>=360&&(e-=360),n<0?n+=360:n>=360&&(n-=360);const o=n;e=e>=315||e<45?0:45<=e&&e<135?90:135<=e&&e<225?180:270,n=n>=315||n<45?0:45<=n&&n<135?90:135<=n&&n<225?180:270;const a=t,l=i,h=s.actualBounds.copy(),u=r.actualBounds.copy();if(!h.isReal()||!u.isReal())return;h.inflate(Ce.Ya,Ce.Ya),u.inflate(Ce.Ya,Ce.Ya),h.unionPoint(t),u.unionPoint(i);const c=y.l(),d=y.l();0===e?l.x>a.x||270===n&&l.y<a.y&&u.right>a.x||90===n&&l.y>a.y&&u.right>a.x?(c.i(l.x,a.y),d.i(l.x,(a.y+l.y)/2),180===n?(c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1),d.x=c.x,d.y=l.y):270===n&&l.y<a.y||90===n&&l.y>a.y?(a.x<u.left?c.x=this.computeMidOrthoPosition(a.x,a.y,u.left,l.y,!1):a.x<u.right&&(270===n&&a.y<u.top||90===n&&a.y>u.bottom)?c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1):c.x=u.right,d.x=c.x,d.y=l.y):0===n&&a.x<u.left&&a.y>u.top&&a.y<u.bottom&&(c.x=a.x,a.y<l.y?c.y=Math.min(l.y,u.top):c.y=Math.max(l.y,u.bottom),d.y=c.y)):(c.i(a.x,l.y),d.i((a.x+l.x)/2,l.y),(180===n||90===n&&l.y<h.top||270===n&&l.y>h.bottom)&&(180===n&&(u.containsPoint(a)||h.containsPoint(l))?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0):l.y<a.y&&(180===n||90===n)?c.y=this.computeMidOrthoPosition(a.x,h.top,l.x,Math.max(l.y,u.bottom),!0):l.y>a.y&&(180===n||270===n)&&(c.y=this.computeMidOrthoPosition(a.x,h.bottom,l.x,Math.min(l.y,u.top),!0)),d.x=l.x,d.y=c.y),c.y>h.top&&c.y<h.bottom&&(l.x>=h.left&&l.x<=a.x||a.x<=u.right&&a.x>=l.x?(90===n||270===n)&&(c.i(Math.max((a.x+l.x)/2,a.x),a.y),d.i(c.x,l.y)):(270===n||(0===n||180===n)&&l.y<a.y?c.y=Math.min(l.y,0===n?h.top:Math.min(h.top,u.top)):c.y=Math.max(l.y,0===n?h.bottom:Math.max(h.bottom,u.bottom)),d.x=l.x,d.y=c.y))):180===e?l.x<a.x||270===n&&l.y<a.y&&u.left<a.x||90===n&&l.y>a.y&&u.left<a.x?(c.i(l.x,a.y),d.i(l.x,(a.y+l.y)/2),0===n?(c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1),d.x=c.x,d.y=l.y):270===n&&l.y<a.y||90===n&&l.y>a.y?(a.x>u.right?c.x=this.computeMidOrthoPosition(a.x,a.y,u.right,l.y,!1):a.x>u.left&&(270===n&&a.y<u.top||90===n&&a.y>u.bottom)?c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1):c.x=u.left,d.x=c.x,d.y=l.y):180===n&&a.x>u.right&&a.y>u.top&&a.y<u.bottom&&(c.x=a.x,a.y<l.y?c.y=Math.min(l.y,u.top):c.y=Math.max(l.y,u.bottom),d.y=c.y)):(c.i(a.x,l.y),d.i((a.x+l.x)/2,l.y),(0===n||90===n&&l.y<h.top||270===n&&l.y>h.bottom)&&(0===n&&(u.containsPoint(a)||h.containsPoint(l))?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0):l.y<a.y&&(0===n||90===n)?c.y=this.computeMidOrthoPosition(a.x,h.top,l.x,Math.max(l.y,u.bottom),!0):l.y>a.y&&(0===n||270===n)&&(c.y=this.computeMidOrthoPosition(a.x,h.bottom,l.x,Math.min(l.y,u.top),!0)),d.x=l.x,d.y=c.y),c.y>h.top&&c.y<h.bottom&&(l.x<=h.right&&l.x>=a.x||a.x>=u.left&&a.x<=l.x?(90===n||270===n)&&(c.i(Math.min((a.x+l.x)/2,a.x),a.y),d.i(c.x,l.y)):(270===n||(0===n||180===n)&&l.y<a.y?c.y=Math.min(l.y,180===n?h.top:Math.min(h.top,u.top)):c.y=Math.max(l.y,180===n?h.bottom:Math.max(h.bottom,u.bottom)),d.x=l.x,d.y=c.y))):90===e?l.y>a.y||180===n&&l.x<a.x&&u.bottom>a.y||0===n&&l.x>a.x&&u.bottom>a.y?(c.i(a.x,l.y),d.i((a.x+l.x)/2,l.y),270===n?(c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0),d.x=l.x,d.y=c.y):180===n&&l.x<a.x||0===n&&l.x>a.x?(a.y<u.top?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,u.top,!0):a.y<u.bottom&&(180===n&&a.x<u.left||0===n&&a.x>u.right)?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0):c.y=u.bottom,d.x=l.x,d.y=c.y):90===n&&a.y<u.top&&a.x>u.left&&a.x<u.right&&(a.x<l.x?c.x=Math.min(l.x,u.left):c.x=Math.max(l.x,u.right),c.y=a.y,d.x=c.x)):(c.i(l.x,a.y),d.i(l.x,(a.y+l.y)/2),(270===n||0===n&&l.x<h.left||180===n&&l.x>h.right)&&(270===n&&(u.containsPoint(a)||h.containsPoint(l))?c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1):l.x<a.x&&(270===n||0===n)?c.x=this.computeMidOrthoPosition(h.left,a.y,Math.max(l.x,u.right),l.y,!1):l.x>a.x&&(270===n||180===n)&&(c.x=this.computeMidOrthoPosition(h.right,a.y,Math.min(l.x,u.left),l.y,!1)),d.x=c.x,d.y=l.y),c.x>h.left&&c.x<h.right&&(l.y>=h.top&&l.y<=a.y||a.y<=u.bottom&&a.y>=l.y?(0===n||180===n)&&(c.i(a.x,Math.max((a.y+l.y)/2,a.y)),d.i(l.x,c.y)):(180===n||(90===n||270===n)&&l.x<a.x?c.x=Math.min(l.x,90===n?h.left:Math.min(h.left,u.left)):c.x=Math.max(l.x,90===n?h.right:Math.max(h.right,u.right)),d.x=c.x,d.y=l.y))):l.y<a.y||180===n&&l.x<a.x&&u.top<a.y||0===n&&l.x>a.x&&u.top<a.y?(c.i(a.x,l.y),d.i((a.x+l.x)/2,l.y),90===n?(c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0),d.x=l.x,d.y=c.y):180===n&&l.x<a.x||0===n&&l.x>=a.x?(a.y>u.bottom?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,u.bottom,!0):a.y>u.top&&(180===n&&a.x<u.left||0===n&&a.x>u.right)?c.y=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!0):c.y=u.top,d.x=l.x,d.y=c.y):270===n&&a.y>u.bottom&&a.x>u.left&&a.x<u.right&&(a.x<l.x?c.x=Math.min(l.x,u.left):c.x=Math.max(l.x,u.right),c.y=a.y,d.x=c.x)):(c.i(l.x,a.y),d.i(l.x,(a.y+l.y)/2),(90===n||0===n&&l.x<h.left||180===n&&l.x>h.right)&&(90===n&&(u.containsPoint(a)||h.containsPoint(l))?c.x=this.computeMidOrthoPosition(a.x,a.y,l.x,l.y,!1):l.x<a.x&&(90===n||0===n)?c.x=this.computeMidOrthoPosition(h.left,a.y,Math.max(l.x,u.right),l.y,!1):l.x>a.x&&(90===n||180===n)&&(c.x=this.computeMidOrthoPosition(h.right,a.y,Math.min(l.x,u.left),l.y,!1)),d.x=c.x,d.y=l.y),c.x>h.left&&c.x<h.right&&(l.y<=h.bottom&&l.y>=a.y||a.y>=u.top&&a.y<=l.y?(0===n||180===n)&&(c.i(a.x,Math.min((a.y+l.y)/2,a.y)),d.i(l.x,c.y)):(180===n||(90===n||270===n)&&l.x<a.x?c.x=Math.min(l.x,270===n?h.left:Math.min(h.left,u.left)):c.x=Math.max(l.x,270===n?h.right:Math.max(h.right,u.right)),d.x=c.x,d.y=l.y))),this.cN=n!==o,this.rN=e,this.lN=n,this.addPoint(c.copy()),this.addPoint(d.copy()),y.e(c),y.e(d)}computeMidOrthoPosition(t,e,i,n,s){let r=0;return this.hasCurviness()&&!this.computeSpot(!0,this.fromPort).isSide()&&!this.computeSpot(!1,this.toPort).isSide()&&(r=this.computeCurviness()),s?(e+n)/2+r:(t+i)/2+r}YL(){if(null===this.diagram||!this.isAvoiding||this.diagram.animationManager.isTicking)return!1;const t=this.points.r,e=t.length;if(e<4)return!1;const i=this.diagram.getPositions(!1,this.containingGroup,null);for(let n=1;n<e-2;n++){const e=t[n],s=t[n+1];if(!i.isUnoccupied(Math.min(e.x,s.x),Math.min(e.y,s.y),Math.abs(e.x-s.x),Math.abs(e.y-s.y)))return!0}return!1}findClosestSegment(t){const e=t.x,i=t.y;let n=this.getPoint(0),s=this.getPoint(1),r=y.distanceLineSegmentSquared(e,i,n.x,n.y,s.x,s.y),o=0;for(let a=1;a<this.pointsCount-1;a++){n=this.getPoint(a+1);const t=y.distanceLineSegmentSquared(e,i,s.x,s.y,n.x,n.y);s=n,t<r&&(o=a,r=t)}return o}oe(){this.Nh=!1,this.c()}get Nh(){return 0!==(128&this.Lt)}set Nh(t){0!==(128&this.Lt)!==t&&(this.Lt=128^this.Lt)}get geometry(){if(!this.Nh){if(this.updateRoute(),this.pointsCount<2)return this.Nh=!0,this.at;this.at=this.makeGeometry()}return this.at}hd(t){if(!t){if(!1===this.Ce)return;const t=this.findMainElement();if(this.Nh&&(null===t||null!==t.geometry))return}this.pointsCount<2?this.Nh=!0:this.at=this.makeGeometry();const e=this.path;if(null===e)return;e.at=this.at;const i=this.T.r,n=i.length;for(let s=0;s<n;s++){const t=i[s];t!==e&&t.isPanelMain&&t instanceof le&&(t.at=this.at)}}pO(t){return this.Ka()&&t.eh.has(this)&&(0!==this.Af.width||0!==this.Af.height)&&(t.animationManager.isAnimating||t.currentTool!==t.toolManager)}makeGeometry(){const t=this.at,e=this.pointsCount;let i=!1;const n=this.diagram;null!==n&&this.pO(n)&&(i=!0);let s=0,r=0,o=this.getPoint(0).copy();const a=o.copy(),l=this.Pi.r,h=this.computeCurve();if(9===h&&e>=3&&!w.Y(this.smoothness,0))if(3===e){let t=this.getPoint(1);s=Math.min(o.x,t.x),r=Math.min(o.y,t.y),t=this.getPoint(2),s=Math.min(s,t.x),r=Math.min(r,t.y)}else if(this.isOrthogonal){for(let t=0;t<e;t++){const e=l[t];a.x=Math.min(e.x,a.x),a.y=Math.min(e.y,a.y)}s=a.x,r=a.y}else{for(let t=3;t<e;t+=3){t+3>=e&&(t=e-1);const i=this.getPoint(t);a.x=Math.min(i.x,a.x),a.y=Math.min(i.y,a.y)}s=a.x,r=a.y}else{for(let t=0;t<e;t++){const e=l[t];a.x=Math.min(e.x,a.x),a.y=Math.min(e.y,a.y)}s=a.x,r=a.y}if(s-=this.u1.x,r-=this.u1.y,o.x-=s,o.y-=r,2!==e||this.Ka()){t.type=4;const n=be.CC(t);if(0!==this.computeShortLength(!0)&&(o=this.Df(o,!0,a)),n.du(o.x,o.y,!1,!1),9===h&&e>=3&&!w.Y(this.smoothness,0))if(3===e){const t=this.getPoint(1),e=t.x-s,i=t.y-r;let o=this.getPoint(2).copy();o.x-=s,o.y-=r,0!==this.computeShortLength(!1)&&(o=this.Df(o,!1,a)),n.pr(e,i,e,i,o.x,o.y)}else if(this.isOrthogonal){const t=y.X(s,r),e=y.l();e.a(this.getPoint(1));const i=y.X(s,r),o=y.X(s,r);let a=this.getPoint(0),l=null;const h=this.smoothness/3;for(let f=1;f<this.pointsCount-1;f++){l=this.getPoint(f);const u=a,c=l,d=this.getPoint(this.uN(l,f,!1));w.Y(u.x,c.x)&&w.Y(c.x,d.x)||w.Y(u.y,c.y)&&w.Y(c.y,d.y)||(this.yO(u,c,d,h,i,o),(1===f||2===f&&w.Y(a.x,this.getPoint(0).x)&&w.Y(a.y,this.getPoint(0).y))&&(e.x=.5*(a.x+l.x),e.y=.5*(a.y+l.y)),n.pr(e.x-s,e.y-r,i.x-s,i.y-r,l.x-s,l.y-r),t.set(i),e.set(o),a=l)}let u=a.x,c=a.y,d=this.getPoint(this.pointsCount-1);0!==this.computeShortLength(!1)&&(d=this.Df(d.copy(),!1,y.Lo)),u=.5*(u+d.x),c=.5*(c+d.y),n.pr(o.x-s,o.y-r,u-s,c-r,d.x-s,d.y-r),y.e(t),y.e(e),y.e(i),y.e(o)}else for(let t=3;t<e;t+=3){const i=this.getPoint(t-2);t+3>=e&&(t=e-1);const o=this.getPoint(t-1);let a=this.getPoint(t);t===e-1&&0!==this.computeShortLength(!1)&&(a=this.Df(a.copy(),!1,y.Lo)),n.pr(i.x-s,i.y-r,o.x-s,o.y-r,a.x-s,a.y-r)}else{const t=y.l();t.a(this.getPoint(0));const o=y.l();o.a(t);const a=this.computeCorner();let l=1,h=0;for(;l<e;){l=this.uN(t,l,l>1);let u=this.getPoint(l);if(l>=e-1){if(t.equals(u)){if(0===h)for(l=1;l<e;)o.a(t),u=this.getPoint(l++),this.An(n,-s,-r,t,u,i),t.a(u)}else 0!==this.computeShortLength(!1)&&(u=this.Df(u.copy(),!1,y.Lo)),this.An(n,-s,-r,t,u,i);break}h=this.uN(u,l+1,l<e-3);const c=this.getPoint(h);this.wO(n,-s,-r,t,u,c,t,o,a,i),o.a(u),l=h}y.e(t)}return be.LC(n),this.Nh=!0,t}{let e=this.getPoint(1).copy();return e.x-=s,e.y-=r,0!==this.computeShortLength(!0)&&(o=this.Df(o,!0,a)),0!==this.computeShortLength(!1)&&(e=this.Df(e,!1,a)),t.type=1,t.startX=o.x,t.startY=o.y,t.endX=e.x,t.endY=e.y,this.Nh=!0,t}}k1(t,e,i,n){let s=i-t;if(isNaN(s)||s===1/0||s===-1/0)return NaN;s<0&&(s=-s);let r=n-e;return isNaN(r)||r===1/0||r===-1/0?NaN:(r<0&&(r=-r),w.Y(s,0)?r:w.Y(r,0)?s:Math.sqrt(s*s+r*r))}yO(t,e,i,n,s,r){isNaN(n)&&(n=this.smoothness/3);const o=t.x,a=t.y,l=e.x,h=e.y,u=i.x,c=i.y,d=n*this.k1(o,a,l,h),f=n*this.k1(l,h,u,c);if(w.Y(a,h)&&w.Y(l,u)&&(l>o?c>h?(s.x=l-d,s.y=h-d,r.x=l+f,r.y=h+f):(s.x=l-d,s.y=h+d,r.x=l+f,r.y=h-f):c>h?(s.x=l+d,s.y=h-d,r.x=l-f,r.y=h+f):(s.x=l+d,s.y=h+d,r.x=l-f,r.y=h-f)),w.Y(o,l)&&w.Y(h,c)&&(h>a?u>l?(s.x=l-d,s.y=h-d,r.x=l+f,r.y=h+f):(s.x=l+d,s.y=h-d,r.x=l-f,r.y=h+f):u>l?(s.x=l-d,s.y=h+d,r.x=l+f,r.y=h-f):(s.x=l+d,s.y=h+d,r.x=l-f,r.y=h-f)),w.Y(o,l)&&w.Y(l,u)||w.Y(a,h)&&w.Y(h,c)){const t=.5*(o+u),e=.5*(a+c);s.x=t,s.y=e,r.x=t,r.y=e}}Df(t,e,i){const n=this.pointsCount;if(n<2)return t;if(e){const e=this.getPoint(1),s=e.x-i.x,r=e.y-i.y,o=this.k1(t.x,t.y,s,r);if(0===o)return t;const a=2===n?.5*o:o;let l=this.computeShortLength(!0);l>a&&(l=a);const h=l*(s-t.x)/o,u=l*(r-t.y)/o;t.x+=h,t.y+=u}else{const e=this.getPoint(n-2),s=e.x-i.x,r=e.y-i.y,o=this.k1(t.x,t.y,s,r);if(0===o)return t;const a=2===n?.5*o:o;let l=this.computeShortLength(!1);l>a&&(l=a);const h=l*(t.x-s)/o,u=l*(t.y-r)/o;t.x-=h,t.y-=u}return t}uN(t,e,i){const n=this.pointsCount;let s=t;for(;w.Y(t.x,s.x)&&w.Y(t.y,s.y);){if(e>=n)return n-1;s=this.getPoint(e++)}if(!w.Y(t.x,s.x)&&!w.Y(t.y,s.y))return e-1;let r=s;for(;w.Y(t.x,s.x)&&w.Y(s.x,r.x)&&(!i||(t.y>=s.y?s.y>=r.y:s.y<=r.y))||w.Y(t.y,s.y)&&w.Y(s.y,r.y)&&(!i||(t.x>=s.x?s.x>=r.x:s.x<=r.x));){if(e>=n)return n-1;r=this.getPoint(e++)}return e-2}wO(t,e,i,n,s,r,o,a,l,h){if(w.f(n.y,s.y)&&w.f(s.x,r.x)){let u=Math.min(l,Math.abs(s.x-a.x)/2);const c=Math.min(u,Math.abs(r.y-s.y)/2);if(u=c,w.f(u,0))return this.An(t,e,i,n,s,h),void o.a(s);let d=s.x;const f=s.y,m=d;let g=f;s.x>n.x?(d=s.x-u,g=r.y>s.y?s.y+c:s.y-c):(d=s.x+u,g=r.y>s.y?s.y+c:s.y-c);const p=y.X(d,f);this.An(t,e,i,n,p,h),y.e(p),t.Sw(s.x+e,s.y+i,m+e,g+i),o.i(m,g)}else if(w.f(n.x,s.x)&&w.f(s.y,r.y)){let u=Math.min(l,Math.abs(s.y-a.y)/2);const c=Math.min(u,Math.abs(r.x-s.x)/2);if(u=c,w.f(c,0))return this.An(t,e,i,n,s,h),void o.a(s);const d=s.x;let f=s.y,m=d;const g=f;s.y>n.y?(f=s.y-u,m=r.x>s.x?s.x+c:s.x-c):(f=s.y+u,m=r.x>s.x?s.x+c:s.x-c);const p=y.X(d,f);this.An(t,e,i,n,p,h),y.e(p),t.Sw(s.x+e,s.y+i,m+e,g+i),o.i(m,g)}else this.An(t,e,i,n,s,h),o.a(s)}computeJumpLength(){return 10}An(t,e,i,n,s,r){if(r||!this.Ka())t.mr(s.x+e,s.y+i);else{const r=this.computeJumpLength(),o=r/2,a=[];let l=0;this.isVisible()&&(l=this.xO(n,s,a));let h=n.x,u=n.y;if(l>0)if(w.f(n.y,s.y))if(n.x<s.x){let c=0;for(;c<l;){const d=Math.max(n.x,Math.min(a[c++]-o,s.x-r));t.mr(d+e,s.y+i),h=d+e,u=s.y+i;let f=Math.min(d+r,s.x);for(;c<l;){const t=a[c];if(!(t<f+r))break;c++,f=Math.min(t+o,s.x)}const m=s.y-r+i,g=f+e,p=s.y+i;10===this.curve?t.du(g,p,!1,!1):t.pr(h,m,g,m,g,p),h=g,u=p}}else{let c=l-1;for(;c>=0;){const l=Math.min(n.x,Math.max(a[c--]+o,s.x+r));t.mr(l+e,s.y+i),h=l+e,u=s.y+i;let d=Math.max(l-r,s.x);for(;c>=0;){const t=a[c];if(!(t>d-r))break;c--,d=Math.max(t-o,s.x)}const f=s.y-r+i,m=d+e,g=s.y+i;10===this.curve?t.du(m,g,!1,!1):t.pr(h,f,m,f,m,g),h=m,u=g}}else if(w.f(n.x,s.x))if(n.y<s.y){let c=0;for(;c<l;){const d=Math.max(n.y,Math.min(a[c++]-o,s.y-r));t.mr(s.x+e,d+i),h=s.x+e,u=d+i;let f=Math.min(d+r,s.y);for(;c<l;){const t=a[c];if(!(t<f+r))break;c++,f=Math.min(t+o,s.y)}const m=s.x-r+e,g=s.x+e,p=f+i;10===this.curve?t.du(g,p,!1,!1):t.pr(m,u,m,p,g,p),h=g,u=p}}else{let c=l-1;for(;c>=0;){const l=Math.min(n.y,Math.max(a[c--]+o,s.y+r));t.mr(s.x+e,l+i),h=s.x+e,u=l+i;let d=Math.max(l-r,s.y);for(;c>=0;){const t=a[c];if(!(t>d-r))break;c--,d=Math.max(t-o,s.y)}const f=s.x-r+e,m=s.x+e,g=d+i;10===this.curve?t.du(m,g,!1,!1):t.pr(f,u,f,g,m,g),h=m,u=g}}t.mr(s.x+e,s.y+i)}}xO(t,e,i){const n=this.diagram;if(null===n||t.equals(e))return 0;const s=n.layers;for(;s.next();){const n=s.value;if(null!==n&&n.visible){const s=n.zS(),r=s.length;for(let n=0;n<r;n++){const r=s[n];if(!(r instanceof Ce))continue;if(r===this)return i.length>0&&i.sort(((t,e)=>t-e)),i.length;if(!r.isVisible()||!r.Ka())continue;const o=r.routeBounds;if(!o.isReal()||!this.routeBounds.intersectsRect(o)||this.usesSamePort(r))continue;const a=r.path;null!==a&&a.isVisibleObject()&&this.bO(t,e,i,r)}}}return i.length>0&&i.sort(((t,e)=>t-e)),i.length}bO(t,e,i,n){const s=w.f(t.y,e.y),r=n.pointsCount;let o=n.getPoint(0);const a=y.l();for(let l=1;l<r;l++){const h=n.getPoint(l);if(l<r-1){const t=n.getPoint(l+1);if(o.y===h.y&&h.y===t.y){if(h.x>o.x&&t.x>=h.x||h.x<o.x&&t.x<=h.x)continue}else if(o.x===h.x&&h.x===t.x&&(h.y>o.y&&t.y>=h.y||h.y<o.y&&t.y<=h.y))continue}this.kO(t,e,o,h,a)&&(s?i.push(a.x):i.push(a.y)),o=h}y.e(a)}kO(t,e,i,n,s){const r=t.x,o=t.y,a=e.x,l=e.y,h=i.x,u=i.y,c=n.x,d=n.y;if(w.f(r,a)){if(!w.f(o,l)&&w.f(u,d)&&Math.min(o,l)<u&&Math.max(o,l)>u&&Math.min(h,c)<r&&Math.max(h,c)>r&&!w.f(h,c))return s.x=r,s.y=u,!0}else if(w.f(o,l)&&w.f(h,c)&&Math.min(r,a)<h&&Math.max(r,a)>h&&Math.min(u,d)<o&&Math.max(u,d)>o&&!w.f(u,d))return s.x=h,s.y=o,!0;return s.x=0,s.y=0,!1}get firstPickIndex(){return this.pointsCount<=2?0:this.isOrthogonal||!this.Id(this.computeSpot(!0))?1:0}get lastPickIndex(){const t=this.pointsCount;return 0===t?0:t<=2?t-1:this.isOrthogonal||!this.Id(this.computeSpot(!1))?t-2:t-1}Ka(){const t=this.curve;return 11===t||10===t}m1(t){if(t||this.Ka()){const t=this.diagram;null!==t&&!t.animationManager.isTicking&&!t.eh.has(this)&&(0!==this.Af.width||0!==this.Af.height)&&t.eh.set(this,this.Af.copy())}}invalidateOtherJumpOvers(t){const e=this.layer;if(null===e||!e.visible||e.isTemporary)return;const i=e.diagram;if(null===i||i.animationManager.isTicking)return;let n=!1;const s=i.layers;for(;s.next();){const i=s.value;if(i.visible)if(i===e){n=!0;let e=!1;const s=i.zS(),r=s.length;for(let i=0;i<r;i++){const n=s[i];n instanceof Ce&&(n===this?e=!0:e&&this.wT(n,t))}}else if(n){const e=i.zS(),n=e.length;for(let i=0;i<n;i++){const n=e[i];n instanceof Ce&&this.wT(n,t)}}}}wT(t,e){if(null===t||!t.Nh||!t.Ce||!t.Ka())return;const i=t.routeBounds;i.isReal()&&(!this.routeBounds.intersectsRect(i)&&!e.intersectsRect(i)||this.usesSamePort(t)||t.oe())}usesSamePort(t){const e=this.pointsCount,i=t.pointsCount;if(e>0&&i>0){const n=this.getPoint(0),s=t.getPoint(0);if(n.equalsApprox(s))return!0;const r=this.getPoint(e-1),o=t.getPoint(i-1);if(r.equalsApprox(o)||n.equalsApprox(o)||r.equalsApprox(s))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1}isVisible(){if(!super.isVisible())return!1;const t=this.containingGroup;let e=!0;const i=this.diagram;null!==i&&(e=i.isTreePathToChildren);const n=this.fromNode;if(null!==n){if(this.isTreeLink&&e&&!n.isTreeExpanded)return!1;if(n===t)return!0;let i=n;for(;null!==i;){if(i.labeledLink===this)return!0;i=i.containingGroup}const s=n.findVisibleNode();if(null===s||s===t)return!1}const s=this.toNode;if(null!==s){if(this.isTreeLink&&!e&&!s.isTreeExpanded)return!1;if(s===t)return!0;let i=s;for(;null!==i;){if(i.labeledLink===this)return!0;i=i.containingGroup}const n=s.findVisibleNode();if(null===n||n===t)return!1}return!0}Vi(t){if(super.Vi(t),t&&this.m1(!1),null!==this._o&&this._o.Ad(),null!==this.$s){const e=this.$s.iterator;for(;e.next();)e.value.Vi(t)}}get adjusting(){return this.Lf}set adjusting(t){const e=this.Lf;e!==t&&(this.Lf=t,this.t("adjusting",e,t))}computeAdjusting(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?17:this.Lf}get corner(){return this.Fd}set corner(t){const e=this.Fd;e!==t&&(this.Fd=t,this.oe(),this.t("corner",e,t))}get curve(){return this.Rd}set curve(t){const e=this.Rd;e!==t&&(this.Rd=t,this.invalidateRoute(),this.oe(),this.m1(10===e||11===e||10===t||11===t),this.t("curve",e,t))}get curviness(){return this.vd}set curviness(t){const e=this.vd;e!==t&&(this.vd=t,this.invalidateRoute(),this.oe(),this.t("curviness",e,t))}get routing(){return this.Ua}set routing(t){const e=this.Ua;e!==t&&(this.Ua=t,this.isAvoiding&&null!==this.diagram&&(this.diagram.Gm=!0),this.Qo=null,this.invalidateRoute(),this.m1(Ce.hN(e)||Ce.hN(t)),this.t("routing",e,t))}get smoothness(){return this.Od}set smoothness(t){const e=this.Od;e!==t&&(this.Od=t,this.oe(),this.t("smoothness",e,t))}wy(){const t=this.fo;if(null===t)return;const e=this.go;if(null===e||!isNaN(this.curviness))return;const i=this.uo,n=this.mo;let s=null,r=null;const o=t.si.r,a=o.length;for(let l=0;l<a;l++){const a=o[l];(a.fo!==t||a.uo!==i||a.go!==e||a.mo!==n)&&(a.fo!==e||a.uo!==n||a.go!==t||a.mo!==i)||(null===r?r=a:(null===s&&(s=[],s.push(r)),s.push(a)))}if(null!==s){let r=t.aT(e,i,n);null===r&&(r=new Ne(t,i,e,n),t.lT(r),e.lT(r)),r.Zs=s;for(let t=0;t<s.length;t++){const e=s[t];e._o=r}r.Ad()}}yy(){const t=this._o;if(null!==t){if(!isNaN(this.curviness))return;this._o=null;const e=t.Zs.indexOf(this);e>=0&&(t.Zs.splice(e,1),t.Ad())}}Rl(){return!0}get key(){const t=this.diagram;if(null!==t&&t.model.Ba())return t.model.getKeyForLinkData(this.data)}}class Ne{Vo;zs;ly;tN;a1;iN;Zs;constructor(t,e,i,n){u.qi(this),this.Vo=!1,this.zs=!1,this.ly=t,this.tN=e,this.a1=i,this.iN=n,this.Zs=[]}Ad(){if(!this.Vo){const t=this.Zs;if(t.length>0){const e=t[0].diagram;null!==e&&(e.fM.add(this),this.zs=e.undoManager.isUndoingRedoing)}}this.Vo=!0}NM(){if(this.Vo){this.Vo=!1;const t=this.Zs;if(t.length>0){const e=t[0],i=e.diagram,n=null===i||i.Kh&&!this.zs;this.zs=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e._o=null,t.length=0)}0===t.length&&(this.ly.hT(this),this.a1.hT(this))}}}class Ae{he;ae;Ga;Ha;pi;yi;Yt;Ch;Lh;pa;UM;Vo;by;Wc;VM;zM;constructor(t){u.qi(this),this.pa=null,this.UM=null,this.Vo=!0,this.by=!1,this.he=1,this.ae=1,this.Ga=-1,this.Ha=-1,this.pi=t.width,this.yi=t.height,this.Yt=[],this.Ch=0,this.Lh=0,this.Wc=11,this.VM=2*this.Wc,this.zM=2*this.Wc}static Qs=0;static ja=1;static Bd=999999;static dN=Ae.Bd+1;static gN=Ae.Bd+2;bb(t){if(t.width<=0||t.height<=0)return;const e=t.x,i=t.y,n=t.x+t.width,s=t.y+t.height;this.he=Math.floor((e-this.pi)/this.pi)*this.pi,this.ae=Math.floor((i-this.yi)/this.yi)*this.yi,this.Ga=Math.ceil((n+2*this.pi)/this.pi)*this.pi,this.Ha=Math.ceil((s+2*this.yi)/this.yi)*this.yi;const r=1+(0|Math.ceil((this.Ga-this.he)/this.pi)),o=1+(0|Math.ceil((this.Ha-this.ae)/this.yi));if(0===this.Yt.length||this.Ch<r-1||this.Lh<o-1){const t=[];for(let e=0;e<=r;e++)t[e]=new Uint32Array(o);this.Yt=t,this.Ch=r-1,this.Lh=o-1}this.PO(Ae.dN)}get bounds(){return new v(this.he,this.ae,this.Ga-this.he,this.Ha-this.ae)}get cellWidth(){return this.pi}set cellWidth(t){t>0&&t!==this.pi&&(this.pi=t,this.bb(this.bounds))}get cellHeight(){return this.yi}set cellHeight(t){t>0&&t!==this.yi&&(this.yi=t,this.bb(this.bounds))}Ud(t,e){return this.he<=t&&t<=this.Ga&&this.ae<=e&&e<=this.Ha}po(t,e){if(!this.Ud(t,e))return Ae.dN;t-=this.he,t/=this.pi,e-=this.ae,e/=this.yi;const i=0|t,n=0|e;return this.Yt[i][n]}RR(t,e,i,n){if(!this.Ud(t,e))return;const s=(t-this.he)/this.pi|0,r=(e-this.ae)/this.yi|0,o=(t+i-this.he)/this.pi|0,a=(e+n-this.ae)/this.yi|0,l=Math.min(o,this.Ch),h=Math.min(a,this.Lh);for(let u=s;u<=l;u++){const t=this.Yt[u];if(t.fill)t.fill(Ae.Qs,r,h+1);else for(let e=r;e<=h;e++)t[e]=Ae.Qs}}PO(t){for(let e=0;e<=this.Ch;e++){const i=this.Yt[e];if(i.fill)i.fill(t);else for(let e=0;e<=this.Lh;e++)i[e]=t}}tA(){for(let t=0;t<=this.Ch;t++){const e=this.Yt[t];for(let t=0;t<=this.Lh;t++)e[t]>=Ae.ja&&(e[t]=Ae.dN)}}SO(t,e){return this.po(t,e)===Ae.Qs}isUnoccupied(t,e,i,n){if(t>this.Ga||t+i<this.he||e>this.Ha||e+n<this.ae)return!0;let s=(t-this.he)/this.pi|0,r=(e-this.ae)/this.yi|0,o=Math.max(0,i)/this.pi+1|0,a=Math.max(0,n)/this.yi+1|0;if(s<0&&(o+=s,s=0),r<0&&(a+=r,r=0),o<0||a<0)return!0;const l=0|Math.min(s+o-1,this.Ch),h=0|Math.min(r+a-1,this.Lh);for(let u=s;u<=l;u++){const t=this.Yt[u];for(let e=r;e<=h;e++)if(t[e]===Ae.Qs)return!1}return!0}maxAvoidsLinksSpaceH(t,e,i,n){if(t>this.Ga||e<this.he||i>this.Ha||i<this.ae)return 0;const s=(t-this.he)/this.pi|0,r=(e-this.he)/this.pi|0,o=(i-this.ae)/this.yi|0,a=n/this.yi+1|0;let l;for(l=0;l<a/2;l++){let t=!1;for(let e=s;e<=r;e++)if(this.Yt[e][o+l]===Ae.Qs||this.Yt[e][o-l]===Ae.Qs){t=!0;break}if(t)return Math.max(0,(2*l-1)*this.yi)}return n}maxAvoidsLinksSpaceV(t,e,i,n){if(t>this.Ha||e<this.ae||i>this.Ga||i<this.he)return 0;const s=(t-this.ae)/this.yi|0,r=(e-this.ae)/this.yi|0,o=(i-this.he)/this.pi|0,a=n/this.pi+1|0;let l;for(l=0;l<a/2;l++){let t=!1;for(let e=s;e<=r;e++)if(this.Yt[o+l][e]===Ae.Qs||this.Yt[o-l][e]===Ae.Qs){t=!0;break}if(t)return Math.max(0,(2*l-1)*this.pi)}return n}MO(t,e,i,n,s,r,o,a){t|=0,e|=0;let l=this.Yt[t][e];if(l>=Ae.ja&&l<Ae.Bd)for(n?e+=i:t+=i,l+=1;s<=t&&t<=r&&o<=e&&e<=a;){const s=this.Yt[t][e];if(l>=s)break;this.Yt[t][e]=l,l+=1,n?e+=i:t+=i}return n?e:t}yo(t,e,i,n,s,r,o,a){if(t<s||t>r||e<o||e>a)return;const l=this.MO(t,e,i,n,s,r,o,a);if(n)if(i>0)for(let h=e+i;h<l;h+=i)this.yo(t,h,1,!n,s,r,o,a),this.yo(t,h,-1,!n,s,r,o,a);else for(let h=e+i;h>l;h+=i)this.yo(t,h,1,!n,s,r,o,a),this.yo(t,h,-1,!n,s,r,o,a);else if(i>0)for(let h=t+i;h<l;h+=i)this.yo(h,e,1,!n,s,r,o,a),this.yo(h,e,-1,!n,s,r,o,a);else for(let h=t+i;h>l;h+=i)this.yo(h,e,1,!n,s,r,o,a),this.yo(h,e,-1,!n,s,r,o,a)}P1(t,e,i,n,s,r,o,a,l,h){let u=0|t,c=0|e,d=Ae.Qs,f=Ae.ja;for(this.Yt[u][c]=f;d===Ae.Qs&&u>o&&u<a&&c>l&&c<h;)f+=1,this.Yt[u][c]=f,r?c+=s:u+=s,d=this.Yt[u][c];return r?c:u}S1(t,e,i,n,s,r,o,a,l,h){let u=0|i,c=0|n,d=Ae.Qs;const f=Ae.Bd;for(this.Yt[u][c]=f;d===Ae.Qs&&u>o&&u<a&&c>l&&c<h;)this.Yt[u][c]=f,r?c+=s:u+=s,d=this.Yt[u][c]}xT(t,i,n,s,r,o){this.by=!1;let a=t.x,l=t.y;if(!this.Ud(a,l))return;a-=this.he,a/=this.pi,l-=this.ae,l/=this.yi;let h=n.x,u=n.y;if(!this.Ud(h,u))return;if(h-=this.he,h/=this.pi,u-=this.ae,u/=this.yi,Math.abs(a-h)<=1&&Math.abs(l-u)<=1)return void(this.by=!0);let c=r.x,d=r.y,f=r.x+r.width,m=r.y+r.height;c-=this.he,c/=this.pi,d-=this.ae,d/=this.yi,f-=this.he,f/=this.pi,m-=this.ae,m/=this.yi;const g=Math.max(0,Math.min(this.Ch,0|c)),p=Math.min(this.Ch,Math.max(0,0|f)),y=Math.max(0,Math.min(this.Lh,0|d)),_=Math.min(this.Lh,Math.max(0,0|m)),v=0,b=90,x=270,M=this.Yt,w=0|a,k=0|l,L=0|h,S=0|u,T=i===v||i===b?1:-1,D=i===b||i===x;M[w][k]===Ae.Qs?(this.P1(w,k,L,S,T,D,g,p,y,_),this.P1(w,k,L,S,1,!D,g,p,y,_),this.P1(w,k,L,S,-1,!D,g,p,y,_)):this.P1(w,k,L,S,T,D,w,k,w,k),M[L][S]===Ae.Qs?(this.S1(w,k,L,S,s===v||s===b?1:-1,s===b||s===x,g,p,y,_),this.S1(w,k,L,S,1,!(s===b||s===x),g,p,y,_),this.S1(w,k,L,S,-1,!(s===b||s===x),g,p,y,_)):this.S1(w,k,L,S,T,D,L,S,L,S);const P=e.rt();if(o&&this.bT(L,S,s,w,k,P)){(P[0]!==L||P[1]!==S)&&(P.unshift(S),P.unshift(L)),(P[P.length-2]!==w||P[P.length-1]!==k)&&(P.push(w),P.push(k));let t=Ae.ja,e=P[P.length-2],i=P[P.length-1];M[e][i]=t++;for(let n=P.length-4;n>=0;n-=2){e=P[n+2],i=P[n+3];const s=P[n],r=P[n+1];for(;s>e?e++:s<e?e--:r>i?i++:r<i&&i--,M[e][i]=t++,e!==s||i!==r;);}}else this.yo(w,k,1,!1,g,p,y,_),this.yo(w,k,-1,!1,g,p,y,_),this.yo(w,k,1,!0,g,p,y,_),this.yo(w,k,-1,!0,g,p,y,_);e.tt(P)}bT(t,e,i,n,s,r){const o=this.Yt;let a=t,l=e;for(;;){if(a===n&&l===s)return!0;let t=a,e=l;if(0===i){if(!(t<n))break;t++}else if(90===i){if(!(e<s))break;e++}else if(180===i){if(!(t>n))break;t--}else{if(!(e>s))break;e--}const r=o[t][e];if(0===r||r===Ae.gN)break;a=t,l=e}for(;;){let h=i,u=a,c=l;0===i?c<s?(h=90,c++):c>s&&(h=270,c--):90===i?u<n?(h=0,u++):u>n&&(h=180,u--):180===i?c<s?(h=90,c++):c>s&&(h=270,c--):u<n?(h=0,u++):u>n&&(h=180,u--);const d=o[u][c];if(h!==i&&0!==d&&d!==Ae.gN){if(r.push(a),r.push(l),this.bT(a,l,h,n,s,r))return!0;r.pop(),r.pop()}if(o[a][l]=Ae.gN,0===i){if(a===t)return!1;a--}else if(90===i){if(l===e)return!1;l--}else if(180===i){if(a===t)return!1;a++}else{if(l===e)return!1;l++}}}}class Oe{Le;pl;hs;Vd;constructor(t,e){u.qi(this),this.Le=t,this.pl=e,this.hs=[],this.Vd=!1}toString(){const t=this.hs;let e=this.Le.toString()+" "+t.length.toString()+":";for(let i=0;i<t.length;i++){const n=t[i];null!==n&&(e+="\n  "+n.toString())}return e}NO(t,e,i,n){const s=e.offsetY;switch(s){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}let r=i;switch(s){case 9:return r>180?270:90;case 6:return r>90&&r<=270?180:0}const o=180*Math.atan2(t.height,t.width)/Math.PI;switch(s){case 3:return r>o&&r<=180+o?180:270;case 5:return r>180-o&&r<=360-o?270:0;case 12:return r>o&&r<=180+o?90:0;case 10:return r>180-o&&r<=360-o?180:90;case 7:return r>90&&r<=180+o?180:r>180+o&&r<=360-o?270:0;case 13:return r>180&&r<=360-o?270:r>o&&r<=180?90:0;case 14:return r>o&&r<=180-o?90:r>180-o&&r<=270?180:0;case 11:return r>180-o&&r<=180+o?180:r>180+o?270:90}return n&&15!==s&&(r-=15,r<0&&(r+=360)),r>o&&r<180-o?90:r>=180-o&&r<=180+o?180:r>180+o&&r<360-o?270:0}Ad(){this.hs.length=0}yT(t){let e=this.hs;0===e.length&&(this.CO(),e=this.hs);for(let i=0;i<e.length;i++){const n=e[i];if(null!==n&&n.qe===t)return n}return null}CO(){if(!this.Vd){const t=this.Vd;this.Vd=!0;let e,i=null;const n=this.Le,s=n instanceof Ie?n:null;if(null===s||s.isSubGraphExpanded)e=n.isTreeExpanded?n.findLinksConnected(this.pl.portId):n.findExternalTreeLinksConnected();else{if(!s.actualBounds.isReal())return this.Vd=t,this.hs;i=s,e=i.findExternalLinksConnected()}this.hs.length=0;let r=0;const o=this.pl.getDocumentPoint(x.TopLeft,y.l()),a=this.pl.getDocumentPoint(x.BottomRight,y.l()),l=v.X(o.x,o.y,0,0);l.unionPoint(a),y.e(o),y.e(a);const h=y.X(l.x+l.width/2,l.y+l.height/2),u=this.pl.getDocumentAngle(),c=e.iterator;for(;c.next();){const t=c.value;if(!t.isVisible()||t.fromPort===t.toPort)continue;const e=t.fromPort===this.pl||null!==t.fromNode&&null!==i&&t.fromNode.isMemberOf(i),n=t.computeSpot(e,this.pl);if(!n.isSide())continue;let s;if(s=e?t.toPort:t.fromPort,null===s)continue;let o=s.part;if(null===o)continue;const a=o.findVisibleNode();null!==a&&a!==o&&(o=a,s=o.port);const d=t.computeOtherPoint(o,s);let f=h.directionPoint(d);f-=u,f<0?f+=360:f>=360&&(f-=360);const m=this.NO(l,n,f,t.isOrthogonal);let g=0;0===m?(g=4,f>180&&(f-=360)):90===m?(g=8,f>270&&(f-=360)):180===m?g=2:(g=1,f<90&&(f+=360));let p=this.hs[r];void 0===p?(p=new Fe(t,f,g),this.hs[r]=p):(p.qe=t,p.Ht=f,p.we=g),p.M1.set(d),r++}y.e(h),this.LO();const d=this.hs.length;let f=-1,m=0;for(r=0;r<d;r++){const t=this.hs[r];void 0!==t&&(t.we!==f&&(f=t.we,m=0),t.zd=m,m++)}for(f=-1,m=0,r=d-1;r>=0;r--){const t=this.hs[r];void 0!==t&&(t.we!==f&&(f=t.we,m=t.zd+1),t.Tf=m)}this.AO(this.hs),this.TO(this.hs),this.Vd=t,v.e(l)}return this.hs}DO(t,e){return t===e?0:null===t?-1:null===e?1:t.we<e.we?-1:t.we>e.we?1:t.Ht<e.Ht?-1:t.Ht>e.Ht?1:0}LO(){this.hs.sort(Oe.prototype.DO)}AO(t){const e=this.pl,i=this.Le.portSpreading,n=y.l(),s=y.l(),r=y.l(),o=y.l();e.getDocumentPoint(x.TopLeft,n),e.getDocumentPoint(x.TopRight,s),e.getDocumentPoint(x.BottomRight,r),e.getDocumentPoint(x.BottomLeft,o);let a=0,l=0,h=0,u=0;if(2===i)for(let y=0;y<t.length;y++){const e=t[y];if(null===e)continue;const i=e.qe.computeThickness();switch(e.we){case 8:h+=i;break;case 2:u+=i;break;case 1:a+=i;break;default:case 4:l+=i;break}}let c=0,d=0,f=1,m=s,g=r,p=0,_=0;for(let y=0;y<t.length;y++){const e=t[y];if(null===e)continue;if(c!==e.we){switch(c=e.we,c){case 8:m=r,g=o;break;case 2:m=o,g=n;break;case 1:m=n,g=s;break;default:case 4:m=s,g=r;break}switch(p=g.x-m.x,_=g.y-m.y,c){case 8:h>Math.abs(p)?(f=Math.abs(p)/h,h=Math.abs(p)):f=1;break;case 2:u>Math.abs(_)?(f=Math.abs(_)/u,u=Math.abs(_)):f=1;break;case 1:a>Math.abs(p)?(f=Math.abs(p)/a,a=Math.abs(p)):f=1;break;default:case 4:l>Math.abs(_)?(f=Math.abs(_)/l,l=Math.abs(_)):f=1;break}d=0}const v=e.Ed;if(2===i){let t=e.qe.computeThickness();switch(t*=f,v.set(m),c){case 8:v.x=m.x+p/2+h/2-d-t/2;break;case 2:v.y=m.y+_/2+u/2-d-t/2;break;case 1:v.x=m.x+p/2-a/2+d+t/2;break;default:case 4:v.y=m.y+_/2-l/2+d+t/2;break}d+=t}else{let t=.5;1===i&&(t=(e.zd+1)/(e.Tf+1)),v.x=m.x+p*t,v.y=m.y+_*t}}y.e(n),y.e(s),y.e(r),y.e(o)}TO(t){for(let e=0;e<t.length;e++){const i=t[e];null!==i&&(i.b1=this.FO(i))}}FO(t){const e=t.qe,i=e.fromPort===this.pl,n=e.computeEndSegmentLength(this.Le,this.pl,x.None,i);let s=t.zd;if(s<0)return n;const r=t.Tf;if(r<=1||!e.isOrthogonal)return n;const o=t.M1,a=t.Ed;(2===t.we||8===t.we)&&(s=r-1-s);const l=Ce.iO,h=2===t.we||4===t.we;return(h?o.y<a.y:o.x<a.x)?n+s*l:(h?o.y===a.y:o.x===a.x)?n:n+(r-1-s)*l}}class Fe{qe;Ht;we;M1;zd;Tf;Ed;b1;constructor(t,e,i){this.qe=t,this.Ht=e,this.we=i,this.M1=new y,this.zd=0,this.Tf=0,this.Ed=new y,this.b1=0}toString(){return this.qe.toString()+" "+this.Ht.toString()+" "+this.we.toString()+":"+this.zd.toString()+"/"+this.Tf.toString()+" "+this.Ed.toString()+" "+this.b1.toString()+" "+this.M1.toString()}}class Re{xa;ba;ka;Pa;Sa;Ma;U0;E0;V0;B0;constructor(){this.xa=x.Default,this.ba=x.Default,this.ka=NaN,this.Pa=NaN,this.Sa=NaN,this.Ma=NaN,this.U0=null,this.E0=null,this.V0=1/0,this.B0=1/0}copy(){const t=new Re;return t.xa=this.xa.N(),t.ba=this.ba.N(),t.ka=this.ka,t.Pa=this.Pa,t.Sa=this.Sa,t.Ma=this.Ma,t.U0=this.U0,t.E0=this.E0,t.V0=this.V0,t.B0=this.B0,t}}class Ee{T0;D0;F0;A0;bp;kp;constructor(){this.T0=-1/0,this.D0=0,this.F0=y.Lo,this.A0=0,this.bp="None",this.kp="None"}copy(){const t=new Ee;return t.T0=this.T0,t.D0=this.D0,t.F0=this.F0.N(),t.A0=this.A0,t.bp=this.bp,t.kp=this.kp,t}}class Ie extends Se{Xd;Ot;ga;u0;ri;ne;constructor(t,e){let i;void 0===t||t instanceof zt||"string"==typeof t?i=t:t&&(e=t),super(i),this.E=4608|this.E,this.Xd=new u,this.Ot=null,this.ne=new He,this.ne.group=this,this.ga=new u,this.u0=null,this.ri=null,e&&Object.assign(this,e)}cloneProtected(t){super.cloneProtected(t),this.E=-32769&this.E;const e=t.findInVisualTree((t=>t instanceof je));t.Ot=e instanceof je?e:null,null!==this.ne?(t.ne=this.ne.copy(),t.ne.group=t):(null!==t.ne&&(t.ne.group=null),t.ne=null),null!==this.ri&&(t.ri=this.ri.copy())}Xo(t){super.Xo(t);const e=t.findSubGraphParts(),i=t.memberParts;for(;i.next();){const t=i.value;if(t.c(),t.invalidateLayout(8),t.clearAdornments(),t instanceof Se)t.invalidateConnectedLinks(e);else if(t instanceof Ce){const i=t.labelNodes;for(;i.next();)i.value.invalidateConnectedLinks(e)}}}Qc(t,i,n,s,r,o,a){if(3===t&&"elements"===i){if(r instanceof je)null===this.Ot?this.Ot=r:this.Ot!==r&&e.o("Cannot insert a second Placeholder into the visual tree of a Group.");else if(r instanceof ie){const t=r.findInVisualTree((t=>t instanceof je));t instanceof je&&(null===this.Ot?this.Ot=t:this.Ot!==t&&e.o("Cannot insert a second Placeholder into the visual tree of a Group."))}}else 4===t&&"elements"===i&&null!==this.Ot&&(s===this.Ot||s instanceof ie&&this.Ot.isContainedBy(s))&&(this.Ot=null);super.Qc(t,i,n,s,r,o,a)}td(t,e){if(super.td(t,e),this.isClipping&&this.type!==ie.Spot&&this.isSubGraphExpanded){let t=this.resizeObject;t instanceof ie&&(t=t.findMainElement()),null===this.ri&&(this.ri=new v),t.getDocumentBounds(this.ri),t instanceof le&&this.ri.inflate(-t.strokeWidth,-t.strokeWidth)}}ph(t,e,i,n){this.hasPlaceholder()&&(this.Zo=this.placeholder),super.ph(t,e,i,n)}ensureBounds(){this.isSubGraphExpanded&&this.memberParts.each((t=>{t.ensureBounds()})),super.ensureBounds()}Jr(){if(!super.Jr())return!1;const t=this.memberParts;for(;t.next();){const e=t.value;if(e instanceof Se){if(!e.isVisible())continue;if(e.es())return!1}else if(e instanceof Ce){if(!e.isVisible())continue;if(e.es()&&e.fromNode!==this&&e.toNode!==this)return!1}}return!0}hasPlaceholder(){return null!==this.Ot&&this.Ot.isVisibleObject()&&this.isSubGraphExpanded}get placeholder(){return this.Ot}get computesBoundsAfterDrag(){return 0!==(2048&this.E)}set computesBoundsAfterDrag(t){const e=0!==(2048&this.E);e!==t&&(this.E=2048^this.E,this.t("computesBoundsAfterDrag",e,t))}get computesBoundsIncludingLinks(){return 0!==(4096&this.E)}set computesBoundsIncludingLinks(t){const e=0!==(4096&this.E);e!==t&&(this.E=4096^this.E,this.t("computesBoundsIncludingLinks",e,t))}get computesBoundsIncludingLocation(){return 0!==(8192&this.E)}set computesBoundsIncludingLocation(t){const e=0!==(8192&this.E);e!==t&&(this.E=8192^this.E,this.t("computesBoundsIncludingLocation",e,t))}get handlesDragDropForMembers(){return 0!==(16384&this.E)}set handlesDragDropForMembers(t){const e=0!==(16384&this.E);e!==t&&(this.E=16384^this.E,this.t("handlesDragDropForMembers",e,t))}get avoidableMembers(){return 0!==(131072&this.E)}set avoidableMembers(t){const e=0!==(131072&this.E);e!==t&&(this.E=131072^this.E,this.t("avoidableMembers",e,t))}get memberParts(){return this.Xd.iterator}$2(t){if(this.Xd.add(t)){t instanceof Ie&&this.ga.add(t);const e=this.memberAdded;if(null!==e){let i=!0;const n=this.diagram;null!==n&&(i=n.K,n.K=!0),e(this,t),null!==n&&(n.K=i)}(!this.isVisible()||!this.isSubGraphExpanded)&&t.Vi(!1)}if(t instanceof Ce&&!this.computesBoundsIncludingLinks)return;let e=this.Ot;null===e&&(e=this),e.c()}J2(t){if(this.Xd.delete(t)){t instanceof Ie&&this.ga.delete(t);const e=this.memberRemoved;if(null!==e){let i=!0;const n=this.diagram;null!==n&&(i=n.K,n.K=!0),e(this,t),null!==n&&(n.K=i)}(!this.isVisible()||!this.isSubGraphExpanded)&&t.Vi(!0)}if(t instanceof Ce&&!this.computesBoundsIncludingLinks)return;let e=this.Ot;null===e&&(e=this),e.c()}jc(){if(this.Xd.count>0){const t=this.diagram;if(null!==t){const e=this.Xd.copy().iterator;for(;e.next();){const i=e.value;t.remove(i)}}}super.jc()}get layout(){return this.ne}set layout(t){const i=this.ne;if(i!==t){null!==t&&null!==t.diagram&&t.diagram.layout===t&&e.o("A layout cannot be both the Diagram.layout and a Group.layout: "+t),null!==i&&(i.diagram=null,i.group=null),this.ne=t;const n=this.diagram;null!==t&&(t.diagram=n,t.group=this),null!==n&&(n.jr=!0),this.t("layout",i,t),null!==n&&n.requestUpdate()}}get memberAdded(){return null!==this.It?this.It.gy:null}set memberAdded(t){const i=this.memberAdded;i!==t&&(null!==t&&e.S(t,Ie,"memberAdded"),this.gl().gy=t,this.t("memberAdded",i,t))}get memberRemoved(){return null!==this.It?this.It.my:null}set memberRemoved(t){const i=this.memberRemoved;i!==t&&(null!==t&&e.S(t,Ie,"memberRemoved"),this.gl().my=t,this.t("memberRemoved",i,t))}get memberValidation(){return null!==this.It?this.It.ah:null}set memberValidation(t){const i=this.memberValidation;i!==t&&(null!==t&&e.S(t,Ie,"memberValidation"),this.gl().ah=t,this.t("memberValidation",i,t))}canAddMembers(t){const e=this.diagram;if(null===e)return!1;const i=e.commandHandler,n=i.h2(t).iterator;for(;n.next();){const t=n.value;if(!i.isValidMember(this,t))return!1}return!0}addMembers(t,e){const i=this.diagram;if(null===i)return!1;const n=i.commandHandler,s=n.h2(t);let r=!0;const o=s.iterator;for(;o.next();){const t=o.value;!e||n.isValidMember(this,t)?t.containingGroup=this:r=!1}return r}get ungroupable(){return 0!==(256&this.E)}set ungroupable(t){const e=0!==(256&this.E);e!==t&&(this.E=256^this.E,this.t("ungroupable",e,t))}canUngroup(){if(!this.ungroupable)return!1;const t=this.layer;if(null===t||!t.allowUngroup)return!1;const e=t.diagram;return!(null!==e&&!e.allowUngroup)}invalidateConnectedLinks(t){const e=this.RO();if(super.invalidateConnectedLinks(t),e)return;this.IL(!0);const i=this.findExternalLinksConnected();for(;i.next();){const e=i.value;if(void 0!==t&&t.has(e))continue;const n=e.fromNode;if(null!==n&&n!==this&&n.isMemberOf(this)&&!n.isVisible())n.$i(e.fromPort),n.$i(e.toPort),e.invalidateRoute();else{const t=e.toNode;null!==t&&t!==this&&t.isMemberOf(this)&&!t.isVisible()&&(t.$i(e.fromPort),t.$i(e.toPort),e.invalidateRoute())}}}findExternalLinksConnected(){const t=null!==this.diagram&&this.diagram.yM;if(t&&null!==this.u0)return this.u0.iterator;const e=this.findSubGraphParts();e.add(this);const i=new u,n=e.iterator;for(;n.next();){const t=n.value;if(!(t instanceof Se))continue;const s=t.linksConnected;for(;s.next();){const t=s.value;e.has(t)||i.add(t)}}return t&&(this.u0=i),i.iterator}findExternalNodesConnected(){const t=this.findSubGraphParts();t.add(this);const e=new u,i=t.iterator;for(;i.next();){const n=i.value;if(!(n instanceof Se))continue;const s=n.linksConnected;for(;s.next();){const i=s.value,n=i.fromNode;null!==n&&(!t.has(n)||n===this)&&e.add(n);const r=i.toNode;null!==r&&(!t.has(r)||r===this)&&e.add(r)}}return e.iterator}CE(){function t(e,i){null!==e&&(i.add(e),t(e.containingGroup,i))}const e=new u;return t(this,e),e}findSubGraphParts(){const t=new u;return Me.ch(t,this,!0,0,!0),t.delete(this),t}Vi(t){super.Vi(t);const e=this.memberParts;for(;e.next();)e.value.Vi(t)}collapseSubGraph(){const t=this.diagram;if(null===t||t.isCollapsingExpanding)return;t.isCollapsingExpanding=!0;const e=this.findSubGraphParts();this.kT(e,t,this),t.isCollapsingExpanding=!1}kT(t,e,i){const n=this.memberParts;for(;n.next();){const s=n.value;if(s.Vi(!1),s instanceof Ie&&s.isSubGraphExpanded&&(s.wasSubGraphExpanded=s.isSubGraphExpanded,s.kT(t,e,i)),s instanceof Se)s.invalidateConnectedLinks(t),e.Rc(s,i);else if(s instanceof Ce){const e=s.labelNodes;for(;e.next();)e.value.invalidateConnectedLinks(t)}}this.isSubGraphExpanded=!1}expandSubGraph(){const t=this.diagram;if(null===t||t.isCollapsingExpanding)return;t.isCollapsingExpanding=!0;const e=this.findSubGraphParts();this.PT(e,t,this),t.isCollapsingExpanding=!1}PT(t,e,i){const n=this.memberParts;for(;n.next();){const s=n.value;if(s.Vi(!0),s instanceof Ie&&s.wasSubGraphExpanded&&(s.wasSubGraphExpanded=!1,s.PT(t,e,i)),s instanceof Se)s.invalidateConnectedLinks(t);else if(s instanceof Ce){const e=s.labelNodes;for(;e.next();)e.value.invalidateConnectedLinks(t)}}this.isSubGraphExpanded=!0}get isSubGraphExpanded(){return 0!==(512&this.E)}set isSubGraphExpanded(t){const e=0!==(512&this.E);if(e!==t){this.E=512^this.E;const i=this.diagram;this.t("isSubGraphExpanded",e,t);const n=this.subGraphExpandedChanged;if(null!==n){let t=!0;null!==i&&(t=i.K,i.K=!0),n(this),null!==i&&(i.K=t)}if(null!==i&&i.undoManager.isUndoingRedoing)return null!==this.Ot&&this.Ot.c(),void this.memberParts.each((t=>t.updateAdornments()));t?this.expandSubGraph():this.collapseSubGraph()}}get wasSubGraphExpanded(){return 0!==(1024&this.E)}set wasSubGraphExpanded(t){const e=0!==(1024&this.E);e!==t&&(this.E=1024^this.E,this.t("wasSubGraphExpanded",e,t))}get subGraphExpandedChanged(){return null!==this.It?this.It.py:null}set subGraphExpandedChanged(t){const i=this.subGraphExpandedChanged;i!==t&&(null!==t&&e.S(t,Ie,"subGraphExpandedChanged"),this.gl().py=t,this.t("subGraphExpandedChanged",i,t))}move(t,e){void 0===e&&(e=!1);const i=e?this.location:this.position,n=i.x,s=i.y,r=t.x,o=t.y;if((n===r||isNaN(n)&&isNaN(r))&&(s===o||isNaN(s)&&isNaN(o)))return;const a=r-(isNaN(n)?0:n),l=o-(isNaN(s)?0:s),h=y.l();super.move(t,e);const c=new u,d=this.findSubGraphParts().iterator;for(;d.next();){const t=d.value;t instanceof Ce&&(t.suspendsRouting&&c.add(t),(t.Ce||t.fromNode!==this&&t.toNode!==this)&&(t.suspendsRouting=!0))}for(d.reset();d.next();){const t=d.value;if(t.Rl()||t instanceof Se&&t.isLinkLabel)continue;const e=t.position,i=t.location;e.isReal()?(h.x=e.x+a,h.y=e.y+l,t.position=h):i.isReal()&&(h.x=i.x+a,h.y=i.y+l,t.location=h)}for(d.reset();d.next();){const t=d.value;if(!(t instanceof Ce)||(t.suspendsRouting=c.has(t),!t.Ce&&(t.fromNode===this||t.toNode===this)))continue;const e=t.position;h.x=e.x+a,h.y=e.y+l,h.isReal()?t.move(h):t.invalidateRoute()}y.e(h)}RO(){return 0!==(65536&this.E)}IL(t){0!==(65536&this.E)!==t&&(this.E=65536^this.E)}get ma(){return 0!==(32768&this.E)}set ma(t){0!==(32768&this.E)!==t&&(this.E=32768^this.E)}}class je extends Yt{ti;Yd;constructor(t){super(),this.ti=b.Bg,this.Yd=new v(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.ti=this.ti.N(),t.Yd=this.Yd.copy()}mh(t){if(null===this.background)return!1;const e=this.naturalBounds;return v.contains(0,0,e.width,e.height,t.x,t.y)}_u(t,i,n,s){const r=this.part;if((null===r||!(r instanceof Ie)&&!(r instanceof ke))&&e.o("Placeholder is not inside a Group or Adornment."),r instanceof Ie){const t=this.computeBorder(this.Yd),e=this.minSize,i=isFinite(e.width)?Math.max(e.width,t.width):t.width,n=isFinite(e.height)?Math.max(e.height,t.height):t.height,s=this.Ki;s.zn(i||0,n||0),this.so(0,0,s.width,s.height);const o=r.memberParts;let a=!1;for(;o.next();)if(o.value.isVisible()){a=!0;break}const l=r.diagram;if(a&&null!==l&&!l.animationManager.DS(r)&&!isNaN(t.x)&&!isNaN(t.y)){const e=y.l();e.setRectSpot(t,r.locationSpot),r.location=e,y.e(e)}}else{const t=r,e=this.Ki,i=this.ti,n=i.left+i.right,s=i.top+i.bottom,o=t.adornedObject,a=o.getDocumentAngle();t.angle=a;let l=0;o instanceof le&&(l=o.strokeWidth);const h=o.getDocumentScale(),u=o.naturalBounds,c=(u.width+l)*h,d=(u.height+l)*h;if(t.type!==ie.Link){const e="Selection"===t.category?x.TopLeft:t.locationSpot,i=o.getDocumentPoint(e,y.l());t.location=i,y.e(i)}if(isNaN(c)||isNaN(d)){const t=o.getDocumentPoint(x.TopLeft,y.l()),r=v.X(t.x,t.y,0,0);r.unionPoint(o.getDocumentPoint(x.BottomRight,t)),r.unionPoint(o.getDocumentPoint(x.TopRight,t)),r.unionPoint(o.getDocumentPoint(x.BottomLeft,t)),e.zn(r.width+n||0,r.height+s||0),this.so(-i.left,-i.top,e.width,e.height),y.e(t),v.e(r)}else e.zn(c+n||0,d+s||0),this.so(-i.left,-i.top,e.width,e.height)}}ph(t,e,i,n){this.actualBounds.i(t,e,i,n)}computeBorder(t){const e=this.part,i=e.diagram,n=null===i||!i.animationManager.isAnimating;if(null!==i&&e instanceof Ie&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Yd.isReal()){const n=i.toolManager.findTool("Dragging");if(n===i.currentTool){const i=n.computeBorder(e,this.Yd,t);if(null!==i)return i}}const s=v.l(),r=this.computeMemberBounds(s),o=this.ti;return e instanceof Ie&&!e.isSubGraphExpanded?t.i(r.x-o.left,r.y-o.top,0,0):t.i(r.x-o.left,r.y-o.top,Math.max(r.width+o.left+o.right,0),Math.max(r.height+o.top+o.bottom,0)),v.e(s),n&&e instanceof Ie&&e.computesBoundsIncludingLocation&&e.location.isReal()&&t.unionPoint(e.location),t}computeMemberBounds(t){if(!(this.part instanceof Ie))return t.i(0,0,0,0),t;const e=this.part;let i=1/0,n=1/0,s=-1/0,r=-1/0;const o=e.memberParts;for(;o.next();){const t=o.value;if(!t.isVisible()||t instanceof Ce&&(!e.computesBoundsIncludingLinks||t.Bo()||t.fromNode===e||t.toNode===e))continue;const a=t.actualBounds;a.left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>s&&(s=a.right),a.bottom>r&&(r=a.bottom)}if(isFinite(i)&&isFinite(n))t.i(i,n,s-i,r-n);else{const i=e.location;t.i(i.x,i.y,0,0)}return t}get padding(){return this.ti}set padding(t){"number"==typeof t&&(t=new b(t));const e=this.ti;e.equals(t)||(t=t.N(),this.ti=t,this.t("padding",e,t),this.c())}}class He{L;pa;Kd;Nr;Gd;Hd;Oo;yl;jd;qd;wo;constructor(t){u.qi(this),this.L=null,this.pa=null,this.Kd=!0,this.Nr=!0,this.Gd=!1,this.Hd=new y(0,0).u(),this.Oo=!0,this.yl=null,this.jd=null,this.qd=!1,this.wo=null,t&&Object.assign(this,t)}cloneProtected(t){t.Kd=this.Kd,t.Nr=this.Nr,t.Gd=this.Gd,t.Hd.a(this.Hd),t.Oo=this.Oo,t.yl=this.yl,t.jd=this.jd,t.qd=!0}copy(){const t=new this.constructor;return this.cloneProtected(t),t}hi(t){e.cr(this,t)}toString(){let t=e.Vn(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+=")",t}get diagram(){return this.L}set diagram(t){this.L=t}get group(){return this.pa}set group(t){this.pa!==t&&(this.pa=t,null!==t&&(this.L=t.diagram))}get isOngoing(){return this.Kd}set isOngoing(t){this.Kd!==t&&(e.s(t,"boolean",He,"isOngoing"),this.Kd=t)}get isInitial(){return this.Nr}set isInitial(t){e.s(t,"boolean",He,"isInitial"),this.Nr=t,t||(this.qd=!0)}get isViewportSized(){return this.Gd}set isViewportSized(t){this.Gd!==t&&(e.s(t,"boolean",He,"isViewportSized"),this.Gd=t,t&&this.invalidateLayout())}get isRouting(){return this.Oo}set isRouting(t){this.Oo!==t&&(e.s(t,"boolean",He,"isRouting"),this.Oo=t)}get isRealtime(){return this.yl}set isRealtime(t){this.yl!==t&&(null!==t&&e.s(t,"boolean",He,"isRealtime"),this.yl=t)}get isValidLayout(){return this.qd}set isValidLayout(t){if(this.qd!==t&&(e.s(t,"boolean",He,"isValidLayout"),this.qd=t,!t)){const t=this.diagram;null!==t&&(t.jr=!0)}}invalidateLayout(){if(this.isValidLayout){const t=this.diagram;if(null===t||t.undoManager.isUndoingRedoing)return;const e=t.animationManager;if(e.isTicking)return;e.defaultAnimation.isAnimating&&e.stopAnimation(),(this.isOngoing&&t.Kh||this.isInitial&&!t.Kh)&&(this.isValidLayout=!1,t.requestUpdate())}}get network(){return this.wo}set network(t){this.wo!==t&&(this.wo=t,null!==t&&(t.layout=this))}createNetwork(){return new Be(this)}makeNetwork(t){const e=this.createNetwork();return t instanceof _t?(e.addParts(t.nodes,!0),e.addParts(t.links,!0)):t instanceof Ie?e.addParts(t.memberParts):e.addParts(t.iterator),e}updateParts(){this.isValidLayout=!0;let t=this.diagram;if(null===t&&null!==this.network){const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value.node;if(null!==i&&(t=i.diagram,null!==t))break}}try{null!==t&&t.startTransaction("Layout"),this.commitLayout()}finally{null!==t&&t.commitTransaction("Layout")}}commitLayout(){if(null===this.network)return;const t=this.network.vertexes.iterator;for(;t.next();)t.value.commit();if(this.isRouting){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}}doLayout(t){const e=new u;if(t instanceof _t?(this.Ah(e,t.nodes,!0,this.ma,!0,!1,!0),this.Ah(e,t.parts,!0,this.ma,!0,!1,!0)):t instanceof Ie?this.Ah(e,t.memberParts,!1,this.ma,!0,!1,!0):e.addAll(t.iterator),e.count>0){const t=this.diagram;null!==t&&t.startTransaction("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.commitTransaction("Layout")}this.isValidLayout=!0}doMinimalNoNetworkLayout(t){const e=t.count,i=Math.ceil(Math.sqrt(e));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.arrangementOrigin.x,s=this.arrangementOrigin.y;let r=n,o=s,a=0,l=0;const h=t.iterator;for(;h.next();){const t=h.value;t.ensureBounds();const e=t.measuredBounds,s=e.width,u=e.height;t.moveTo(r,o),t instanceof Ie&&(t.ma=!1),r+=Math.max(s,50)+20,l=Math.max(l,Math.max(u,50)),a>=i-1?(a=0,r=n,o+=l+20,l=0):a++}}ma(t){return!!(!t.location.isReal()&&!t.position.isReal()||t instanceof Ie&&t.ma)}Ah(t,e,i,n,s,r,o){const a=e.iterator;for(;a.next();){const e=a.value;if((!i||e.isTopLevel)&&(null===n||n(e))&&e.canLayout())if(s&&e instanceof Se){if(e.isLinkLabel)continue;e instanceof Ie&&null===e.layout?this.Ah(t,e.memberParts,!1,n,s,r,o):(e.ensureBounds(),t.add(e))}else r&&e instanceof Ce?t.add(e):o&&e.Me()&&!(e instanceof Se)&&(e.ensureBounds(),t.add(e))}}getLayoutBounds(t,e){const i=this.boundsComputation;return null!==i?(e||(e=new v),i(t,this,e)):!e&&t.margin.equalTo(0,0,0,0)?t.actualBounds:(e||(e=new v),e.set(t.actualBounds),e.addMargin(t.margin),e)}get boundsComputation(){return this.jd}set boundsComputation(t){this.jd!==t&&(null!==t&&e.S(t,He,"boundsComputation"),this.jd=t,this.invalidateLayout())}collectParts(t){const e=new u;return t instanceof _t?(this.Ah(e,t.nodes,!0,null,!0,!0,!0),this.Ah(e,t.links,!0,null,!0,!0,!0),this.Ah(e,t.parts,!0,null,!0,!0,!0)):t instanceof Ie?this.Ah(e,t.memberParts,!1,null,!0,!0,!0):this.Ah(e,t.iterator,!1,null,!0,!0,!0),e}get arrangementOrigin(){return this.Hd}set arrangementOrigin(t){this.Hd.equals(t)||(this.Hd.a(t),this.invalidateLayout())}initialOrigin(t){const e=this.group;if(null!==e){if(e.hasPlaceholder()){const i=e.placeholder,n=i.getDocumentPoint(x.TopLeft);(isNaN(n.x)||isNaN(n.y))&&n.set(t);const s=i.padding;return n.x+=s.left,n.y+=s.top,n}{const i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),i}}return t}}class Be{ne;xo;Tn;ky;Py;constructor(t){u.qi(this),this.ne=t,this.xo=new u,this.Tn=new u,this.ky=new p,this.Py=new p}clear(){if(this.xo){const t=this.xo.iterator;for(;t.next();)t.value.clear()}if(this.Tn){const t=this.Tn.iterator;for(;t.next();)t.value.clear()}this.xo=new u,this.Tn=new u,this.ky=new p,this.Py=new p}toString(t){void 0===t&&(t=0);let e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(t<=0)return e;if(e+=" vertexes: "+this.xo.count+" edges: "+this.Tn.count,t>1){const i=this.xo.iterator;for(;i.next();){const n=i.value;e+="\n    "+n.toString(t-1)}const n=this.Tn.iterator;for(;n.next();){const i=n.value;e+="\n    "+i.toString(t-1)}}return e}get layout(){return this.ne}set layout(t){null!==t&&(this.ne=t)}get vertexes(){return this.xo}get edges(){return this.Tn}createVertex(){return new ze(this)}createEdge(){return new Ve(this)}addParts(t,i,n){if(null===t)return;void 0===i&&(i=!1),e.s(i,"boolean",Be,"addParts:toplevelonly"),void 0===n&&(n=null),null===n&&(n=t=>{if(t instanceof Se)return!t.isLinkLabel;if(t instanceof Ce){const e=t.fromNode;if(null===e||e.isLinkLabel)return!1;const i=t.toNode;return!(null===i||i.isLinkLabel)}return!1});const s=t.iterator;for(;s.next();){const t=s.value;if(t instanceof Se&&(!i||t.isTopLevel)&&t.canLayout()&&n(t))if(t instanceof Ie&&null===t.layout)this.addParts(t.memberParts,!1);else{if(null!==this.findVertex(t))continue;const e=this.createVertex();e.node=t,this.addVertex(e)}}for(s.reset();s.next();){const t=s.value;if(!(t instanceof Ce)||i&&!t.isTopLevel||!t.canLayout()||!n(t)||null!==this.findEdge(t))continue;const e=t.fromNode,r=t.toNode;if(null===e||null===r||e===r)continue;const o=this.findGroupVertex(e),a=this.findGroupVertex(r);this.linkVertexes(o,a,t)}}findGroupVertex(t){const e=t.findVisibleNode();if(null===e)return null;let i=this.findVertex(e);if(null!==i)return i;let n=e.containingGroup;for(;null!==n;){if(i=this.findVertex(n),null!==i)return i;n=n.containingGroup}return null}addVertex(t){this.xo.add(t);const e=t.node;null!==e&&this.ky.set(e,t),t.network=this}addNode(t){let e=this.findVertex(t);return null===e&&(e=this.createVertex(),e.node=t,this.addVertex(e)),e}deleteVertex(t){if(this.ST(t)){let e=t.tr;for(let t=e.count-1;t>=0;t--){const i=e.elt(t);this.deleteEdge(i)}e=t.ir;for(let t=e.count-1;t>=0;t--){const i=e.elt(t);this.deleteEdge(i)}}}ST(t){const e=this.xo.delete(t);if(e){const e=t.node;null!==e&&this.ky.delete(e)}return e}deleteNode(t){const e=this.findVertex(t);null!==e&&this.deleteVertex(e)}findVertex(t){return this.ky.get(t)}addEdge(t){this.mN(t);const e=t.toVertex;null!==e&&e.addSourceEdge(t);const i=t.fromVertex;null!==i&&i.addDestinationEdge(t)}mN(t){this.Tn.add(t);const e=t.link;null!==e&&null===this.findEdge(e)&&this.Py.set(e,t),t.network=this}addLink(t){const e=t.fromNode,i=t.toNode;let n=this.findEdge(t);return null===n?(n=this.createEdge(),n.link=t,null!==e&&(n.fromVertex=this.addNode(e)),null!==i&&(n.toVertex=this.addNode(i)),this.addEdge(n)):(n.fromVertex=null!==e?this.addNode(e):null,n.toVertex=null!==i?this.addNode(i):null),n}deleteEdge(t){const e=t.toVertex;null!==e&&e.deleteSourceEdge(t);const i=t.fromVertex;null!==i&&i.deleteDestinationEdge(t),this.pN(t)}pN(t){const e=this.Tn.delete(t);if(e){const e=t.link;null!==e&&this.Py.delete(e)}return e}deleteLink(t){const e=this.findEdge(t);null!==e&&this.deleteEdge(e)}findEdge(t){return this.Py.get(t)}linkVertexes(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){const n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.addEdge(n),n}return null}reverseEdge(t){const e=t.fromVertex,i=t.toVertex;null===e||null===i||(e.deleteDestinationEdge(t),i.deleteSourceEdge(t),t.reverseEdge(),e.addSourceEdge(t),i.addDestinationEdge(t))}deleteSelfEdges(){const t=e.rt(),i=this.Tn.iterator;for(;i.next();){const e=i.value;e.fromVertex===e.toVertex&&t.push(e)}const n=t.length;for(let e=0;e<n;e++)this.deleteEdge(t[e]);e.tt(t)}deleteArtificialVertexes(){const t=e.rt(),i=this.xo.iterator;for(;i.next();){const e=i.value;null===e.node&&null===e.data&&t.push(e)}let n=t.length;for(let e=0;e<n;e++)this.deleteVertex(t[e]);const s=e.rt(),r=this.Tn.iterator;for(;r.next();){const t=r.value;null===t.link&&null===t.data&&s.push(t)}n=s.length;for(let e=0;e<n;e++)this.deleteEdge(s[e]);e.tt(t),e.tt(s)}deleteUselessEdges(){const t=e.rt(),i=this.Tn.iterator;for(;i.next();){const e=i.value;(null===e.fromVertex||null===e.toVertex)&&t.push(e)}const n=t.length;for(let e=0;e<n;e++)this.deleteEdge(t[e]);e.tt(t)}isSingleton(t){return!(t.tr.count>0||t.ir.count>0)}splitIntoSubNetworks(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),this.deleteUselessEdges(),this.deleteSelfEdges());const e=new l;let i=!0;for(;i;){i=!1;const t=this.xo.iterator;for(;t.next();){const n=t.value;if(this.isSingleton(n))continue;const s=this.layout.createNetwork();e.add(s),this.vO(s,n),i=!0;break}}return e.sort(((t,e)=>null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count)),e}vO(t,e){if(null===e)return;const i=new l;for(i.add(e);i.count>0;){const e=i.first();if(i.removeAt(0),!e||e.network===t)continue;this.ST(e),t.addVertex(e);let n=e.sourceEdges;for(;n.next();){const e=n.value;e.network!==t&&(this.pN(e),t.mN(e),e.fromVertex&&i.add(e.fromVertex))}for(n=e.destinationEdges;n.next();){const e=n.value;e.network!==t&&(this.pN(e),t.mN(e),e.toVertex&&i.add(e.toVertex))}}}findAllParts(){const t=new u,e=this.xo.iterator;for(;e.next();){const i=e.value;i.node&&t.add(i.node)}const i=this.Tn.iterator;for(;i.next();){const e=i.value;e.link&&t.add(e.link)}return t}}class ze{wo;ei;Le;De;We;tr;ir;constructor(t){u.qi(this),this.wo=t,this.De=new v(0,0,10,10).u(),this.We=new y(5,5).u(),this.ei=null,this.Le=null,this.tr=new l,this.ir=new l}clear(){this.ei=null,this.Le=null,this.tr=new l,this.ir=new l}toString(t){void 0===t&&(t=0);let e="LayoutVertex#"+u.us(this);if(t>0&&(e+=null!==this.node?"("+this.node.toString()+")":"",t>1)){let t="",i=!0,n=this.tr.iterator;for(;n.next();){const e=n.value;i?i=!1:t+=",",t+=e.toString(0)}let s="";for(i=!0,n=this.ir.iterator;n.next();){const t=n.value;i?i=!1:s+=",",s+=t.toString(0)}e+=" sources: "+t+" destinations: "+s}return e}get bo(){return this.tr.rC}get er(){return this.ir.rC}get data(){return this.ei}set data(t){if(this.ei=t,null!==t&&t.bounds){const e=t.bounds,i=e.x,n=e.y,s=e.width,r=e.height;this.We.i(s/2,r/2),this.De.i(i,n,s,r)}}get node(){return this.Le}set node(t){if(this.Le!==t){if(this.Le=t,null===t)return;t.ensureBounds();const e=this.network.layout,i=v.l(),n=e.getLayoutBounds(t,i);let s=n.x,r=n.y;const o=n.width,a=n.height;if(isNaN(s)&&(s=0),isNaN(r)&&(r=0),this.De.i(s,r,o,a),v.e(i),!(t instanceof Ie)){const e=t.locationObject.getDocumentPoint(x.Center);if(e.isReal())return void this.We.i(e.x-s,e.y-r)}this.We.i(o/2,a/2)}}get bounds(){return this.De}set bounds(t){this.De.equals(t)||this.De.a(t)}get focus(){return this.We}set focus(t){this.We.equals(t)||this.We.a(t)}get centerX(){return this.De.x+this.We.x}set centerX(t){const e=this.De;e.x+this.We.x!==t&&(e.At(),e.x=t-this.We.x,e.u())}get centerY(){return this.De.y+this.We.y}set centerY(t){const e=this.De;e.y+this.We.y!==t&&(e.At(),e.y=t-this.We.y,e.u())}get focusX(){return this.We.x}set focusX(t){const e=this.We;e.x!==t&&(e.At(),e.x=t,e.u())}get focusY(){return this.We.y}set focusY(t){const e=this.We;e.y!==t&&(e.At(),e.y=t,e.u())}get x(){return this.De.x}set x(t){const e=this.De;e.x!==t&&(e.At(),e.x=t,e.u())}get y(){return this.De.y}set y(t){const e=this.De;e.y!==t&&(e.At(),e.y=t,e.u())}get width(){return this.De.width}set width(t){const e=this.De;e.width!==t&&(e.At(),e.width=t,e.u())}get height(){return this.De.height}set height(t){const e=this.De;e.height!==t&&(e.At(),e.height=t,e.u())}commit(){const t=this.ei;if(null!==t){const i=this.bounds,n=t.bounds;return void(e.H(n)?(n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height):t.bounds=i.copy())}const i=this.node;if(null!==i){const t=this.bounds;if(!(i instanceof Ie)){const e=v.l();i.ensureBounds();const n=this.network.layout.getLayoutBounds(i,e),s=i.locationObject.getDocumentPoint(x.Center);if(n.isReal()&&s.isReal())return i.moveTo(t.x+this.focusX-(s.x-n.x)+i.margin.left,t.y+this.focusY-(s.y-n.y+i.margin.top)),void v.e(e);v.e(e)}i.moveTo(t.x+i.margin.left,t.y+i.margin.top)}}addSourceEdge(t){null!==t&&(this.tr.has(t)||this.tr.add(t))}deleteSourceEdge(t){null!==t&&this.tr.delete(t)}addDestinationEdge(t){null!==t&&(this.ir.has(t)||this.ir.add(t))}deleteDestinationEdge(t){null!==t&&this.ir.delete(t)}get network(){return this.wo}set network(t){this.wo=t}get sourceVertexes(){const t=new u,e=this.sourceEdges;for(;e.next();){const i=e.value;i.fromVertex&&t.add(i.fromVertex)}return t.iterator}get destinationVertexes(){const t=new u,e=this.destinationEdges;for(;e.next();){const i=e.value;i.toVertex&&t.add(i.toVertex)}return t.iterator}get vertexes(){const t=new u;let e=this.sourceEdges;for(;e.next();){const i=e.value;i.fromVertex&&t.add(i.fromVertex)}for(e=this.destinationEdges;e.next();){const i=e.value;i.toVertex&&t.add(i.toVertex)}return t.iterator}get sourceEdges(){return this.tr.iterator}get destinationEdges(){return this.ir.iterator}get edges(){const t=new l;let e=this.sourceEdges;for(;e.next();){const i=e.value;t.add(i)}for(e=this.destinationEdges;e.next();){const i=e.value;t.add(i)}return t.iterator}get edgesCount(){return this.tr.count+this.ir.count}static standardComparer(t,e){const i=t.Le,n=e.Le;if(i){if(n){const t=i.text,e=n.text;return t<e?-1:t>e?1:0}return 1}return null!==n?-1:0}static smartComparer(t,e){if(null!==t){if(null!==e){const i=t.Le,n=e.Le;if(null!==i){if(null!==n){const t=i.text.toLocaleLowerCase(),e=n.text.toLocaleLowerCase(),s=t.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),r=e.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let o=0;for(;o<s.length;o++){if(""!==r[o]&&void 0!==r[o]){const t=parseFloat(s[o]),e=parseFloat(r[o]);if(isNaN(t)){if(isNaN(e)){if(0!==s[o].localeCompare(r[o]))return s[o].localeCompare(r[o]);continue}return 1}if(isNaN(e))return-1;if(t-e!==0)return t-e;continue}if(""===s[o])continue;return 1}return""!==r[o]&&void 0!==r[o]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0}}class Ve{wo;ei;qe;Je;$e;constructor(t){u.qi(this),this.wo=t,this.ei=null,this.qe=null,this.Je=null,this.$e=null}clear(){this.ei=null,this.qe=null,this.Je=null,this.$e=null}toString(t){void 0===t&&(t=0);let e="LayoutEdge#"+u.us(this);return t>0&&(e+=null!==this.qe?"("+this.qe.toString()+")":"",t>1&&(e+=" "+(this.Je?this.Je.toString():"null")+" --\x3e "+(this.$e?this.$e.toString():"null"))),e}reverseEdge(){const t=this.Je;this.Je=this.$e,this.$e=t}commit(){}getOtherVertex(t){return this.$e===t?this.Je:this.Je===t?this.$e:null}get network(){return this.wo}set network(t){this.wo=t}get data(){return this.ei}set data(t){this.ei!==t&&(this.ei=t)}get link(){return this.qe}set link(t){this.qe!==t&&(this.qe=t)}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}}var We=(t=>(t[t.Position=0]="Position",t[t.Location=1]="Location",t))(We||{}),Ge=(t=>(t[t.LeftToRight=10]="LeftToRight",t[t.RightToLeft=11]="RightToLeft",t))(Ge||{}),Ue=(t=>(t[t.Forwards=20]="Forwards",t[t.Reverse=21]="Reverse",t[t.Ascending=22]="Ascending",t[t.Descending=23]="Descending",t))(Ue||{});class Ke extends He{Wd;Jd;Do;Dn;fi;Gi;xe;be;constructor(t){super(),this.isViewportSized=!0,this.Wd=NaN,this.Jd=NaN,this.Do=new _(NaN,NaN).u(),this.Dn=new _(10,10).u(),this.fi=1,this.Gi=10,this.xe=22,this.be=Ke.standardComparer,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Wd=this.Wd,t.Jd=this.Jd,t.Do.a(this.Do),t.Dn.a(this.Dn),t.fi=this.fi,t.Gi=this.Gi,t.xe=this.xe,t.be=this.be}hi(t){t in Ue?this.sorting=t:t in Ge?this.arrangement=t:t in We?this.alignment=t:super.hi(t)}doLayout(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const e=this.collectParts(t),i=this.diagram,n=e.copy().iterator;for(;n.next();){const t=n.value;if(!t.Rl()||null===t.fromNode&&null===t.toNode){if(t.ensureBounds(),t instanceof Ie){const i=t.memberParts;for(;i.next();){const t=i.value;e.delete(t)}}}else e.delete(t)}const s=e.toArray();if(0===s.length)return;switch(this.sorting){case 20:break;case 21:s.reverse();break;case 22:s.sort(this.comparer);break;case 23:s.sort(this.comparer),s.reverse();break}let r=this.wrappingColumn;isNaN(r)&&(r=0);let o=this.wrappingWidth;if(isNaN(o)&&null!==i){const t=i.viewportBounds,e=i.padding;o=Math.max(t.width-e.left-e.right,0)}else o=Math.max(this.wrappingWidth,0);r<=0&&o<=0&&(r=1);let a=this.spacing.width;isFinite(a)||(a=0);let l=this.spacing.height;isFinite(l)||(l=0),null!==i&&i.startTransaction("Layout");const h=[];switch(this.alignment){case 0:this.OO(s,o,r,a,l,h);break;case 1:this.IO(s,o,r,a,l,h);break}let u=0,c=0,d=0;for(let f=0;f<h.length;f++){const t=h[f];u=Math.min(u,t.x),c=Math.min(c,t.y),d=Math.max(d,t.x+t.width)}11===this.arrangement?this.commitLayers(h,new y(u+a/2-(d+u),c-l/2)):this.commitLayers(h,new y(u-a/2,c-l/2)),null!==i&&i.commitTransaction("Layout"),this.isValidLayout=!0}OO(t,e,i,n,s,r){const o=v.l();let a=Math.max(this.cellSize.width,1);if(!isFinite(a)){a=0;for(let e=0;e<t.length;e++){const i=t[e],n=this.getLayoutBounds(i,o);a=Math.max(a,n.width)}}a+=n,a=Math.max(a,1);let l=Math.max(this.cellSize.height,1);if(!isFinite(l)){l=0;for(let e=0;e<t.length;e++){const i=t[e],n=this.getLayoutBounds(i,o);l=Math.max(l,n.height)}}l+=s,l=Math.max(l,1);const h=this.arrangement,u=this.arrangementOrigin.x,c=this.arrangementOrigin.y;let d=u,f=c,m=0,g=0;for(let p=0;p<t.length;p++){const c=t[p],y=this.getLayoutBounds(c,o),_=Math.ceil((y.width+n)/a),b=Math.ceil((y.height+s)/l),x=_*a,M=b*l;let w=0;switch(h){case 11:w=Math.abs(d-y.width);break;default:w=d+y.width;break}(i>0&&m>i-1||e>0&&m>0&&w-u>e)&&(r.push(new v(0,f,e+n,g)),m=0,d=u,f+=g,g=0),g=Math.max(g,M);let k=0;switch(h){case 11:k=-y.width;break;default:k=0;break}switch(c.moveTo(d+k+c.margin.left,f+c.margin.top),h){case 11:d-=x;break;default:d+=x;break}m++}r.push(new v(0,f,e+n,g)),v.e(o)}IO(t,e,i,n,s,r){const o=v.l();let a=Math.max(this.cellSize.width,1),l=0,h=0,u=0;const c=y.l();for(let y=0;y<t.length;y++){const e=t[y],i=this.getLayoutBounds(e,o),n=e.getRelativePoint(e.locationObject,e.locationSpot,c);l=Math.max(l,n.x),h=Math.max(h,i.width-n.x),u=Math.max(u,n.y)}const d=this.arrangement;switch(d){case 11:l+=n;break;default:h+=n;break}a=isFinite(a)?Math.max(a+n,1):Math.max(l+h,1);const f=this.arrangementOrigin.x,m=this.arrangementOrigin.y;let g=f,p=m,_=0;e>=l&&(e-=l);let b=0,x=0;const M=Math.max(this.cellSize.height,1);u=0;let k=0,L=!0;const S=y.l();for(let y=0;y<t.length;y++){const l=t[y],h=this.getLayoutBounds(l,o),m=l.getRelativePoint(l.locationObject,l.locationSpot,c);if(_>0)switch(d){case 11:{let t=(g-f-(h.width-m.x))/a;t=w.Y(Math.round(t),t)?Math.round(t):Math.floor(t),g=t*a+f;break}default:{let t=(g-f+m.x)/a;t=w.Y(Math.round(t),t)?Math.round(t):Math.ceil(t),g=t*a+f;break}}else switch(d){case 11:b=g+m.x+h.width;break;default:b=g-m.x;break}let T=0;switch(d){case 11:T=-(g+m.x)+b;break;default:T=g+h.width-m.x-b;break}if(i>0&&_>i-1||e>0&&_>0&&T>e){r.push(new v(0,L?p-u:p,e+n,k+u+s));for(let e=0;e<_&&y!==_;e++){const i=t[y-_+e],n=i.getRelativePoint(i.locationObject,i.locationSpot,S);i.moveTo(i.position.x,i.position.y+u-n.y)}k+=s,p+=L?k:k+u,u=0,k=0,_=0,g=f,L=!1}switch(g===f&&(x=11===d?Math.max(x,h.width-m.x):Math.min(x,-m.x)),u=Math.max(u,m.y),k=Math.max(k,h.height-m.y),isFinite(M)&&(k=Math.max(k,Math.max(h.height,M)-m.y)),L?l.moveTo(g-m.x,p-m.y):l.moveTo(g-m.x,p),d){case 11:g-=m.x+n;break;default:g+=h.width-m.x+n;break}_++}if(r.push(new v(0,p,e+n,(L?k:k+u)+s)),t.length!==_)for(let y=0;y<_;y++){const e=t[t.length-_+y],i=e.getRelativePoint(e.locationObject,e.locationSpot,c);e.moveTo(e.position.x,e.position.y+u-i.y)}if(y.e(c),y.e(S),11===d)for(let y=0;y<r.length;y++){const t=r[y];t.width+=x,t.x-=x}else for(let y=0;y<r.length;y++){const t=r[y];t.x>x&&(t.width+=t.x-x,t.x=x)}v.e(o)}commitLayers(t,e){}get wrappingWidth(){return this.Wd}set wrappingWidth(t){this.Wd!==t&&(e.s(t,"number",Ke,"wrappingWidth"),(t>0||isNaN(t))&&(this.Wd=t,this.isViewportSized=isNaN(t),this.invalidateLayout()))}get wrappingColumn(){return this.Jd}set wrappingColumn(t){this.Jd!==t&&(e.s(t,"number",Ke,"wrappingColumn"),(t>0||isNaN(t))&&(this.Jd=t,this.invalidateLayout()))}get cellSize(){return this.Do}set cellSize(t){this.Do.equals(t)||(this.Do.a(t),this.invalidateLayout())}get spacing(){return this.Dn}set spacing(t){this.Dn.equals(t)||(this.Dn.a(t),this.invalidateLayout())}get alignment(){return this.fi}set alignment(t){this.fi!==t&&(1===t||0===t)&&(this.fi=t,this.invalidateLayout())}get arrangement(){return this.Gi}set arrangement(t){this.Gi!==t&&(10===t||11===t)&&(this.Gi=t,this.invalidateLayout())}get sorting(){return this.xe}set sorting(t){this.xe!==t&&(20===t||21===t||22===t||23===t)&&(this.xe=t,this.invalidateLayout())}get comparer(){return this.be}set comparer(t){this.be!==t&&(e.S(t,Ke,"comparer"),this.be=t,this.invalidateLayout())}static standardComparer(t,e){const i=t.text,n=e.text;return i<n?-1:i>n?1:0}static smartComparer(t,e){if(null!==t){if(null!==e){const i=t.text.toLocaleLowerCase(),n=e.text.toLocaleLowerCase(),s=i.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),r=n.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let o=0;for(;o<s.length;o++){if(""!==r[o]&&void 0!==r[o]){const t=parseFloat(s[o]),e=parseFloat(r[o]);if(isNaN(t)){if(isNaN(e)){if(0!==s[o].localeCompare(r[o]))return s[o].localeCompare(r[o]);continue}return 1}if(isNaN(e))return-1;if(t-e!==0)return t-e;continue}if(""===s[o])continue;return 1}return""!==r[o]&&void 0!==r[o]?-1:0}return 1}return null!==e?-1:0}static Position=0;static Location=1;static LeftToRight=10;static RightToLeft=11;static Forward=20;static Reverse=21;static Ascending=22;static Descending=23}class Xe{$d;Zs;Tt;ko;Zd;Qd;L;yN;constructor(){this.$d=new u,this.Zs=new u,this.Tt=new u,this.ko=new p,this.Zd=new p,this.Qd=new p,this.L=null,this.yN=!1}clear(){this.$d.clear(),this.Zs.clear(),this.Tt.clear(),this.ko.clear(),this.Zd.clear(),this.Qd.clear()}Ro(t){this.L=t}_h(t){if(t instanceof Se){if(this.$d.add(t),t instanceof Ie){const e=t.containingGroup;null===e?this.diagram.qr.add(t):e.ga.add(t);const i=t.layout;null!==i&&(i.diagram=this.diagram)}}else t instanceof Ce?(this.Zs.add(t),t.isAvoiding&&(this.diagram.Gm=!0)):t instanceof ke||this.Tt.add(t);const e=t.data;null!==e&&(t instanceof ke||(t instanceof Ce?this.MT(e,t):this.ko.set(e,t)))}se(t){if(t.clearAdornments(),t instanceof Se){if(this.$d.delete(t),t instanceof Ie){const e=t.containingGroup;null===e?this.diagram.qr.delete(t):e.ga.delete(t);const i=t.layout;null!==i&&(i.diagram=null)}}else t instanceof Ce?this.Zs.delete(t):t instanceof ke||this.Tt.delete(t);const e=t.data;null!==e&&(t instanceof ke||(t instanceof Ce?this.NT(e,t):this.ko.delete(e)))}MT(t,e){this.Zd.set(t,e)}NT(t,e){this.Zd.delete(t)}rebuildParts(){const t=this.diagram;if(null===t)return;const i=t.nodeTemplateMap.iterator;for(;i.next();){const t=i.value,n=i.key;(!t.Me()||t instanceof Ie)&&e.o(`Invalid node template in Diagram.nodeTemplateMap: template for "${n}" must be a Node or a simple Part, not a Group or Link: ${t}`)}const n=t.groupTemplateMap.iterator;for(;n.next();){const t=n.value,i=n.key;t instanceof Ie||e.o(`Invalid group template in Diagram.groupTemplateMap: template for "${i}" must be a Group, not a normal Node or Link: ${t}`)}const s=t.linkTemplateMap.iterator;for(;s.next();){const t=s.value,i=s.key;t instanceof Ce||e.o(`Invalid link template in Diagram.linkTemplateMap: template for "${i}" must be a Link, not a normal Node or simple Part: ${t}`)}const r=e.rt(),o=t.selection.iterator;for(;o.next();){const t=o.value.data;t&&r.push(t)}const a=e.rt(),l=t.highlighteds.iterator;for(;l.next();){const t=l.value.data;t&&a.push(t)}const h=e.rt(),u=this.nodes.iterator;for(;u.next();){const t=u.value;null!==t.data&&(h.push(t.data),h.push(t.location))}const c=this.links.iterator;for(;c.next();){const t=c.value;null!==t.data&&(h.push(t.data),h.push(t.location))}const d=this.parts.iterator;for(;d.next();){const t=d.value;null!==t.data&&(h.push(t.data),h.push(t.location))}this.CT(),this.vM();for(let e=0;e<r.length;e++){const t=this.findPartForData(r[e]);null!==t&&(t.isSelected=!0)}for(let e=0;e<a.length;e++){const t=this.findPartForData(a[e]);null!==t&&(t.isHighlighted=!0)}for(let e=0;e<h.length;e+=2){const t=this.findPartForData(h[e]);null!==t&&(t.location=h[e+1])}e.tt(r),e.tt(a),e.tt(h)}vM(){const t=this.diagram.model;this.Sy(t.nodeDataArray)}Sy(t,e){const i=this.diagram.model;t.forEach((t=>{i.containsNodeData(t)&&this.LT(t,!1)})),t.forEach((t=>{i.containsNodeData(t)&&this.N1(t)})),!1!==e&&this.diagram.xb(!1)}LT(t,e){if(null==t||this.diagram.undoManager.isUndoingRedoing||this.ko.has(t))return null;void 0===e&&(e=!0);const i=this.EO(t);return null!==i&&e&&this.N1(t),i}EO(t){if(null==t||this.diagram.undoManager.isUndoingRedoing||this.ko.has(t))return null;const e=this.BO(t),i=this.findTemplateForNodeData(t,e);if(null!==i){i.Vt();const n=i.copy();if(null!==n){const i=this.diagram.ge;return this.diagram.ge=!0,n.Wo=e,n.ei=t,this.addsToTemporaryLayer&&(n.fl="Tool"),this.diagram.add(n),n.ei=null,n.data=t,this.diagram.ge=i,n}}return null}insertLink(t,e,i,n){return null}N1(t){}BO(t){return this.diagram.model.getCategoryForNodeData(t)}static AT=!1;static TT=!1;findTemplateForNodeData(t,i){const n=this.diagram,s=n.model,r=s.Zc()&&s.isGroupForData(t);let o=null;return r?(o=n.groupTemplateMap.get(i),null===o&&(o=n.groupTemplateMap.get(""),null===o&&(Xe.TT||(Xe.TT=!0,e.li('No Group template found for category "'+i+'"'),e.li("  Using default group template")),o=n.cM))):(o=n.nodeTemplateMap.get(i),null===o&&(o=n.nodeTemplateMap.get(""),null===o&&(Xe.AT||(Xe.AT=!0,e.li('No Node template found for category "'+i+'"'),e.li("  Using default node template")),o=n.lM))),o}getLinkCategoryForData(t){return""}setLinkCategoryForData(t,e){}setFromNodeForLink(t,e,i){}setToNodeForLink(t,e,i){}static DT=!1;findLinkTemplateForCategory(t){const i=this.diagram;let n=i.linkTemplateMap.get(t);return null===n&&(n=i.linkTemplateMap.get(""),null===n&&(Xe.DT||(Xe.DT=!0,e.li('No Link template found for category "'+t+'"'),e.li("  Using default link template")),n=i.hM)),n}Cv(t,e,i){t instanceof Ce?(null!==e&&this.NT(e,t),null!==i&&this.MT(i,t)):t instanceof Me&&(null!==e&&this.ko.delete(e),null!==i&&this.ko.set(i,t))}CT(){const t=this.diagram.model;this.wN(t.nodeDataArray)}wN(t){t.forEach((t=>{this.C1(t)}))}C1(t){const e=this.findPartForData(t);null!==e&&(this.diagram.DM(e,!1),this.xN(e))}xN(t){}aN(t){}findPartForKey(t){if(null==t)return null;const e=this.diagram.model.findNodeDataForKey(t);return null!==e?this.ko.get(e):null}findNodeForKey(t){if(null==t)return null;const e=this.diagram.model.findNodeDataForKey(t);if(null===e)return null;const i=this.ko.get(e);return i instanceof Se?i:null}findLinkForKey(t){return null}findPartForData(t){if(null===t)return null;let e=this.ko.get(t);return null!==e||(e=this.Zd.get(t)),e}findNodeForData(t){if(null===t)return null;const e=this.ko.get(t);return e instanceof Se?e:null}findLinkForData(t,e){return null===t?null:this.Zd.get(t)}findNodesByExample(...t){const i=new u,n=this.$d.iterator;for(;n.next();){const t=n.value,s=t.data;if(null!==s)for(let n=0;n<arguments.length;n++){const r=arguments[n];if(e.H(r)&&this.bN(s,r)){i.add(t);break}}}return i.iterator}findLinksByExample(...t){const i=new u,n=this.Zs.iterator;for(;n.next();){const t=n.value,s=t.data;if(null!==s)for(let n=0;n<arguments.length;n++){const r=arguments[n];if(e.H(r)&&this.bN(s,r)){i.add(t);break}}}return i.iterator}bN(t,e){for(const i in e){const n=t[i],s=e[i];if(Array.isArray(s)){if(!Array.isArray(n))return!1;const t=n,e=s;if(t.length<e.length)return!1;for(let i=0;i<t.length;i++){const n=t[i],s=e[i];if(void 0!==s&&!this.FT(n,s))return!1}}else if(!this.FT(n,s))return!1}return!0}FT(t,i){if(e.ot(i)){if(!i(t))return!1}else if(i instanceof RegExp){if(!t||!i.test(t.toString()))return!1}else if(e.H(t)&&e.H(i)){if(!this.bN(t,i))return!1}else if(t!==i)return!1;return!0}doModelDataChanged(t){if(t.model===this.diagram.model&&this.diagram.K){this.diagram.K=!1;try{const e=t.change;""===t.modelChange&&null!==t.object&&2===e&&this.My(t.object,t.propertyName)}finally{this.diagram.K=!0}}}doModelChanged(t){const i=this.diagram;if(!i||t.model!==i.model)return;const n=t.change;if(i.AR(t),i.K){i.K=!1;try{const s=t.modelChange;if(""!==s)if(2===n){if("nodeCategory"===s){const e=t.object;if(null!==e){const i=this.findPartForData(e),n=t.newValue;null!==i&&"string"==typeof n&&(i.category=n)}}else if("nodeDataArray"===s){const e=t.oldValue;this.wN(e);const i=t.newValue;this.Sy(i)}i.isModified=!0}else if(3===n){const n=t.newValue;"nodeDataArray"===s&&e.H(n)&&this.LT(n),i.isModified=!0}else if(4===n){const n=t.oldValue;"nodeDataArray"===s&&e.H(n)&&this.C1(n),i.isModified=!0}else 1===n&&("SourceChanged"===s?null!==t.object?this.My(t.object,t.propertyName):(this.updateAllRelationshipsFromData(),this.updateAllTargetBindings()):"ModelDisplaced"===s&&this.rebuildParts());else if(2===n){const e=t.propertyName,n=t.object,s=i.model;n===s?("nodeKeyProperty"===e||"nodeCategoryProperty"===e)&&(i.undoManager.isUndoingRedoing||this.rebuildParts()):null!==n&&this.My(n,e),i.isModified=!0}else(3===n||4===n)&&(this.UO(t,i.model),i.isModified=!0)}finally{i.K=!0}}}updateAllTargetBindings(t){void 0===t&&(t="");let e=this.parts.iterator;for(;e.next();)e.value.updateTargetBindings(t);for(e=this.nodes.iterator;e.next();)e.value.updateTargetBindings(t);for(e=this.links.iterator;e.next();)e.value.updateTargetBindings(t)}updateAllThemeBindings(){let t=this.parts.iterator;for(;t.next();)t.value.Uo();for(t=this.nodes.iterator;t.next();)t.value.Uo();for(t=this.links.iterator;t.next();)t.value.Uo()}updateAllRelationshipsFromData(){const t=this.diagram.model,e=new u,i=t.nodeDataArray;for(let r=0;r<i.length;r++){const t=i[r];e.add(t)}const n=[];this.nodes.each((t=>{null!==t.data&&!e.has(t.data)&&n.push(t.data)})),this.parts.each((t=>{null!==t.data&&!e.has(t.data)&&n.push(t.data)})),n.forEach((e=>t.RT(e,!1)));for(let r=0;r<i.length;r++){const e=i[r];null===this.findPartForData(e)&&t.vT(e,!1)}this.OT();let s=this.parts.iterator;for(;s.next();)s.value.updateRelationshipsFromData();for(s=this.nodes.iterator;s.next();)s.value.updateRelationshipsFromData();for(s=this.links.iterator;s.next();)s.value.updateRelationshipsFromData()}OT(){}updateRelationshipsFromData(t){}My(t,i){if("string"==typeof i){const n=this.findPartForData(t);if(null!==n)n.updateTargetBindings(i);else{const n=this.VO(t);if(null!==n&&n.length>0){for(let e=0;e<n.length;e++)n[e].updateTargetBindings(i);const t=n[0].part;if(null!==t){const e=t.adornments;for(;e.next();)e.value.updateTargetBindings(i)}e.tt(n)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(i)}}VO(t){let i=null;const n=this.Qd.iterator;for(;n.next();){const s=n.value;for(let n=0;n<s.length;n++){const r=s[n].findItemPanelForData(t);null!==r&&(null===i&&(i=e.rt()),i.push(r))}if(null!==i)break}return i}kN(t){return this.Qd.get(t)}UO(t,e){const i=t.object;if(!Array.isArray(i))return;const n=3===t.change,s=n?t.newParam:t.oldParam,r=n?t.newValue:t.oldValue,o=this.kN(i);if(Array.isArray(o))for(let a=0;a<o.length;a++){const t=o[a];n?t.Jb(r,s,!0):t.Av(s)}}AM(t,e){null!==e&&t.$r((t=>e.BL(t)));const i=t.Ph;if(Array.isArray(i)){const e=this.kN(i);if(null===e)this.Qd.set(i,[t]);else{for(let i=0;i<e.length;i++)if(e[i]===t)return;e.push(t)}}}TM(t,e){t.$r((t=>e.DR(t)));const i=t.Ph;if(Array.isArray(i)){const e=this.kN(i);if(null!==e)for(let n=0;n<e.length;n++)if(e[n]===t)return e.splice(n,1),void(0===e.length&&this.Qd.delete(i))}}copyParts(t,e,i){void 0===i&&(i=!1);const n=new p;if(Array.isArray(t))for(let r=0;r<t.length;r++)this.L1(t[r],e,n,i);else{const s=t.iterator;for(;s.next();)this.L1(s.value,e,n,i)}if(null!==e){const t=e.model,i=e.a0().dragsLink,s=new u,r=new p,o=n.iterator;for(;o.next();){const a=o.value;if(a instanceof Ce)!i&&(null===a.fromNode||null===a.toNode)&&s.add(a);else if(a instanceof Se&&null!==a.data)if(t.km()){const i=a,s=o.key,l=s.findTreeParentNode();if(null!==l){const o=n.get(l);if(null!==o){t.setParentKeyForNodeData(i.data,t.getKeyForNodeData(o.data));const n=e.findLinkForData(i.data),a=s.findTreeParentLink();null!==a&&null!==n&&r.set(a,n)}}}else if(t.yb()){const i=a,s=o.key,l=t.isRelatedKeysPathTo?s.findNodesOutOf():s.findNodesInto();for(;l.next();){const o=l.value,a=n.get(o);if(null!==a){t.addRelatedKeyForNodeData(i.data,a.key);const n=e.partManager.findLinkForData(i.data,a.key),l=this.findLinkForData(s.data,o.key);null!==l&&null!==n&&r.set(l,n)}else t.removeRelatedKeyForNodeData(i.data,o.key)}}}if(s.count>0&&e.removeParts(s,!1),r.count>0){const t=r.iterator;for(;t.next();){const e=t.key,i=t.value;n.set(e,i)}}}if(null!==e&&null!==this.diagram){const t=e.model,i=t.afterCopyFunction;if(null!==i){const e=new p;n.each((t=>{null!==t.key.data&&e.set(t.key.data,t.value.data)}));const s=this.diagram.model;i(e,t,s)}}const s=n.iterator;for(;s.next();)s.value.updateTargetBindings();return n}L1(t,e,i,n){if(null===t||n&&!t.canCopy())return null;if(i.has(t))return i.get(t);const s=this.PN(t,e);if(!(s instanceof Me))return null;if(s.isSelected=!1,s.isHighlighted=!1,i.set(t,s),t instanceof Se){const r=t.linksConnected;for(;r.next();){const e=r.value;if(e.fromNode===t){const t=i.get(e);null!==t&&(t.fromNode=s)}if(e.toNode===t){const t=i.get(e);null!==t&&(t.toNode=s)}}if(t instanceof Ie&&s instanceof Ie){const r=t.memberParts;for(;r.next();){const t=r.value,o=this.L1(t,e,i,n);o instanceof Ce||null!==o&&(o.containingGroup=s)}}}else if(t instanceof Ce&&s instanceof Ce){const r=t.fromNode;if(null!==r){const t=i.get(r);null!==t&&(s.fromNode=t)}const o=t.toNode;if(null!==o){const t=i.get(o);null!==t&&(s.toNode=t)}const a=t.labelNodes;for(;a.next();){const t=a.value,r=this.L1(t,e,i,n);null!==r&&r instanceof Se&&(r.labeledLink=s)}}return s}PN(t,i){let n=null;const s=t.data;if(null!==s&&null!==i){const r=i.model;if(!(t instanceof Ce)){const t=r.copyNodeData(s);e.H(t)&&(r.addNodeData(t),n=i.findPartForData(t))}}else if(t.Vt(),n=t.copy(),null!==n){const t=this.diagram;if(null!==i)i.add(n);else if(null!==s&&null!==t&&null!==t.commandHandler&&t.commandHandler.copiesClipboardData){const i=t.model;let r=null;n instanceof Ce||(r=i.copyNodeData(s)),e.H(r)&&(n.data=r)}}return n}get nodes(){return this.$d}get links(){return this.Zs}get parts(){return this.Tt}get diagram(){return this.L}get addsToTemporaryLayer(){return this.yN}set addsToTemporaryLayer(t){this.yN=t}}class qe extends Xe{vM(){const t=this.diagram.model;this.Sy(t.nodeDataArray),this.IT(t.linkDataArray)}Sy(t){super.Sy(t,!1);const e=this.links.iterator;for(;e.next();)e.value.Ld();this.diagram.xb(!1)}IT(t){t.forEach((t=>{this.ET(t)})),this.diagram.xb(!1)}ET(t){if(null==t||this.diagram.undoManager.isUndoingRedoing||this.findLinkForData(t))return null;const e=this.getLinkCategoryForData(t),i=this.findLinkTemplateForCategory(e);if(null!==i){i.Vt();const n=i.copy();if(null!==n){const i=this.diagram.ge;this.diagram.ge=!0,n.Wo=e,n.ei=t;const s=this.diagram.model,r=s.A1(t,!0);""!==r&&(n.fromPortId=r);const o=s.Fe(t,!0);if(void 0!==o){const t=this.findNodeForKey(o);t instanceof Se&&(n.fromNode=t)}const a=s.A1(t,!1);""!==a&&(n.toPortId=a);const l=s.Fe(t,!1);if(void 0!==l){const t=this.findNodeForKey(l);t instanceof Se&&(n.toNode=t)}const h=s.getLabelKeysForLinkData(t);return Array.isArray(h)&&h.forEach((t=>{const e=this.findNodeForKey(t);null!==e&&(e.labeledLink=n)})),this.addsToTemporaryLayer&&(n.fl="Tool"),this.diagram.add(n),n.ei=null,n.data=t,this.diagram.ge=i,n}}return null}CT(){const t=this.diagram.model;this.BT(t.linkDataArray),this.wN(t.nodeDataArray)}BT(t){t.forEach((t=>{this.C1(t)}))}getLinkCategoryForData(t){return this.diagram.model.getCategoryForLinkData(t)}setLinkCategoryForData(t,e){return this.diagram.model.setCategoryForLinkData(t,e)}setFromNodeForLink(t,e){const i=this.diagram.model,n=null!==e?e.data:null;i.setFromKeyForLinkData(t.data,i.getKeyForNodeData(n))}setToNodeForLink(t,e){const i=this.diagram.model,n=null!==e?e.data:null;i.setToKeyForLinkData(t.data,i.getKeyForNodeData(n))}aN(t){this.diagram.model.removeLinkData(t.data)}findPartForKey(t){const e=super.findPartForKey(t);if(null===e){const e=this.diagram.model.findLinkDataForKey(t);if(null!==e)return this.findLinkForData(e)}return e}findLinkForKey(t){if(null==t)return null;const e=this.diagram.model.findLinkDataForKey(t);return null!==e?this.findLinkForData(e):null}doModelChanged(t){if(super.doModelChanged(t),!this.diagram)return;const i=this.diagram;if(t.model!==i.model)return;const n=t.change;if(i.K){i.K=!1;try{const s=t.modelChange;if(""!==s){if(2===n){if("linkFromKey"===s){const e=t.object,i=this.findLinkForData(e);if(null!==i){const e=t.newValue,n=this.findNodeForKey(e);i.fromNode=n}}else if("linkToKey"===s){const e=t.object,i=this.findLinkForData(e);if(null!==i){const e=t.newValue,n=this.findNodeForKey(e);i.toNode=n}}else if("linkFromPortId"===s){const e=t.object,i=this.findLinkForData(e);if(null!==i){const e=t.newValue;"string"==typeof e&&(i.fromPortId=e)}}else if("linkToPortId"===s){const e=t.object,i=this.findLinkForData(e);if(null!==i){const e=t.newValue;"string"==typeof e&&(i.toPortId=e)}}else if("nodeGroupKey"===s){const e=t.object,i=this.findPartForData(e);if(null!==i){const e=t.newValue;if(void 0!==e){const t=this.findNodeForKey(e);i.containingGroup=t instanceof Ie?t:null}else i.containingGroup=null}}else if("linkLabelKeys"===s){const e=t.object,i=this.findLinkForData(e);if(null!==i){const e=t.oldValue,n=t.newValue;Array.isArray(e)&&e.forEach((t=>{if(n.indexOf(t)>=0)return;const e=this.findNodeForKey(t);null!==e&&(e.labeledLink=null)})),Array.isArray(n)&&n.forEach((t=>{const e=this.findNodeForKey(t);null!==e&&(e.labeledLink=i)}))}}else if("linkCategory"===s){const e=t.object,i=this.findLinkForData(e),n=t.newValue;null!==i&&"string"==typeof n&&(i.category=n)}else if("linkDataArray"===s){const e=t.oldValue;this.BT(e);const i=t.newValue;this.IT(i)}i.isModified=!0}else if(3===n){const n=t.newValue;if("linkDataArray"===s&&e.H(n))this.ET(n);else if("linkLabelKeys"===s&&t.model.isKeyType(n)){const e=t.object,i=this.findLinkForData(e),s=this.findNodeForKey(n);null!==i&&null!==s&&(s.labeledLink=i)}i.isModified=!0}else if(4===n){const n=t.oldValue;if("linkDataArray"===s&&e.H(n))this.C1(n);else if("linkLabelKeys"===s&&t.model.isKeyType(n)){const t=this.findNodeForKey(n);null!==t&&(t.labeledLink=null)}i.isModified=!0}}else if(2===n){const e=t.propertyName,n=t.object,s=i.model;n===s&&("linkFromKeyProperty"===e||"linkToKeyProperty"===e||"linkFromPortIdProperty"===e||"linkToPortIdProperty"===e||"linkLabelKeysProperty"===e||"nodeIsGroupProperty"===e||"nodeGroupKeyProperty"===e||"linkCategoryProperty"===e)&&(i.undoManager.isUndoingRedoing||this.rebuildParts()),i.isModified=!0}}finally{i.K=!0}}}OT(){const t=this.diagram.model,e=new u,i=t.linkDataArray;i.forEach((t=>{e.add(t)}));const n=[];this.links.each((t=>{null!==t.data&&!e.has(t.data)&&n.push(t.data)})),n.forEach((e=>{t.UT(e,!1)})),i.forEach((e=>{null===this.findLinkForData(e)&&t.VT(e,!1)}))}updateRelationshipsFromData(t){const e=t.data;if(null===e)return;const i=t.diagram;if(null===i)return;const n=i.model;if(t instanceof Ce){let s=n.Fe(e,!0),r=i.findNodeForKey(s);t.fromNode=r,s=n.Fe(e,!1),r=i.findNodeForKey(s),t.toNode=r;const o=n.getLabelKeysForLinkData(e);if(o.length>0||t.labelNodes.count>0){if(1===o.length&&1===t.labelNodes.count){const e=o[0],i=t.labelNodes.first();if(n.getKeyForNodeData(i.data)===e)return}const e=(new u).addAll(o),s=new u;t.labelNodes.each((t=>{if(null!==t.data){const e=n.getKeyForNodeData(t.data);void 0!==e&&s.add(e)}}));const r=s.copy();r.removeAll(e);const a=e.copy();if(a.removeAll(s),r.count>0||a.count>0){const e=t;r.each((t=>{const n=i.findNodeForKey(t);null!==n&&n.labeledLink===e&&(n.labeledLink=null)})),a.each((t=>{const n=i.findNodeForKey(t);null!==n&&n.labeledLink!==e&&(n.labeledLink=e)}))}}}else if(!(t instanceof ke)){const s=n.getGroupKeyForNodeData(e),r=i.findPartForKey(s);(null===r||r instanceof Ie)&&(t.containingGroup=r)}}N1(t){const e=this.diagram.model,i=e.getKeyForNodeData(t);if(void 0!==i){const n=e.Ny(i),s=this.findPartForData(t);if(null!==n&&null!==s){const t=n.iterator;for(;t.next();){const n=t.value;if(e.containsNodeData(n)){if(s instanceof Ie&&e.getGroupKeyForNodeData(n)===i){const t=this.findPartForData(n);null!==t&&(t.containingGroup=s)}}else{const t=this.findLinkForData(n);if(null!==t&&s instanceof Se){e.Fe(n,!0)===i&&(t.fromNode=s),e.Fe(n,!1)===i&&(t.toNode=s);const r=e.getLabelKeysForLinkData(n);Array.isArray(r)&&r.some((e=>e===i&&(s.labeledLink=t,!0)))}}}e._s(i)}const r=e.getGroupKeyForNodeData(t);if(void 0!==r){const t=this.findNodeForKey(r);t instanceof Ie&&(s.containingGroup=t)}}}xN(t){const e=this.diagram.model;if(t instanceof Se){const i=e.getKeyForNodeData(t.data);if(void 0!==i){const n=t.linksConnected;for(;n.next();){const t=n.value;e.tn(i,t.data)}if(t.isLinkLabel){const n=t.labeledLink;null!==n&&e.tn(i,n.data)}if(t instanceof Ie){const n=t.memberParts;for(;n.next();){const t=n.value.data;e.containsNodeData(t)&&e.tn(i,t)}}}}}PN(t,i){let n=super.PN(t,i);if(t instanceof Ce){const s=t.data;if(null!==s&&null!==i){const t=i.model,r=t.copyLinkData(s);e.H(r)&&(t.addLinkData(r),n=i.findLinkForData(r))}else if(null!==n){const t=this.diagram;if(null!==s&&null!==t&&null!==t.commandHandler&&t.commandHandler.copiesClipboardData){const i=t.model.copyLinkData(s);e.H(i)&&(n.data=i)}}}return n}insertLink(t,i,n,s){const r=this.diagram,o=r.model,a=r.toolManager.findTool("Linking");let l="";null!==t&&(null===i&&(i=t),l=i.portId,null===l&&(l=""));let h="";null!==n&&(null===s&&(s=n),h=s.portId,null===h&&(h=""));const u=a.archetypeLinkData;if(u instanceof Ce){u.Vt();const e=u.copy();if(null!==e){e.fromNode=t,e.fromPortId=l,e.toNode=n,e.toPortId=h,r.add(e);const i=a.archetypeLabelNodeData;if(i instanceof Se){i.Vt();const t=i.copy();null!==t&&(t.labeledLink=e,r.add(t))}return e}}else if(null!==u){const i=o.copyLinkData(u);if(e.H(i)){null!==t&&o._d(i,o.getKeyForNodeData(t.data),!0),o.tg(i,l,!0),null!==n&&o._d(i,o.getKeyForNodeData(n.data),!1),o.tg(i,h,!1),o.addLinkData(i);const s=a.archetypeLabelNodeData;if(null!==s&&!(s instanceof Se)){const t=o.copyNodeData(s);if(e.H(t)){o.addNodeData(t);const e=o.getKeyForNodeData(t);void 0!==e&&o.addLabelKeyForLinkData(i,e)}}return r.findLinkForData(i)}}return null}}class Je extends Xe{Th=null;T1(t,e){if(null===t||null===e||null!==e.findTreeParentLink())return null;const i=this.diagram.toolManager.findTool("Linking");let n=t,s=e;if(this.diagram.isTreePathToChildren){if(null!==i&&i.Pu(n,s,null,!0))return null}else if(n=e,s=t,null!==i&&i.Pu(n,s,null,!0))return null;const r=this.getLinkCategoryForData(e.data),o=this.findLinkTemplateForCategory(r);if(null!==o){o.Vt();const t=o.copy();if(null!==t){const i=this.diagram.ge;return this.diagram.ge=!0,t.Wo=r,t.ei=e.data,t.fromNode=n,t.toNode=s,this.diagram.add(t),t.ei=null,t.data=e.data,this.diagram.ge=i,t}}return null}getLinkCategoryForData(t){return this.diagram.model.getParentLinkCategoryForNodeData(t)}setLinkCategoryForData(t,e){this.diagram.model.setParentLinkCategoryForNodeData(t,e)}setFromNodeForLink(t,e,i){const n=this.diagram.model;void 0===i&&(i=null);const s=null!==e?e.data:null;if(this.diagram.isTreePathToChildren)n.setParentKeyForNodeData(t.data,n.getKeyForNodeData(s));else{const e=this.Th;this.Th=t,null!==i&&n.setParentKeyForNodeData(i.data,void 0);const r=null!==t.toNode?t.toNode.data:null;n.setParentKeyForNodeData(s,n.getKeyForNodeData(r)),this.Th=e}}setToNodeForLink(t,e,i){const n=this.diagram.model;void 0===i&&(i=null);const s=null!==e?e.data:null;if(this.diagram.isTreePathToChildren){const e=this.Th;this.Th=t,null!==i&&n.setParentKeyForNodeData(i.data,void 0);const r=null!==t.fromNode?t.fromNode.data:null;n.setParentKeyForNodeData(s,n.getKeyForNodeData(r)),this.Th=e}else n.setParentKeyForNodeData(t.data,n.getKeyForNodeData(s))}aN(t){this.diagram.model.setParentKeyForNodeData(t.data,void 0)}findLinkForKey(t){if(null==t)return null;const e=this.diagram.model.findNodeDataForKey(t);return null!==e?this.findLinkForData(e):null}doModelChanged(t){if(super.doModelChanged(t),!this.diagram)return;const e=this.diagram;if(t.model!==e.model)return;const i=t.change;if(e.K){e.K=!1;try{const n=t.modelChange;if(""!==n){if(2===i){if("nodeParentKey"===n){const i=t.object,n=t.newValue,s=this.findNodeForKey(n),r=this.findNodeForData(i);if(null!==this.Th)null!==s&&(this.Th.data=i,this.Th.category=this.getLinkCategoryForData(i));else if(null!==r){const t=r.findTreeParentLink();null!==t?null===s?e.remove(t):e.isTreePathToChildren?t.fromNode=s:t.toNode=s:this.T1(s,r)}}else if("parentLinkCategory"===n){const e=t.object,i=this.findNodeForData(e),n=t.newValue;if(null!==i&&"string"==typeof n){const t=i.findTreeParentLink();null!==t&&(t.category=n)}}e.isModified=!0}}else if(2===i){const i=t.propertyName,n=t.object,s=e.model;n===s&&"nodeParentKeyProperty"===i&&(e.undoManager.isUndoingRedoing||this.rebuildParts()),e.isModified=!0}}finally{e.K=!0}}}updateRelationshipsFromData(t){const e=t.data;if(null===e)return;const i=t.diagram;if(null===i)return;const n=i.model;if(t instanceof Se){const s=n.getParentKeyForNodeData(e),r=i.findNodeForKey(s),o=t.findTreeParentNode();if(r!==o){const e=t.findTreeParentLink();null!==r?null!==e?i.isTreePathToChildren?e.fromNode=r:e.toNode=r:this.T1(r,t):null!==e&&i.DM(e,!1)}}}My(t,e){if(super.My(t,e),"string"==typeof e&&null!==this.findPartForData(t)){const i=this.findLinkForData(t);null!==i&&i.updateTargetBindings(e)}}N1(t){const e=this.diagram.model,i=e.getKeyForNodeData(t);if(void 0!==i){const n=e.Ny(i),s=this.findPartForData(t);if(null!==n&&null!==s){const t=n.iterator;for(;t.next();){const n=t.value;if(e.containsNodeData(n)&&s instanceof Se&&e.getParentKeyForNodeData(n)===i){const t=this.findNodeForData(n);this.T1(s,t)}}e._s(i)}const r=e.getParentKeyForNodeData(t);if(void 0!==r&&s instanceof Se){const t=this.findNodeForKey(r);this.T1(t,s)}}}xN(t){const e=this.diagram.model;if(t instanceof Se){const i=e.getKeyForNodeData(t.data),n=this.findLinkForData(t.data);if(null!==n){n.isSelected=!1,n.isHighlighted=!1;const t=n.layer;if(null!==t){const e=t.se(-1,n,!1);e>=0&&this.diagram.raiseChangedEvent(4,"parts",t,n,null,e,null);const i=n.layerChanged;null!==i&&i(n,t,null)}}const s=this.diagram.isTreePathToChildren,r=t.linksConnected;for(;r.next();){const t=r.value,n=(s?t.toNode:t.fromNode).data;e.containsNodeData(n)&&e.tn(i,n)}}}insertLink(t,e,i,n){const s=this.diagram.model;let r=t,o=i;if(this.diagram.isTreePathToChildren||(r=i,o=t),null!==r&&null!==o){const t=r.data,e=o.data;return s.setParentKeyForNodeData(e,s.getKeyForNodeData(t)),o.findTreeParentLink()}return null}}var $e=(t=>(t[t.OneWay=1]="OneWay",t[t.TwoWay=2]="TwoWay",t))($e||{});class Ze{n;SN;qa;Ff;Dh;Rf;vf;Of;D1;Se;gd;pf;constructor(t,i,n,s){u.qi(this),void 0===t?t="":e.s(t,"string",Ze,"constructor:targetprop"),void 0===i?i=t:e.s(i,"string",Ze,"constructor:sourceprop"),void 0===n?n=null:null!==n&&e.S(n,Ze,"constructor:conv"),this.SN=-1,this.Se=null,this.qa=t,this.gd=0,this.pf=0,this.Ff=null,this.Dh=i,this.Rf=n,void 0===s?(this.vf=1,this.Of=null):(this.vf=2,this.Of=s),this.D1=new u,this.n=2}copy(){const t=new this.constructor;return this.cloneProtected(t),t}cloneProtected(t){t.qa=this.qa,t.gd=this.gd,t.pf=this.pf,t.Ff=this.Ff,t.Dh=this.Dh,t.Rf=this.Rf,t.vf=this.vf,t.Of=this.Of,t.n=-2&this.n}static OneWay=1;static TwoWay=2;static parseEnum(t,i){return e.S(t,Ze,"parseEnum:ctor"),n=>{let s=parseInt(n);return isNaN(s)&&(s=e.Xh(t,n),null===s)?i:s}}hi(t){t in $e?this.mode=t:e.cr(this,t)}static toString(t){return e.toString(t)}toString(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.targetId?" "+this.targetId:"")+" "+$e[this.mode]+")"}u(){return this.n=1|this.n,this}get targetId(){return this.SN}set targetId(t){this.h&&e.D(this),this.SN=t}get targetProperty(){return this.qa}set targetProperty(t){this.h&&e.D(this),e.s(t,"string",Ze,"targetProperty"),this.qa=t}get sourceProperty(){return this.Dh}set sourceProperty(t){this.h&&e.D(this),e.s(t,"string",Ze,"sourceProperty"),this.Dh=t}get h(){return 0!==(1&this.n)}get isToData(){return 0!==(2&this.n)}get isToObject(){return 0!==(4&this.n)}get isToModel(){return 0!==(8&this.n)}get isToTheme(){return 0!==(16&this.n)}get MN(){return this.isToTheme&&!(this.isToData||this.isToObject||this.isToModel)}Qu(){return!1}get sourceName(){return this.Ff}set sourceName(t){this.h&&e.D(this),null!==t&&e.s(t,"string",Ze,"sourceName"),this.Ff=t,this.n=null!==t?-3&this.n|4:2|this.n}get converter(){return this.Rf}set converter(t){this.h&&e.D(this),null!==t&&e.S(t,Ze,"converter"),this.Rf=t}get backConverter(){return this.Of}set backConverter(t){this.h&&e.D(this),null!==t&&e.S(t,Ze,"backConverter"),this.Of=t}get mode(){return this.vf}set mode(t){this.h&&e.D(this),this.isToTheme&&2===t&&e.o("Theme Bindings cannot be TwoWay."),this.vf=t}makeTwoWay(t){return this.isToTheme&&e.o("Theme Bindings cannot be TwoWay."),this.mode=2,t&&(e.S(t,Ze,"makeTwoWay"),this.backConverter=t),this}ofObject(t){return this.h&&e.D(this),void 0===t&&(t=""),this.sourceName=t,this}ofModel(){return this.h&&e.D(this),this.n=-3&this.n&-5|8,this.Ff=null,this}fA(t,e){const i=this.sourceName;let n=null;return n=null===i||""===i?t:"/"===i?e.part:"."===i?e:".."===i?e.panel:t.findObject(i),n}check(t){const i=this.qa,n=this.Dh,s=this.Rf;(this.Qu()&&null===s&&null===this.Fh&&""===i||null===s&&""===i)&&e.li("Binding error: target property is the empty string: "+this.toString()),this.Qu()&&this.MN&&""===n&&null===s&&null===this.Fh&&e.li("Binding error: theme bindings require a source property when not using a converter: "+this.toString()),t&&"string"==typeof i&&(!e.ot(["setAttribute"])&&i.length>0&&"_"!==i[0]&&!e.fw(t,i)?e.li("Binding error: undefined target property: "+i+" on "+t.toString()):"name"===i&&t instanceof Yt&&e.li("Binding error: cannot modify GraphObject.name on "+t.toString()))}updateTarget(t,e,i,n){const s=this.Dh;if(void 0!==i&&""!==s&&s!==i)return;const r=this.qa,o=this.Rf;let a=e;if(""!==s&&!this.MN&&(a=n?n.bt(e,s):ti.bt(e,s)),void 0===a)return;const l=t.diagram?.themeManager;if(null===o){if(""!==r){if(this.Qu()&&(a=this.zT(l,a,t,r),void 0===a))return;n?n.et(t,r,a):(e instanceof Yt||e instanceof ae)&&ti.et(t,r,a)}}else try{if(""!==r){let i=o(a,t);if(this.Qu()&&(i=this.zT(l,i,t,r),void 0===i))return;n?n.et(t,r,i):(e instanceof Yt||e instanceof ae)&&ti.et(t,r,i)}else o(a,t)}catch{}}updateSource(t,e,i,n){if(2!==this.vf)return;const s=this.qa;if(void 0!==i&&s!==i)return;const r=this.Dh,o=this.Of,a=null!==n?n.diagram:null,l=null!==a?a.model:null;let h=t;if(""!==s&&(h=l?l.bt(t,s):ti.bt(t,s)),void 0!==h&&!this.D1.has(t))try{if(this.D1.add(t),null===o){if(""!==r)null!==l?l.setDataProperty(e,r,h):(e instanceof Yt||e instanceof ae)&&(e[r]=h);else if(null!==l&&null!==n&&n.itemIndex>=0&&null!==n.panel&&Array.isArray(n.panel.itemArray)){const t=n.itemIndex,e=n.panel.itemArray;l.removeArrayItem(e,t),l.insertArrayItem(e,t,h)}}else try{if(""!==r){const t=o(h,e,l);null!==l?l.setDataProperty(e,r,t):(e instanceof Yt||e instanceof ae)&&(e[r]=t)}else{const t=o(h,e,l);if(void 0!==t&&null!==l&&null!==n&&n.itemIndex>=0&&null!==n.panel&&Array.isArray(n.panel.itemArray)){const e=n.itemIndex,i=n.panel.itemArray;l.removeArrayItem(i,e),l.insertArrayItem(i,e,t)}}}catch{}}finally{this.D1.delete(t)}}}class Qe extends Ze{Cy;Fh;Wa;constructor(t,e,i,n,s){super(t,e,n),null==i&&(i=""),void 0===s&&(s=null),this.Cy=i,this.Fh=s,this.Wa=null,this.n=16}cloneProtected(t){super.cloneProtected(t),t.Cy=this.Cy,t.Fh=this.Fh,t.Wa=this.Wa}Qu(){return!0}get themeSource(){return this.Cy}set themeSource(t){this.h&&e.D(this),null!==t&&e.s(t,"string",Qe,"themeSource"),this.Cy=t,this.Wa=null,this.n=null!==t?16|this.n:-17&this.n}get themeConverter(){return this.Fh}set themeConverter(t){this.h&&e.D(this),null!==t&&e.S(t,Qe,"themeConverter"),this.Fh=t}ofData(){return this.h&&e.D(this),this.n=2|this.n,this.Ff=null,this}zT(t,i,n,s){if(!t||(this.MN&&(i=this.Dh),!i&&0!==i))return;let r=this.themeSource;null!==this.Wa?r=this.Wa:"string"==typeof r&&r.includes(".")&&(this.Wa=r.split("."),r=this.Wa);let o=t.findValue(i,r,s);return void 0===o&&e.li(`Theme warning: ${i} could not be found when setting target property ${s}.`),e.ot(this.Fh)&&(o=this.Fh(o,n)),o}}class ti{Nt;ig;Eo;NN;Re;wi;Rh;If;Ef;eg;sg;ng;og;Ly;Ja;sr;Ay;Io;F1;constructor(t,e){if(u.qi(this),this.Nt="",this.ig="",this.Eo=!1,this.NN={},this.Re=[],this.wi=new p,this.Rh="key",this.If=null,this.Ef=null,this.eg=!1,this.sg=!1,this.ng=!1,this.og=null,this.Ly=100,this.Ja="category",this.sr=new p,this.Ay=[],this.Io=!1,this.F1=null,this.undoManager=new F,void 0!==t&&(Array.isArray(t)?this.nodeDataArray=t:e=t),e){Object.assign(this,e);const t=e.Changed;t&&(delete this.Changed,this.addChangedListener(t))}}cloneProtected(t){t.Nt=this.Nt,t.ig=this.ig,t.Eo=this.Eo,t.Rh=this.Rh,t.If=this.If,t.Ef=this.Ef,t.eg=this.eg,t.sg=this.sg,t.ng=this.ng,t.og=this.og,t.Ly=this.Ly,t.Ja=this.Ja}copy(){const t=new this.constructor;return this.cloneProtected(t),t}clear(){this.Re=[],this.wi.clear(),this.sr.clear(),this.undoManager.clear()}toString(t){if(void 0===t&&(t=0),t>1)return this.toJson();{let i=(""!==this.name?this.name:"")+" Model";if(t>0){i+="\n node data:";const t=this.nodeDataArray,n=t.length;for(let s=0;s<n;s++){const n=t[s];i+=" "+this.getKeyForNodeData(n)+":"+e.toString(n)}}return i}}toIncrementalData(t){1!==t.change&&e.o("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());const i=t.object;if(!t.isTransactionFinished||!(i instanceof O))return null;const n=this.XT(i);return this.CN(i,"FinishedUndo"===t.propertyName,n)}CN(t,e,i){const n=this;let s=!1;const r=new u,o=new u,a=new u;t.changes.each((t=>{if(t.model===n)if("nodeDataArray"===t.modelChange)3===t.change?r.add(t.newValue):4===t.change&&a.add(t.oldValue);else if(n.containsNodeData(t.object))o.add(t.object);else if(2!==t.change||n.modelData!==t.object&&"modelData"!==t.propertyName){if(null!==t.object)if(i.has(t.object))i.get(t.object).each((t=>{n.containsNodeData(t)&&o.add(t)}));else{if(t.object instanceof ti||n.Ba()&&n.containsLinkData(t.object))return;n.YT(t.object).each((t=>{o.add(t)}))}}else s=!0}));const l=new u;r.each((t=>{l.add(n.getKeyForNodeData(t)),e||o.add(t)}));const h=new u;a.each((t=>{h.add(n.getKeyForNodeData(t)),e&&o.add(t)}));const c=n.cloneDeep(o.toArray());let d=null;return s&&(null===d&&(d={}),d.modelData=this.cloneDeep(this.modelData)),l.count>0&&(null===d&&(d={}),e?d.removedNodeKeys=l.toArray():d.insertedNodeKeys=l.toArray()),c.length>0&&(null===d&&(d={}),d.modifiedNodeData=c),h.count>0&&(null===d&&(d={}),e?d.insertedNodeKeys=h.toArray():d.removedNodeKeys=h.toArray()),d}cloneDeep(t){return this.rg(t,!0)}rg(t,i,n,s){if(!e.H(t))return t;n||(n=new p);const r=n.get(t);if(r)return r;let o;if(Array.isArray(t)){o=[],n.set(t,o);for(let e=0;e<t.length;e++){const i=t[e];o.push(this.rg(i,!1,n,s))}}else if(t instanceof y||t instanceof _||t instanceof v||t instanceof b||t instanceof x)o=t.copy(),n.set(t,o);else{if(t instanceof Bt||t instanceof S)return t;if(t instanceof l)o=(new l).addAll(this.rg(t.toArray(),!1,n,s)),n.set(t,o);else if(t instanceof u)o=(new u).addAll(this.rg(t.toArray(),!1,n,s)),n.set(t,o);else if(t instanceof p)o=(new p).addAll(this.rg(t.toArray(),!1,n,s)),n.set(t,o);else if(t instanceof Date)o=new Date(t),n.set(t,o);else if(t instanceof RegExp)o=new RegExp(t),n.set(t,o),o.lastIndex=t.lastIndex;else if(ti.LN(null,"",t))o=t;else if(e.ot(t.copy))o=t.copy(),n.set(t,o);else{o={},n.set(t,o);for(const e in t){if("__gohashid"===e)continue;const i=t[e];o[e]=this.rg(i,!1,n,s)}}}return o}ve(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,(t=>{const e="0000"+t.charCodeAt(0).toString(16);return"\\u"+e.substring(e.length-4)}))}lg(){let t="";return""!==this.name&&(t+=',\n  "name": '+this.ve(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.ve(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.ve(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey&&(t+=',\n  "copiesKey": true'),100!==this.pointsDigits&&(t+=',\n  "pointsDigits": '+this.pointsDigits.toString()),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.ve(this.nodeCategoryProperty)),t}Ty(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),void 0!==t.copiesKey&&(this.copiesKey=t.copiesKey),void 0!==t.pointsDigits&&(this.pointsDigits=parseInt(t.pointsDigits)),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)}KT(){const t=this.modelData;return',\n  "modelData": '+this.GT(t)}HT(t){const i=t.modelData;e.H(i)&&(this.replaceJsonObjects(i),this.modelData=i)}AN(){const t=this.modelData;let e=!1;for(const n in t)if(!this.R1(t,n,t[n])){e=!0;break}let i="";return e&&(i=this.KT()),i+',\n  "nodeDataArray": '+this.vh(this.nodeDataArray,!0)}TN(t){this.HT(t);const e=t.nodeDataArray;Array.isArray(e)&&(this.replaceJsonObjects(e),this.nodeDataArray=e)}DN(t,i,n){if(t===i)return!0;if(typeof t!=typeof i||e.ot(t)||e.ot(i))return!1;if(Array.isArray(t)&&Array.isArray(i)){if(n.get(t)===i)return!0;if(n.set(t,i),t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(!this.DN(t[e],i[e],n))return!1;return!0}if(e.H(t)&&e.H(i)){if(n.get(t)===i)return!0;n.set(t,i);for(const e in t){const s=t[e];if(this.R1(t,e,s))continue;const r=i[e];if(void 0===r||!this.DN(s,r,n))return!1}for(const e in i){const s=i[e];if(this.R1(i,e,s))continue;const r=t[e];if(void 0===r||!this.DN(r,s,n))return!1}return!0}return!1}static jT=',\n  "insertedNodeKeys": ';static zO=',\n  "modifiedNodeData": ';static qT=',\n  "removedNodeKeys": ';XT(t){let e=new p;const i=(t,i)=>{const n=i.part;if(!n)return;const s=n.data;if(t===s)return;let r=e.get(t);null===r?(r=new u,r.add(s),e.set(t,r)):r.add(s)};return t.changes.each((t=>{if(null!==t.diagram){const e=t.change;if(2===e){const e=t.object.panel;if(e){const t=e.data;t&&i(t,e)}}else if(3===e||4===e){const e=t.object,n=e.itemArray;n&&i(n,e)}}})),e}YT(t){const e=new u;for(let i=0;i<this.nodeDataArray.length;i++){const n=this.nodeDataArray[i];this.v1(t,n,n,e)}return e}v1(t,i,n,s){if(Array.isArray(i))for(let e=0;e<i.length;e++){const r=i[e];if(r===t)return s.add(n),!0;if(this.v1(t,r,n,s))return!0}else if(e.H(i)&&Object.getPrototypeOf(i)===Object.prototype)for(const e in i){const r=i[e];if(r===t)return s.add(n),!0;if(this.v1(t,r,n,s))return!0}return!1}FN(t,e,i){const n=this;let s=!1;const r=new u,o=new u,a=new u;t.changes.each((t=>{if(t.model===n)if("nodeDataArray"===t.modelChange)3===t.change?r.add(t.newValue):4===t.change&&a.add(t.oldValue);else if(n.containsNodeData(t.object))o.add(t.object);else if(2!==t.change||n.modelData!==t.object&&"modelData"!==t.propertyName){if(null!==t.object)if(i.has(t.object))i.get(t.object).each((t=>{n.containsNodeData(t)&&o.add(t)}));else{if(t.object instanceof ti||n.Ba()&&n.containsLinkData(t.object))return;n.YT(t.object).each((t=>{o.add(t)}))}}else s=!0}));const l=new u;r.each((t=>{l.add(n.getKeyForNodeData(t)),e||o.add(t)}));const h=new u;a.each((t=>{h.add(n.getKeyForNodeData(t)),e&&o.add(t)}));let c="";return s&&(c+=this.KT()),l.count>0&&(c+=(e?ti.qT:ti.jT)+this.vh(l.toArray(),!0)),o.count>0&&(c+=ti.zO+this.vh(o.toArray(),!0)),h.count>0&&(c+=(e?ti.jT:ti.qT)+this.vh(h.toArray(),!0)),c}Dy(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&e.o("applyIncrementalJson cannot change Model properties"),this.HT(t);const i=t.insertedNodeKeys,n=t.modifiedNodeData,s=new p;if(Array.isArray(n))for(let e=0;e<n.length;e++){const t=n[e],i=this.getKeyForNodeData(t);null!=i&&s.set(i,t)}if(Array.isArray(i)){const t=i.length;for(let e=0;e<t;e++){const t=i[e];let n=this.findNodeDataForKey(t);if(null===n){const e=s.get(t);n=e||this.copyNodeData({}),this.setKeyForNodeData(n,t),this.addNodeData(n)}}}if(Array.isArray(n)){const t=n.length;for(let e=0;e<t;e++){const t=n[e],i=this.getKeyForNodeData(t),s=this.findNodeDataForKey(i);if(null!==s){for(const e in t)"__gohashid"===e||e===this.nodeKeyProperty||(this.bm()||this.yb())&&e===this.nodeIsGroupProperty||this.setDataProperty(s,e,t[e]);this.hg(t,s)}}}const r=t.removedNodeKeys;if(Array.isArray(r)){const t=r.length;for(let e=0;e<t;e++){const t=r[e],i=this.findNodeDataForKey(t);null!==i&&this.removeNodeData(i)}}}toIncrementalJson(t,i){1!==t.change&&e.o("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());const n=t.object;if(!t.isTransactionFinished||!(n instanceof O))return'{ "incremental": 0 }';void 0===i&&(i=e.Vn(this));const s=this.XT(n),r=this.FN(n,"FinishedUndo"===t.propertyName,s);return'{ "class": '+this.ve(i)+', "incremental": 1'+this.lg()+r+"}"}toIncrementalJSON(t,e){return this.toIncrementalJson(t,e)}toJson(t){return void 0===t&&(t=e.Vn(this)),'{ "class": '+this.ve(t)+this.lg()+this.AN()+"}"}toJSON(t){return this.toJson(t)}applyIncrementalJson(i){let n=null;if("string"==typeof i)try{n=t.JSON.parse(i)}catch{}else e.H(i)?n=i:e.o("Unable to modify a Model from: "+i);const s=n.incremental;"number"!=typeof s&&e.o("Unable to apply non-incremental changes to Model: "+i),0!==s&&(this.startTransaction("applyIncrementalJson"),this.Dy(n),this.commitTransaction("applyIncrementalJson"))}applyIncrementalJSON(t){return this.applyIncrementalJson(t)}static fromJson(i,n){void 0===n&&(n=null);let s=null;if("string"==typeof i)try{s=t.JSON.parse(i)}catch{}else e.H(i)?s=i:e.o("Unable to construct a Model from: "+i);if(null===n){const t=ti.XO(s);null===t||t instanceof ti?n=t:e.o("Unable to construct a Model of declared class: "+s.class)}return null===n&&(n=ti.WT()),n.Ty(s),n.TN(s),n}static fromJSON(t,e){return this.fromJson(t,e)}static WT(){return new ti}static XO(i){let n=null,s=i.class;if("string"==typeof s)try{let i=null;0===s.indexOf("go.")?i=ti.RN(s.substring(3)):(i=ti.RN(s),null===i&&(i=t[s])),e.ot(i)&&(n=new i)}catch{}return n}replaceJsonObjects(t){if(Array.isArray(t)){const i=t.length;for(let n=0;n<i;n++){const i=t[n];e.H(i)&&this.JT(t,n,this.replaceJsonObjects(i))}}else if(e.H(t)){for(const i in t){const n=t[i];if(e.H(n)){const e=this.replaceJsonObjects(n);if(t[i]=e,"points"===i&&Array.isArray(e)){let n=e.length%2===0;for(let t=0;t<e.length;t++)if("number"!=typeof e[t]){n=!1;break}if(n){const n=new l;for(let t=0;t<e.length/2;t++)n.add(new y(e[2*t],e[2*t+1]));n.u(),t[i]=n}}}}return this.YO(t)}return t}writeJsonValue(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.ve(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Boolean||t instanceof String||t instanceof Number?this.writeJsonValue(t.valueOf()):t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':Array.isArray(t)?this.vh(t):e.H(t)?this.GT(t):e.ot(t)?"null":'"'+t.toString()+'"'}vh(t,e){void 0===e&&(e=!1);const n=t.length;if(n<=0)return"[]";const s=new i;s.add("["),e&&n>1&&s.add("\n");for(let i=0;i<n;i++){const n=t[i];void 0!==n&&(i>0&&(s.add(","),e&&s.add("\n")),s.add(this.writeJsonValue(n)))}return e&&n>1&&s.add("\n"),s.add("]"),s.toString()}R1(t,i,n){return!(void 0!==n&&"__gohashid"!==i&&"_"!==i[0]&&!e.ot(n))}Hi(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}GT(t){const e=t;if(e instanceof y)t={class:"go.Point",x:this.Hi(e.x),y:this.Hi(e.y)};else if(e instanceof _)t={class:"go.Size",width:this.Hi(e.width),height:this.Hi(e.height)};else if(e instanceof v)t={class:"go.Rect",x:this.Hi(e.x),y:this.Hi(e.y),width:this.Hi(e.width),height:this.Hi(e.height)};else if(e instanceof b)t={class:"go.Margin",top:this.Hi(e.top),right:this.Hi(e.right),bottom:this.Hi(e.bottom),left:this.Hi(e.left)};else if(e instanceof x)t=e.isSpot()?{class:"go.Spot",x:this.Hi(e.x),y:this.Hi(e.y),offsetX:this.Hi(e.offsetX),offsetY:this.Hi(e.offsetY)}:{class:"go.Spot",enum:e.toString()};else if(e instanceof Bt){if(t={class:"go.Brush",type:It[e.type]},1===e.type?t.color=e.color:(2===e.type||3===e.type)&&(t.start=e.start,t.end=e.end,3===e.type&&(0!==e.startRadius&&(t.startRadius=this.Hi(e.startRadius)),isNaN(e.endRadius)||(t.endRadius=this.Hi(e.endRadius)))),null!==e.colorStops){const i={},n=e.colorStops.iterator;for(;n.next();){const t=n.key,e=n.value;i[t]=e}t.colorStops=i}}else if(e instanceof S)t={class:"go.Geometry",type:k[e.type]},0!==e.startX&&(t.startX=this.Hi(e.startX)),0!==e.startY&&(t.startY=this.Hi(e.startY)),0!==e.endX&&(t.endX=this.Hi(e.endX)),0!==e.endY&&(t.endY=this.Hi(e.endY)),e.spot1.equals(x.TopLeft)||(t.spot1=e.spot1),e.spot2.equals(x.BottomRight)||(t.spot2=e.spot2),4===e.type&&(t.path=S.stringify(e));else if(ti.LN(null,"",e))return"{}";let i="{",n=!0;for(const s in t){const e=this.bt(t,s);if(!this.R1(t,s,e))if(n?n=!1:i+=",",i+=this.ve(s)+":","points"===s&&e instanceof l){const t=e;let n="[";const s=t.iterator;for(;s.next();){const t=s.value;n.length>1&&(n+=","),n+=this.$T(t.x),n+=",",n+=this.$T(t.y)}n+="]",i+=n}else i+=this.writeJsonValue(e)}return i+="}",i}$T(t){if(t===1/0)return"9e9999";if(t===-1/0)return"-9e9999";if(isNaN(t))return"0";const e=this.pointsDigits;return e>16?t.toString():t.toFixed(e)}get pointsDigits(){return this.Ly}set pointsDigits(t){t<0?t=0:t>100&&(t=100),this.Ly=t}ji(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}YO(t){if(!e.H(t))return t;let i=t.class||"";if("string"!=typeof i||""===i)return t;if("NaN"===i)return NaN;if("Date"===i)return new Date(t.value);if(0!==i.indexOf("go."))return t;i=i.substring(3);let n=t;if("Point"===i)n=new y(this.ji(t.x),this.ji(t.y));else if("Size"===i)n=new _(this.ji(t.width),this.ji(t.height));else if("Rect"===i)n=new v(this.ji(t.x),this.ji(t.y),this.ji(t.width),this.ji(t.height));else if("Margin"===i)n=new b(this.ji(t.top),this.ji(t.right),this.ji(t.bottom),this.ji(t.left));else if("Spot"===i)n="string"==typeof t.enum?x.parse(t.enum):new x(this.ji(t.x),this.ji(t.y),this.ji(t.offsetX),this.ji(t.offsetY));else if("Brush"===i){const i=new Bt;i.type=e.Xh(It,t.type)??1,"string"==typeof t.color&&(i.color=t.color),t.start instanceof x&&(i.start=t.start),t.end instanceof x&&(i.end=t.end),"number"==typeof t.startRadius&&(i.startRadius=this.ji(t.startRadius)),"number"==typeof t.endRadius&&(i.endRadius=this.ji(t.endRadius));const s=t.colorStops;if(e.H(s))for(const t in s){const e=parseFloat(t);i.addColorStop(e,s[t])}n=i}else if("Geometry"===i){let i=null;i="string"==typeof t.path?S.parse(t.path):new S,i.type=e.Xh(k,t.type)??1,"number"==typeof t.startX&&(i.startX=this.ji(t.startX)),"number"==typeof t.startY&&(i.startY=this.ji(t.startY)),"number"==typeof t.endX&&(i.endX=this.ji(t.endX)),"number"==typeof t.endY&&(i.endY=this.ji(t.endY)),t.spot1 instanceof x&&(i.spot1=t.spot1),t.spot2 instanceof x&&(i.spot2=t.spot2),n=i}else if("EnumValue"===i){let i=t.classType;0===i.indexOf("go.")&&(i=i.substring(3));const s=ti.RN(i);e.ot(s)&&(n=e.Xh(s,t.name))}return n}get name(){return this.Nt}set name(t){const i=this.Nt;i!==t&&(e.s(t,"string",ti,"name"),this.Nt=t,this.t("name",i,t))}get dataFormat(){return this.ig}set dataFormat(t){const i=this.ig;i!==t&&(e.s(t,"string",ti,"dataFormat"),this.ig=t,this.t("dataFormat",i,t))}get isReadOnly(){return this.Eo}set isReadOnly(t){const i=this.Eo;i!==t&&(e.s(t,"boolean",ti,"isReadOnly"),this.Eo=t,this.t("isReadOnly",i,t))}get modelData(){return this.NN}set modelData(t){const i=this.modelData;i!==t&&(e.lc(t,ti,"modelData"),this.containsNodeData(t)&&e.o("Model.modelData Object must not be used by the rest of the model: "+t),this.NN=t,this.t("modelData",i,t),this.updateTargetBindings(t))}addChangedListener(t){return e.S(t,ti,"addChangedListener:listener"),this.Ay.push(t),this}removeChangedListener(t){e.S(t,ti,"removeChangedListener:listener");const i=this.Ay.indexOf(t);i>=0&&this.Ay.splice(i,1)}RM(t){this.skipsUndoManager||this.undoManager.handleChanged(t),this.ZT(t)}ZT(t){this.Ay.forEach((e=>e(t)))}rF(t){this.ZT(t)}raiseChangedEvent(t,e,i,n,s,r,o){this.Et("",t,e,i,n,s,r,o)}raiseChanged(t,e,i,n,s){this.Et("",2,t,this,e,i,n,s)}t(t,e,i,n,s){this.Et("",2,t,this,e,i,n,s)}raiseDataChanged(t,e,i,n,s,r){this.Et("",2,e,t,i,n,s,r)}Et(t,e,i,n,s,r,o,a){void 0===o&&(o=null),void 0===a&&(a=null);const l=new A;l.model=this,l.change=e,l.modelChange=t,l.propertyName=i,l.object=n,l.oldValue=s,l.oldParam=o,l.newValue=r,l.newParam=a,this.RM(l)}get undoManager(){return this.F1}set undoManager(t){const e=this.F1;e!==t&&(null!==e&&e.removeModel(this),this.F1=t,null!==t&&t.addModel(this))}get skipsUndoManager(){return this.Io}set skipsUndoManager(t){e.s(t,"boolean",ti,"skipsUndoManager"),this.Io=t}changeState(t,i){if(null!==t&&t.model===this)if(2===t.change){const e=t.object,n=t.propertyName,s=t.getValue(i);if(n===this.nodeKeyProperty&&this.containsNodeData(e)){const n=t.getValue(!i);void 0!==n&&this.wi.delete(n),void 0!==s&&this.wi.set(s,e)}this.et(e,n,s)}else if(3===t.change){const n=t.newParam;if("nodeDataArray"===t.modelChange){const s=t.newValue;if(e.H(s)&&"number"==typeof n){const t=this.getKeyForNodeData(s);i?(this.Re[n]===s&&this.Po(this.Re,n),void 0!==t&&this.wi.delete(t)):(this.Re[n]!==s&&this.nr(this.Re,n,s),void 0!==t&&this.wi.set(t,s))}}else if(""===t.modelChange){let e=t.object;if(e&&!Array.isArray(e)&&t.propertyName&&(e=this.bt(e,t.propertyName)),Array.isArray(e)&&"number"==typeof n){const s=t.newValue;i?this.Po(e,n):this.nr(e,n,s)}}else e.o("unknown ChangeType.Insert modelChange: "+t.toString())}else if(4===t.change){const n=t.oldParam;if("nodeDataArray"===t.modelChange){const s=t.oldValue;if(e.H(s)&&"number"==typeof n){const t=this.getKeyForNodeData(s);i?(this.Re[n]!==s&&this.nr(this.Re,n,s),void 0!==t&&this.wi.set(t,s)):(this.Re[n]===s&&this.Po(this.Re,n),void 0!==t&&this.wi.delete(t))}}else if(""===t.modelChange){let e=t.object;if(e&&!Array.isArray(e)&&t.propertyName&&(e=this.bt(e,t.propertyName)),Array.isArray(e)&&"number"==typeof n){const s=t.oldValue;i?this.nr(e,n,s):this.Po(e,n)}}else e.o("unknown ChangeType.Remove modelChange: "+t.toString())}else 1===t.change||e.o("unknown ChangedEvent: "+t.toString())}startTransaction(t){return this.undoManager.startTransaction(t)}commitTransaction(t){return this.undoManager.commitTransaction(t)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(t,e){let i=e;void 0===i&&(i="");const n=this.skipsUndoManager;null===i&&(this.skipsUndoManager=!0,i=""),this.undoManager.startTransaction(i);let s=!1;try{t(this),s=!0}finally{s?this.undoManager.commitTransaction(i):this.undoManager.rollbackTransaction(),this.skipsUndoManager=n}}updateTargetBindings(t,e){void 0===e&&(e=""),this.Et("SourceChanged",1,e,t,null,null)}get nodeKeyProperty(){return this.Rh}set nodeKeyProperty(t){const i=this.Rh;i!==t&&(this.Fn(t,ti,"nodeKeyProperty"),""===t&&e.o("Model.nodeKeyProperty may not be the empty string"),this.wi.count>0&&e.o("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Rh=t,this.t("nodeKeyProperty",i,t))}Fn(t,i,n){"string"!=typeof t&&!e.ot(t)&&e.te(t,"string or function",i,n)}getKeyForNodeData(t){if(null===t)return;const i=this.Rh;if(""===i)return;const n=this.bt(t,i);if(void 0!==n){if(this.isKeyType(n))return n;e.o("Key value for node data "+t+" is not a number or a string: "+n)}}setKeyForNodeData(t,i){if((null==i||!this.isKeyType(i))&&e.te(i,"number or string",ti,"setKeyForNodeData:key"),null===t)return;const n=this.Rh;if(""===n)return;if(!this.containsNodeData(t))return void this.et(t,n,i);const s=this.bt(t,n);if(s!==i){if(null!==this.findNodeDataForKey(i))return;this.et(t,n,i),void 0!==s&&this.wi.delete(s),this.wi.set(i,t),this.Et("nodeKey",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n),this.Fy(s,i)}}get makeUniqueKeyFunction(){return this.If}set makeUniqueKeyFunction(t){const i=this.If;i!==t&&(null!==t&&e.S(t,ti,"makeUniqueKeyFunction"),this.If=t,this.t("makeUniqueKeyFunction",i,t))}isKeyType(t){return"number"==typeof t||"string"==typeof t}containsNodeData(t){if(null===t)return!1;const e=this.getKeyForNodeData(t);return void 0!==e&&this.wi.get(e)===t}findNodeDataForKey(t){return null===t&&e.o("Model.findNodeDataForKey:key must not be null"),void 0!==t&&this.isKeyType(t)?this.wi.get(t):null}get nodeDataArray(){return this.Re}set nodeDataArray(t){const i=this.Re;if(i!==t){this.vN(t,ti,"nodeDataArray"),this.wi.clear(),this.ON();const n=t.length;for(let i=0;i<n;i++){const n=t[i];e.H(n)||e.o("Model.nodeDataArray must only contain Objects, not: "+n),n===this.modelData&&e.o("nodeDataArray Objects must not be the shared Model.modelData")}this.Re=t;const s=new l;for(let e=0;e<n;e++){const i=t[e],n=this.getKeyForNodeData(i);void 0===n||null!==this.wi.get(n)?s.add(i):this.wi.set(n,i)}const r=s.iterator;for(;r.next();){const t=r.value;this.makeNodeDataKeyUnique(t);const e=this.getKeyForNodeData(t);void 0!==e&&this.wi.set(e,t)}this.Et("nodeDataArray",2,"nodeDataArray",this,i,t);for(let e=0;e<n;e++){const i=t[e];this.ag(i),this.cg(i)}}}O1(t){return void 0!==t&&this.wi.has(t)}makeNodeDataKeyUnique(t){if(null===t)return;const e=this.Rh;if(""===e)return;let i=this.getKeyForNodeData(t);if(void 0!==i&&!this.O1(i))return;const n=this.If;if(null===n||(i=n(this,t),null==i||this.O1(i))){if("string"==typeof i){let n=2;for(;this.O1(i+n);)n++;this.et(t,e,i+n)}else if(void 0===i||"number"==typeof i){let i=-this.wi.count-1;for(;this.O1(i);)i--;this.et(t,e,i)}}else this.et(t,e,i)}addNodeData(t){null!==t&&(t===this.modelData&&e.o("Model.addNodeData cannot add the shared Model.modelData Object"),this.containsNodeData(t)||this.vT(t,!0))}vT(t,i){let n=this.getKeyForNodeData(t);if(void 0===n)this.makeNodeDataKeyUnique(t),n=this.getKeyForNodeData(t);else{if(this.wi.get(n)===t)return;this.makeNodeDataKeyUnique(t),n=this.getKeyForNodeData(t)}void 0===n&&e.o("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."),this.wi.set(n,t);let s=null;i&&(s=this.Re.length,this.nr(this.Re,s,t)),this.Et("nodeDataArray",3,"nodeDataArray",this,null,t,null,s),this.ag(t),this.cg(t)}addNodeDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++)this.addNodeData(t[i])}else{const e=t.iterator;for(;e.next();){const t=e.value;this.addNodeData(t)}}}removeNodeData(t){null!==t&&this.RT(t,!0)}RT(t,e){const i=this.getKeyForNodeData(t);void 0!==i&&this.wi.delete(i);let n=null;if(e){if(n=this.Re.indexOf(t),n<0)return;this.Po(this.Re,n)}this.Et("nodeDataArray",4,"nodeDataArray",this,t,null,n,null),this.Ry(t)}removeNodeDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++)this.removeNodeData(t[i])}else{const e=t.iterator;for(;e.next();){const t=e.value;this.removeNodeData(t)}}}mergeNodeDataArray(t){if(t===this.nodeDataArray||!Array.isArray(t))return;const e=new u;e.addAll(this.wi.iteratorKeys);const i=new u,n=t.length;for(let r=0;r<n;r++){const e=t[r],n=this.getKeyForNodeData(e);if(void 0!==n){i.add(n);const t=this.findNodeDataForKey(n);if(t===e)continue;if(null!==t)this.assignAllDataProperties(t,e),this.hg(e,t);else{const t=this.cloneDeep(e);this.setKeyForNodeData(t,n),this.addNodeData(t)}}else{const t=this.cloneDeep(e);this.addNodeData(t),i.add(this.getKeyForNodeData(t))}}const s=e.iterator;for(;s.next();){const t=s.value;if(!i.has(t)){const e=this.findNodeDataForKey(t);e&&this.removeNodeData(e)}}}Fy(t,e){if(void 0===e)return;const i=this.Ny(t);i instanceof u&&this.sr.set(e,i)}ON(){}ag(t){}cg(t){}Ry(t){}tn(t,e){if(void 0===t)return;let i=this.sr.get(t);null===i&&(i=new u,this.sr.set(t,i)),i.add(e)}_s(t,e){if(void 0===t)return;const i=this.sr.get(t);i instanceof u&&(null==e?this.sr.delete(t):(i.delete(e),0===i.count&&this.sr.delete(t)))}Ny(t){if(void 0===t)return null;const e=this.sr.get(t);return e instanceof u?e:null}LE(t){void 0===t?this.sr.clear():this.sr.delete(t)}get copyNodeDataFunction(){return this.Ef}set copyNodeDataFunction(t){const i=this.Ef;i!==t&&(null!==t&&e.S(t,ti,"copyNodeDataFunction"),this.Ef=t,this.t("copyNodeDataFunction",i,t))}get copiesArrays(){return this.eg}set copiesArrays(t){const i=this.eg;i!==t&&(null!==t&&e.s(t,"boolean",ti,"copiesArrays"),this.eg=t,this.t("copiesArrays",i,t))}get copiesArrayObjects(){return this.sg}set copiesArrayObjects(t){const i=this.sg;i!==t&&(null!==t&&e.s(t,"boolean",ti,"copiesArrayObjects"),this.sg=t,this.t("copiesArrayObjects",i,t))}get copiesKey(){return this.ng}set copiesKey(t){const i=this.ng;i!==t&&(null!==t&&e.s(t,"boolean",ti,"copiesKey"),this.ng=t,this.t("copiesKey",i,t))}copyNodeData(t){if(null===t)return null;let i=null;const n=this.Ef;return i=null!==n?n(t,this):this.I1(t,!0),e.H(i),i}I1(t,i){if(e.H(t)){if(Array.isArray(t)){if(this.copiesArrays){const e=t,i=[];for(let t=0;t<e.length;t++){const n=e[t],s=this.I1(n,this.copiesArrayObjects);i.push(s)}return i}return t}if(t instanceof y||t instanceof _||t instanceof v||t instanceof b||t instanceof x)return t.copy();if(i){const i=t,n=i.constructor,s=n?new n:{},r=this.copiesKey||"string"!=typeof this.nodeKeyProperty?null:this.nodeKeyProperty;for(const t in i){if("__gohashid"===t){s.__gohashid=void 0;continue}if(t===r){s[r]=void 0;continue}const n=this.bt(i,t);if(e.H(n))if(ti.LN(i,t,n))this.et(s,t,n);else{const e=this.I1(n,!1);this.et(s,t,e)}else s[t]=n}return s}return t}return t}get afterCopyFunction(){return this.og}set afterCopyFunction(t){const i=this.og;i!==t&&(null!==t&&e.S(t,ti,"afterCopyFunction"),this.og=t,this.t("afterCopyFunction",i,t))}static LN(t,i,n){const s=e.Vn(n);return n instanceof ti||n instanceof F||n instanceof O||n instanceof A||n instanceof Yt||n instanceof ae||n instanceof _t||n instanceof EventTarget||"Layer"===s||"RowColumnDefinition"===s||s.indexOf("Animation")>=0||s.indexOf("Tool")>=0||s.indexOf("CommandHandler")>=0||s.indexOf("Layout")>=0}static QT=!1;setDataProperty(t,i,n){if(this.containsNodeData(t)){if(i===this.nodeKeyProperty)return void this.setKeyForNodeData(t,n);if(i===this.nodeCategoryProperty)return void this.setCategoryForNodeData(t,n)}else!ti.QT&&t instanceof Yt&&(ti.QT=!0,e.li('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),e.li("  Is that really your intent?"));const s=this.bt(t,i);s!==n&&(this.et(t,i,n),this.raiseDataChanged(t,i,s,n))}set(t,e,i){this.setDataProperty(t,e,i)}assignAllDataProperties(t,e){if(!e)return;const i=this.containsNodeData(t);for(const n in e)"__gohashid"!==n&&(i&&n===this.nodeKeyProperty||this.setDataProperty(t,n,e[n]))}addArrayItem(t,e){this.insertArrayItem(t,-1,e)}insertArrayItem(t,e,i){e<0&&(e=t.length),t=this.nr(t,e,i),this.Et("",3,"",t,null,i,null,e)}removeArrayItem(t,i){void 0===i&&(i=-1),t===this.Re&&e.o("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===i&&(i=t.length-1);const n=t[i];t=this.Po(t,i),this.Et("",4,"",t,n,null,i,null)}get nodeCategoryProperty(){return this.Ja}set nodeCategoryProperty(t){const e=this.Ja;e!==t&&(this.Fn(t,ti,"nodeCategoryProperty"),this.Ja=t,this.t("nodeCategoryProperty",e,t))}getCategoryForNodeData(t){if(null===t)return"";const i=this.Ja;if(""===i)return"";const n=this.bt(t,i);return void 0===n?"":"string"==typeof n?n:void e.o("getCategoryForNodeData found a non-string category for "+t+": "+n)}setCategoryForNodeData(t,i){if(e.s(i,"string",ti,"setCategoryForNodeData:cat"),null===t)return;const n=this.Ja;if(""===n)return;if(!this.containsNodeData(t))return void this.et(t,n,i);let s=this.bt(t,n);void 0===s&&(s=""),s!==i&&(this.et(t,n,i),this.Et("nodeCategory",2,n,t,s,i))}hg(t,e){this.setCategoryForNodeData(e,this.getCategoryForNodeData(t))}get type(){return"Model"}km(){return!1}bm(){return!1}yb(){return!1}Ba(){return!1}Uw(){return!1}Zc(){return!1}static bM(){return new ti}bt(t,e){return ti.bt(t,e)}static bt(t,i){if(!t||!i)return null;let n;try{e.ot(i)?n=i(t):e.ot(t.getAttribute)?(n=t.getAttribute(i),null===n&&(n=void 0)):n=t[i]}catch{}return n}et(t,e,i){ti.et(t,e,i)}static et(t,i,n){if(t&&i){try{e.ot(i)?i(t,n):e.ot(t.setAttribute)?t.setAttribute(i,n):t[i]=n}catch{}return t}}vN(t,i,n){Array.isArray(t)||e.te(t,"Array",i,n)}JT(t,e,i){return t[e]=i,t}nr(t,e,i){return e>=t.length?t.push(i):t.splice(e,0,i),t}Po(t,e){return e>=t.length?t.pop():t.splice(e,1),t}static RN(e){return ti.IN[e]?ti.IN[e]:void 0!==t.go&&t.go[e]?t.go[e]:null}static wl(t,e){ti.IN[e]=t}static IN={};static{ti.wl(Bt,"Brush"),ti.wl(S,"Geometry"),ti.wl(b,"Margin"),ti.wl(y,"Point"),ti.wl(v,"Rect"),ti.wl(_,"Size"),ti.wl(x,"Spot"),ti.wl(ti,"Model")}}ti.fromJSON=ti.fromJson=ti.fromJson;class ei extends ti{Ns;or;vi;Oh;Bf;Uf;vl;So;Mo;$a;Za;Qa;en;Vf;Rn;fg;constructor(t,e,i){if(super(),this.Ns=[],this.or=new u,this.vi=new p,this.Oh="",this.Bf=null,this.Uf=null,this.vl=null,this.So="from",this.Mo="to",this.$a="",this.Za="",this.Qa="category",this.en="",this.Vf="isGroup",this.Rn="group",this.fg=!1,void 0!==e&&(this.linkDataArray=e),void 0!==t&&(Array.isArray(t)?this.nodeDataArray=t:i=t),i){Object.assign(this,i);const t=i.Changed;t&&(delete this.Changed,this.addChangedListener(t))}}cloneProtected(t){super.cloneProtected(t),t.Oh=this.Oh,t.Bf=this.Bf,t.Uf=this.Uf,t.So=this.So,t.Mo=this.Mo,t.$a=this.$a,t.Za=this.Za,t.Qa=this.Qa,t.en=this.en,t.Vf=this.Vf,t.Rn=this.Rn,t.fg=this.fg}clear(){this.Ns=[],this.vi.clear(),this.or.clear(),super.clear()}toString(t){if(void 0===t&&(t=0),t>=2)return this.toJson();{let e=(""!==this.name?this.name:"")+" GraphLinksModel";if(t>0){e+="\n node data:";let t=this.nodeDataArray,i=t.length,n=0;for(n=0;n<i;n++){const i=t[n];e+=" "+this.getKeyForNodeData(i)+":"+Ze.toString(i)}for(e+="\n link data:",t=this.linkDataArray,i=t.length,n=0;n<i;n++){const i=t[n];e+=" "+this.Fe(i,!0)+"--\x3e"+this.Fe(i,!1)}}return e}}CN(t,e,i){if(""===this.linkKeyProperty){const t=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=t}let n=super.CN(t,e,i);const s=this,r=new u,o=new u,a=new u;t.changes.each((t=>{if(t.model===s)if("linkDataArray"===t.modelChange)3===t.change?r.add(t.newValue):4===t.change&&a.add(t.oldValue);else if(s.containsLinkData(t.object))o.add(t.object);else if(null!==t.object)if(null!==t.object&&i.has(t.object))i.get(t.object).each((t=>{s.containsLinkData(t)&&o.add(t)}));else{if(t.object instanceof ti||s.containsNodeData(t.object))return;s._T(t.object).each((t=>o.add(t)))}}));const l=new u;r.each((t=>{l.add(s.getKeyForLinkData(t)),e||o.add(t)}));const h=new u;a.each((t=>{h.add(s.getKeyForLinkData(t)),e&&o.add(t)}));const c=s.cloneDeep(o.toArray());return l.count>0&&(null===n&&(n={}),e?n.removedLinkKeys=l.toArray():n.insertedLinkKeys=l.toArray()),c.length>0&&(null===n&&(n={}),n.modifiedLinkData=c),h.count>0&&(null===n&&(n={}),e?n.insertedLinkKeys=h.toArray():n.removedLinkKeys=h.toArray()),n}lg(){const t=super.lg();let e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.ve(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.ve(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.ve(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.ve(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.ve(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.ve(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.ve(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.ve(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.ve(this.nodeGroupKeyProperty)),t+e}Ty(t){super.Ty(t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)}AN(){const t=super.AN(),e=',\n  "linkDataArray": '+this.vh(this.linkDataArray,!0);return t+e}TN(t){super.TN(t);const e=t.linkDataArray;Array.isArray(e)&&(this.replaceJsonObjects(e),this.linkDataArray=e)}tD=',\n  "insertedLinkKeys": ';KO=',\n  "modifiedLinkData": ';iD=',\n  "removedLinkKeys": ';_T(t){const e=new u;for(let i=0;i<this.linkDataArray.length;i++){const n=this.linkDataArray[i];this.v1(t,n,n,e)}return e}FN(t,e,i){if(""===this.linkKeyProperty){const t=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=t}const n=super.FN(t,e,i),s=this,r=new u,o=new u,a=new u;t.changes.each((t=>{if(t.model===s)if("linkDataArray"===t.modelChange)3===t.change?r.add(t.newValue):4===t.change&&a.add(t.oldValue);else if(s.containsLinkData(t.object))o.add(t.object);else if(null!==t.object)if(null!==t.object&&i.has(t.object))i.get(t.object).each((t=>{s.containsLinkData(t)&&o.add(t)}));else{if(t.object instanceof ti||s.containsNodeData(t.object))return;s._T(t.object).each((t=>o.add(t)))}}));const l=new u;r.each((t=>{l.add(s.getKeyForLinkData(t)),e||o.add(t)}));const h=new u;a.each((t=>{h.add(s.getKeyForLinkData(t)),e&&o.add(t)}));let c=n;return l.count>0&&(c+=(e?this.iD:this.tD)+this.vh(l.toArray(),!0)),o.count>0&&(c+=this.KO+this.vh(o.toArray(),!0)),h.count>0&&(c+=(e?this.tD:this.iD)+this.vh(h.toArray(),!0)),c}Dy(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&e.o("applyIncrementalJson cannot change Model properties"),super.Dy(t);const i=t.insertedLinkKeys;if(Array.isArray(i)){const t=i.length;for(let e=0;e<t;e++){const t=i[e];let n=this.findLinkDataForKey(t);null===n&&(n=this.copyLinkData({}),this.setKeyForLinkData(n,t),this.addLinkData(n))}}const n=t.modifiedLinkData;if(Array.isArray(n)){const t=n.length;for(let e=0;e<t;e++){const t=n[e],i=this.getKeyForLinkData(t),s=this.findLinkDataForKey(i);if(null!==s){for(const e in t)"__gohashid"===e||e===this.linkKeyProperty||this.setDataProperty(s,e,t[e]);this.eD(t,s)}}}const s=t.removedLinkKeys;if(Array.isArray(s)){const t=s.length;for(let e=0;e<t;e++){const t=s[e],i=this.findLinkDataForKey(t);null!==i&&this.removeLinkData(i)}}}changeState(t,i){if(null!==t&&t.model===this){if(2===t.change){const e=t.object,n=t.propertyName;if(n===this.linkKeyProperty&&this.containsLinkData(e)){const s=t.getValue(i),r=t.getValue(!i);return void 0!==r&&this.vi.delete(r),void 0!==s&&this.vi.set(s,e),void this.et(e,n,s)}}else if(3===t.change){let n=t.newParam;if("linkDataArray"===t.modelChange){const s=t.newValue;if(e.H(s)&&"number"==typeof n){const t=this.getKeyForLinkData(s);i?(this.or.delete(s),this.Ns[n]===s&&this.Po(this.linkDataArray,n),void 0!==t&&this.vi.delete(t)):(this.or.add(s),this.Ns[n]!==s&&this.nr(this.Ns,n,s),void 0!==t&&this.vi.set(t,s))}return}if("linkLabelKeys"===t.modelChange){const e=t.object,s=this.getLabelKeysForLinkData(e);return void(Array.isArray(s)&&"number"==typeof n&&(i?(n=s.indexOf(t.newValue),n>=0&&this.Po(s,n)):s.indexOf(t.newValue)<0&&this.nr(s,n,t.newValue)))}}else if(4===t.change){let n=t.oldParam;if("linkDataArray"===t.modelChange){const s=t.oldValue;if(e.H(s)&&"number"==typeof n){const t=this.getKeyForLinkData(s);i?(this.or.add(s),this.Ns[n]!==s&&this.nr(this.Ns,n,s),void 0!==t&&this.vi.set(t,s)):(this.or.delete(s),this.Ns[n]===s&&this.Po(this.linkDataArray,n),void 0!==t&&this.vi.delete(t))}return}if("linkLabelKeys"===t.modelChange){const e=t.object,s=this.getLabelKeysForLinkData(e);return void(Array.isArray(s)&&"number"==typeof n&&(i?s.indexOf(t.oldValue)<0&&this.nr(s,n,t.oldValue):(n=s.indexOf(t.oldValue),n>=0&&this.Po(s,n))))}}super.changeState(t,i)}}get archetypeNodeData(){return this.vl}set archetypeNodeData(t){const i=this.vl;i!==t&&(null!==t&&e.lc(t,ei,"archetypeNodeData"),this.vl=t,this.t("archetypeNodeData",i,t))}EN(t){if(void 0===t)return;const e=this.vl;if(null!==e){let i=this.findNodeDataForKey(t);null===i&&(i=this.copyNodeData(e),this.et(i,this.nodeKeyProperty,t),this.addNodeData(i))}return t}get linkFromKeyProperty(){return this.So}set linkFromKeyProperty(t){const e=this.So;e!==t&&(this.Fn(t,ei,"linkFromKeyProperty"),this.So=t,this.t("linkFromKeyProperty",e,t))}getFromKeyForLinkData(t){return this.Fe(t,!0)}setFromKeyForLinkData(t,e){this._d(t,e,!0)}get linkToKeyProperty(){return this.Mo}set linkToKeyProperty(t){const e=this.Mo;e!==t&&(this.Fn(t,ei,"linkToKeyProperty"),this.Mo=t,this.t("linkToKeyProperty",e,t))}getToKeyForLinkData(t){return this.Fe(t,!1)}setToKeyForLinkData(t,e){this._d(t,e,!1)}Fe(t,i){if(null===t)return;const n=i?this.So:this.Mo;if(""===n)return;const s=this.bt(t,n);if(void 0!==s){if(this.isKeyType(s))return s;e.o((i?"FromKey":"ToKey")+" value for link data "+t+" is not a number or a string: "+s)}}_d(t,i,n){if(null===i&&(i=void 0),void 0!==i&&!this.isKeyType(i)&&e.te(i,"number or string",ei,n?"setFromKeyForLinkData:key":"setToKeyForLinkData:key"),null===t)return;const s=n?this.So:this.Mo;if(""===s)return;if(i=this.EN(i),!this.containsLinkData(t))return void this.et(t,s,i);const r=this.bt(t,s);r!==i&&(this._s(r,t),this.et(t,s,i),null===this.findNodeDataForKey(i)&&this.tn(i,t),this.Et(n?"linkFromKey":"linkToKey",2,s,t,r,i),"string"==typeof s&&this.updateTargetBindings(t,s))}get linkFromPortIdProperty(){return this.$a}set linkFromPortIdProperty(t){const e=this.$a;e!==t&&(this.Fn(t,ei,"linkFromPortIdProperty"),this.$a=t,this.t("linkFromPortIdProperty",e,t))}getFromPortIdForLinkData(t){return this.A1(t,!0)}setFromPortIdForLinkData(t,e){this.tg(t,e,!0)}get linkToPortIdProperty(){return this.Za}set linkToPortIdProperty(t){const e=this.Za;e!==t&&(this.Fn(t,ei,"linkToPortIdProperty"),this.Za=t,this.t("linkToPortIdProperty",e,t))}getToPortIdForLinkData(t){return this.A1(t,!1)}setToPortIdForLinkData(t,e){this.tg(t,e,!1)}A1(t,e){if(null===t)return"";const i=e?this.$a:this.Za;if(""===i)return"";const n=this.bt(t,i);return void 0===n?"":n}tg(t,i,n){if(e.s(i,"string",ei,n?"setFromPortIdForLinkData:portname":"setToPortIdForLinkData:portname"),null===t)return;const s=n?this.$a:this.Za;if(""===s)return;if(!this.containsLinkData(t))return void this.et(t,s,i);let r=this.bt(t,s);void 0===r&&(r=""),r!==i&&(this.et(t,s,i),this.Et(n?"linkFromPortId":"linkToPortId",2,s,t,r,i),"string"==typeof s&&this.updateTargetBindings(t,s))}get linkLabelKeysProperty(){return this.en}set linkLabelKeysProperty(t){const e=this.en;e!==t&&(this.Fn(t,ei,"linkLabelKeysProperty"),this.en=t,this.t("linkLabelKeysProperty",e,t))}getLabelKeysForLinkData(t){if(null===t)return ei.EmptyArray;const e=this.en;if(""===e)return ei.EmptyArray;const i=this.bt(t,e);return void 0===i?ei.EmptyArray:i}setLabelKeysForLinkData(t,e){if(this.vN(e,ei,"setLabelKeysForLinkData:arr"),null===t)return;const i=this.en;if(""===i)return;if(!this.containsLinkData(t))return void this.et(t,i,e);let n=this.bt(t,i);if(void 0===n&&(n=ei.EmptyArray),n!==e){if(Array.isArray(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i];this._s(e,t)}}this.et(t,i,e);const s=e.length;for(let i=0;i<s;i++){const n=e[i];null===this.findNodeDataForKey(n)&&this.tn(n,t)}this.Et("linkLabelKeys",2,i,t,n,e),"string"==typeof i&&this.updateTargetBindings(t,i)}}addLabelKeyForLinkData(t,i){if(null==i||(this.isKeyType(i)||e.te(i,"number or string",ei,"addLabelKeyForLinkData:key"),null===t))return;const n=this.en;if(""===n)return;const s=this.bt(t,n);if(void 0===s){const e=[];e.push(i),this.setLabelKeysForLinkData(t,e)}else if(Array.isArray(s)){let e=s.indexOf(i);if(e>=0)return;e=s.length,s.push(i),this.containsLinkData(t)&&(null===this.findNodeDataForKey(i)&&this.tn(i,t),this.Et("linkLabelKeys",3,n,t,null,i,null,e))}else e.o(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}removeLabelKeyForLinkData(t,i){if(null==i||(this.isKeyType(i)||e.te(i,"number or string",ei,"removeLabelKeyForLinkData:key"),null===t))return;const n=this.en;if(""===n)return;const s=this.bt(t,n);if(Array.isArray(s)){const e=s.indexOf(i);if(e<0)return;this.Po(s,e),this.containsLinkData(t)&&(this._s(i,t),this.Et("linkLabelKeys",4,n,t,i,null,e,null))}else void 0!==s&&e.o(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}get linkDataArray(){return this.Ns}set linkDataArray(t){const i=this.Ns;if(i!==t){this.vN(t,ei,"linkDataArray"),this.vi.clear();const n=t.length;for(let i=0;i<n;i++){const n=t[i];e.H(n)||e.o("GraphLinksModel.linkDataArray must only contain Objects, not: "+n)}if(this.Ns=t,""!==this.linkKeyProperty){const e=new l;for(let s=0;s<n;s++){const i=t[s],n=this.getKeyForLinkData(i);void 0===n||null!==this.vi.get(n)?e.add(i):this.vi.set(n,i)}const i=e.iterator;for(;i.next();){const t=i.value;this.makeLinkDataKeyUnique(t);const e=this.getKeyForLinkData(t);void 0!==e&&this.vi.set(e,t)}}const s=new u;for(let e=0;e<n;e++){const i=t[e];s.add(i)}this.or=s,this.Et("linkDataArray",2,"linkDataArray",this,i,t);for(let e=0;e<n;e++){const i=t[e];this.BN(i)}}}get linkKeyProperty(){return this.Oh}set linkKeyProperty(t){const e=this.Oh;if(e!==t){this.Fn(t,ei,"linkKeyProperty"),this.Oh=t,this.vi.clear();const i=this.linkDataArray.length;for(let t=0;t<i;t++){const e=this.linkDataArray[t];let i=this.getKeyForLinkData(e);void 0===i&&(this.makeLinkDataKeyUnique(e),i=this.getKeyForLinkData(e)),void 0!==i&&this.vi.set(i,e)}this.t("linkKeyProperty",e,t)}}getKeyForLinkData(t){if(null===t)return;const i=this.Oh;if(""===i)return;const n=this.bt(t,i);if(void 0!==n){if(this.isKeyType(n))return n;e.o("Key value for link data "+t+" is not a number or a string: "+n)}}setKeyForLinkData(t,i){if((null==i||!this.isKeyType(i))&&e.te(i,"number or string",ei,"setKeyForLinkData:key"),null===t)return;const n=this.Oh;if(""===n)return;if(!this.containsLinkData(t))return void this.et(t,n,i);const s=this.bt(t,n);if(s!==i){if(null!==this.findLinkDataForKey(i))return;this.et(t,n,i),void 0!==s&&this.vi.delete(s),this.vi.set(i,t),this.Et("linkKey",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n)}}get makeUniqueLinkKeyFunction(){return this.Bf}set makeUniqueLinkKeyFunction(t){const i=this.Bf;i!==t&&(null!==t&&e.S(t,ei,"makeUniqueLinkKeyFunction"),this.Bf=t,this.t("makeUniqueLinkKeyFunction",i,t))}findLinkDataForKey(t){return null===t&&e.o("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&this.isKeyType(t)?this.vi.get(t):null}E1(t){return void 0!==t&&this.vi.has(t)}makeLinkDataKeyUnique(t){if(null===t)return;const e=this.Oh;if(""===e)return;let i=this.getKeyForLinkData(t);if(void 0!==i&&!this.E1(i))return;const n=this.Bf;if(null===n||(i=n(this,t),null==i||this.E1(i))){if("string"==typeof i){let n=2;for(;this.E1(i+n);)n++;this.et(t,e,i+n)}else if(void 0===i||"number"==typeof i){let i=-this.vi.count-1;for(;this.E1(i);)i--;this.et(t,e,i)}}else this.et(t,e,i)}containsLinkData(t){return null!==t&&this.or.has(t)}addLinkData(t){null!==t&&(this.containsLinkData(t)||this.VT(t,!0))}VT(t,i){if(""!==this.linkKeyProperty){let i=this.getKeyForLinkData(t);if(void 0===i)this.makeLinkDataKeyUnique(t),i=this.getKeyForLinkData(t);else{if(this.vi.get(i)===t)return;this.makeLinkDataKeyUnique(t),i=this.getKeyForLinkData(t)}void 0===i&&e.o("GraphLinksModel.makeLinkDataKeyUnique failed on "+t+". Data not added to model."),this.vi.set(i,t)}this.or.add(t);let n=null;i&&(n=this.Ns.length,this.nr(this.Ns,n,t)),this.Et("linkDataArray",3,"linkDataArray",this,null,t,null,n),this.BN(t)}addLinkDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++)this.addLinkData(t[i])}else{const e=t.iterator;for(;e.next();){const t=e.value;this.addLinkData(t)}}}removeLinkData(t){null!==t&&this.UT(t,!0)}UT(t,e){this.or.delete(t);const i=this.getKeyForLinkData(t);void 0!==i&&this.vi.delete(i);let n=null;if(e){if(n=this.Ns.indexOf(t),n<0)return;this.Po(this.Ns,n)}this.Et("linkDataArray",4,"linkDataArray",this,t,null,n,null),this.GO(t)}removeLinkDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let i=0;i<e;i++)this.removeLinkData(t[i])}else{const e=t.iterator;for(;e.next();){const t=e.value;this.removeLinkData(t)}}}mergeLinkDataArray(t){if(""===this.linkKeyProperty&&e.o("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t===this.linkDataArray||!Array.isArray(t))return;const i=new u;i.addAll(this.vi.iteratorKeys);const n=new u,s=t.length;for(let e=0;e<s;e++){const i=t[e],s=this.getKeyForLinkData(i);if(void 0!==s){n.add(s);const t=this.findLinkDataForKey(s);if(t===i)continue;if(null!==t)this.assignAllDataProperties(t,i),this.eD(i,t);else{const t=this.cloneDeep(i);this.setKeyForLinkData(t,s),this.addLinkData(t)}}else{const t=this.cloneDeep(i);this.addLinkData(t),n.add(this.getKeyForLinkData(t))}}const r=i.iterator;for(;r.next();){const t=r.value;if(!n.has(t)){const e=this.findLinkDataForKey(t);e&&this.removeLinkData(e)}}}BN(t){let e=this.Fe(t,!0);e=this.EN(e),null===this.findNodeDataForKey(e)&&this.tn(e,t),e=this.Fe(t,!1),e=this.EN(e),null===this.findNodeDataForKey(e)&&this.tn(e,t);const i=this.getLabelKeysForLinkData(t);if(Array.isArray(i)){const n=i.length;for(let s=0;s<n;s++)e=i[s],null===this.findNodeDataForKey(e)&&this.tn(e,t)}}GO(t){let e=this.Fe(t,!0);this._s(e,t),e=this.Fe(t,!1),this._s(e,t);const i=this.getLabelKeysForLinkData(t);if(Array.isArray(i)){const n=i.length;for(let s=0;s<n;s++)e=i[s],this._s(e,t)}}get copyLinkDataFunction(){return this.Uf}set copyLinkDataFunction(t){const i=this.Uf;i!==t&&(null!==t&&e.S(t,ei,"copyLinkDataFunction"),this.Uf=t,this.t("copyLinkDataFunction",i,t))}copyLinkData(t){if(null===t)return null;let i=null;const n=this.Uf;return i=null!==n?n(t,this):this.I1(t,!0),e.H(i)&&(""!==this.So&&this.et(i,this.So,void 0),""!==this.Mo&&this.et(i,this.Mo,void 0),""!==this.en&&this.et(i,this.en,[])),i}get nodeIsGroupProperty(){return this.Vf}set nodeIsGroupProperty(t){const e=this.Vf;e!==t&&(this.Fn(t,ei,"nodeIsGroupProperty"),this.Vf=t,this.t("nodeIsGroupProperty",e,t))}isGroupForNodeData(t){if(null===t)return!1;const e=this.Vf;return""!==e&&!!this.bt(t,e)}isGroupForData(t){return this.isGroupForNodeData(t)}get nodeGroupKeyProperty(){return this.Rn}set nodeGroupKeyProperty(t){const e=this.Rn;e!==t&&(this.Fn(t,ei,"nodeGroupKeyProperty"),this.Rn=t,this.t("nodeGroupKeyProperty",e,t))}get copiesGroupKeyOfNodeData(){return this.fg}set copiesGroupKeyOfNodeData(t){this.fg!==t&&(e.s(t,"boolean",ei,"copiesGroupKeyOfNodeData"),this.fg=t)}getGroupKeyForNodeData(t){if(null===t)return;const i=this.Rn;if(""===i)return;const n=this.bt(t,i);if(void 0!==n){if(this.isKeyType(n))return n;e.o("GroupKey value for node data "+t+" is not a number or a string: "+n)}}getGroupForData(t){return this.getGroupKeyForNodeData(t)}setGroupKeyForNodeData(t,i){if(null===i&&(i=void 0),void 0!==i&&!this.isKeyType(i)&&e.te(i,"number or string",ei,"setGroupKeyForNodeData:key"),null===t)return;const n=this.Rn;if(""===n)return;if(!this.containsNodeData(t))return void this.et(t,n,i);const s=this.bt(t,n);s!==i&&(this._s(s,t),this.et(t,n,i),null===this.findNodeDataForKey(i)&&this.tn(i,t),this.Et("nodeGroupKey",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n))}setGroupForData(t,e){this.setGroupKeyForNodeData(t,e)}copyNodeData(t){if(null===t)return null;const e=super.copyNodeData(t);return!this.copiesGroupKeyOfNodeData&&""!==this.Rn&&void 0!==this.bt(e,this.Rn)&&this.et(e,this.Rn,void 0),e}setDataProperty(t,e,i){if(this.containsNodeData(t)){if(e===this.nodeKeyProperty)return void this.setKeyForNodeData(t,i);if(e===this.nodeCategoryProperty)return void this.setCategoryForNodeData(t,i);if(e===this.nodeGroupKeyProperty)return void this.setGroupKeyForNodeData(t,i)}else if(this.containsLinkData(t)){if(e===this.linkFromKeyProperty)return void this._d(t,i,!0);if(e===this.linkToKeyProperty)return void this._d(t,i,!1);if(e===this.linkFromPortIdProperty)return void this.tg(t,i,!0);if(e===this.linkToPortIdProperty)return void this.tg(t,i,!1);if(e===this.linkKeyProperty)return void this.setKeyForLinkData(t,i);if(e===this.linkCategoryProperty)return void this.setCategoryForLinkData(t,i);if(e===this.linkLabelKeysProperty)return void this.setLabelKeysForLinkData(t,i)}const n=this.bt(t,e);n!==i&&(this.et(t,e,i),this.raiseDataChanged(t,e,n,i))}assignAllDataProperties(t,e){if(!e)return;const i=this.containsNodeData(t),n=this.containsLinkData(t);for(const s in e)if("__gohashid"!==s&&(!i||s!==this.nodeKeyProperty)){if(i&&s===this.nodeIsGroupProperty&&this.bt(t,s)===e[s])continue;if(n&&s===this.linkKeyProperty)continue;this.setDataProperty(t,s,e[s])}}Fy(t,e){super.Fy(t,e);const i=this.wi.iterator;for(;i.next();){const n=i.value;this.UN(n,t,e)}const n=this.or.iterator;for(;n.next();){const i=n.value;this.HO(i,t,e)}}UN(t,e,i){if(this.getGroupKeyForNodeData(t)===e){const n=this.Rn;this.et(t,n,i),this.Et("nodeGroupKey",2,n,t,e,i),"string"==typeof n&&this.updateTargetBindings(t,n)}}HO(t,e,i){if(this.Fe(t,!0)===e){const n=this.So;this.et(t,n,i),this.Et("linkFromKey",2,n,t,e,i),"string"==typeof n&&this.updateTargetBindings(t,n)}if(this.Fe(t,!1)===e){const n=this.Mo;this.et(t,n,i),this.Et("linkToKey",2,n,t,e,i),"string"==typeof n&&this.updateTargetBindings(t,n)}const n=this.getLabelKeysForLinkData(t);if(Array.isArray(n)){const s=n.length,r=this.en;for(let o=0;o<s;o++)n[o]===e&&(this.JT(n,o,i),this.Et("linkLabelKeys",3,r,t,e,i,o,o))}}ON(){super.ON();const t=this.linkDataArray,e=t.length;for(let i=0;i<e;i++){const e=t[i];this.BN(e)}}ag(t){super.ag(t);const i=this.getKeyForNodeData(t),n=this.Ny(i);if(null!==n){const t=e.rt(),s=n.iterator;for(;s.next();){const e=s.value;if(this.containsNodeData(e)){if(this.getGroupKeyForNodeData(e)===i){const n=this.Rn;this.Et("nodeGroupKey",2,n,e,i,i),"string"==typeof n&&this.updateTargetBindings(e,n),t.push(e)}}else{if(this.Fe(e,!0)===i){const n=this.So;this.Et("linkFromKey",2,n,e,i,i),"string"==typeof n&&this.updateTargetBindings(e,n),t.push(e)}if(this.Fe(e,!1)===i){const n=this.Mo;this.Et("linkToKey",2,n,e,i,i),"string"==typeof n&&this.updateTargetBindings(e,n),t.push(e)}const n=this.getLabelKeysForLinkData(e);if(Array.isArray(n)){const s=n.length,r=this.en;for(let o=0;o<s;o++)n[o]===i&&(this.Et("linkLabelKeys",3,r,e,i,i,o,o),t.push(e))}}}for(let e=0;e<t.length;e++)this._s(i,t[e]);e.tt(t)}}cg(t){super.cg(t);const e=this.getGroupKeyForNodeData(t);null===this.findNodeDataForKey(e)&&this.tn(e,t)}Ry(t){super.Ry(t);const e=this.getGroupKeyForNodeData(t);this._s(e,t)}get linkCategoryProperty(){return this.Qa}set linkCategoryProperty(t){const e=this.Qa;e!==t&&(this.Fn(t,ei,"linkCategoryProperty"),this.Qa=t,this.t("linkCategoryProperty",e,t))}getCategoryForLinkData(t){if(null===t)return"";const i=this.Qa;if(""===i)return"";const n=this.bt(t,i);return void 0===n?"":"string"==typeof n?n:void e.o("getCategoryForLinkData found a non-string category for "+t+": "+n)}getLinkCategoryForData(t){return this.getCategoryForLinkData(t)}setCategoryForLinkData(t,i){if(e.s(i,"string",ei,"setCategoryForLinkData:cat"),null===t)return;const n=this.Qa;if(""===n)return;if(!this.containsLinkData(t))return void this.et(t,n,i);let s=this.bt(t,n);void 0===s&&(s=""),s!==i&&(this.et(t,n,i),this.Et("linkCategory",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n))}setLinkCategoryForData(t,e){this.setCategoryForLinkData(t,e)}hg(t,e){super.hg(t,e),this.setGroupKeyForNodeData(e,this.getGroupKeyForNodeData(t))}eD(t,e){this.setCategoryForLinkData(e,this.getCategoryForLinkData(t)),this.setFromKeyForLinkData(e,this.getFromKeyForLinkData(t)),this.setToKeyForLinkData(e,this.getToKeyForLinkData(t)),this.setLabelKeysForLinkData(e,this.getLabelKeysForLinkData(t)),this.setFromPortIdForLinkData(e,this.getFromPortIdForLinkData(t)),this.setToPortIdForLinkData(e,this.getToPortIdForLinkData(t))}get type(){return"GraphLinksModel"}bm(){return!0}Ba(){return!0}Uw(){return!0}Zc(){return!0}static EmptyArray=Object.freeze([])}ti.wl(ei,"GraphLinksModel"),ti.WT=()=>new ei,ti.bM=()=>new ei;class ii extends ti{vn;ug;_a;constructor(t,e){if(super(),this.vn="parent",this.ug=!1,this._a="parentLinkCategory",void 0!==t&&(Array.isArray(t)?this.nodeDataArray=t:e=t),e){Object.assign(this,e);const t=e.Changed;t&&(delete this.Changed,this.addChangedListener(t))}}cloneProtected(t){super.cloneProtected(t),t.vn=this.vn,t.ug=this.ug,t._a=this._a}toString(t){if(void 0===t&&(t=0),t>=2)return this.toJson();{let e=(""!==this.name?this.name:"")+" TreeModel";if(t>0){e+="\n node data:";const t=this.nodeDataArray,i=t.length;for(let n=0;n<i;n++){const i=t[n];e+=" "+this.getKeyForNodeData(i)+":"+Ze.toString(i)}}return e}}lg(){const t=super.lg();let e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.ve(this.nodeParentKeyProperty)),t+e}Ty(t){super.Ty(t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)}Dy(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&e.o("applyIncrementalJson cannot change Model properties"),super.Dy(t)}maybeEnsureLinkReference(t){return t}get nodeParentKeyProperty(){return this.vn}set nodeParentKeyProperty(t){const e=this.vn;e!==t&&(this.Fn(t,ii,"nodeParentKeyProperty"),this.vn=t,this.t("nodeParentKeyProperty",e,t))}get copiesParentKeyOfNodeData(){return this.ug}set copiesParentKeyOfNodeData(t){this.ug!==t&&(e.s(t,"boolean",ii,"copiesParentKeyOfNodeData"),this.ug=t)}getParentKeyForNodeData(t){if(null===t)return;const i=this.vn;if(""===i)return;const n=this.bt(t,i);if(void 0!==n){if(this.isKeyType(n))return n;e.o("ParentKey value for node data "+t+" is not a number or a string: "+n)}}setParentKeyForNodeData(t,i){if(null===i&&(i=void 0),void 0!==i&&!this.isKeyType(i)&&e.te(i,"number or string",ii,"setParentKeyForNodeData:key"),null===t)return;const n=this.vn;if(""===n)return;if(i=this.maybeEnsureLinkReference(i),!this.containsNodeData(t))return void this.et(t,n,i);const s=this.bt(t,n);s!==i&&(this._s(s,t),this.et(t,n,i),null===this.findNodeDataForKey(i)&&this.tn(i,t),this.Et("nodeParentKey",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n))}get parentLinkCategoryProperty(){return this._a}set parentLinkCategoryProperty(t){const e=this._a;e!==t&&(this.Fn(t,ii,"parentLinkCategoryProperty"),this._a=t,this.t("parentLinkCategoryProperty",e,t))}get linkCategoryProperty(){return this.parentLinkCategoryProperty}set linkCategoryProperty(t){this.parentLinkCategoryProperty=t}getParentLinkCategoryForNodeData(t){if(null===t)return"";const i=this._a;if(""===i)return"";const n=this.bt(t,i);return void 0===n?"":"string"==typeof n?n:void e.o("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+n)}getLinkCategoryForData(t){return this.getParentLinkCategoryForNodeData(t)}setParentLinkCategoryForNodeData(t,i){if(e.s(i,"string",ii,"setParentLinkCategoryForNodeData:cat"),null===t)return;const n=this._a;if(""===n)return;if(!this.containsNodeData(t))return void this.et(t,n,i);let s=this.bt(t,n);void 0===s&&(s=""),s!==i&&(this.et(t,n,i),this.Et("parentLinkCategory",2,n,t,s,i),"string"==typeof n&&this.updateTargetBindings(t,n))}setLinkCategoryForData(t,e){this.setParentLinkCategoryForNodeData(t,e)}copyNodeData(t){if(null===t)return null;const e=super.copyNodeData(t);return!this.copiesParentKeyOfNodeData&&""!==this.vn&&void 0!==this.bt(e,this.vn)&&this.et(e,this.vn,void 0),e}setDataProperty(t,e,i){if(this.containsNodeData(t)){if(e===this.nodeKeyProperty)return void this.setKeyForNodeData(t,i);if(e===this.nodeCategoryProperty)return void this.setCategoryForNodeData(t,i);if(e===this.nodeParentKeyProperty)return void this.setParentKeyForNodeData(t,i);if(e===this.parentLinkCategoryProperty)return void this.setParentLinkCategoryForNodeData(t,i)}const n=this.bt(t,e);n!==i&&(this.et(t,e,i),this.raiseDataChanged(t,e,n,i))}Fy(t,e){super.Fy(t,e);const i=this.wi.iterator;for(;i.next();){const n=i.value;this.UN(n,t,e)}}UN(t,e,i){if(this.getParentKeyForNodeData(t)===e){const n=this.vn;this.et(t,n,i),this.Et("nodeParentKey",2,n,t,e,i),"string"==typeof n&&this.updateTargetBindings(t,n)}}ag(t){super.ag(t);const i=this.getKeyForNodeData(t),n=this.Ny(i);if(null!==n){const t=e.rt(),s=n.iterator;for(;s.next();){const e=s.value;if(this.containsNodeData(e)&&this.getParentKeyForNodeData(e)===i){const n=this.vn;this.Et("nodeParentKey",2,n,e,i,i),"string"==typeof n&&this.updateTargetBindings(e,n),t.push(e)}}for(let e=0;e<t.length;e++)this._s(i,t[e]);e.tt(t)}}cg(t){super.cg(t);let e=this.getParentKeyForNodeData(t);e=this.maybeEnsureLinkReference(e),null===this.findNodeDataForKey(e)&&this.tn(e,t)}Ry(t){super.Ry(t);const e=this.getParentKeyForNodeData(t);this._s(e,t)}hg(t,e){super.hg(t,e),this.setParentLinkCategoryForNodeData(e,this.getParentLinkCategoryForNodeData(t)),this.setParentKeyForNodeData(e,this.getParentKeyForNodeData(t))}get type(){return"TreeModel"}km(){return!0}Uw(){return!0}}ti.wl(ii,"TreeModel");var ni=(t=>(t[t.ConstantSpacing=0]="ConstantSpacing",t[t.ConstantDistance=1]="ConstantDistance",t[t.ConstantAngle=2]="ConstantAngle",t[t.Packed=3]="Packed",t))(ni||{}),si=(t=>(t[t.Clockwise=10]="Clockwise",t[t.Counterclockwise=11]="Counterclockwise",t[t.BidirectionalLeft=12]="BidirectionalLeft",t[t.BidirectionalRight=13]="BidirectionalRight",t))(si||{}),ri=(t=>(t[t.Forwards=20]="Forwards",t[t.Reverse=21]="Reverse",t[t.Ascending=22]="Ascending",t[t.Descending=23]="Descending",t[t.Optimized=24]="Optimized",t))(ri||{}),oi=(t=>(t[t.Pythagorean=30]="Pythagorean",t[t.Circular=31]="Circular",t))(oi||{});class ai extends He{ce;zf;B1;dg;U1;Ih;VN;zN;XN;Cs;vy;Oy;tc;Iy;sD;gg;mg;pg;Xf;Gi;P;xe;be;Dn;yg;constructor(t){super(),this.ce=0,this.zf=0,this.B1=0,this.dg=360,this.U1=0,this.Ih=0,this.VN=new y,this.zN=30,this.XN=0,this.Cs=0,this.vy=0,this.Oy=new li,this.tc=0,this.Iy=0,this.sD=600,this.gg=NaN,this.mg=1,this.pg=0,this.Xf=360,this.Gi=0,this.P=10,this.xe=24,this.be=ze.standardComparer,this.Dn=6,this.yg=30,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.gg=this.gg,t.mg=this.mg,t.pg=this.pg,t.Xf=this.Xf,t.Gi=this.Gi,t.P=this.P,t.xe=this.xe,t.be=this.be,t.Dn=this.Dn,t.yg=this.yg}hi(t){t in ri?this.sorting=t:t in si?this.direction=t:t in ni?this.arrangement=t:t in oi?this.nodeDiameterFormula=t:super.hi(t)}createNetwork(){return new hi(this)}jO(t,e,i){t=this.qO(t);let n=this.U1,s=this.zN,r=this.ce,o=this.zf,a=this.B1,h=this.dg,u=this.Ih,c=this.XN,d=this.Cs,f=this.vy;if(n=this.arrangement,s=this.nodeDiameterFormula,r=this.radius,(!isFinite(r)||r<=0)&&(r=NaN),o=this.aspectRatio,(!isFinite(o)||o<=0)&&(o=1),a=this.startAngle,isFinite(a)||(a=0),h=this.sweepAngle,(!isFinite(h)||h>360||h<1)&&(h=360),u=this.spacing,isFinite(u)||(u=NaN),3===n&&31===s?n=0:3===n&&31!==s&&(s=31,n=this.arrangement),(12===this.direction||13===this.direction)&&24!==this.sorting){for(let n=0;!(n>=t.length||(e.add(t.elt(n)),n+1>=t.length));n+=2)i.add(t.elt(n+1));12===this.direction?(3===this.arrangement&&e.reverse(),t=new l,t.addAll(e),t.addAll(i)):(3===this.arrangement&&i.reverse(),t=new l,t.addAll(i),t.addAll(e))}const m=t.length;c=0;let g=0;for(let l=0;l<t.length;l++){const e=a+h*g*(10===this.direction?1:-1)/m;let i=t.elt(l).diameter;isNaN(i)&&(i=t.elt(l).Eh(e)),h<360&&(0===l||l===t.length-1)&&(i/=2),c+=i,g++}if(isNaN(r)||3===n){if(isNaN(u)&&(u=6),0!==n&&3!==n){let e=-1/0;for(let i=0;i<m;i++){const n=t.elt(i),s=t.elt(i===m-1?0:i+1);isNaN(n.diameter)&&n.Eh(0),isNaN(s.diameter)&&s.Eh(0),e=Math.max(e,(n.diameter+s.diameter)/2)}if(f=e+u,2===n){const t=2*Math.PI/m,i=(e+u)/t;o>1?(r=i,d=r*o):(d=i,r=d)}else r=this.V1(f*(h>=360?m:m-1),o,a*Math.PI/180,h*Math.PI/180)}else r=this.V1(c+(h>=360?m:m-1)*(3!==n?u:1.6*u),o,a*Math.PI/180,h*Math.PI/180);d=r*o}else{d=r*o;const e=this.YN(r,d,a*Math.PI/180,h*Math.PI/180);if(isNaN(u))0===n&&(u=(e-c)/(h>=360?m:m-1));else if(0===n){const t=(e-c)/(h>=360?m:m-1);t<u?(r=this.V1(c+u*(h>=360?m:m-1),o,a*Math.PI/180,h*Math.PI/180),d=r*o):u=t}else{let i=-1/0;for(let e=0;e<m;e++){const n=t.elt(e),s=t.elt(e===m-1?0:e+1);isNaN(n.diameter)&&n.Eh(0),isNaN(s.diameter)&&s.Eh(0),i=Math.max(i,(n.diameter+s.diameter)/2)}const n=i+u,s=this.V1(n*(h>=360?m:m-1),o,a*Math.PI/180,h*Math.PI/180);s>r?(r=s,d=r*o,f=n):f=e/(h>=360?m:m-1)}}return this.U1=n,this.zN=s,this.ce=r,this.zf=o,this.B1=a,this.dg=h,this.Ih=u,this.XN=c,this.Cs=d,this.vy=f,t}doLayout(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const e=this.network.vertexes;if(e.count<=1){if(1===e.count){const t=e.first();t.centerX=0,t.centerY=0}return this.updateParts(),this.network=null,void(this.isValidLayout=!0)}let i=new l;i.addAll(e.iterator);const n=new l,s=new l;i=this.jO(i,n,s);const r=this.U1,o=this.ce,a=this.B1,h=this.dg,u=this.Ih,c=this.Cs,d=this.vy;if(12!==this.direction&&13!==this.direction||3!==r)if(12===this.direction||13===this.direction){let t=0;switch(r){case 1:t=180*this.z1(o,c,a,d)/Math.PI;break;case 0:{let e=0,i=0;const r=n.first();null!==r&&(e=r.Eh(Math.PI/2));const l=s.first();null!==l&&(i=l.Eh(Math.PI/2)),t=180*this.z1(o,c,a,u+(e+i)/2)/Math.PI;break}case 2:t=h/i.length;break}if(12===this.direction){switch(r){case 1:this.Ey(n,h/2,a,11);break;case 0:this.By(n,h/2,a,11);break;case 2:this.Uy(n,h/2,a,11);break}switch(r){case 1:this.Ey(s,h/2,a+t,10);break;case 0:this.By(s,h/2,a+t,10);break;case 2:this.Uy(s,h/2,a+t,10);break}}else{switch(r){case 1:this.Ey(s,h/2,a,11);break;case 0:this.By(s,h/2,a,11);break;case 2:this.Uy(s,h/2,a,11);break}switch(r){case 1:this.Ey(n,h/2,a+t,10);break;case 0:this.By(n,h/2,a+t,10);break;case 2:this.Uy(n,h/2,a+t,10);break}}}else switch(r){case 1:this.Ey(i,h,a,this.direction);break;case 0:this.By(i,h,a,this.direction);break;case 2:this.Uy(i,h,a,this.direction);break;case 3:this.nD(i,h,a,this.direction);break}else this.nD(i,h,a-h/2,10);this.updateParts(),this.network=null,this.isValidLayout=!0}Uy(t,e,i,n){const s=this.dg,r=this.ce,o=this.Cs,a=i*Math.PI/180,l=e*Math.PI/180,h=t.length;for(let u=0;u<h;u++){const e=a+(10===n?u*l/(s>=360?h:h-1):-u*l/h),i=t.elt(u),c=r*Math.tan(e)/o,d=Math.sqrt((r*r+o*o*c*c)/(1+c*c));i.centerX=d*Math.cos(e),i.centerY=d*Math.sin(e),i.actualAngle=180*e/Math.PI}}By(t,e,i,n){const s=this.ce,r=this.Cs,o=this.Ih;let a=i*Math.PI/180;const l=t.length;for(let h=0;h<l;h++){const e=t.elt(h),i=t.elt(h===l-1?0:h+1),u=s*Math.cos(a),c=r*Math.sin(a);e.centerX=u,e.centerY=c,e.actualAngle=180*a/Math.PI,isNaN(e.diameter)&&e.Eh(0),isNaN(i.diameter)&&i.Eh(0);const d=(e.diameter+i.diameter)/2,f=this.z1(s,r,10===n?a:-a,d+o);a+=10===n?f:-f}}Ey(t,e,i,n){const s=this.ce,r=this.Cs,o=this.vy;let a=i*Math.PI/180;const l=t.length;for(let h=0;h<l;h++){const e=t.elt(h);e.centerX=s*Math.cos(a),e.centerY=r*Math.sin(a),e.actualAngle=180*a/Math.PI;const i=this.z1(s,r,10===n?a:-a,o);a+=10===n?i:-i}}nD(t,e,i,n){let s=this.Iy;const r=this.dg;if(this.tc=0,this.Oy=new li,e<360){for(s=i+(10===n?r:-r);s<0;)s+=360;s%=360,s>180&&(s-=360),s*=Math.PI/180,this.Iy=s,this.oD(t,e,i,n)}else this.rD(t,e,i,n);this.Oy.commit(t)}rD(t,e,i,n){const s=this.ce,r=this.Cs,o=this.Ih,a=this.zf;let l=s*Math.cos(i*Math.PI/180),h=r*Math.sin(i*Math.PI/180);const u=t.toArray();if(3===u.length)return u[0].centerX=s,u[0].centerY=0,u[1].centerX=u[0].centerX-u[0].width/2-u[1].width/2-o,u[1].y=u[0].y,u[2].centerX=(u[0].centerX+u[1].centerX)/2,void(u[2].y=u[0].y-u[2].height-o);if(4===u.length)return u[0].centerX=s,u[0].centerY=0,u[2].centerX=-u[0].centerX,u[2].centerY=u[0].centerY,u[1].centerX=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-o,u[3].centerX=0,void(u[3].y=Math.max(u[0].y+u[0].height+o,u[2].y+u[2].height+o));const c=y.l();for(let y=0;y<u.length&&(u[y].centerX=l,u[y].centerY=h,!(y>=u.length-1));y++)this.lD(l,h,u,y,n,c)||this.hD(l,h,u,y,n,c),l=c.x,h=c.y;if(y.e(c),this.tc++,this.tc>23)return;const d=u[0].centerX,f=u[0].centerY,m=u[u.length-1].centerX,g=u[u.length-1].centerY;let p=Math.abs(d-m)-((u[0].width+u[u.length-1].width)/2+o);const _=Math.abs(f-g)-((u[0].height+u[u.length-1].height)/2+o);let v=0;if(Math.abs(_)<1){const t=Math.abs(d-m),e=(u[0].width+u[u.length-1].width)/2;t<e&&(v=0),p=t-e}else v=_>0?_:Math.abs(p)<1?0:p;let b=!1;b=Math.abs(m)>Math.abs(g)?m>0!=f>g:g>0!=d<m,b=10===n?b:!b,b&&(v=-Math.abs(v),v=Math.min(v,-u[u.length-1].width),v=Math.min(v,-u[u.length-1].height)),this.Oy.WO(v,u),Math.abs(v)>1&&(this.tc<8?this.ce-=v/(2*Math.PI):u.length<5&&v>10?this.ce/=2:this.ce-=v>0?1.7:-2.3,this.Cs=this.ce*a,this.rD(t,e,i,n))}oD(t,e,i,n){const s=this.ce,r=this.Cs,o=this.zf;let a=s*Math.cos(i*Math.PI/180),l=r*Math.sin(i*Math.PI/180);const h=y.l(),u=t.toArray();for(let m=0;m<u.length&&(u[m].centerX=a,u[m].centerY=l,!(m>=u.length-1));m++)this.lD(a,l,u,m,n,h)||this.hD(a,l,u,m,n,h),a=h.x,l=h.y;if(y.e(h),this.tc++,this.tc>23)return;const c=Math.atan2(l,a);let d=10===n?this.Iy-c:c-this.Iy;d=Math.abs(d)<Math.abs(d-2*Math.PI)?d:d-2*Math.PI;const f=d*(s+r)/2;this.Oy.JO(f,u),Math.abs(f)>1&&(this.tc<8?this.ce-=f/(2*Math.PI):this.ce-=f>0?1.7:-2.3,this.Cs=this.ce*o,this.oD(t,e,i,n))}lD(t,e,i,n,s,r){const o=this.Ih,a=this.ce,l=this.Cs;let h=0,u=0;const c=(i[n].width+i[n+1].width)/2+o;let d=!1;if(e>=0!=(10===s)){if(h=t+c,h>a){if(h=t-c,h<-a)return r.x=h,r.y=u,!1;d=!0}}else if(h=t-c,h<-a){if(h=t+c,h>a)return r.x=h,r.y=u,!1;d=!0}return u=Math.sqrt(1-Math.min(1,h*h/(a*a)))*l,e<0!==d&&(u=-u),Math.abs(e-u)>(i[n].height+i[n+1].height)/2?(r.x=h,r.y=u,!1):(r.x=h,r.y=u,!0)}hD(t,e,i,n,s,r){const o=this.Ih,a=this.ce,l=this.Cs;let h=0,u=0;const c=(i[n].height+i[n+1].height)/2+o;let d=!1;if(t>=0!=(10===s)){if(u=e-c,u<-l){if(u=e+c,u>l)return r.x=h,r.y=u,!1;d=!0}}else if(u=e+c,u>l){if(u=e-c,u<-l)return r.x=h,r.y=u,!1;d=!0}return h=Math.sqrt(1-Math.min(1,u*u/(l*l)))*a,t<0!==d&&(h=-h),Math.abs(t-h)>(i[n].width+i[n+1].width)/2?(r.x=h,r.y=u,!1):(r.x=h,r.y=u,!0)}commitLayout(){this.commitNodes(),this.isRouting&&this.commitLinks()}commitNodes(){const t=null!==this.group&&this.group.hasPlaceholder(),e=t?this.group.location.copy():null;let i=this.actualCenter;t?i=new y(0,0):(i.x=this.arrangementOrigin.x+this.ce,i.y=this.arrangementOrigin.y+this.Cs);const n=this.network.vertexes.iterator;for(;n.next();){const t=n.value;t.x+=i.x,t.y+=i.y,t.commit()}if(t){this.group.ensureBounds();const t=this.group.position.copy(),i=this.group.location.copy(),n=e.subtract(i.subtract(t));this.group.move(n),this.VN=n.subtract(t)}}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}YN(t,e,i,n){const s=this.sD;if(Math.abs(this.zf-1)<.001)return void 0!==i&&void 0!==n?n*t:2*Math.PI*t;const r=t>e?Math.sqrt(t*t-e*e)/t:Math.sqrt(e*e-t*t)/e;let o=0,a=0;a=void 0!==i&&void 0!==n?n/(s+1):Math.PI/(2*(s+1));let l=0;for(let h=0;h<=s;h++){l=void 0!==i&&void 0!==n?i+h*n/s:h*Math.PI/(2*s);const t=Math.sin(l);o+=Math.sqrt(1-r*r*t*t)*a}return void 0!==i&&void 0!==n?(t>e?t:e)*o:4*(t>e?t:e)*o}V1(t,e,i,n){let s=0;return s=void 0!==i&&void 0!==n?this.YN(1,e,i,n):this.YN(1,e),t/s}z1(t,e,i,n){if(Math.abs(this.zf-1)<.001)return n/t;const s=t>e?Math.sqrt(t*t-e*e)/t:Math.sqrt(e*e-t*t)/e;let r=0;const o=2*Math.PI/(700*this.network.vertexes.count);t>e&&(i+=Math.PI/2);for(let a=0;;a++){const l=i+a*o,h=Math.sin(l);if(r+=(t>e?t:e)*Math.sqrt(1-s*s*h*h)*o,r>=n)return a*o}}qO(t){switch(this.sorting){case 20:break;case 21:t.reverse();break;case 22:t.sort(this.comparer);break;case 23:t.sort(this.comparer),t.reverse();break;case 24:return this.$O(this.ZO(t));default:e.o("Invalid sorting type.")}return t}ZO(t){const e=[];for(let n=0;n<t.length;n++)e.push(0);const i=new l;for(let n=0;n<t.length;n++){let s=-1,r=-1;if(0===n)for(let e=0;e<t.length;e++){const i=t.elt(e).edgesCount;i>s&&(s=i,r=e)}else for(let i=0;i<t.length;i++){const t=e[i];t>s&&(s=t,r=i)}i.add(t.elt(r)),e[r]=-1;const o=t.elt(r);let a=0;const l=o.sourceEdges;for(;l.next();){const i=l.value.fromVertex;a=t.indexOf(i),!(a<0)&&e[a]>=0&&e[a]++}const h=o.destinationEdges;for(;h.next();){const i=h.value.toVertex;a=t.indexOf(i),!(a<0)&&e[a]>=0&&e[a]++}}return i}$O(t){const e=[];for(let l=0;l<t.length;l++){const i=t.elt(l);e[l]=[];let n=0;const s=i.destinationEdges;for(;s.next();){const i=s.value.toVertex;n=t.indexOf(i),n!==l&&e[l].indexOf(n)<0&&e[l].push(n)}const r=i.sourceEdges;for(;r.next();){const i=r.value.fromVertex;n=t.indexOf(i),n!==l&&e[l].indexOf(n)<0&&e[l].push(n)}}const i=[];for(let l=0;l<e.length;l++)i[l]=0;const n=[],s=[],r=[],o=[],a=new l;let h=0;for(let l=0;l<e.length;l++){const u=e[l].length;if(1===u){o.push(l);continue}if(0===u){a.add(t.elt(l));continue}if(0===h){n.push(l),h++;continue}let c=1/0,d=1/0,f=-1;const m=[];for(let t=0;t<n.length;t++)e[n[t]].indexOf(n[t===n.length-1?0:t+1])<0&&m.push(t===n.length-1?0:t+1);if(0===m.length)for(let t=0;t<n.length;t++)m.push(t);for(let t=0;t<m.length;t++){const o=m[t],a=this.QO(e[l],s,r,i,o,n);let h=0;for(let t=0;t<e[l].length;t++){const i=e[l][t],s=n.indexOf(i);if(s>=0){const t=Math.abs(o-(s>=o?s+1:s));h+=t<n.length+1-t?t:n.length+1-t}}for(let t=0;t<s.length;t++){let e=i[s[t]],a=i[r[t]];if(e>=o&&e++,a>=o&&a++,e>a){const t=a;a=e,e=t}a-e<(n.length+2)/2==(e<o&&o<=a)&&h++}(a<c||a===c&&h<d)&&(c=a,d=h,f=o)}n.splice(f,0,l);for(let t=0;t<n.length;t++)i[n[t]]=t;for(let t=0;t<e[l].length;t++){const i=e[l][t];n.indexOf(i)>=0&&(s.push(l),r.push(i))}h++}let u=!1;const c=n.length;for(;;){u=!0;for(let t=0;t<o.length;t++){const i=o[t],s=e[i][0],r=n.indexOf(s);if(r>=0){let a=0;for(let t=0;t<e[s].length;t++){const i=e[s][t],o=n.indexOf(i);if(o<0||o===r)continue;const l=o>r?o-r:r-o,h=c-l;a+=o<r!=l>h?1:-1}n.splice(a<0?r:r+1,0,i),o.splice(t,1),t--}else u=!1}if(u)break;n.push(o[0]),o.splice(0,1)}for(let l=0;l<n.length;l++){const e=n[l];a.add(t.elt(e))}return a}QO(t,e,i,n,s,r){let o=0;for(let a=0;a<e.length;a++){const l=e[a],h=i[a],u=n[l],c=n[h];let d=0,f=0;if(u<c?(d=u,f=c):(d=c,f=u),d<s&&s<=f)for(let e=0;e<t.length;e++){const i=t[e];r.indexOf(i)<0||d<n[i]&&n[i]<f||d===n[i]||f===n[i]||o++}else for(let e=0;e<t.length;e++){const i=t[e];r.indexOf(i)<0||!(d<n[i]&&n[i]<f)||d===n[i]||f===n[i]||o++}}return o}get radius(){return this.gg}set radius(t){this.gg!==t&&(e.s(t,"number",ai,"radius"),(t>0||isNaN(t))&&(this.gg=t,this.invalidateLayout()))}get aspectRatio(){return this.mg}set aspectRatio(t){this.mg!==t&&(e.s(t,"number",ai,"aspectRatio"),t>0&&(this.mg=t,this.invalidateLayout()))}get startAngle(){return this.pg}set startAngle(t){this.pg!==t&&(e.s(t,"number",ai,"startAngle"),this.pg=t,this.invalidateLayout())}get sweepAngle(){return this.Xf}set sweepAngle(t){this.Xf!==t&&(e.s(t,"number",ai,"sweepAngle"),this.Xf=t>0&&t<=360?t:360,this.invalidateLayout())}get arrangement(){return this.Gi}set arrangement(t){this.Gi!==t&&(3===t||0===t||1===t||2===t)&&(this.Gi=t,this.invalidateLayout())}get direction(){return this.P}set direction(t){this.P!==t&&(10===t||11===t||12===t||13===t)&&(this.P=t,this.invalidateLayout())}get sorting(){return this.xe}set sorting(t){this.xe!==t&&(this.xe=t,this.invalidateLayout())}get comparer(){return this.be}set comparer(t){this.be!==t&&(e.S(t,ai,"comparer"),this.be=t,this.invalidateLayout())}get spacing(){return this.Dn}set spacing(t){this.Dn!==t&&(e.s(t,"number",ai,"spacing"),this.Dn=t,this.invalidateLayout())}get nodeDiameterFormula(){return this.yg}set nodeDiameterFormula(t){this.yg!==t&&(30===t||31===t)&&(this.yg=t,this.invalidateLayout())}get actualXRadius(){return this.ce}get actualYRadius(){return this.Cs}get actualSpacing(){return this.Ih}get actualCenter(){return this.VN}static ConstantSpacing=0;static ConstantDistance=1;static ConstantAngle=2;static Packed=3;static Clockwise=10;static Counterclockwise=11;static BidirectionalLeft=12;static BidirectionalRight=13;static Forwards=20;static Reverse=21;static Ascending=22;static Descending=23;static Optimized=24;static Pythagorean=30;static Circular=31}class li{Yf;ic;Kf;constructor(){this.Yf=-1/0,this.ic=null,this.Kf=null}WO(t,e){if(t>0&&this.Yf<0||Math.abs(t)<Math.abs(this.Yf)&&!(t<0&&this.Yf>0)){this.Yf=t,this.ic=[],this.Kf=[];for(let t=0;t<e.length;t++)this.ic[t]=e[t].bounds.x,this.Kf[t]=e[t].bounds.y}}JO(t,e){if(Math.abs(t)<Math.abs(this.Yf)){this.Yf=t,this.ic=[],this.Kf=[];for(let t=0;t<e.length;t++)this.ic[t]=e[t].bounds.x,this.Kf[t]=e[t].bounds.y}}commit(t){if(null!==this.ic&&null!==this.Kf)for(let e=0;e<this.ic.length;e++){const i=t.elt(e);i.x=this.ic[e],i.y=this.Kf[e]}}}class hi extends Be{constructor(t){super(t)}createVertex(){return new ui(this)}createEdge(){return new ci(this)}}class ui extends ze{No;X1;constructor(t){super(t),this.No=NaN,this.X1=NaN}Eh(t){const e=this.network;if(null===e)return NaN;const i=e.layout;if(null===i)return NaN;if(3===i.arrangement){if(31===i.nodeDiameterFormula)return this.No=Math.max(this.width,this.height),this.No;{const e=Math.abs(Math.sin(t)),i=Math.abs(Math.cos(t));return 0===e?this.width:0===i?this.height:(this.No=Math.min(this.height/e,this.width/i),this.No)}}return 31===i.nodeDiameterFormula?(this.No=Math.max(this.width,this.height),this.No):(this.No=Math.sqrt(this.width*this.width+this.height*this.height),this.No)}get diameter(){return this.No}set diameter(t){this.No!==t&&(e.s(t,"number",ui,"diameter"),this.No=t)}get actualAngle(){return this.X1}set actualAngle(t){this.X1!==t&&(e.s(t,"number",ui,"actualAngle"),this.X1=t)}}class ci extends Ve{constructor(t){super(t)}}class di extends He{Vy;Bh;Ls;wg;On;Oe;xg;bg;kg;Gf;Pg;Sg;Hf;jf;qf;Wf;Mg;Ng;Jf;ec;constructor(t){super(),this.Vy=0,this.Bh=0,this.Ls=new _(100,100).u(),this.wg=!1,this.On=!0,this.Oe=!1,this.xg=100,this.bg=300,this.kg=1,this.Gf=1e3,this.Pg=10,this.Sg=Math,this.Hf=.05,this.jf=50,this.qf=150,this.Wf=0,this.Mg=10,this.Ng=5,this.Jf=NaN,this.ec=10,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Ls.a(this.Ls),t.wg=this.wg,t.On=this.On,t.Oe=this.Oe,t.xg=this.xg,t.bg=this.bg,t.kg=this.kg,t.Gf=this.Gf,t.Pg=this.Pg,t.Sg=this.Sg,t.Hf=this.Hf,t.jf=this.jf,t.qf=this.qf,t.Wf=this.Wf,t.Mg=this.Mg,t.Ng=this.Ng,t.Jf=this.Jf,t.ec=this.ec}createNetwork(){return new fi(this)}doLayout(t){this.network=this.makeNetwork(t);let e=this.network.vertexes.iterator;const i=this.maxIterations;if(this.network.vertexes.count>0){for(this.network.deleteSelfEdges(),e=this.network.vertexes.iterator;e.next();){const t=e.value;t.charge=this.electricalCharge(t),t.mass=this.gravitationalMass(t)}const t=this.network.edges.iterator;for(;t.next();){const e=t.value;e.stiffness=this.springStiffness(e),e.length=this.springLength(e)}if(this.KN(),this.Bh=0,this.needsPrelayout()){const t=this.network,e=t.splitIntoSubNetworks(!1);let i=e.iterator;for(;i.next();){const t=i.value;this.doConnectedSubnetLayout(t)}for(i=e.iterator,this._O(i,t),i=e.iterator;i.next();){const e=i.value,n=e.vertexes.iterator;for(;n.next();){const e=n.value;t.addVertex(e)}const s=e.edges.iterator;for(;s.next();){const e=s.value;t.addEdge(e)}}}else this.aD(this.network,this.maxIterations);this.updateParts()}this.maxIterations=i,this.isValidLayout=!0}needsPrelayout(){if(null===this.network||this.network.vertexes.count<3)return!1;let t=0,e=0;const i=this.network.vertexes.first().bounds,n=this.network.vertexes.iterator;for(;n.next();){const s=n.value,r=s.bounds;if(isNaN(s.x)||isNaN(s.y)||r.intersectsRect(i)&&(t++,t>2))return!0;if(e>10)return!1;e++}return!1}doConnectedSubnetLayout(t){let e=t.vertexes.iterator;for(;e.next();){const t=e.value;t.hierarchicalVertexes.add(t)}let i=t,n=this.Jf;if(isNaN(n)&&(n=t.edges.count/t.vertexes.count),n<t.vertexes.count)for(;i.vertexes.count>Math.max(100,Math.sqrt(n*t.vertexes.count));)i=this.coarsenNetwork(i);let s=0;e=i.vertexes.iterator;let r=this.randomNumberGenerator;for(null===r&&(this.randomNumberGenerator=r=new pi(0));e.next();){e.value.idInCluster=s++;const t=10*(r.random()-.5),i=10*(r.random()-.5);this.isFixed(e.value)||(e.value.x=t,e.value.y=i);const n=e.value.hierarchicalVertexes.iterator;for(;n.next();)this.isFixed(n.value)||(n.value.x=t,n.value.y=i)}const o=this.computePairwiseDistances(i);this.tI(i,o,this.maxPrelayoutIterations,t.vertexes.count),this.aD(t,this.maxIterations)}computePairwiseDistances(t){const e=t.vertexes.count,i=new Array(e);for(let o=0;o<e;o++)i[o]=new Array(e).fill(-1),i[o][o]=0;const n=t.vertexes.iterator;let s=new Map,r=[];for(;n.next();){const t=n.value;for(r=[t],s=new Map,s.set(t.idInCluster,0);r.length>0;){const t=r.shift(),e=t.vertexes.iterator;for(;e.next();){const i=e.value;s.has(i.idInCluster)||(s.set(i.idInCluster,s.get(t.idInCluster)+1),r.push(i))}}for(let n=0;n<e;n++){const e=Math.min(i[t.idInCluster][n],i[n][t.idInCluster]),r=s.get(n);(e<0||r<e)&&(i[t.idInCluster][n]=r,i[n][t.idInCluster]=r)}}return i}coarsenNetwork(t){const e=this.createNetwork(),i=new Map;let n=0,s=t.vertexes.iterator;for(;s.next();)s.value.idInCluster=n++;for(s=t.vertexes.iterator;s.next();){const t=s.value;if(i.has(t.idInCluster))continue;let n=Number.MAX_SAFE_INTEGER,r=null;const o=t.vertexes.iterator;for(;o.next();){const t=o.value;i.has(t.idInCluster)||t.hierarchicalVertexes.length<n&&(n=t.hierarchicalVertexes.length,r=t)}const a=e.createVertex();a.hierarchicalVertexes.addAll(t.hierarchicalVertexes),null!=r&&a.hierarchicalVertexes.addAll(r.hierarchicalVertexes),i.set(t.idInCluster,a),null!=r&&i.set(r.idInCluster,a),e.addVertex(a)}const r=t.edges.iterator;for(;r.next();){const t=r.value,n=i.get(t.fromVertex.idInCluster),s=i.get(t.toVertex.idInCluster);if(n===s)continue;const o=e.createEdge();o.fromVertex=n||null,o.toVertex=s||null,e.addEdge(o)}return e}Mw(t,e){let i=!0;const n=t.vertexes.iterator;for(;n.next();){const t=n.value;i?(i=!1,e.set(t.bounds)):e.unionRect(t.bounds)}return e}_O(t,i){const n=this.arrangementSpacing,s=t.count;let r=!0,o=0,a=0;const l=e.rt();for(let e=0;e<s+i.vertexes.count+2;e++)l[e]=null;let h=0;t.reset();const u=v.l();let c;for(;t.next();){const e=t.value;if(this.Mw(e,u),r)r=!1,o=u.x+u.width/2,a=u.y+u.height/2,l[0]=new y(u.x+u.width+n.width,u.y),l[1]=new y(u.x,u.y+u.height+n.height),h=2;else{const t=this.cD(l,h,o,a,u.width,u.height,n),i=l[t],s=new y(i.x+u.width+n.width,i.y),r=new y(i.x,i.y+u.height+n.height);t+1<h&&l.splice(t+1,0,null),l[t]=s,l[t+1]=r,h++;const d=i.x-u.x,f=i.y-u.y;for(c=e.vertexes.iterator;c.next();){const t=c.value;this.isFixed(t)||(t.centerX+=d,t.centerY+=f)}}}for(v.e(u),c=i.vertexes.iterator;c.next();){const t=c.value,e=t.bounds;if(h<2){o=e.x+e.width/2,a=e.y+e.height/2,l[0]=new y(e.x+e.width+n.width,e.y),l[1]=new y(e.x,e.y+e.height+n.height),h=2;continue}const i=this.cD(l,h,o,a,e.width,e.height,n),s=l[i],r=new y(s.x+e.width+n.width,s.y),u=new y(s.x,s.y+e.height+n.height);i+1<h&&l.splice(i+1,0,null),l[i]=r,l[i+1]=u,h++,this.isFixed(t)||(t.centerX=s.x+t.width/2,t.centerY=s.y+t.height/2)}e.tt(l)}cD(t,e,i,n,s,r,o){let a=9e19,l=-1;t:for(let h=0;h<e;h++){const u=t[h],c=u.x-i,d=u.y-n,f=c*c+d*d;if(f<a){for(let e=h-1;e>=0;e--)if(t[e].y>u.y&&t[e].x-u.x<s+o.width)continue t;for(let i=h+1;i<e;i++)if(t[i].x>u.x&&t[i].y-u.y<r+o.height)continue t;l=h,a=f}}return l}KN(){if(!this.comments)return;const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;this.addComments(e)}}addComments(t){const e=t.node;if(null!==e){const i=e.findNodesConnected();for(;i.next();){const e=i.value;if("Comment"!==e.category||!e.isVisible())continue;let n=this.network.findVertex(e);null===n&&(n=this.network.addNode(e)),n.charge=this.defaultCommentElectricalCharge;let s=null;const r=n.destinationEdges;for(;r.next();){const e=r.value;if(e.toVertex===t){s=e;break}}if(null===s){const e=n.sourceEdges;for(;e.next();){const i=e.value;if(i.fromVertex===t){s=i;break}}}null===s&&(s=this.network.linkVertexes(t,n,null)),s.length=this.defaultCommentSpringLength}}}GN(t,e){const i=t.bounds,n=i.x,s=i.y,r=i.width,o=i.height,a=e.bounds,l=a.x,h=a.y,u=a.width,c=a.height;if(n+r<l){if(s>h+c){const t=n+r-l,e=s-h-c;return w.xw(t*t+e*e)}if(s+o<h){const t=n+r-l,e=s+o-h;return w.xw(t*t+e*e)}return l-(n+r)}if(n>l+u){if(s>h+c){const t=n-l-u,e=s-h-c;return w.xw(t*t+e*e)}if(s+o<h){const t=n-l-u,e=s+o-h;return w.xw(t*t+e*e)}return n-(l+u)}return s>h+c?s-(h+c):s+o<h?h-(s+o):.1}aD(t,e){const i=this.Bh+e;for(;this.Bh<i&&(this.Bh++,this.iI(t)););}iI(t){const e=t.vertexes.toArray();if(e.length<=0)return!1;const i=e[0];i.forceX=0,i.forceY=0;let n=i.centerX,s=n,r=i.centerY,o=r;for(let m=1;m<e.length;m++){const t=e[m];t.forceX=0,t.forceY=0;const i=t.centerX,a=t.centerY;n=Math.min(n,i),s=Math.max(s,i),r=Math.min(r,a),o=Math.max(o,a)}const a=s-n>o-r;a?e.sort(((t,e)=>null===t||null===e||t===e?0:t.centerX-e.centerX)):e.sort(((t,e)=>null===t||null===e||t===e?0:t.centerY-e.centerY));const l=this.Gf;let h=0,u=0,c=0;for(let m=0;m<e.length;m++){const t=e[m],i=t.bounds,n=t.focus,s=i.x+n.x,r=i.y+n.y;u=t.charge*this.electricalFieldX(s,r),c=t.charge*this.electricalFieldY(s,r),u+=t.mass*this.gravitationalFieldX(s,r),c+=t.mass*this.gravitationalFieldY(s,r),t.forceX+=u,t.forceY+=c;for(let o=m+1;o<e.length;o++){const i=e[o];if(!this.shouldInteract(t,i)||o===m)continue;const n=i.bounds,d=i.focus,f=n.x+d.x,g=n.y+d.y;if(s-f>l||f-s>l){if(a)break;continue}if(r-g>l||g-r>l){if(!a)break;continue}const p=this.GN(t,i),y=2*t.charge,_=2*i.charge;if(p>1)h=y*_/(p*p),u=h*(s-f)/p,c=h*(r-g)/p;else{let e=this.randomNumberGenerator;null===e&&(this.randomNumberGenerator=e=new pi(0));const n=e.random(),o=e.random();if(s>f)u=Math.abs(i.bounds.right-t.bounds.x),u=y*_*(1+u)*n;else if(s<f)u=Math.abs(i.bounds.x-t.bounds.right),u=-y*_*(1+u)*n;else{const e=Math.max(i.width,t.width);u=y*_*((1+e)*n-e/2)}if(r>g)c=Math.abs(i.bounds.bottom-t.bounds.y),c=y*_*(1+c)*o;else if(s<f)c=Math.abs(i.bounds.y-t.bounds.bottom),c=-y*_*(1+c)*o;else{const e=Math.max(i.height,t.height);c=y*_*((1+e)*o-e/2)}}t.forceX+=u,t.forceY+=c,i.forceX-=u,i.forceY-=c}}const d=t.edges.iterator;for(;d.next();){const t=d.value,e=t.fromVertex,i=t.toVertex,n=e.bounds,s=e.focus,r=n.x+s.x,o=n.y+s.y,a=i.bounds,l=i.focus,f=a.x+l.x,m=a.y+l.y,g=this.GN(e,i);g>1&&(h=.1*t.stiffness*(g-t.length),u=.5*h*(e.width+i.height)*(r-f)/g,c=.5*h*(e.width+i.height)*(o-m)/g),e.forceX-=u,e.forceY-=c,i.forceX+=u,i.forceY+=c}let f=0;for(let m=0;m<e.length;m++){const t=e[m];this.isFixed(t)?this.moveFixedVertex(t):f=Math.max(f,this.moveVertex(t)||0)}return f>this.epsilonDistance*this.epsilonDistance}tI(t,e,i,n){const s=this.Bh+i,r=Math.sqrt(n);this.Vy=this.ec*t.vertexes.count;const o=t.vertexes.toArray();let a=0,l=0,h=0;for(;this.Bh<s;){this.Bh++,l=a,a=0;for(let t=0;t<o.length;t++){o[t].forceX=0,o[t].forceY=0;for(let n=0;n<o.length;n++){if(t===n)continue;const i=this.GN(o[t],o[n]),s=e[o[t].idInCluster][o[n].idInCluster],a=(i-this.ec*r*s)/i;o[t].forceX+=a*(o[n].x-o[t].x),o[t].forceY+=a*(o[n].y-o[t].y)}const i=Math.sqrt(o[t].forceX*o[t].forceX+o[t].forceY*o[t].forceY);if(i>0){o[t].forceX=this.Vy*o[t].forceX/i,o[t].forceY=this.Vy*o[t].forceY/i,this.isFixed(o[t])||(o[t].x+=o[t].forceX,o[t].y+=o[t].forceY);const e=o[t].hierarchicalVertexes.iterator;for(;e.next();){const i=e.value;this.isFixed(i)||(i.centerX+=o[t].forceX,i.centerY+=o[t].forceY)}}a+=i*i}if(a>=l){if(h++,h>=5)break}else h=0;this.Vy*=.95}}moveVertex(t){let e=t.forceX,i=t.forceY;const n=this.moveLimit;return e<-n?e=-n:e>n&&(e=n),i<-n?i=-n:i>n&&(i=n),t.centerX+=e,t.centerY+=i,e*e+i*i}shouldInteract(t,e){return!0}moveFixedVertex(t){}commitLayout(){this.zy(),this.commitNodes(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const t=this.network.edges.iterator;for(;t.next();){const e=t.value.link;null!==e&&(e.fromSpot=x.Default,e.toSpot=x.Default)}}commitNodes(){let t=0,e=0;if(this.arrangesToOrigin){const i=v.l();this.Mw(this.network,i);const n=this.arrangementOrigin;t=n.x-i.x,e=n.y-i.y,v.e(i)}const i=v.l(),n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;(0!==t||0!==e)&&(i.a(s.bounds),i.x+=t,i.y+=e,s.bounds=i),s.commit()}v.e(i)}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}springStiffness(t){const e=t.stiffness;return isNaN(e)?this.Hf:e}springLength(t){const e=t.length;return isNaN(e)?this.jf:e}electricalCharge(t){const e=t.charge;return isNaN(e)?this.qf:e}electricalFieldX(t,e){return 0}electricalFieldY(t,e){return 0}gravitationalMass(t){const e=t.mass;return isNaN(e)?this.Wf:e}gravitationalFieldX(t,e){return 0}gravitationalFieldY(t,e){return 0}isFixed(t){return t.isFixed}get currentIteration(){return this.Bh}get arrangementSpacing(){return this.Ls}set arrangementSpacing(t){this.Ls.equals(t)||(this.Ls.a(t),this.invalidateLayout())}get arrangesToOrigin(){return this.wg}set arrangesToOrigin(t){this.wg!==t&&(e.s(t,"boolean",di,"arrangesToOrigin"),this.wg=t,this.invalidateLayout())}get setsPortSpots(){return this.On}set setsPortSpots(t){this.On!==t&&(e.s(t,"boolean",di,"setsPortSpots"),this.On=t,this.invalidateLayout())}get comments(){return this.Oe}set comments(t){this.Oe!==t&&(e.s(t,"boolean",di,"comments"),this.Oe=t,this.invalidateLayout())}get maxPrelayoutIterations(){return this.xg}set maxPrelayoutIterations(t){this.xg!==t&&(e.s(t,"number",di,"maxPrelayoutIterations"),t>=0&&(this.xg=t,this.invalidateLayout()))}get maxIterations(){return this.bg}set maxIterations(t){this.bg!==t&&(e.s(t,"number",di,"maxIterations"),t>=0&&(this.bg=t,this.invalidateLayout()))}get epsilonDistance(){return this.kg}set epsilonDistance(t){this.kg!==t&&(e.s(t,"number",di,"epsilonDistance"),t>0&&(this.kg=t,this.invalidateLayout()))}get infinityDistance(){return this.Gf}set infinityDistance(t){this.Gf!==t&&(e.s(t,"number",di,"infinityDistance"),t>1&&(this.Gf=t,this.invalidateLayout()))}get moveLimit(){return this.Pg}set moveLimit(t){this.Pg!==t&&(e.s(t,"number",di,"moveLimit"),this.Pg=t,this.invalidateLayout())}get randomNumberGenerator(){return this.Sg}set randomNumberGenerator(t){this.Sg!==t&&(null!==t&&!e.ot(t.random)&&e.o('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Sg=t)}get defaultSpringStiffness(){return this.Hf}set defaultSpringStiffness(t){this.Hf!==t&&(e.s(t,"number",di,"defaultSpringStiffness"),this.Hf=t,this.invalidateLayout())}get defaultSpringLength(){return this.jf}set defaultSpringLength(t){this.jf!==t&&(e.s(t,"number",di,"defaultSpringLength"),this.jf=t,this.invalidateLayout())}get defaultElectricalCharge(){return this.qf}set defaultElectricalCharge(t){this.qf!==t&&(e.s(t,"number",di,"defaultElectricalCharge"),this.qf=t,this.invalidateLayout())}get defaultGravitationalMass(){return this.Wf}set defaultGravitationalMass(t){this.Wf!==t&&(e.s(t,"number",di,"defaultGravitationalMass"),this.Wf=t,this.invalidateLayout())}get defaultCommentSpringLength(){return this.Mg}set defaultCommentSpringLength(t){this.Mg!==t&&(e.s(t,"number",di,"defaultCommentSpringLength"),this.Mg=t,this.invalidateLayout())}get defaultCommentElectricalCharge(){return this.Ng}set defaultCommentElectricalCharge(t){this.Ng!==t&&(e.s(t,"number",di,"defaultCommentElectricalCharge"),this.Ng=t,this.invalidateLayout())}get prelayoutQuality(){return this.Jf}set prelayoutQuality(t){this.Jf!==t&&(e.s(t,"number",di,"prelayoutQuality"),this.Jf=t,this.invalidateLayout())}get prelayoutSpread(){return this.ec}set prelayoutSpread(t){this.ec!==t&&(e.s(t,"number",di,"prelayoutSpread"),this.ec=t,this.invalidateLayout())}}class fi extends Be{constructor(t){super(t)}createVertex(){return new mi(this)}createEdge(){return new gi(this)}}class mi extends ze{Y1;K1;G1;H1;j1;hierarchicalVertexes;idInCluster;constructor(t){super(t),this.Y1=!1,this.K1=NaN,this.G1=NaN,this.H1=0,this.j1=0,this.hierarchicalVertexes=new l,this.idInCluster=-1}get isFixed(){return this.Y1}set isFixed(t){this.Y1!==t&&(e.s(t,"boolean",mi,"isFixed"),this.Y1=t)}get charge(){return this.K1}set charge(t){this.K1!==t&&(e.s(t,"number",mi,"charge"),this.K1=t)}get mass(){return this.G1}set mass(t){this.G1!==t&&(e.s(t,"number",mi,"mass"),this.G1=t)}get forceX(){return this.H1}set forceX(t){this.H1!==t&&(e.s(t,"number",mi,"forceX"),this.H1=t)}get forceY(){return this.j1}set forceY(t){this.j1!==t&&(e.s(t,"number",mi,"forceY"),this.j1=t)}}class gi extends Ve{q1;W1;constructor(t){super(t),this.q1=NaN,this.W1=NaN}get stiffness(){return this.q1}set stiffness(t){this.q1!==t&&(e.s(t,"number",gi,"stiffness"),this.q1=t)}get length(){return this.W1}set length(t){this.W1!==t&&(e.s(t,"number",gi,"length"),this.W1=t)}}class pi{I;R;Q;M;A;seed;constructor(t){void 0===t&&(t=42),this.seed=t,this.A=48271,this.M=2147483647,this.Q=this.M/this.A,this.R=this.M%this.A,this.I=1/this.M,this.random()}random(){const t=this.seed/this.Q,e=this.seed%this.Q,i=this.A*e-this.R*t;return this.seed=i>0?i:i+this.M,this.seed*this.I}}var yi=(t=>(t[t.DepthFirst=0]="DepthFirst",t[t.Greedy=1]="Greedy",t[t.FromLayers=2]="FromLayers",t))(yi||{}),_i=(t=>(t[t.OptimalLinkLength=10]="OptimalLinkLength",t[t.LongestPathSink=11]="LongestPathSink",t[t.LongestPathSource=12]="LongestPathSource",t))(_i||{}),vi=(t=>(t[t.DepthFirstOut=20]="DepthFirstOut",t[t.DepthFirstIn=21]="DepthFirstIn",t[t.Naive=22]="Naive",t))(vi||{}),bi=(t=>(t[t.None=30]="None",t[t.Less=31]="Less",t[t.More=32]="More",t))(bi||{}),xi=(t=>(t[t.None=0]="None",t[t.Expand=1]="Expand",t[t.Straighten=2]="Straighten",t[t.Median=4]="Median",t[t.MaybeExpand=8]="MaybeExpand",t[t.All=15]="All",t))(xi||{}),Mi=(t=>(t[t.None=0]="None",t[t.UpperLeft=1]="UpperLeft",t[t.UpperRight=2]="UpperRight",t[t.LowerLeft=4]="LowerLeft",t[t.LowerRight=8]="LowerRight",t[t.All=15]="All",t))(Mi||{});class wi extends He{As;Zi;P;$f;Zf;Qf;sc;_f;rr;tu;On;Mt;Xy;Kt;Cg;Ts;di;sn;Ds;Fs;Ut;Lg;nc;Ag;nn;iu;lr;In;En;HN;constructor(t){super(),this.As=25,this.Zi=25,this.P=0,this.$f=0,this.Zf=10,this.Qf=20,this.sc=4,this._f=31,this.rr=15,this.tu=10,this.On=!0,this.Mt=-1,this.Xy=-1,this.Kt=-1,this.Cg=0,this.Ts=0,this.di=null,this.sn=null,this.Ds=null,this.Fs=null,this.Ut=null,this.Lg=0,this.nc=null,this.Ag=null,this.nn=0,this.iu=null,this.lr=new y,this.In=[],this.In.length=100,this.En=15,this.HN=0,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.As=this.As,t.Zi=this.Zi,t.P=this.P,t.$f=this.$f,t.Zf=this.Zf,t.Qf=this.Qf,t.sc=this.sc,t._f=this._f,t.rr=this.rr,t.tu=this.tu,t.On=this.On,t.En=this.En}hi(t){t in bi?this.aggressiveOption=t:t in yi?this.cycleRemoveOption=t:t in vi?this.initializeOption=t:t in _i?this.layeringOption=t:super.hi(t)}createNetwork(){return new ki(this)}doLayout(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.eI(),this.network.vertexes.count>0&&(this.network.deleteSelfEdges(),2!==this.cycleRemoveOption&&this.removeCycles(),this.sI(),2===this.cycleRemoveOption&&this.removeCycles(),this.nI(),this.oI(),this.rI(),this.reduceCrossings(),this.straightenAndPack(),this.updateParts()),this.network=null,this.isValidLayout=!0}linkMinLength(t){return 1}linkLengthWeight(t){return 1}linkStraightenWeight(t){const e=t.fromVertex.node||t.fromVertex.data,i=t.toVertex.node||t.toVertex.data;return null===e&&null===i?8:null===e||null===i?4:1}nodeMinLayerSpace(t,e){return null===t.node&&null===t.data?0:90===this.P||270===this.P?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10}nodeMinColumnSpace(t,e){if(null===t.node&&null===t.data)return 0;const i=e?t.J1:t.$1;if(null!==i)return i;const n=this.P;return 90===n||270===n?e?t.J1=t.focus.x/this.Zi+1|0:t.$1=(t.bounds.width-t.focus.x)/this.Zi+1|0:e?t.J1=t.focus.y/this.Zi+1|0:t.$1=(t.bounds.height-t.focus.y)/this.Zi+1|0}Qi(){null===this.nc&&(this.nc=[]);let t=0;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;this.nc[t]=i.layer,t++,this.nc[t]=i.column,t++,this.nc[t]=i.index,t++}return this.nc}Ze(t){let e=0;const i=this.network.vertexes.iterator;for(;i.next();){const n=i.value;n.layer=t[e],e++,n.column=t[e],e++,n.index=t[e],e++}}fD(t,e){const i=this.Uh(t),n=this.di[t];(null===this.Ag||this.Ag.length<n*n)&&(this.Ag=[]);const s=this.Ag;for(let r=0;r<n;r++){let o=0;const a=i[r],l=a.near;let h=0;null!==l&&l!==a&&l.layer===a.layer&&(o+=Math.max(0,Math.abs(l.index-a.index)-1));let u,c,d,f,m,g=0,p=0,y=0,_=0,v=0,b=0,x=0,M=0;if(e>=0)for(u=i[r].bo,g=0;g<u.length;g++)if(c=u[g],c.valid&&c.fromVertex.layer!==t)for(p=c.fromVertex.index,y=c.portToPos,_=c.portFromPos,v=g+1;v<u.length;v++)f=u[v],f.valid&&f.fromVertex.layer!==t&&(b=f.fromVertex.index,x=f.portToPos,M=f.portFromPos,y<x&&(p>b||p===b&&_>M)&&o++,x<y&&(b>p||b===p&&M>_)&&o++);if(e<=0)for(u=i[r].er,g=0;g<u.length;g++)if(c=u[g],c.valid&&c.toVertex.layer!==t)for(p=c.toVertex.index,y=c.portToPos,_=c.portFromPos,v=g+1;v<u.length;v++)f=u[v],f.valid&&f.toVertex.layer!==t&&(b=f.toVertex.index,x=f.portToPos,M=f.portFromPos,_<M&&(p>b||p===b&&y>x)&&o++,M<_&&(b>p||b===p&&x>y)&&o++);for(s[r*n+r]=o,h=r+1;h<n;h++){let o=0,a=0;if(e>=0)for(d=i[r].bo,m=i[h].bo,g=0;g<d.length;g++)if(c=d[g],c.valid&&c.fromVertex.layer!==t)for(p=c.fromVertex.index,y=c.portToPos,_=c.portFromPos,v=0;v<m.length;v++)f=m[v],f.valid&&f.fromVertex.layer!==t&&(b=f.fromVertex.index,x=f.portToPos,M=f.portFromPos,(p<b||p===b&&_<M)&&a++,(b<p||b===p&&M<_)&&o++);if(e<=0)for(d=i[r].er,m=i[h].er,g=0;g<d.length;g++)if(c=d[g],c.valid&&c.toVertex.layer!==t)for(p=c.toVertex.index,y=c.portToPos,_=c.portFromPos,v=0;v<m.length;v++)f=m[v],f.valid&&f.toVertex.layer!==t&&(b=f.toVertex.index,x=f.portToPos,M=f.portFromPos,(p<b||p===b&&y<x)&&a++,(b<p||b===p&&x<y)&&o++);s[r*n+h]=o,s[h*n+r]=a}}return this.Vh(t,i),s}countCrossings(){let t=0;for(let e=0;e<=this.Mt;e++){const i=this.fD(e,1),n=this.di[e];for(let e=0;e<n;e++)for(let s=e;s<n;s++)t+=i[e*n+s]}return t}lI(t,e,i){const n=this.Uh(t),s=this.di[t];let r=0;for(let o=0;o<s;o++){let s=null;e<=0&&(s=n[o].bo);let a=null;e>=0&&(a=n[o].er);let l,h=0,u=0;if(null!==s)for(let e=0;e<s.length;e++)l=s[e],l.valid&&l.fromVertex.layer!==t&&(h=l.fromVertex.column+l.portFromColOffset,u=l.toVertex.column+l.portToColOffset,r+=i?Math.abs(h-u)*this.linkStraightenWeight(l):Math.abs(h-u));if(null!==a)for(let e=0;e<a.length;e++)l=a[e],l.valid&&l.toVertex.layer!==t&&(h=l.fromVertex.column+l.portFromColOffset,u=l.toVertex.column+l.portToColOffset,r+=i?(Math.abs(h-u)+1)*this.linkStraightenWeight(l):Math.abs(h-u))}return this.Vh(t,n),r}Z1(t){let e=0;for(let i=0;i<=this.Mt;i++)e+=this.lI(i,1,t);return e}Yy(){let t=1/0;this.Kt=-1;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0)),this.Kt=Math.max(this.Kt,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();){const i=e.value;i.column-=t}this.Kt-=t}Ky(t,e){const i=this.Uh(t),n=this.di[t],s=[];for(let r=0;r<n;r++){const n=i[r];let o=null;e<=0&&(o=n.bo);let a=null;e>=0&&(a=n.er);let l=0,h=0;const u=n.near;let c;if(null!==u&&u.layer===n.layer&&(l+=u.column-1,h++),null!==o)for(let e=0;e<o.length;e++){c=o[e];const i=c.fromVertex;c.valid&&!c.rev&&i.layer!==t&&(l+=i.column,h++)}if(null!==a)for(let e=0;e<a.length;e++){c=a[e];const i=c.toVertex;c.valid&&!c.rev&&i.layer!==t&&(l+=i.column,h++)}s[r]=0===h?-1:l/h}return this.Vh(t,i),s}uD(t,e){const i=this.Uh(t),n=this.di[t],s=[];for(let r=0;r<n;r++){const n=i[r];let o=null;e<=0&&(o=n.bo);let a=null;e>=0&&(a=n.er);let l=0;const h=[],u=n.near;let c;if(null!==u&&u.layer===n.layer&&(h[l]=u.column-1,l++),null!==o)for(let e=0;e<o.length;e++){c=o[e];const i=c.fromVertex;c.valid&&!c.rev&&i.layer!==t&&(h[l]=i.column+c.portFromColOffset,l++)}if(null!==a)for(let e=0;e<a.length;e++){c=a[e];const i=c.toVertex;c.valid&&!c.rev&&i.layer!==t&&(h[l]=i.column+c.portToColOffset,l++)}if(0===l)s[r]=-1;else{h.sort(((t,e)=>t-e));const t=l>>1;s[r]=1&l?h[t]:h[t-1]+h[t]>>1}}return this.Vh(t,i),s}Gy(t,e,i,n,s){if(t.component===i){t.component=e;let r=0,o=0;if(n){const a=t.destinationEdges;for(;a.next();){const l=a.value,h=l.toVertex;r=t.layer-h.layer,o=this.linkMinLength(l),r===o&&this.Gy(h,e,i,n,s)}}if(s){const a=t.sourceEdges;for(;a.next();){const l=a.value,h=l.fromVertex;r=h.layer-t.layer,o=this.linkMinLength(l),r===o&&this.Gy(h,e,i,n,s)}}}}jN(t,e,i,n,s){if(t.component===i){if(t.component=e,n){const r=t.destinationEdges;for(;r.next();){const t=r.value.toVertex;this.jN(t,e,i,n,s)}}if(s){const r=t.sourceEdges;for(;r.next();){const t=r.value.fromVertex;this.jN(t,e,i,n,s)}}}}removeCycles(){const t=this.network.edges.iterator;for(;t.next();){const e=t.value;e.rev=!1}switch(this.$f){default:case 1:this.hI();break;case 0:this.aI();break;case 2:this.cI();break}}cI(){const t=this.network,e=t.vertexes.iterator;let i=1/0;for(;e.next();){const t=e.value;i=Math.min(i,t.layer)}if(i<1/0){if(i<0)for(e.reset();e.next();){const t=e.value;t.layer-=i}const n=[];for(e.reset();e.next();){const t=e.value,i=n[t.layer];void 0===i?n[t.layer]=[t]:i.push(t)}let s=0;for(let t=0;t<n.length;t++){const e=n[t];if(e&&0!==e.length){if(t>0)for(let t=0;t<e.length;t++){const i=e[t];i.layer-=s}}else s++}const r=t.edges.iterator;for(;r.next();){const e=r.value,i=e.fromVertex,n=e.toVertex;i.layer<n.layer&&(t.reverseEdge(e),e.rev=!0)}}}hI(){const t=this.network;let e=0,i=t.vertexes.count-1;const n=[];n.length=i+1;const s=t.vertexes.iterator;for(;s.next();){const t=s.value;t._i=!0}for(;null!==this.fI(t);){let s;for(s=this.dD(t);null!==s;)n[i]=s,i--,s._i=!1,s=this.dD(t);for(s=this.gD(t);null!==s;)n[e]=s,e++,s._i=!1,s=this.gD(t);s=this.uI(t),null!==s&&(n[e]=s,e++,s._i=!1)}for(let o=0;o<t.vertexes.count;o++)n[o].index=o;const r=t.edges.iterator;for(;r.next();){const e=r.value,i=e.fromVertex,n=e.toVertex;i.index>n.index&&(t.reverseEdge(e),e.rev=!0)}}fI(t){const e=t.vertexes.iterator;for(;e.next();){const t=e.value;if(t._i)return t}return null}dD(t){const e=t.vertexes.iterator;for(;e.next();){const t=e.value;if(t._i){let e=!0;const i=t.destinationEdges;for(;i.next();)if(i.value.toVertex._i){e=!1;break}if(e)return t}}return null}gD(t){const e=t.vertexes.iterator;for(;e.next();){const t=e.value;if(t._i){let e=!0;const i=t.sourceEdges;for(;i.next();)if(i.value.fromVertex._i){e=!1;break}if(e)return t}}return null}uI(t){let e=null,i=0;const n=this.network.vertexes.iterator;for(;n.next();){const t=n.value;if(t._i){let n=0;const s=t.destinationEdges;for(;s.next();)s.value.toVertex._i&&n++;let r=0;const o=t.sourceEdges;for(;o.next();)o.value.fromVertex._i&&r++;(null===e||i<n-r)&&(e=t,i=n-r)}}return e}aI(){const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;e.eu=-1,e.$n=-1}const e=this.network.edges.iterator;for(;e.next();){const t=e.value;t.forest=!1}for(this.Lg=0,t.reset();t.next();){const e=t.value;0===e.sourceEdges.count&&this.qN(e)}for(t.reset();t.next();){const e=t.value;-1===e.eu&&this.qN(e)}for(e.reset();e.next();){const t=e.value;if(!t.forest){const e=t.fromVertex,i=e.eu,n=e.$n,s=t.toVertex,r=s.eu,o=s.$n;r<i&&n<o&&(this.network.reverseEdge(t),t.rev=!0)}}}qN(t){t.eu=this.Lg,this.Lg++;const e=t.destinationEdges;for(;e.next();){const t=e.value,i=t.toVertex;-1===i.eu&&(t.forest=!0,this.qN(i))}t.$n=this.Lg,this.Lg++}sI(){const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;e.layer=-1}for(this.Mt=-1,this.assignLayers(),t.reset();t.next();){const e=t.value;this.Mt=Math.max(this.Mt,e.layer)}}assignLayers(){switch(this.Zf){case 11:this.mD();break;case 12:this.dI();break;default:case 10:this.gI();break}}mD(){const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value,i=this.pD(e);this.Mt=Math.max(i,this.Mt)}}pD(t){let e=0;if(-1===t.layer){const i=t.destinationEdges;for(;i.next();){const t=i.value,n=t.toVertex,s=this.linkMinLength(t);e=Math.max(e,this.pD(n)+s)}t.layer=e}else e=t.layer;return e}dI(){let t=0;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;t=this.yD(i),this.Mt=Math.max(t,this.Mt)}for(e.reset();e.next();){const t=e.value;t.layer=this.Mt-t.layer}}yD(t){let e=0;if(-1===t.layer){const i=t.sourceEdges;for(;i.next();){const t=i.value,n=t.fromVertex,s=this.linkMinLength(t);e=Math.max(e,this.yD(n)+s)}t.layer=e}else e=t.layer;return e}gI(){this.mD();const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;e._i=!1}for(t.reset();t.next();){const e=t.value;0===e.sourceEdges.count&&this.wD(e)}let e=1/0;for(t.reset();t.next();){const i=t.value;e=Math.min(e,i.layer)}for(this.Mt=-1,t.reset();t.next();){const i=t.value;i.layer-=e,this.Mt=Math.max(this.Mt,i.layer)}}wD(t){if(!t._i){t._i=!0;const e=t.destinationEdges;for(;e.next();){const t=e.value.toVertex;this.wD(t)}this.mI(t),this.pI(t)}}mI(t){const e=this.network.vertexes.iterator;for(;e.next();){const t=e.value;t.component=-1}const i=0,n=1,s=t.bo;let r=s.length;for(let o=0;o<r;o++){const t=s[o],e=t.fromVertex,n=t.toVertex,r=this.linkMinLength(t);e.layer-n.layer>r&&this.Gy(e,i,-1,!0,!1)}for(this.Gy(t,n,-1,!0,!0);t.component!==i;){let s=0,o=1/0,a=0,l=null;const h=this.network.vertexes.iterator;for(;h.next();){const t=h.value;if(t.component===n){let e=0,i=!1;const h=t.bo;r=h.length;for(let a=0;a<r;a++){const i=h[a],r=i.fromVertex;if(e+=this.linkLengthWeight(i),r.component!==n){s+=this.linkLengthWeight(i);const e=r.layer-t.layer,n=this.linkMinLength(i);o=Math.min(o,e-n)}}const u=t.er;r=u.length;for(let t=0;t<r;t++){const r=u[t],o=r.toVertex;e-=this.linkLengthWeight(r),o.component!==n?s-=this.linkLengthWeight(r):i=!0}(null===l||e<a)&&!i&&(l=t,a=e)}}if(s>0){for(e.reset();e.next();){const t=e.value;t.component===n&&(t.layer+=o)}t.component=i}else l.component=i}}pI(t){const e=this.network.vertexes.iterator;for(;e.next();){const t=e.value;t.component=-1}const i=0,n=1;for(this.Gy(t,n,-1,!0,!1);t.component!==i;){let s=0,r=1/0,o=0,a=null;const l=this.network.vertexes.iterator;for(;l.next();){const t=l.value;if(t.component===n){let e=0,i=!1;const l=t.bo;let h=l.length;for(let t=0;t<h;t++){const r=l[t],o=r.fromVertex;e+=this.linkLengthWeight(r),o.component!==n?s+=this.linkLengthWeight(r):i=!0}const u=t.er;h=u.length;for(let o=0;o<h;o++){const i=u[o],a=i.toVertex;if(e-=this.linkLengthWeight(i),a.component!==n){s-=this.linkLengthWeight(i);const e=t.layer-a.layer,n=this.linkMinLength(i);r=Math.min(r,e-n)}}(null===a||e>o)&&!i&&(a=t,o=e)}}if(s<0){for(e.reset();e.next();){const t=e.value;t.component===n&&(t.layer-=r)}t.component=i}else a.component=i}}nI(){const t=this.network,e=[],i=t.edges.iterator;for(;i.next();){const t=i.value;t.valid=!1,e.push(t)}for(let n=0;n<e.length;n++){const i=e[n];let s=i.fromVertex;const r=i.toVertex;if(i.valid||(null===s.node&&null===s.data||null===r.node&&null===r.data)&&s.layer===r.layer)continue;let o=0,a=0,l=0,h=0;if(null!==i.link){const t=i.link;if(null===t)continue;const e=s.node,n=r.node;if(null===e||null===n)continue;let u=t.fromNode,c=t.toNode,d=t.fromPort;for(;null!==d&&!d.isVisibleObject();)d=d.panel;let f=t.toPort;for(;null!==f&&!f.isVisibleObject();)f=f.panel;if(i.rev){const t=u,e=d;u=c,d=f,c=t,f=e}const m=s.focus,g=r.focus,p=i.rev?r.bounds:s.bounds,_=y.l();e!==u?p.isReal()&&u.isVisible()?u.actualBounds.isReal()?(u.getRelativePoint(d,x.Center,_),_.x+=u.actualBounds.x-p.x,_.y+=u.actualBounds.y-p.y):(u.getRelativePoint(d,x.Center,_),_.isReal()||_.a(m)):_.a(m):p.isReal()?(u.getRelativePoint(d,x.Center,_),_.isReal()||_.a(m)):_.a(m);const v=i.rev?s.bounds:r.bounds,b=y.l();n!==c?v.isReal()&&c.isVisible()?c.actualBounds.isReal()?(c.getRelativePoint(f,x.Center,b),b.x+=c.actualBounds.x-v.x,b.y+=c.actualBounds.y-v.y):(c.getRelativePoint(f,x.Center,b),b.isReal()||b.a(g)):b.a(g):v.isReal()?(c.getRelativePoint(f,x.Center,b),b.isReal()||b.a(g)):b.a(g),90===this.P||270===this.P?(o=Math.round((_.x-m.x)/this.Zi),l=_.x,a=Math.round((b.x-g.x)/this.Zi),h=b.x):(o=Math.round((_.y-m.y)/this.Zi),l=_.y,a=Math.round((b.y-g.y)/this.Zi),h=b.y),y.e(_),y.e(b),i.portFromColOffset=o,i.portFromPos=l,i.portToColOffset=a,i.portToPos=h}else i.portFromColOffset=0,i.portFromPos=0,i.portToColOffset=0,i.portToPos=0;let u=s.layer;const c=r.layer,d=this.yI(i),f=1===d||3===d,m=2===d||3===d;let g,p,_,v=null;m&&(v=this.wI(s,r),_=1,p=t.createVertex(),p.node=null,p.Q1=1,p.layer=u,p.near=s,t.addVertex(p),g=t.linkVertexes(s,p,i.link),g.valid=!1,g.rev=i.rev,g.portFromColOffset=o,g.portToColOffset=0,g.portFromPos=l,g.portToPos=0,s=p);let b=1;if(f&&b--,u-c>b&&u>0){for(i.valid=!1,p=t.createVertex(),p.node=null,p.Q1=2,p.layer=u-1,v&&_<v.length&&p.layer===v[_].layer&&(p.near=v[_++]),t.addVertex(p),g=t.linkVertexes(s,p,i.link),g.valid=!0,g.rev=i.rev,g.portFromColOffset=m?0:o,g.portToColOffset=0,g.portFromPos=m?0:l,g.portToPos=0,s=p,u--;u-c>b&&u>0;)p=t.createVertex(),p.node=null,p.Q1=3,p.layer=u-1,v&&_<v.length&&p.layer===v[_].layer&&(p.near=v[_++]),t.addVertex(p),g=t.linkVertexes(s,p,i.link),g.valid=!0,g.rev=i.rev,g.portFromColOffset=0,g.portToColOffset=0,g.portFromPos=0,g.portToPos=0,s=p,u--;g=t.linkVertexes(p,r,i.link),g.valid=!f,f&&(p.near=r),g.rev=i.rev,g.portFromColOffset=0,g.portToColOffset=a,g.portFromPos=0,g.portToPos=h}else i.valid=!0}}yI(t){let e=0;const i=t.link;if(null!==i){const n=i.fromPort,s=i.toPort;if(null!==n&&null!==s){const r=i.fromNode,o=i.toNode;if(null!==r&&null!==o){const a=this._1(!0),l=this._1(!1),h=this.setsPortSpots?a:i.computeSpot(!0,n),u=this.setsPortSpots?l:i.computeSpot(!1,s),c=i.isOrthogonal;if(h.isSide()&&h.includesSide(l)&&u.isSide()&&u.includesSide(a))return 0;const d=i.getLinkPoint(r,n,h,!0,c,o,s,y.l()),f=i.getLinkDirection(r,n,d,h,!0,c,o,s);y.e(d),(!h.isNone()&&f===this.xD(t,!0)||this.setsPortSpots&&null!==r&&1===r.ports.count&&t.rev)&&(e+=1);const m=i.getLinkPoint(o,s,u,!1,c,r,n,y.l()),g=i.getLinkDirection(o,s,m,u,!1,c,r,n);y.e(m),(!u.isNone()&&g===this.xD(t,!1)||this.setsPortSpots&&null!==o&&1===o.ports.count&&t.rev)&&(e+=2)}}}return e}xD(t,e){return 90===this.P?e&&!t.rev||!e&&t.rev?270:90:180===this.P?e&&!t.rev||!e&&t.rev?0:180:270===this.P?e&&!t.rev||!e&&t.rev?90:270:e&&!t.rev||!e&&t.rev?180:0}wI(t,e){const i=[];return i.push(e),this.bD(t,i)?i.reverse():[]}bD(t,e){const i=e[e.length-1].sourceEdges.iterator;for(;i.next();){const n=i.value;if(n.rev||!n.valid)continue;const s=n.fromVertex;if(e.push(s),s===t||this.bD(t,e))return!0;e.pop()}return!1}oI(){const t=this.di=[];for(let i=0;i<=this.Mt;i++)t[i]=0;const e=this.network.vertexes.iterator;for(;e.next();){const t=e.value;t.index=-1}this.initializeIndices(),this.Xy=-1,this.Cg=0,this.Ts=0;for(let i=0;i<=this.Mt;i++)t[i]>t[this.Ts]&&(this.Xy=t[i]-1,this.Ts=i),t[i]<t[this.Cg]&&(this.Cg=i);this.iu=[];for(let i=0;i<t.length;i++)this.iu[i]=[];for(e.reset();e.next();){const t=e.value,i=t.layer,n=this.iu[i];n[t.index]=t}}initializeIndices(){switch(this.Qf){default:case 22:this.xI();break;case 20:this.bI();break;case 21:this.kI();break}}xI(){let t=null;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;if(i.near&&(null===t&&(t=new Map),i.layer===i.near.layer)){const e=t.get(i.near)||[];e.push(i),t.set(i.near,e)}}for(e.reset();e.next();){const i=e.value;if(i.near)continue;const n=i.layer;if(i.index=this.di[n],this.di[n]++,!t)continue;const s=t.get(i);Array.isArray(s)&&s.forEach((t=>{t.index=this.di[n],this.di[n]++}))}}bI(){let t=null;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;if(i.near&&(null===t&&(t=new Map),i.layer===i.near.layer)){const e=t.get(i.near)||[];e.push(i),t.set(i.near,e)}}for(let i=this.Mt;i>=0;i--)for(e.reset();e.next();){const n=e.value;n.layer===i&&-1===n.index&&this.kD(n,t)}}kD(t,e){if(t.near)return;const i=t.layer;if(t.index=this.di[i],this.di[i]++,e){const n=e.get(t);Array.isArray(n)&&n.forEach((t=>{t.index=this.di[i],this.di[i]++}))}const n=t.er;let s=!0;for(;s;){s=!1;for(let t=0;t<n.length-1;t++){const e=n[t],i=n[t+1];e.portFromColOffset>i.portFromColOffset&&(s=!0,n[t]=i,n[t+1]=e)}}for(let r=0;r<n.length;r++){const t=n[r];if(t.valid){const i=t.toVertex;-1===i.index&&this.kD(i,e)}}}kI(){let t=null;const e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;if(i.near&&(null===t&&(t=new Map),i.layer===i.near.layer)){const e=t.get(i.near)||[];e.push(i),t.set(i.near,e)}}for(let i=0;i<=this.Mt;i++)for(e.reset();e.next();){const n=e.value;n.layer===i&&-1===n.index&&this.PD(n,t)}}PD(t,e){if(t.near)return;const i=t.layer;if(t.index=this.di[i],this.di[i]++,e){const n=e.get(t);Array.isArray(n)&&n.forEach((t=>{t.index=this.di[i],this.di[i]++}))}const n=t.bo;let s,r,o=!0,a=0;for(;o;)for(o=!1,a=0;a<n.length-1;a++){const t=n[a],e=n[a+1];t.portToColOffset>e.portToColOffset&&(o=!0,n[a]=e,n[a+1]=t)}for(a=0;a<n.length;a++)r=n[a],r.valid&&(s=r.fromVertex,-1===s.index&&this.PD(s,e))}rI(){this.Kt=-1;for(let t=0;t<=this.Mt;t++){const e=this.Uh(t);let i=0;const n=this.di[t];for(let t=0;t<n;t++){const n=e[t];i+=this.nodeMinColumnSpace(n,!0),n.column=i,i+=1,i+=this.nodeMinColumnSpace(n,!1)}this.Kt=Math.max(this.Kt,i-1),this.Vh(t,e)}}reduceCrossings(){let t=this.countCrossings(),e=this.Qi(),i=0,n=0,s=0;for(i=0;i<this.sc;i++){for(n=0;n<=this.Mt;n++)this.tk(n,1),this.as(n,1,!1,1);for(s=this.countCrossings(),s<t&&(t=s,e=this.Qi()),n=this.Mt;n>=0;n--)this.tk(n,-1),this.as(n,-1,!1,-1);s=this.countCrossings(),s<t&&(t=s,e=this.Qi())}for(this.Ze(e),i=0;i<this.sc;i++){for(n=0;n<=this.Mt;n++)this.tk(n,0),this.as(n,0,!1,0);for(s=this.countCrossings(),s<t&&(t=s,e=this.Qi()),n=this.Mt;n>=0;n--)this.tk(n,0),this.as(n,0,!1,0);s=this.countCrossings(),s<t&&(t=s,e=this.Qi())}this.Ze(e);let r=!1,o=0,a=0,l=0,h=0;switch(this._f){case 30:break;case 32:for(l=t+1;(h=this.countCrossings())<l;)for(l=h,o=this.Mt;o>=0;o--)for(a=0;a<=o;a++){for(r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,-1,!1,-1)||r;for(s=this.countCrossings(),s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,1,!1,1)||r;for(s=this.countCrossings(),s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,1,!1,1)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,-1,!1,-1)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,0,!1,0)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,0,!1,0)||r;s>=t?this.Ze(e):(t=s,e=this.Qi())}break;default:case 31:for(o=this.Mt,a=0,l=t+1;(h=this.countCrossings())<l;){for(l=h,r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,-1,!1,-1)||r;for(s=this.countCrossings(),s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,1,!1,1)||r;for(s=this.countCrossings(),s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,1,!1,1)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,-1,!1,-1)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=o;n>=a;n--)r=this.as(n,0,!1,0)||r;for(s>=t?this.Ze(e):(t=s,e=this.Qi()),r=!0;r;)for(r=!1,n=a;n<=o;n++)r=this.as(n,0,!1,0)||r;s>=t?this.Ze(e):(t=s,e=this.Qi())}break}this.Ze(e)}tk(t,e){let i=0,n=!1;const s=this.Uh(t),r=this.di[t],o=this.uD(t,e),a=this.Ky(t,e);for(i=0;i<r;i++)-1===a[i]&&(a[i]=s[i].column),-1===o[i]&&(o[i]=s[i].column);let l,h=!0;for(;h;)for(h=!1,i=0;i<r-1;i++)if(o[i+1]<o[i]||o[i+1]===o[i]&&a[i+1]<a[i]){n=!0,h=!0;const t=o[i];o[i]=o[i+1],o[i+1]=t;const e=a[i];a[i]=a[i+1],a[i+1]=e,l=s[i],s[i]=s[i+1],s[i+1]=l}let u=0;for(i=0;i<r;i++)l=s[i],l.index=i,u+=this.nodeMinColumnSpace(l,!0),l.column=u,u+=1,u+=this.nodeMinColumnSpace(l,!1);return this.Vh(t,s),n}as(t,e,i,n){const s=this.Uh(t),r=this.di[t],o=this.fD(t,e);let a,l,h=0;if(!i||n>0)for(a=[],h=0;h<r;h++)a[h]=-1;else a=this.Ky(t,-1);if(!i||n<0)for(l=[],h=0;h<r;h++)l[h]=-1;else l=this.Ky(t,1);let u=!1,c=!0;for(;c;)for(c=!1,h=0;h<r-1;h++){const e=o[s[h].index*r+s[h+1].index],d=o[s[h+1].index*r+s[h].index];let f=0,m=0;const g=s[h].column,p=s[h+1].column,y=this.nodeMinColumnSpace(s[h],!0),_=this.nodeMinColumnSpace(s[h],!1),v=this.nodeMinColumnSpace(s[h+1],!0),b=this.nodeMinColumnSpace(s[h+1],!1),x=g-y+v,M=p-_+b;let w,k,L=0,S=0,T=0,D=0,P=0,Y=0,C=0,N=0,A=0;const O=s[h].sourceEdges.iterator;if(i&&n<=0)for(;O.next();){const e=O.value;w=e.fromVertex,e.valid&&w.layer!==t&&(T=this.linkStraightenWeight(e),D=e.portFromColOffset,P=e.portToColOffset,Y=w.column,L+=(Math.abs(g+P-(Y+D))+1)*T,S+=(Math.abs(M+P-(Y+D))+1)*T)}for(O.reset();O.next();){const e=O.value;if(w=e.fromVertex,e.valid&&w.layer===t){for(N=0;N<s.length&&s[N]!==w;)N++;N<h&&(f+=2*(h-N),m+=2*(h+1-N)),N===h+1&&(f+=1),N>h+1&&(f+=4*(N-h),m+=4*(N-(h+1)))}}const F=s[h].destinationEdges.iterator;if(i&&n>=0)for(;F.next();){const e=F.value;k=e.toVertex,e.valid&&k.layer!==t&&(T=this.linkStraightenWeight(e),D=e.portFromColOffset,P=e.portToColOffset,C=k.column,L+=(Math.abs(g+D-(C+P))+1)*T,S+=(Math.abs(M+D-(C+P))+1)*T)}for(F.reset();F.next();){const e=F.value;if(k=e.toVertex,e.valid&&k.layer===t){for(A=0;A<s.length&&s[A]!==k;)A++;A===h+1&&(m+=1)}}const R=s[h+1].sourceEdges.iterator;if(i&&n<=0)for(;R.next();){const e=R.value;w=e.fromVertex,e.valid&&w.layer!==t&&(T=this.linkStraightenWeight(e),D=e.portFromColOffset,P=e.portToColOffset,Y=w.column,L+=(Math.abs(p+P-(Y+D))+1)*T,S+=(Math.abs(x+P-(Y+D))+1)*T)}for(R.reset();R.next();){const e=R.value;if(w=e.fromVertex,e.valid&&w.layer===t){for(N=0;N<s.length&&s[N]!==w;)N++;N<h&&(f+=2*(h+1-N),m+=2*(h-N)),N===h&&(m+=1),N>h+1&&(f+=4*(N-(h+1)),m+=4*(N-h))}}const E=s[h+1].destinationEdges.iterator;if(i&&n>=0)for(;E.next();){const e=E.value;k=e.toVertex,e.valid&&k.layer!==t&&(T=this.linkStraightenWeight(e),D=e.portFromColOffset,P=e.portToColOffset,C=k.column,L+=(Math.abs(p+D-(C+P))+1)*T,S+=(Math.abs(x+D-(C+P))+1)*T)}for(E.reset();E.next();){const e=E.value;if(k=e.toVertex,e.valid&&k.layer===t){for(A=0;A<s.length&&s[A]!==k;)A++;A===h&&(f+=1)}}let I=0,j=0;const H=a[s[h].index],B=l[s[h].index],z=a[s[h+1].index],V=l[s[h+1].index];if(-1!==H&&(I+=Math.abs(H-g),j+=Math.abs(H-M)),-1!==B&&(I+=Math.abs(B-g),j+=Math.abs(B-M)),-1!==z&&(I+=Math.abs(z-p),j+=Math.abs(z-x)),-1!==V&&(I+=Math.abs(V-p),j+=Math.abs(V-x)),m<f-.5||m===f&&d<e-.5||m===f&&d===e&&S<L-.5||m===f&&d===e&&S===L&&j<I-.5){u=!0,c=!0,s[h].column=M,s[h+1].column=x;const t=s[h];s[h]=s[h+1],s[h+1]=t}}for(h=0;h<r;h++)s[h].index=h;return this.Vh(t,s),u}straightenAndPack(){if(0!==this.En)return void this.SI();let t=0,e=!1,i=0!==(1&this.rr);const n=0!==(8&this.rr);if(this.network.edges.count>1e3&&n&&(i=!1),i){const e=[];let i=0;for(i=0;i<=this.Mt;i++)e[i]=0;let n=0;const s=this.network.vertexes.iterator;for(;s.next();){const i=s.value;t=i.layer,n=i.column;const r=this.nodeMinColumnSpace(i,!1);e[t]=Math.max(e[t],n+r)}const r=8;for(s.reset();s.next();){const i=s.value;t=i.layer,n=i.column,i.column=((this.Kt-e[t])*r>>1)+n*r}this.Kt*=r}if(2&this.rr){e=!0;let i=0;for(;e&&i<this.tu;){for(e=!1,t=this.Ts+1;t<=this.Mt;t++)e=this.Tg(t,1)||e;for(t=this.Ts-1;t>=0;t--)e=this.Tg(t,-1)||e;e=this.Tg(this.Ts,0)||e,i++}}if(4&this.rr){for(t=this.Ts+1;t<=this.Mt;t++)this.WN(t,1);for(t=this.Ts-1;t>=0;t--)this.WN(t,-1);this.WN(this.Ts,0)}if(i&&(this.SD(-1),this.SD(1)),2&this.rr){e=!0;let i=0;for(;e&&i<this.tu;){for(e=!1,e=this.Tg(this.Ts,0)||e,t=this.Ts+1;t<=this.Mt;t++)e=this.Tg(t,0)||e;for(t=this.Ts-1;t>=0;t--)e=this.Tg(t,0)||e;i++}}}Tg(t,e){let i=!1;for(;this.MI(t,e);)i=!0;return i}MI(t,e){let i=0;const n=this.Uh(t),s=this.di[t],r=this.Ky(t,-1);if(e>0)for(i=0;i<s;i++)r[i]=-1;const o=this.Ky(t,1);if(e<0)for(i=0;i<s;i++)o[i]=-1;let a=!1,l=!0;for(;l;)for(l=!1,i=0;i<s;i++){const h=n[i].column,u=this.nodeMinColumnSpace(n[i],!0),c=this.nodeMinColumnSpace(n[i],!1);let d=0;d=i-1<0||h-n[i-1].column-1>u+this.nodeMinColumnSpace(n[i-1],!1)?h-1:h;let f=0;f=i+1>=s||n[i+1].column-h-1>c+this.nodeMinColumnSpace(n[i+1],!0)?h+1:h;let m=0,g=0,p=0,y=0,_=0,v=0;if(e<=0){const e=n[i].sourceEdges.iterator;for(;e.next();){const i=e.value,n=i.fromVertex;if(i.valid&&n.layer!==t){y=this.linkStraightenWeight(i),_=i.portFromColOffset,v=i.portToColOffset;const t=n.column;m+=(Math.abs(h+v-(t+_))+1)*y,g+=(Math.abs(d+v-(t+_))+1)*y,p+=(Math.abs(f+v-(t+_))+1)*y}}}if(e>=0){const e=n[i].destinationEdges.iterator;for(;e.next();){const i=e.value,n=i.toVertex;if(i.valid&&n.layer!==t){y=this.linkStraightenWeight(i),_=i.portFromColOffset,v=i.portToColOffset;const t=n.column;m+=(Math.abs(h+_-(t+v))+1)*y,g+=(Math.abs(d+_-(t+v))+1)*y,p+=(Math.abs(f+_-(t+v))+1)*y}}}let b=0,x=0,M=0;const w=r[n[i].index],k=o[n[i].index];-1!==w&&(b+=Math.abs(w-h),x+=Math.abs(w-d),M+=Math.abs(w-f)),-1!==k&&(b+=Math.abs(k-h),x+=Math.abs(k-d),M+=Math.abs(k-f)),g<m||g===m&&x<b?(a=!0,l=!0,n[i].column=d):(p<m||p===m&&M<b)&&(a=!0,l=!0,n[i].column=f)}return this.Vh(t,n),this.Yy(),a}WN(t,e){let i=0;const n=this.Uh(t),s=this.di[t],r=this.uD(t,e),o=[];for(i=0;i<s;i++)o[i]=r[i];let a=!1,l=!0;for(;l;)for(l=!1,i=0;i<s;i++){const t=n[i].column,e=this.nodeMinColumnSpace(n[i],!0),r=this.nodeMinColumnSpace(n[i],!1);let h=0,u=0,c=0,d=0,f=0;-1===o[i]?0===i&&i===s-1?h=t:0===i?(u=n[i+1].column,h=u-t===r+this.nodeMinColumnSpace(n[i+1],!0)?t-1:t):i===s-1?(c=n[i-1].column,h=t-c===e+this.nodeMinColumnSpace(n[i-1],!1)?t+1:t):(c=n[i-1].column,f=c+this.nodeMinColumnSpace(n[i-1],!1)+e+1,u=n[i+1].column,d=u-this.nodeMinColumnSpace(n[i+1],!0)-r-1,h=(f+d)/2|0):0===i&&i===s-1?h=o[i]:0===i?(u=n[i+1].column,d=u-this.nodeMinColumnSpace(n[i+1],!0)-r-1,h=Math.min(o[i],d)):i===s-1?(c=n[i-1].column,f=c+this.nodeMinColumnSpace(n[i-1],!1)+e+1,h=Math.max(o[i],f)):(c=n[i-1].column,f=c+this.nodeMinColumnSpace(n[i-1],!1)+e+1,u=n[i+1].column,d=u-this.nodeMinColumnSpace(n[i+1],!0)-r-1,f<o[i]&&o[i]<d?h=o[i]:f>=o[i]?h=f:d<=o[i]&&(h=d)),h!==t&&(a=!0,l=!0,n[i].column=h)}return this.Vh(t,n),this.Yy(),a}NI(){for(let t=0;t<=this.Kt;t++)for(;this.CI(t,1););this.Yy()}CI(t,e){let i=!0;const n=this.network.vertexes.iterator;for(;n.next();){const e=n.value,s=this.nodeMinColumnSpace(e,!0),r=this.nodeMinColumnSpace(e,!1);if(e.column-s<=t&&e.column+r>=t){i=!1;break}}let s=!1;if(i){if(e>0)for(n.reset();n.next();){const e=n.value;e.column>t&&(e.column-=1,s=!0)}if(e<0)for(n.reset();n.next();){const e=n.value;e.column<t&&(e.column+=1,s=!0)}}return s}LI(){this.NI();for(let t=0;t<this.Kt;t++)for(;this.AI(t,1););this.Yy()}AI(t,e){let i=t;e>0&&(i=t+1),e<0&&(i=t-1);let n=0;const s=[],r=[];for(n=0;n<=this.Mt;n++)s[n]=!1,r[n]=!1;const o=this.network.vertexes.iterator;for(;o.next();){const e=o.value,n=e.column-this.nodeMinColumnSpace(e,!0),a=e.column+this.nodeMinColumnSpace(e,!1);n<=t&&a>=t&&(s[e.layer]=!0),n<=i&&a>=i&&(r[e.layer]=!0)}let a=!0,l=!1;for(n=0;n<=this.Mt;n++)a=a&&!(s[n]&&r[n]);if(a){if(e>0)for(o.reset();o.next();){const e=o.value;e.column>t&&(e.column-=1,l=!0)}if(e<0)for(o.reset();o.next();){const e=o.value;e.column<t&&(e.column+=1,l=!0)}}return l}SD(t){this.LI();let e,i=0,n=0,s=0,r=0;if(t>0)for(i=0;i<=this.Kt;i++)for(e=this.Qi(),n=this.Z1(!0),s=n+1;n<s;)s=n,this.MD(i,1),r=this.Z1(!0),r>n?this.Ze(e):r<n&&(n=r,e=this.Qi());if(t<0)for(i=this.Kt;i>=0;i--)for(e=this.Qi(),n=this.Z1(!0),s=n+1;n<s;)s=n,this.MD(i,-1),r=this.Z1(!0),r>n?this.Ze(e):r<n&&(n=r,e=this.Qi());this.Yy()}MD(t,e){this.nn=0;const i=this.network.vertexes.iterator;for(;i.next();){const t=i.value;t.component=-1}if(e>0)for(i.reset();i.next();){const e=i.value;e.column-this.nodeMinColumnSpace(e,!0)<=t&&(e.component=this.nn)}if(e<0)for(i.reset();i.next();){const e=i.value;e.column+this.nodeMinColumnSpace(e,!1)>=t&&(e.component=this.nn)}for(this.nn++,i.reset();i.next();){const t=i.value;-1===t.component&&(this.jN(t,this.nn,-1,!0,!0),this.nn++)}let n=0;const s=[];for(n=0;n<this.nn*this.nn;n++)s[n]=!1;const r=[];for(n=0;n<(this.Mt+1)*(this.Kt+1);n++)r[n]=-1;for(i.reset();i.next();){const t=i.value,e=t.layer,n=Math.max(0,t.column-this.nodeMinColumnSpace(t,!0)),s=Math.min(this.Kt,t.column+this.nodeMinColumnSpace(t,!1));for(let i=n;i<=s;i++)r[e*(this.Kt+1)+i]=t.component}for(let u=0;u<=this.Mt;u++){if(e>0)for(let t=0;t<this.Kt;t++)-1!==r[u*(this.Kt+1)+t]&&-1!==r[u*(this.Kt+1)+t+1]&&r[u*(this.Kt+1)+t]!==r[u*(this.Kt+1)+t+1]&&(s[r[u*(this.Kt+1)+t]*this.nn+r[u*(this.Kt+1)+t+1]]=!0);if(e<0)for(let t=this.Kt;t>0;t--)-1!==r[u*(this.Kt+1)+t]&&-1!==r[u*(this.Kt+1)+t-1]&&r[u*(this.Kt+1)+t]!==r[u*(this.Kt+1)+t-1]&&(s[r[u*(this.Kt+1)+t]*this.nn+r[u*(this.Kt+1)+t-1]]=!0)}const o=[];for(n=0;n<this.nn;n++)o[n]=!0;const a=[];a.push(0);let l=0;for(;0!==a.length;)if(l=a[a.length-1],a.pop(),o[l])for(o[l]=!1,n=0;n<this.nn;n++)s[l*this.nn+n]&&a.splice(0,0,n);let h=!1;if(e>0)for(i.reset();i.next();){const t=i.value;o[t.component]&&(t.column-=1,h=!0)}if(e<0)for(i.reset();i.next();){const t=i.value;o[t.component]&&(t.column+=1,h=!0)}return h}SI(){const t=e.rt(),i=this.iu.length;for(let e=0;e<=i;e++)t[e]=[];const n=this.network.vertexes.iterator;for(;n.next();){const e=n.value,s=i-e.layer,r=t[s];r[e.index]=e}const s=new u;this.TI(t,s);let r=null,o=null,a=null,l=null;const h=0!==(1&this.En),c=0!==(2&this.En),d=0!==(4&this.En),f=0!==(8&this.En);h&&(this.ll(t,s,!0),r=this.ik(t,!0,!1)),t.reverse(),d&&(this.ll(t,s,!1),a=this.ik(t,!1,!1));for(const e of t)e.reverse();f&&(this.ll(t,s,!1),l=this.ik(t,!1,!0)),t.reverse(),c&&(this.ll(t,s,!0),o=this.ik(t,!0,!0)),e.tt(t),this.DI(r,o,a,l),this.network.vertexes.each((t=>{const i=t,n=e.rt();h&&n.push(r.get(i)),c&&n.push(o.get(i)),d&&n.push(a.get(i)),f&&n.push(l.get(i)),n.sort(((t,e)=>t-e));const s=n.length,u=Math.floor((s-1)/2),m=Math.ceil((s-1)/2),g=(n[u]+n[m])/2;e.tt(n),i.fe=g}))}TI(t,e){const i=t.length;for(let n=1;n<i-1;n++){let i=0,s=0;const r=t[n],o=t[n+1];for(let t=0;s<o.length;t++){const n=o[t],a=this.FI(n);if(t===o.length-1||a){let l=r.length-1;for(a&&(l=n.getProperSourceVertexes()[0].index);s<=t;){const t=o[s].getProperSourceEdges();for(const n of t){const t=n.fromVertex.index;(t<i||t>l)&&e.add(n)}s++}i=l}}}}FI(t){if(null===t.node){const e=t.getProperSourceVertexes();if(e.length>0)return null===e[0].node}return!1}ll(t,e,i){this.RI(t);for(const n of t){let t=-1;for(const s of n){const n=i?s.getProperSourceVertexes():s.getProperDestinationVertexes(),r=n.length;if(r>0){n.sort(((t,e)=>t.zh-e.zh));const o=(r-1)/2;for(let r=Math.floor(o),a=Math.ceil(o);r<=a;r++)if(s.Bn===s){const o=n[r];let a;a=i?o.getDestinationEdge(s):s.getDestinationEdge(o),!e.has(a)&&t<o.zh&&(o.Bn=s,s.oc=o.oc,s.Bn=o.oc,t=o.zh)}}}}}RI(t){for(let e=0;e<t.length;e++){const i=t[e];for(let t=0;t<i.length;t++){const n=i[t];n.oc=n,n.Bn=n,n.ND=e,n.zh=t}}}ik(t,e,i){const n=90===this.P||270===this.P;for(const r of t)for(const t of r)t.Qe=t,t.su=1/0,t.fe=NaN,t.Un=0;this.vI(t,e,i);for(const r of t)for(const e of r)e.oc===e&&this.CD(e,t);for(let r=0;r<t.length;r++){if(t[r].length<=0)continue;const e=t[r][0];if(e.Qe===e){e.Qe.su===1/0&&(e.Qe.su=0);let i,s=r,o=0;do{for(i=t[s][o];i.Bn!==i.oc;)if(i=i.Bn,s++,i.zh>0){const e=this.LD(i,t),s=n?e.width:e.height,r=i.Qe.su+i.fe+i.Un-(e.fe+e.Un+s+this.columnSpacing);e.Qe.su=Math.min(e.Qe.su,r)}o=i.zh+1}while(s<t.length&&o<t[s].length&&i.Qe===t[s][o].Qe)}}const s=new p;for(const r of t)for(const t of r){t.fe=t.fe+t.Qe.su+t.Un;const e=n?t.width:t.height;s.set(t,i?-t.fe-e:t.fe)}return s}vI(t,e,i){const n=90===this.P||270===this.P;for(const s of t)for(const t of s)if(t.oc===t){let s=0,r=t;for(;r.Bn!==t;){const t=r.Bn,o=n?r.width:r.height,a=n?t.width:t.height;let l,h,u,c;e?(u=r.getDestinationEdge(t),l=u.portFromPos,h=u.portToPos,null!==u.link&&(r.node&&r.node!==u.link.fromNode&&(l=n?r.focusX:r.focusY),t.node&&t.node!==u.link.toNode&&(h=n?t.focusX:t.focusY)),c=i?r.Un+(o-l)-(a-h):r.Un+l-h):(u=t.getDestinationEdge(r),l=u.portToPos,h=u.portFromPos,null!==u.link&&(r.node&&r.node!==u.link.toNode&&(l=n?r.focusX:r.focusY),t.node&&t.node!==u.link.fromNode&&(h=n?t.focusX:t.focusY)),c=i?r.Un+(o-l)-(a-h):r.Un+l-h),t.Un=c,s=Math.min(s,c),r=r.Bn}r=t;do{r.Un=r.Un-s,r=r.Bn}while(r!==t)}}CD(t,e){if(!isNaN(t.fe))return;t.fe=0;let i=t;do{if(i.zh>0){const n=this.LD(i,e),s=n.oc;this.CD(s,e),t.Qe===t&&(t.Qe=s.Qe);const r=90===this.P||270===this.P?n.width:n.height;if(t.Qe===s.Qe){const e=s.fe+n.Un+r-i.Un+this.columnSpacing;t.fe=Math.max(t.fe,e)}}i=i.Bn}while(i!==t);for(;i.Bn!==t;)i=i.Bn,i.fe=t.fe,i.Qe=t.Qe}LD(t,i){const n=t.ND,s=t.zh;return s<1&&e.o("Could not determine previous vertex in layer"),i[n][s-1]}DI(...t){let i=-1;const n=e.rt(),s=e.rt();let r=1/0;for(let e=0;e<4;e++){if(!t[e])continue;const o=this.OI(t[e],n,s,e);o<r&&(i=e,r=o)}for(let e=0;e<4;e++){const r=t[e];if(!r)continue;const o=0===e||2===e?n[i]-n[e]:s[i]-s[e];0!==o&&r.each((t=>{r.set(t.key,t.value+o)}))}e.tt(n),e.tt(s)}OI(t,e,i,n){if(!t||0===t.count)return e[n]=0,i[n]=0,1/0;let s=1/0,r=-1/0;return t.each((t=>{const e=t.key,i=t.value,n=90===this.P||270===this.P?e.width:e.height;i<s&&(s=i),i+n>r&&(r=i+n)})),e[n]=s,i[n]=r,r-s}commitLayout(){this.zy(),this.commitNodes(),this.JN(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const t=this._1(!0),e=this._1(!1),i=this.network.edges.iterator;for(;i.next();){const n=i.value.link;null!==n&&(n.fromSpot=t,n.toSpot=e)}}_1(t){return 270===this.P?t?x.MiddleTop:x.MiddleBottom:90===this.P?t?x.MiddleBottom:x.MiddleTop:180===this.P?t?x.MiddleLeft:x.MiddleRight:t?x.MiddleRight:x.MiddleLeft}commitNodes(){this.sn=[],this.Ds=[],this.Fs=[],this.Ut=[];for(let f=0;f<=this.Mt;f++)this.sn[f]=0,this.Ds[f]=0,this.Fs[f]=0,this.Ut[f]=0;const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value,i=e.layer;this.sn[i]=Math.max(this.sn[i],this.nodeMinLayerSpace(e,!0)),this.Ds[i]=Math.max(this.Ds[i],this.nodeMinLayerSpace(e,!1))}let e=0;const i=this.As;for(let f=0;f<=this.Mt;f++){let t=i;this.sn[f]+this.Ds[f]<=0&&(t=0),f>0&&(e+=t/2),90===this.P||0===this.P?(e+=this.Ds[f],this.Fs[f]=e,e+=this.sn[f]):(e+=this.sn[f],this.Fs[f]=e,e+=this.Ds[f]),f<this.Mt&&(e+=t/2),this.Ut[f]=e}const n=e,s=this.arrangementOrigin;for(let f=0;f<=this.Mt;f++)270===this.P?this.Fs[f]=s.y+this.Fs[f]:90===this.P?(this.Fs[f]=s.y+n-this.Fs[f],this.Ut[f]=n-this.Ut[f]):180===this.P?this.Fs[f]=s.x+this.Fs[f]:(this.Fs[f]=s.x+n-this.Fs[f],this.Ut[f]=n-this.Ut[f]);const r=0!==this.En;t.reset();const o=270===this.P||90===this.P;let a=1/0,l=1/0,h=1/0,u=-1/0;for(;t.next();){const e=t.value,i=e.layer,n=0|e.column;let c=0,d=0;o?(c=s.x+this.Zi*n,d=this.Fs[i]):(c=this.Fs[i],d=s.y+this.Zi*n),e.centerX=c,e.centerY=d,r&&isFinite(e.fe)&&(o?e.node?e.x=s.x+e.fe:e.centerX=s.x+e.fe:e.node?e.y=s.y+e.fe:e.centerY=s.y+e.fe),a=Math.min(e.x,a),l=Math.min(e.y,l),o?(h=a,u=Math.max(u,e.bounds.right)):(h=l,u=Math.max(u,e.bounds.bottom))}this.HN=u-h;const c=s.x-a,d=s.y-l;for(this.lr=new y(r&&o?0:c,r&&!o?0:d),t.reset();t.next();){const e=t.value;e.x+=c,e.y+=d,e.commit()}}JN(){let t=0;const e=this.As;for(let s=0;s<=this.Mt;s++)t+=this.sn[s],t+=this.Ds[s];t+=this.Mt*e;const i=[],n=0!==this.En?this.HN:this.Zi*this.Kt;for(let s=this.maxLayer;s>=0;s--)270===this.P?0===s?i.push(new v(0,0,n,Math.abs(this.Ut[0]))):i.push(new v(0,this.Ut[s-1],n,Math.abs(this.Ut[s-1]-this.Ut[s]))):90===this.P?0===s?i.push(new v(0,this.Ut[0],n,Math.abs(this.Ut[0]-t))):i.push(new v(0,this.Ut[s],n,Math.abs(this.Ut[s-1]-this.Ut[s]))):180===this.P?0===s?i.push(new v(0,0,Math.abs(this.Ut[0]),n)):i.push(new v(this.Ut[s-1],0,Math.abs(this.Ut[s-1]-this.Ut[s]),n)):0===s?i.push(new v(this.Ut[0],0,Math.abs(this.Ut[0]-t),n)):i.push(new v(this.Ut[s],0,Math.abs(this.Ut[s-1]-this.Ut[s]),n));this.commitLayers(i,this.lr)}commitLayers(t,e){}commitLinks(){const t=this.network.edges.iterator;let e;for(;t.next();)e=t.value.link,null!==e&&(e.startRoute(),e.clearPoints(),e.commitRoute());for(t.reset();t.next();)e=t.value.link,null!==e&&e.updateRoute();for(t.reset();t.next();){const i=t.value;if(e=i.link,null===e||0===e.pointsCount)continue;e.startRoute();const n=e;let s=n.fromNode,r=n.toNode,o=n.fromPort,a=n.toPort;if(null!==s){const t=s.findVisibleNode();null!==t&&t!==s&&(s=t,o=t.port)}if(null!==r){const t=r.findVisibleNode();null!==t&&t!==r&&(r=t,a=t.port)}const l=e.computeSpot(!0,o),h=e.computeSpot(!1,a);let u=i.fromVertex,c=i.toVertex;if(i.valid){if(9===e.curve&&4===e.pointsCount)if(u.column===c.column&&0===this.alignOption){const t=e.getLinkPoint(s,o,l,!0,!1,r,a),i=e.getLinkPoint(r,a,h,!1,!1,s,o);t.isReal()||t.set(s.actualBounds.center),i.isReal()||i.set(r.actualBounds.center),e.clearPoints(),e.addPointAt(t.x,t.y),e.addPointAt((2*t.x+i.x)/3,(2*t.y+i.y)/3),e.addPointAt((t.x+2*i.x)/3,(t.y+2*i.y)/3),e.addPointAt(i.x,i.y)}else{let t=!1,i=!1;if(null!==o&&l===x.None&&(t=!0),null!==a&&h===x.None&&(i=!0),t||i){let n=null;t&&(n=e.getLinkPointFromPoint(s,o,o.getDocumentPoint(x.Center),e.getPoint(3),!0),n.isReal()||n.set(s.actualBounds.center),e.setPointAt(0,n.x,n.y));let l=null;if(i&&(l=e.getLinkPointFromPoint(r,a,a.getDocumentPoint(x.Center),e.getPoint(0),!1),l.isReal()||l.set(r.actualBounds.center),e.setPointAt(3,l.x,l.y)),n){const t=e.getPoint(2);e.setPointAt(1,(2*n.x+t.x)/3,(2*n.y+t.y)/3)}if(l){const t=e.getPoint(1);e.setPointAt(2,(2*l.x+t.x)/3,(2*l.y+t.y)/3)}}}e.commitRoute();continue}if(u.layer===c.layer){e.commitRoute();continue}let d=!1,f=!1;const m=this.As;let g=0,p=e.firstPickIndex+1;if(e.isOrthogonal)f=!0,g=e.pointsCount,g>4&&e.points.removeRange(2,g-3);else if(9===e.curve)d=!0,g=e.pointsCount,g>4&&e.points.removeRange(2,g-3),4===g&&(p=2);else{g=e.pointsCount;const t=l===x.None,i=h===x.None;g>2&&t&&i?e.points.removeRange(1,g-2):g>3&&t&&!i?e.points.removeRange(1,g-3):g>3&&!t&&i?e.points.removeRange(2,g-2):g>4&&!t&&!i&&e.points.removeRange(2,g-3)}let y,_,v=0,b=0,M=0,w=0,k=0,L=0,S=0;if(i.rev){let t=0;for(;null!==c&&u!==c;){y=null,_=null;const n=c.sourceEdges.iterator;for(;n.next();){const t=n.value;if(t.link===i.link&&(y=t.fromVertex,_=t.toVertex,null===y.node))break}if(null===y)break;if(y!==u)if(v=e.getPoint(p-1).x,b=e.getPoint(p-1).y,M=y.centerX,w=y.centerY,f)180===this.P||0===this.P?p===e.firstPickIndex+1?(e.insertPointAt(p++,v,b),e.insertPointAt(p++,v,w)):(null!==_?_.centerY:b)!==w&&(k=this.Ut[y.layer-1]+this.lr.x,e.insertPointAt(p++,k,b),e.insertPointAt(p++,k,w)):p===e.firstPickIndex+1?(e.insertPointAt(p++,v,b),e.insertPointAt(p++,M,b)):(null!==_?_.centerX:v)!==M&&(k=this.Ut[y.layer-1]+this.lr.y,e.insertPointAt(p++,v,k),e.insertPointAt(p++,M,k));else if(p===e.firstPickIndex+1)if(L=Math.max(10,this.sn[c.layer]),S=Math.max(10,this.Ds[c.layer]),d)180===this.P?M<=c.bounds.x?(t=c.bounds.x,e.insertPointAt(p++,t-L,w),e.insertPointAt(p++,t,w),e.insertPointAt(p++,t+S,w)):(e.insertPointAt(p++,M-L,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M+S,w)):90===this.P?w>=c.bounds.bottom?(t=c.bounds.y+c.bounds.height,e.insertPointAt(p++,M,t+S),e.insertPointAt(p++,M,t),e.insertPointAt(p++,M,t-L)):(e.insertPointAt(p++,M,w+S),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w-L)):270===this.P?w<=c.bounds.y?(t=c.bounds.y,e.insertPointAt(p++,M,t-L),e.insertPointAt(p++,M,t),e.insertPointAt(p++,M,t+S)):(e.insertPointAt(p++,M,w-L),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w+S)):0===this.P&&(M>=c.bounds.right?(t=c.bounds.x+c.bounds.width,e.insertPointAt(p++,t+S,w),e.insertPointAt(p++,t,w),e.insertPointAt(p++,t-L,w)):(e.insertPointAt(p++,M+S,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M-L,w)));else{e.insertPointAt(p++,v,b);let t=0;180===this.P||0===this.P?((180===this.P?M>=c.bounds.right:M<=c.bounds.x)&&(t=(0===this.P?-L:S)/2),e.insertPointAt(p++,v+t,w)):((270===this.P?w>=c.bounds.bottom:w<=c.bounds.y)&&(t=(90===this.P?-L:S)/2),e.insertPointAt(p++,M,b+t)),e.insertPointAt(p++,M,w)}else L=Math.max(10,this.sn[y.layer]),S=Math.max(10,this.Ds[y.layer]),d?180===this.P?(e.insertPointAt(p++,M-L-m,w),e.insertPointAt(p++,Math.min(M-L+m/2,M),w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,Math.max(M+S-m/2,M),w),e.insertPointAt(p++,M+S+m,w)):90===this.P?(e.insertPointAt(p++,M,w+S+m),e.insertPointAt(p++,M,Math.max(w+S-m/2,w)),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,Math.min(w-L+m/2,w)),e.insertPointAt(p++,M,w-L-m)):270===this.P?(e.insertPointAt(p++,M,w-L-m),e.insertPointAt(p++,M,Math.min(w-L+m/2,w)),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,Math.max(w+S-m/2,w)),e.insertPointAt(p++,M,w+S+m)):(e.insertPointAt(p++,M+S+m,w),e.insertPointAt(p++,Math.max(M+S-m/2,M),w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,Math.min(M-L+m/2,M),w),e.insertPointAt(p++,M-L-m,w)):(180===this.P||90===this.P||this.P,e.insertPointAt(p++,M,w));c=y}if(null===a||l!==x.None||f)if(v=e.getPoint(p-1).x,b=e.getPoint(p-1).y,M=e.getPoint(p).x,w=e.getPoint(p).y,f){const i=this.Ds[u.layer];let n=0;180===this.P||0===this.P?(n=b,n>=u.bounds.y&&n<=u.bounds.bottom&&(180===this.P?M>=u.bounds.x:M<=u.bounds.right)&&(t=u.centerX+(180===this.P?-i:i),n=n<u.bounds.y+u.bounds.height/2?u.bounds.y-this.Zi/2:u.bounds.bottom+this.Zi/2,e.insertPointAt(p++,t,b),e.insertPointAt(p++,t,n)),e.insertPointAt(p++,M,n),e.insertPointAt(p++,M,w)):(n=v,n>=u.bounds.x&&n<=u.bounds.right&&(270===this.P?w>=u.bounds.y:w<=u.bounds.bottom)&&(t=u.centerY+(270===this.P?-i:i),n=n<u.bounds.x+u.bounds.width/2?u.bounds.x-this.Zi/2:u.bounds.right+this.Zi/2,e.insertPointAt(p++,v,t),e.insertPointAt(p++,n,t)),e.insertPointAt(p++,n,w),e.insertPointAt(p++,M,w))}else if(d)L=Math.max(10,this.sn[u.layer]),S=Math.max(10,this.Ds[u.layer]),180===this.P&&M>=u.bounds.x?(t=u.bounds.x+u.bounds.width,e.setPointAt(p-2,t,b),e.setPointAt(p-1,t+S,b)):90===this.P&&w<=u.bounds.bottom?(t=u.bounds.y,e.setPointAt(p-2,v,t),e.setPointAt(p-1,v,t-L)):270===this.P&&w>=u.bounds.y?(t=u.bounds.y+u.bounds.height,e.setPointAt(p-2,v,t),e.setPointAt(p-1,v,t+S)):0===this.P&&M<=u.bounds.right&&(t=u.bounds.x,e.setPointAt(p-2,t,b),e.setPointAt(p-1,t-L,b));else{L=Math.max(10,this.sn[u.layer]),S=Math.max(10,this.Ds[u.layer]);let t=0;180===this.P||0===this.P?((180===this.P?M<=u.bounds.x:M>=u.bounds.right)&&(t=(0===this.P?S:-L)/2),e.insertPointAt(p++,M+t,b)):((270===this.P?w<=u.bounds.y:w>=u.bounds.bottom)&&(t=(90===this.P?S:-L)/2),e.insertPointAt(p++,v,w+t)),e.insertPointAt(p++,M,w)}}else{for(;null!==u&&u!==c;){y=null,_=null;const t=u.destinationEdges.iterator;for(;t.next();){const e=t.value;if(e.link===i.link&&(y=e.toVertex,_=e.fromVertex,null!==_.node&&(_=null),null===y.node))break}if(null===y)break;y!==c&&(v=e.getPoint(p-1).x,b=e.getPoint(p-1).y,M=y.centerX,w=y.centerY,f?180===this.P||0===this.P?(null!==_?_.centerY:b)!==w&&(k=this.Ut[y.layer]+this.lr.x,p===e.firstPickIndex+1&&(k=0===this.P?Math.max(k,v):Math.min(k,v)),e.insertPointAt(p++,k,b),e.insertPointAt(p++,k,w)):(null!==_?_.centerX:v)!==M&&(k=this.Ut[y.layer]+this.lr.y,p===e.firstPickIndex+1&&(k=90===this.P?Math.max(k,b):Math.min(k,b)),e.insertPointAt(p++,v,k),e.insertPointAt(p++,M,k)):(L=Math.max(10,this.sn[y.layer]),S=Math.max(10,this.Ds[y.layer]),d?180===this.P?(e.insertPointAt(p++,M+S+m,w),e.insertPointAt(p++,Math.max(M+S-m/2,M),w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,Math.min(M-L+m/2,M),w),e.insertPointAt(p++,M-L-m,w)):90===this.P?(e.insertPointAt(p++,M,w-L-m),e.insertPointAt(p++,M,Math.min(w-L+m/2,w)),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,Math.max(w+S-m/2,w)),e.insertPointAt(p++,M,w+S+m)):270===this.P?(e.insertPointAt(p++,M,w+S+m),e.insertPointAt(p++,M,Math.max(w+S-m/2,w)),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,Math.min(w-L+m/2,w)),e.insertPointAt(p++,M,w-L-m)):(e.insertPointAt(p++,M-L-m,w),e.insertPointAt(p++,Math.min(M-L+m/2,M),w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,M,w),e.insertPointAt(p++,Math.max(M+S-m/2,M),w),e.insertPointAt(p++,M+S+m,w)):180===this.P?(e.insertPointAt(p++,M+S,w),e.insertPointAt(p++,M-L,w)):90===this.P?(e.insertPointAt(p++,M,w-L),e.insertPointAt(p++,M,w+S)):270===this.P?(e.insertPointAt(p++,M,w+S),e.insertPointAt(p++,M,w-L)):(e.insertPointAt(p++,M-L,w),e.insertPointAt(p++,M+S,w)))),u=y}f&&(v=e.getPoint(p-1).x,b=e.getPoint(p-1).y,M=e.getPoint(p).x,w=e.getPoint(p).y,180===this.P||0===this.P?b!==w&&(k=0===this.P?Math.min(Math.max((M+v)/2,this.Ut[c.layer]+this.lr.x),M):Math.max(Math.min((M+v)/2,this.Ut[c.layer]+this.lr.x),M),e.insertPointAt(p++,k,b),e.insertPointAt(p++,k,w)):v!==M&&(k=90===this.P?Math.min(Math.max((w+b)/2,this.Ut[c.layer]+this.lr.y),w):Math.max(Math.min((w+b)/2,this.Ut[c.layer]+this.lr.y),w),e.insertPointAt(p++,v,k),e.insertPointAt(p++,M,k)))}if(null!==n&&d&&e.pointsCount>=4){if(null!==o){const t=l===x.None?e.getLinkPointFromPoint(s,o,o.getDocumentPoint(x.Center),e.getPoint(3),!0):e.getPoint(0);if(l===x.None){const i=e.getPoint(2),n=e.getPoint(3);90===this.direction||270===this.direction?(e.setPointAt(1,(t.x+i.x)/2,i.y),e.setPointAt(2,n.x,(i.y+n.y)/2)):(e.setPointAt(1,i.x,(t.y+i.y)/2),e.setPointAt(2,(i.x+n.x)/2,n.y))}t.isReal()||t.set(s.actualBounds.center),e.setPointAt(0,t.x,t.y)}if(null!==a){const t=h===x.None?e.getLinkPointFromPoint(r,a,a.getDocumentPoint(x.Center),e.getPoint(e.pointsCount-4),!1):e.getPoint(e.pointsCount-1);if(h===x.None){const i=e.getPoint(e.pointsCount-3),n=e.getPoint(e.pointsCount-4);90===this.direction||270===this.direction?(e.setPointAt(e.pointsCount-2,(t.x+i.x)/2,i.y),e.setPointAt(e.pointsCount-2,n.x,(i.y+n.y)/2)):(e.setPointAt(e.pointsCount-2,i.x,(t.y+i.y)/2),e.setPointAt(e.pointsCount-3,(i.x+n.x)/2,n.y))}t.isReal()||t.set(r.actualBounds.center),e.setPointAt(e.pointsCount-1,t.x,t.y)}}e.commitRoute(),i.commit()}}eI(){this.Xy=-1,this.Cg=0,this.Ts=0,this.nc=null,this.Ag=null,this.iu=null;for(let t=0;t<this.In.length;t++)this.In[t]=null}Uh(t){let e;const i=this.di[t];if(i>=this.In.length){const t=[];for(let e=0;e<this.In.length;e++)t[e]=this.In[e];this.In=t}void 0===this.In[i]||null===this.In[i]?e=[]:(e=this.In[i],this.In[i]=null);const n=this.iu[t];for(let s=0;s<n.length;s++){const t=n[s];e[t.index]=t}return e}Vh(t,e){this.In[this.di[t]]=e}get layerSpacing(){return this.As}set layerSpacing(t){this.As!==t&&(e.s(t,"number",wi,"layerSpacing"),t>=0&&(this.As=t,this.invalidateLayout()))}get columnSpacing(){return this.Zi}set columnSpacing(t){this.Zi!==t&&(e.s(t,"number",wi,"columnSpacing"),t>0&&(this.Zi=t,this.invalidateLayout()))}get direction(){return this.P}set direction(t){this.P!==t&&(e.s(t,"number",wi,"direction"),0===t||90===t||180===t||270===t?(this.P=t,this.invalidateLayout()):e.o("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}get cycleRemoveOption(){return this.$f}set cycleRemoveOption(t){this.$f!==t&&(1===t||0===t||2===t)&&(this.$f=t,this.invalidateLayout())}get layeringOption(){return this.Zf}set layeringOption(t){this.Zf!==t&&(10===t||11===t||12===t)&&(this.Zf=t,this.invalidateLayout())}get initializeOption(){return this.Qf}set initializeOption(t){this.Qf!==t&&(20===t||21===t||22===t)&&(this.Qf=t,this.invalidateLayout())}get iterations(){return this.sc}set iterations(t){this.sc!==t&&t>=0&&(this.sc=t,this.invalidateLayout())}get aggressiveOption(){return this._f}set aggressiveOption(t){this._f!==t&&(30===t||31===t||32===t)&&(this._f=t,this.invalidateLayout())}get packOption(){return this.rr}set packOption(t){this.rr!==t&&(e.s(t,"number",wi,"packOption"),t>=0&&t<8&&(this.rr=t,this.invalidateLayout()))}get packIterations(){return this.tu}set packIterations(t){this.tu=t}get alignOption(){return this.En}set alignOption(t){this.En!==t&&(e.s(t,"number",wi,"align"),t>=0&&t<16&&(this.En=t,this.invalidateLayout()))}get setsPortSpots(){return this.On}set setsPortSpots(t){this.On!==t&&(e.s(t,"boolean",wi,"setsPortSpots"),this.On=t,this.invalidateLayout())}get maxLayer(){return this.Mt}get maxIndex(){return this.Xy}get maxColumn(){return this.Kt}get minIndexLayer(){return this.Cg}get maxIndexLayer(){return this.Ts}static CycleDepthFirst=0;static CycleGreedy=1;static CycleFromLayers=2;static LayerOptimalLinkLength=10;static LayerLongestPathSink=11;static LayerLongestPathSource=12;static InitDepthFirstOut=20;static InitDepthFirstIn=21;static InitNaive=22;static AggressiveNone=30;static AggressiveLess=31;static AggressiveMore=32;static PackNone=0;static PackExpand=1;static PackStraighten=2;static PackMedian=4;static PackAll=15;static AlignNone=0;static AlignUpperLeft=1;static AlignUpperRight=2;static AlignLowerLeft=4;static AlignLowerRight=8;static AlignAll=15}class ki extends Be{constructor(t){super(t)}createVertex(){return new Li(this)}createEdge(){return new Si(this)}}class Li extends ze{$o;Qr;Ft;ek;sk;_i;eu;$n;Q1;J1;$1;oc;Bn;ND;zh;Qe;su;fe;Un;Hy=null;jy=null;qy=null;Wy=null;constructor(t){super(t),this.$o=-1,this.Qr=-1,this.Ft=-1,this.ek=NaN,this.sk=null,this._i=!1,this.eu=NaN,this.$n=NaN,this.Q1=0,this.J1=null,this.$1=null}static AD(t,e){return t.index-e.index}getProperSourceEdges(){if(!this.qy){const t=[];for(const e of this.bo){const i=e;i.valid&&t.push(i)}this.qy=t}return this.qy}getProperDestinationEdges(){if(!this.Wy){const t=[];for(const e of this.er){const i=e;i.valid&&t.push(i)}this.Wy=t}return this.Wy}getDestinationEdge(t){const i=this.getProperDestinationEdges();for(const e of i)if(e.toVertex===t)return e;e.o("Unable to find destination edge to given vertex")}getProperSourceVertexes(){if(!this.Hy){const t=[];for(const e of this.bo){const i=e;!i.valid||i.fromVertex.layer<=i.toVertex.layer||t.push(i.fromVertex)}t.sort(Li.AD),this.Hy=t}return this.Hy}getProperDestinationVertexes(){if(!this.jy){const t=[];for(const e of this.er){const i=e;!i.valid||i.fromVertex.layer<=i.toVertex.layer||t.push(i.toVertex)}t.sort(Li.AD),this.jy=t}return this.jy}addSourceEdge(t){super.addSourceEdge(t),this.Hy=null,this.qy=null}deleteSourceEdge(t){super.deleteSourceEdge(t),this.Hy=null,this.qy=null}addDestinationEdge(t){super.addDestinationEdge(t),this.jy=null,this.Wy=null}deleteDestinationEdge(t){super.deleteDestinationEdge(t),this.jy=null,this.Wy=null}get layer(){return this.$o}set layer(t){this.$o!==t&&(e.s(t,"number",Li,"layer"),this.$o=t)}get column(){return this.Qr}set column(t){this.Qr!==t&&(e.s(t,"number",Li,"column"),this.Qr=t)}get index(){return this.Ft}set index(t){this.Ft!==t&&(e.s(t,"number",Li,"index"),this.Ft=t)}get component(){return this.ek}set component(t){this.ek!==t&&(e.s(t,"number",Li,"component"),this.ek=t)}get near(){return this.sk}set near(t){this.sk!==t&&(this.sk=t)}}class Si extends Ve{_i;nk;ok;rk;lk;hk;ak;constructor(t){super(t),this._i=!1,this.nk=!1,this.ok=!1,this.rk=NaN,this.lk=NaN,this.hk=0,this.ak=0}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}get valid(){return this._i}set valid(t){this._i!==t&&(e.s(t,"boolean",Si,"valid"),this._i=t)}get rev(){return this.nk}set rev(t){this.nk!==t&&(e.s(t,"boolean",Si,"rev"),this.nk=t)}get forest(){return this.ok}set forest(t){this.ok!==t&&(e.s(t,"boolean",Si,"forest"),this.ok=t)}get portFromPos(){return this.rk}set portFromPos(t){this.rk!==t&&(e.s(t,"number",Si,"portFromPos"),this.rk=t)}get portToPos(){return this.lk}set portToPos(t){this.lk!==t&&(e.s(t,"number",Si,"portToPos"),this.lk=t)}get portFromColOffset(){return this.hk}set portFromColOffset(t){this.hk!==t&&(e.s(t,"number",Si,"portFromColOffset"),this.hk=t)}get portToColOffset(){return this.ak}set portToColOffset(t){this.ak!==t&&(e.s(t,"number",Si,"portToColOffset"),this.ak=t)}}var Ti=(t=>(t[t.Default=0]="Default",t[t.Destination=1]="Destination",t[t.Source=2]="Source",t))(Ti||{}),Di=(t=>(t[t.Forwards=10]="Forwards",t[t.Reverse=11]="Reverse",t[t.Ascending=12]="Ascending",t[t.Descending=13]="Descending",t))(Di||{}),Pi=(t=>(t[t.CenterSubtrees=20]="CenterSubtrees",t[t.CenterChildren=21]="CenterChildren",t[t.Start=22]="Start",t[t.End=23]="End",t[t.Bus=24]="Bus",t[t.BusBranching=25]="BusBranching",t[t.TopLeftBus=26]="TopLeftBus",t[t.BottomRightBus=27]="BottomRightBus",t[t.Custom=28]="Custom",t))(Pi||{}),Yi=(t=>(t[t.None=30]="None",t[t.Block=31]="Block",t))(Yi||{}),Ci=(t=>(t[t.Layered=40]="Layered",t[t.LastParents=41]="LastParents",t[t.Alternating=42]="Alternating",t[t.RootOnly=43]="RootOnly",t))(Ci||{}),Ni=(t=>(t[t.Vertical=50]="Vertical",t[t.Horizontal=51]="Horizontal",t[t.FixedRoots=52]="FixedRoots",t))(Ni||{}),Ai=(t=>(t[t.Individual=60]="Individual",t[t.Siblings=61]="Siblings",t[t.Uniform=62]="Uniform",t))(Ai||{});class Oi extends He{Oi;Di;nu;Dg;$N;Oe;Gi;Ls;V;z;ck;cs;constructor(t){super(),this.Oi=new u,this.Di=0,this.cs=1,this.nu=40,this.Dg=60,this.$N=[],this.Oe=!0,this.Gi=50,this.Ls=new _(10,10).u();const e=new Fi(this);this.V=new Ri(e),this.z=new Ri(e),this.ck=[],t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Di=this.Di,t.nu=this.nu,t.Dg=this.Dg,t.Oe=this.Oe,t.Gi=this.Gi,t.Ls.a(this.Ls),t.V.copyInheritedPropertiesFrom(this.V),t.z.copyInheritedPropertiesFrom(this.z)}hi(t){t in Pi?this.alignment=t:t in Ni?this.arrangement=t:t in Yi?this.compaction=t:t in Ti?this.path=t:t in Di?this.sorting=t:t in Ci?this.treeStyle=t:super.hi(t)}createNetwork(){return new Fi(this)}makeNetwork(t){const e=this.createNetwork(),i=t=>{if(t instanceof Se)return!t.isLinkLabel&&"Comment"!==t.category;if(t instanceof Ce){const e=t.fromNode;if(null===e||e.isLinkLabel||"Comment"===e.category)return!1;const i=t.toNode;return!(null===i||i.isLinkLabel||"Comment"===i.category)}return!1};return t instanceof _t?(e.addParts(t.nodes,!0,i),e.addParts(t.links,!0,i)):t instanceof Ie?e.addParts(t.memberParts,!1,i):e.addParts(t.iterator,!1,i),e}doLayout(t){null===this.network&&(this.network=this.makeNetwork(t)),52!==this.arrangement&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));let e=this.diagram;null===e&&t instanceof _t&&(e=t),0===this.path&&null!==e?this.cs=e.isTreePathToChildren?1:2:this.cs=0===this.path?1:this.path,this.network.vertexes.count>0&&(this.VI(),this.zI(),this.XI(),this.YI(),this.KN(),this.KI(),this.arrangeTrees(),this.updateParts()),this.network=null,this.Oi=new u,this.isValidLayout=!0}VI(){this.network.deleteSelfEdges();const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;e.initialized=!1,e.level=0,e.parent=null,e.children=[]}if(this.Oi.count>0){const t=new u,e=this.Oi.iterator;for(;e.next();){const i=e.value;if(i instanceof Se){const e=this.network.findVertex(i);null!==e&&t.add(e)}else i instanceof Ri&&t.add(i)}this.Oi=t}0===this.Oi.count&&this.findRoots();const e=this.Oi.copy().iterator;for(;e.next();){const t=e.value;t.initialized||(t.initialized=!0,this.ZN(t))}let i=this.network.vertexes,n=null;for(;n=this.GI(i),n.count>0;){const t=this.TD(n);null!==t&&this.Oi.add(t),t.initialized=!0,this.ZN(t),i=n}}GI(t){const e=new u,i=t.iterator;for(;i.next();){const t=i.value;t.initialized||e.add(t)}return e}findRoots(){const t=this.network.vertexes,i=t.iterator;for(;i.next();){const t=i.value;switch(this.cs){case 1:0===t.sourceEdges.count&&this.Oi.add(t);break;case 2:0===t.destinationEdges.count&&this.Oi.add(t);break;default:e.o("Unhandled path value "+this.cs.toString())}}if(0===this.Oi.count){const e=this.TD(t);null!==e&&this.Oi.add(e)}}TD(t){let i=999999,n=null;const s=t.iterator;for(;s.next();){const t=s.value;switch(this.cs){case 1:t.sourceEdges.count<i&&(i=t.sourceEdges.count,n=t);break;case 2:t.destinationEdges.count<i&&(i=t.destinationEdges.count,n=t);break;default:e.o("Unhandled path value "+this.cs.toString())}}return n}ZN(t){if(null===t)return;switch(this.cs){case 1:if(t.destinationEdges.count>0){const e=new l,i=t.destinationVertexes;for(;i.next();){const n=i.value;this.DD(t,n)&&e.add(n)}e.count>0&&(t.children=e.toArray())}break;case 2:if(t.sourceEdges.count>0){const e=new l,i=t.sourceVertexes;for(;i.next();){const n=i.value;this.DD(t,n)&&e.add(n)}e.count>0&&(t.children=e.toArray())}break;default:e.o("Unhandled path value"+this.cs.toString())}const i=t.children,n=i.length;for(let e=0;e<n;e++){const n=i[e];n.initialized=!0,n.level=t.level+1,n.parent=t,this.Oi.delete(n)}for(let e=0;e<n;e++){const t=i[e];this.ZN(t)}}DD(t,e){return!e.initialized||!(this.HI(e,t)||e.level>t.level)&&(this.jI(e.parent,e),!0)}HI(t,e){if(null===e)return!1;let i=e.parent;for(;null!==i&&i!==t;)i=i.parent;return i===t}jI(t,e){if(null===t||null===e)return;const i=t.children;let n=0;for(let s=0;s<i.length;s++)i[s]===e&&n++;if(n>0){const s=new Array(i.length-n);let r=0;for(let t=0;t<i.length;t++)i[t]!==e&&(s[r++]=i[t]);t.children=s}}zI(){const t=this.Oi.iterator;for(;t.next();){const e=t.value;e instanceof Ri&&this.FD(e)}}FD(t){if(null===t)return;this.initializeTreeVertexValues(t),25===t.alignment&&this.sortTreeVertexChildren(t);let e=0,i=t.childrenCount,n=0;const s=t.children,r=s.length;for(let o=0;o<r;o++){const t=s[o];this.FD(t),e+=t.descendantCount+1,i=Math.max(i,t.maxChildrenCount),n=Math.max(n,t.maxGenerationCount)}t.descendantCount=e,t.maxChildrenCount=i,t.maxGenerationCount=i>0?n+1:0}qI(t){switch(this.nu){default:case 40:return null!==t.parent?t.parent:this.V;case 43:return null===t.parent?this.V:null===t.parent.parent?this.z:t.parent;case 42:return null!==t.parent?null!==t.parent.parent?t.parent.parent:this.z:this.V;case 41:{let e=!0;if(0===t.childrenCount)e=!1;else{const i=t.children,n=i.length;for(let t=0;t<n;t++)if(i[t].childrenCount>0){e=!1;break}}return e&&null!==t.parent?this.z:null!==t.parent?t.parent:this.V}}}initializeTreeVertexValues(t){const e=this.qI(t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&25===t.parent.alignment){let e=t.angle;const i=t.parent.children;let n=0;for(;n<i.length&&t!==i[n];)n++;n%2===0?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0}XI(){const t=this.Oi.iterator;for(;t.next();){const e=t.value;e instanceof Ri&&this.RD(e)}}RD(t){if(null===t)return;this.assignTreeVertexValues(t);const e=t.children,i=e.length;for(let n=0;n<i;n++){const t=e[n];this.RD(t)}}assignTreeVertexValues(t){}YI(){const t=this.Oi.iterator;for(;t.next();){const e=t.value;e instanceof Ri&&this.vD(e)}}vD(t){if(null===t)return;25!==t.alignment&&this.sortTreeVertexChildren(t);const e=t.children,i=e.length;for(let n=0;n<i;n++){const t=e[n];this.vD(t)}}sortTreeVertexChildren(t){switch(t.sorting){default:case 10:break;case 11:t.children.reverse();break;case 12:t.children.sort(t.comparer);break;case 13:t.children.sort(t.comparer),t.children.reverse();break}}KN(){if(!this.comments)return;const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value;this.addComments(e)}}addComments(t){const e=t.angle,i=t.parent;let n=0,s=21,r=!1;null!==i&&(n=i.angle,s=i.alignment,r=this.isBusAlignment(s));const o=90===e||270===e,a=90===n||270===n,l=0===t.childrenCount;let h=0,u=0,c=0;const d=t.commentSpacing;if(null!==t.node){const e=t.node.findNodesConnected();for(;e.next();){const i=e.value;if("Comment"!==i.category||!i.canLayout())continue;null===t.comments&&(t.comments=[]),t.comments.push(i),i.ensureBounds();const n=i.measuredBounds;o&&!l||!r&&!a&&l||r&&a&&l?(h=Math.max(h,n.width),u+=n.height+Math.abs(c)):(h+=n.width+Math.abs(c),u=Math.max(u,n.height)),c=d}}if(null!==t.comments){o&&!l||!r&&!a&&l||r&&a&&l?(h+=Math.abs(t.commentMargin),u=Math.max(0,u-t.height)):(u+=Math.abs(t.commentMargin),h=Math.max(0,h-t.width));const e=v.X(0,0,t.bounds.width+h,t.bounds.height+u);t.bounds=e,v.e(e)}}isBusAlignment(t){return 24===t||25===t||26===t||27===t}Jy(t){return 24===t||25===t}QN(t){const e=t.parent;if(null!==e){const i=e.alignment;if(this.isBusAlignment(i)){if(this.Jy(i)){const i=e.children;let n=0;for(;n<i.length&&t!==i[n];)n++;return n%2===0}return 26===i}}return!1}layoutComments(t){if(null!==t.comments){const e=t.node.measuredBounds,i=t.parent,n=t.angle;let s=0,r=21,o=!1;null!==i&&(s=i.angle,r=i.alignment,o=this.isBusAlignment(r));const a=90===n||270===n,l=90===s||270===s,h=0===t.childrenCount,u=this.QN(t);let c=0;const d=t.comments,f=d.length,m=y.l();for(let p=0;p<f;p++){const e=d[p],i=e.measuredBounds;if(a&&!h||!o&&!l&&h||o&&l&&h){if(s>135&&!o||l&&u)if(t.commentMargin>=0){m.i(t.bounds.x-t.commentMargin-i.width,t.bounds.y+c),e.move(m);const n=e.findLinksInto();for(;n.next();){const t=n.value;t.fromSpot=x.MiddleLeft,t.toSpot=x.MiddleRight}}else{m.i(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+c),e.move(m);const i=e.findLinksInto();for(;i.next();){const t=i.value;t.fromSpot=x.MiddleRight,t.toSpot=x.MiddleLeft}}else if(t.commentMargin>=0){m.i(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+c),e.move(m);const i=e.findLinksInto();for(;i.next();){const t=i.value;t.fromSpot=x.MiddleRight,t.toSpot=x.MiddleLeft}}else{m.i(t.bounds.x+t.commentMargin-i.width,t.bounds.y+c),e.move(m);const n=e.findLinksInto();for(;n.next();){const t=n.value;t.fromSpot=x.MiddleLeft,t.toSpot=x.MiddleRight}}t.commentSpacing>=0?c+=i.height+t.commentSpacing:c+=t.commentSpacing-i.height}else{if(s>135&&!o||!l&&u)if(t.commentMargin>=0){m.i(t.bounds.x+c,t.bounds.y-t.commentMargin-i.height),e.move(m);const n=e.findLinksInto();for(;n.next();){const t=n.value;t.fromSpot=x.MiddleTop,t.toSpot=x.MiddleBottom}}else{m.i(t.bounds.x+c,t.bounds.y+2*t.focus.y-t.commentMargin),e.move(m);const i=e.findLinksInto();for(;i.next();){const t=i.value;t.fromSpot=x.MiddleBottom,t.toSpot=x.MiddleTop}}else if(t.commentMargin>=0){m.i(t.bounds.x+c,t.bounds.y+2*t.focus.y+t.commentMargin),e.move(m);const i=e.findLinksInto();for(;i.next();){const t=i.value;t.fromSpot=x.MiddleBottom,t.toSpot=x.MiddleTop}}else{m.i(t.bounds.x+c,t.bounds.y+t.commentMargin-i.height),e.move(m);const n=e.findLinksInto();for(;n.next();){const t=n.value;t.fromSpot=x.MiddleTop,t.toSpot=x.MiddleBottom}}t.commentSpacing>=0?c+=i.width+t.commentSpacing:c+=t.commentSpacing-i.width}}y.e(m);const g=c-t.commentSpacing-(a?e.height:e.width);if(1===this.cs){const e=t.destinationEdges;for(;e.next();){const t=e.value.link;null!==t&&!t.isAvoiding&&(t.fromEndSegmentLength=g>0?g:NaN)}}else{const e=t.sourceEdges;for(;e.next();){const t=e.value.link;null!==t&&!t.isAvoiding&&(t.toEndSegmentLength=g>0?g:NaN)}}}}KI(){if(62===this.layerStyle){const t=[];let e=this.network.vertexes.iterator;for(;e.next();){const i=e.value;let n=i.parent;null===n&&(n=i);const s=0===n.angle||180===n.angle;let r=t[i.level];void 0===r&&(r=0),t[i.level]=Math.max(r,s?i.width:i.height)}for(let i=0;i<t.length;i++)void 0===t[i]&&(t[i]=0);for(this.$N=t,e=this.network.vertexes.iterator;e.next();){const i=e.value;let n=i.parent;null===n&&(n=i),0===n.angle||180===n.angle?(180===n.angle&&(i.focusX+=t[i.level]-i.width),i.width=t[i.level]):(270===n.angle&&(i.focusY+=t[i.level]-i.height),i.height=t[i.level])}}else if(61===this.layerStyle){const t=this.network.vertexes.iterator;for(;t.next();){const e=t.value,i=0===e.angle||180===e.angle;let n=-1;for(let t=0;t<e.children.length;t++){const s=e.children[t];n=Math.max(n,i?s.width:s.height)}if(n>=0)for(let t=0;t<e.children.length;t++){const s=e.children[t];i?(180===e.angle&&(s.focusX+=n-s.width),s.width=n):(270===e.angle&&(s.focusY+=n-s.height),s.height=n)}}}const t=this.Oi.iterator;for(;t.next();){const e=t.value;e instanceof Ri&&this.layoutTree(e)}}layoutTree(t){if(null===t)return;const e=t.children,i=e.length;for(let n=0;n<i;n++){const t=e[n];this.layoutTree(t)}switch(t.compaction){case 30:this.OD(t);break;default:case 31:25===t.alignment?this.OD(t):this.WI(t);break}}OD(t){if(0===t.childrenCount){let e=!1,i=0,n=21;null!==t.parent&&(i=t.parent.angle,n=t.parent.alignment,e=this.isBusAlignment(n));const s=this.QN(t);return t.B.i(0,0),t.yt.i(t.width,t.height),void(null===t.parent||null===t.comments||(180!==i&&270!==i||e)&&!s?t.ft.i(0,0):180===i&&!e||(90===i||270===i)&&s?t.ft.i(t.width-2*t.focus.x,0):t.ft.i(0,t.height-2*t.focus.y))}const e=this.orthoAngle(t),i=90===e||270===e;let n=0;const s=t.children,r=s.length;for(let C=0;C<r;C++){const t=s[C];n=Math.max(n,i?t.yt.width:t.yt.height)}const o=t.alignment,a=22===o,l=23===o,h=this.isBusAlignment(o),u=Math.max(0,t.breadthLimit),c=this.computeLayerSpacing(t),d=t.nodeSpacing,f=this.computeNodeIndent(t),m=a||l?0:f/2,g=t.rowSpacing;let p=0;(a||l)&&(p=Math.max(0,t.rowIndent));const y=t.width,_=t.height;let v=0,b=0,x=0,M=0,w=0,k=0,L=0,S=0,T=0,D=0;if(h&&!this.Jy(o)&&e>135&&s.reverse(),this.Jy(o))if(r>1)for(let C=0;C<r;C++){const t=s[C],e=t.yt;C%2===0&&C!==r-1?T=Math.max(T,(i?e.width:e.height)+this.computeBusNodeSpacing(t)-d):C%2!==0&&(D=Math.max(D,(i?e.width:e.height)+this.computeBusNodeSpacing(t)-d))}else 1===r&&(T=i?s[0].yt.width:s[0].yt.height);if(h)switch(o){case 24:case 25:let o;o=e<135?this.ID(t,s,T,D,v,b):this.ED(t,s,T,D,v,b),T=o.x,v=o.width,b=o.height;break;case 26:for(let t=0;t<r;t++){const e=s[t],r=e.yt,o=0===L?0:g;i?(e.B.i(n-r.width,w+o),v=Math.max(v,r.width),b=Math.max(b,w+o+r.height),w+=o+r.height):(e.B.i(M+o,n-r.height),v=Math.max(v,M+o+r.width),b=Math.max(b,r.height),M+=o+r.width),L++}break;case 27:for(let e=0;e<r;e++){const n=s[e],r=n.yt,o=0===L?0:g;i?(n.B.i(d/2+t.focus.x,w+o),v=Math.max(v,r.width),b=Math.max(b,w+o+r.height),w+=o+r.height):(n.B.i(M+o,d/2+t.focus.y),v=Math.max(v,M+o+r.width),b=Math.max(b,r.height),M+=o+r.width),L++}break}else for(let C=0;C<r;C++){const r=s[C],a=r.yt;if(i){u>0&&L>0&&M+d+a.width>u&&(M<n&&this.rc(t,o,n-M,0,S,C-1),k++,L=0,S=C,x=b,M=0,w=e>135?-b-g:b+g);const i=0===L?m:d;this.fk(r,0,w),r.B.i(M+i,w),v=Math.max(v,M+i+a.width),b=Math.max(b,x+(0===k?0:g)+a.height),M+=i+a.width}else{u>0&&L>0&&w+d+a.height>u&&(w<n&&this.rc(t,o,0,n-w,S,C-1),k++,L=0,S=C,x=v,w=0,M=e>135?-v-g:v+g);const i=0===L?m:d;this.fk(r,M,0),r.B.i(M,w+i),b=Math.max(b,w+i+a.height),v=Math.max(v,x+(0===k?0:g)+a.width),w+=i+a.height}L++}k>0&&(i?(b+=Math.max(0,c),M<v&&this.rc(t,o,v-M,0,S,r-1),p>0&&(l||this.ou(t,p,0,0,r-1),v+=p)):(v+=Math.max(0,c),w<b&&this.rc(t,o,0,b-w,S,r-1),p>0&&(l||this.ou(t,0,p,0,r-1),b+=p)));let P=0,Y=0;switch(o){case 20:i?P+=v/2-t.focus.x-f/2:Y+=b/2-t.focus.y-f/2;break;default:case 21:if(k>0)i?P+=v/2-t.focus.x-f/2:Y+=b/2-t.focus.y-f/2;else{const e=r;if(i){const i=s[0].B.x+s[0].ft.x,n=s[e-1].B.x+s[e-1].ft.x+2*s[e-1].focus.x;P+=i+(n-i)/2-t.focus.x-f/2}else{const i=s[0].B.y+s[0].ft.y,n=s[e-1].B.y+s[e-1].ft.y+2*s[e-1].focus.y;Y+=i+(n-i)/2-t.focus.y-f/2}}break;case 22:i?(P-=f,v+=f):(Y-=f,b+=f);break;case 23:i?(P+=v-t.width+f,v+=f):(Y+=b-t.height+f,b+=f);break;case 24:case 25:i?P+=r>1?T+d/2-t.focus.x:s[0].focus.x-t.focus.x+s[0].ft.x:Y+=r>1?T+d/2-t.focus.y:s[0].focus.y-t.focus.y+s[0].ft.y;break;case 26:i?P+=v+d/2-t.focus.x:Y+=b+d/2-t.focus.y;break;case 27:break;case 28:const e=this.customAlignment(t,P,Y,v,b);P=e[0],Y=e[1],v=e[2],b=e[3];break}for(let C=0;C<r;C++){const t=s[C];i?t.B.i(t.B.x+t.ft.x-P,t.B.y+(e>135?(h?-b:-t.yt.height)+t.ft.y-c:_+c+t.ft.y)):t.B.i(t.B.x+(e>135?(h?-v:-t.yt.width)+t.ft.x-c:y+c+t.ft.x),t.B.y+t.ft.y-Y)}i?(v=this._N(t,v,P),P<0&&(P=0),e>135&&(Y+=b+c),b=Math.max(Math.max(b,_),b+_+c)):(e>135&&(P+=v+c),v=Math.max(Math.max(v,y),v+y+c),b=this.tC(t,b,Y),Y<0&&(Y=0)),t.ft.i(P,Y),t.yt.i(v,b)}customAlignment(t,e,i,n,s){return[e,i,n,s]}ID(t,e,i,n,s,r){const o=e.length;if(0===o)return new v(i,0,s,r);if(1===o){const t=e[0];return s=t.yt.width,r=t.yt.height,new v(i,0,s,r)}const a=t.nodeSpacing,l=t.rowSpacing,h=90===this.orthoAngle(t);let u=0,c=0,d=0;for(let g=0;g<o;g++){if(g%2!==0||o>1&&g===o-1)continue;const t=e[g],n=t.yt,f=0===u?0:l;if(h){const e=this.computeBusNodeSpacing(t)-a;t.B.i(i-(n.width+e),d+f),s=Math.max(s,n.width+e),r=Math.max(r,d+f+n.height),d+=f+n.height}else{const e=this.computeBusNodeSpacing(t)-a;t.B.i(c+f,i-(n.height+e)),r=Math.max(r,n.height+e),s=Math.max(s,c+f+n.width),c+=f+n.width}u++}u=0;const f=c,m=d;h?(c=i+a,d=0):(c=0,d=i+a);for(let g=0;g<o;g++){if(g%2===0)continue;const t=e[g],i=t.yt,n=0===u?0:l;if(h){const e=this.computeBusNodeSpacing(t)-a;t.B.i(c+e,d+n),s=Math.max(s,c+i.width+e),r=Math.max(r,d+n+i.height),d+=n+i.height}else{const e=this.computeBusNodeSpacing(t)-a;t.B.i(c+n,d+e),s=Math.max(s,c+n+i.width),r=Math.max(r,d+i.height+e),c+=n+i.width}u++}if(o>1&&o%2===1){const n=e[o-1],l=n.yt,u=this.computeBusLastRowSpacing(n,h?Math.max(Math.abs(m),Math.abs(d)):Math.max(Math.abs(f),Math.abs(c)));if(h){n.B.i(i+a/2-n.focus.x-n.ft.x,r+u);const e=i+a/2-n.focus.x-n.ft.x;s=Math.max(s,e+l.width),e<0&&(s-=e),r=Math.max(r,Math.max(m,d)+u+l.height),n.B.x<0&&(i=this.uk(t,n.B.x,!1,i,a))}else{n.B.i(s+u,i+a/2-n.focus.y-n.ft.y),s=Math.max(s,Math.max(f,c)+u+l.width);const e=i+a/2-n.focus.y-n.ft.y;r=Math.max(r,e+l.height),e<0&&(r-=e),n.B.y<0&&(i=this.uk(t,n.B.y,!0,i,a))}}return new v(i,0,s,r)}ED(t,e,i,n,s,r){const o=e.length;if(0===o)return new v(i,0,s,r);if(1===o){const t=e[0];return s=t.yt.width,r=t.yt.height,new v(i,0,s,r)}const a=t.nodeSpacing,l=t.rowSpacing,h=270===this.orthoAngle(t);let u=0,c=0,d=0;for(let g=0;g<o;g++){if(g%2!==0||o>1&&g===o-1)continue;const t=e[g],n=t.yt,f=0===u?0:l;if(h){const e=this.computeBusNodeSpacing(t)-a;d-=f+n.height,t.B.i(i-(n.width+e),d),s=Math.max(s,n.width+e),r=Math.max(r,Math.abs(d))}else{const e=this.computeBusNodeSpacing(t)-a;c-=f+n.width,t.B.i(c,i-(n.height+e)),r=Math.max(r,n.height+e),s=Math.max(s,Math.abs(c))}u++}u=0;const f=c,m=d;h?(c=i+a,d=0):(c=0,d=i+a);for(let g=0;g<o;g++){if(g%2===0)continue;const t=e[g],i=t.yt,n=0===u?0:l;if(h){const e=this.computeBusNodeSpacing(t)-a;d-=n+i.height,t.B.i(c+e,d),s=Math.max(s,c+i.width+e),r=Math.max(r,Math.abs(d))}else{const e=this.computeBusNodeSpacing(t)-a;c-=n+i.width,t.B.i(c,d+e),r=Math.max(r,d+i.height+e),s=Math.max(s,Math.abs(c))}u++}if(o>1&&o%2===1){const n=e[o-1],l=n.yt,u=this.computeBusLastRowSpacing(n,h?Math.max(Math.abs(m),Math.abs(d)):Math.max(Math.abs(f),Math.abs(c)));if(h){n.B.i(i+a/2-n.focus.x-n.ft.x,-r-l.height-u);const e=i+a/2-n.focus.x-n.ft.x;s=Math.max(s,e+l.width),e<0&&(s-=e),r=Math.max(r,Math.abs(Math.min(m,d))+u+l.height),n.B.x<0&&(i=this.uk(t,n.B.x,!1,i,a))}else{n.B.i(-s-l.width-u,i+a/2-n.focus.y-n.ft.y),s=Math.max(s,Math.abs(Math.min(f,c))+u+l.width);const e=i+a/2-n.focus.y-n.ft.y;r=Math.max(r,e+l.height),e<0&&(r-=e),n.B.y<0&&(i=this.uk(t,n.B.y,!0,i,a))}}for(let g=0;g<o;g++){const t=e[g];h?t.B.i(t.B.x,t.B.y+r):t.B.i(t.B.x+s,t.B.y)}return new v(i,0,s,r)}computeBusNodeSpacing(t){return null===t.parent?0:t.parent.nodeSpacing}computeBusLastRowSpacing(t,e){return null===t.parent?0:t.parent.rowSpacing}uk(t,e,i,n,s){const r=t.children,o=r.length;for(let l=0;l<o;l++)i?r[l].B.i(r[l].B.x,r[l].B.y-e):r[l].B.i(r[l].B.x-e,r[l].B.y);const a=r[o-1];return Math.max(n,i?a.ft.y+a.focus.y-s/2:a.ft.x+a.focus.x-s/2)}_N(t,e,i){switch(t.alignment){case 21:case 20:let n=e;return i+t.width>n&&(n=i+t.width),i<0&&(n-=i),n;case 22:return t.width>e?t.width:e;case 23:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case 24:case 25:const s=Math.min(0,i),r=Math.max(e,i+t.width);return Math.max(t.width,r-s);case 26:return t.width-t.focus.x+t.nodeSpacing/2+e;case 27:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}tC(t,e,i){switch(t.alignment){case 21:case 20:let n=e;return i+t.height>n&&(n=i+t.height),i<0&&(n-=i),n;case 22:return t.height>e?t.height:e;case 23:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case 24:case 25:const s=Math.min(0,i),r=Math.max(e,i+t.height);return Math.max(t.height,r-s);case 26:return t.height-t.focus.y+t.nodeSpacing/2+e;case 27:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}iC(t,i,n){switch(t){case 20:i/=2,n/=2;break;case 21:i/=2,n/=2;break;case 22:i=0,n=0;break;case 23:break;default:e.o("Unhandled alignment value "+t.toString())}return new y(i,n)}rc(t,e,i,n,s,r){const o=this.iC(e,i,n);this.ou(t,o.x,o.y,s,r)}ou(t,e,i,n,s){if(0===e&&0===i)return;const r=t.children;for(let o=n;o<=s;o++){const t=r[o].B;t.x+=e,t.y+=i}}fk(t,i,n){const s=t.parent;switch(this.cs){case 1:{const e=t.sourceEdges;for(;e.next();){const t=e.value;t.fromVertex===s&&t.relativePoint.i(i,n)}break}case 2:{const e=t.destinationEdges;for(;e.next();){const t=e.value;t.toVertex===s&&t.relativePoint.i(i,n)}break}default:e.o("Unhandled path value "+this.cs.toString())}}WI(t){if(0===t.childrenCount){const e=t.parent;let i=!1,n=0,s=21;null!==e&&(n=e.angle,s=e.alignment,i=this.isBusAlignment(s));const r=this.QN(t);return t.B.i(0,0),t.yt.i(t.width,t.height),null===t.parent||null===t.comments||(180!==n&&270!==n||i)&&!r?t.ft.i(0,0):180===n&&!i||(90===n||270===n)&&r?t.ft.i(t.width-2*t.focus.x,0):t.ft.i(0,t.height-2*t.focus.y),t.Fg=null,void(t.Rg=null)}const i=this.orthoAngle(t),n=90===i||270===i;let s=0;const r=t.children,o=r.length;for(let e=0;e<o;e++){const t=r[e];s=Math.max(s,n?t.yt.width:t.yt.height)}const a=t.alignment,l=22===a,h=23===a,u=this.isBusAlignment(a),c=Math.max(0,t.breadthLimit),d=this.computeLayerSpacing(t),f=t.nodeSpacing,m=this.computeNodeIndent(t),g=t.rowSpacing;let p=0;(l||h)&&(p=Math.max(0,t.rowIndent));const y=t.width,_=t.height;let v=0,b=0,x=0,M=null,w=null,k=0,L=0,S=0,T=0,D=0,P=0,Y=0,C=0,N=0;if(u&&!this.Jy(a)&&i>135&&r.reverse(),this.Jy(a))if(o>1)for(let e=0;e<o;e++)e%2===0&&e!==o-1?C=Math.max(C,n?r[e].yt.width:r[e].yt.height):e%2!==0&&(N=Math.max(N,n?r[e].yt.width:r[e].yt.height));else 1===o&&(C=n?r[0].yt.width:r[0].yt.height);if(u){switch(a){case 24:let e;e=i<135?this.ID(t,r,C,N,v,b):this.ED(t,r,C,N,v,b),C=e.x,v=e.width,b=e.height;break;case 26:for(let t=0;t<o;t++){const e=r[t],i=e.yt,o=0===P?0:g;n?(e.B.i(s-i.width,T+o),v=Math.max(v,i.width),b=Math.max(b,T+o+i.height),T+=o+i.height):(e.B.i(S+o,s-i.height),v=Math.max(v,S+o+i.width),b=Math.max(b,i.height),S+=o+i.width),P++}break;case 27:for(let i=0;i<o;i++){const e=r[i],s=e.yt,o=0===P?0:g;n?(e.B.i(f/2+t.focus.x,T+o),v=Math.max(v,s.width),b=Math.max(b,T+o+s.height),T+=o+s.height):(e.B.i(S+o,f/2+t.focus.y),v=Math.max(v,S+o+s.width),b=Math.max(b,s.height),S+=o+s.width),P++}break}M=this.ue(2),w=this.ue(2),n?(M[0].i(0,0),M[1].i(0,b),w[0].i(v,0),w[1].i(v,b)):(M[0].i(0,0),M[1].i(v,0),w[0].i(0,b),w[1].i(v,b))}else for(let j=0;j<o;j++){const o=r[j],l=o.yt;if(n){c>0&&P>0&&S+f+l.width>c&&(S<s&&this.rc(t,a,s-S,0,Y,j-1),D++,P=0,Y=j,x=b,S=0,T=i>135?-b-g:b+g),this.fk(o,0,T);let n=0;if(0===P)M=o.Fg,w=o.Rg,k=l.width,L=l.height,(null===M||null===w||i!==this.orthoAngle(o))&&(M=this.ue(2),w=this.ue(2),M[0].i(0,0),M[1].i(0,L),w[0].i(k,0),w[1].i(k,L));else{const i=e.rt(),s=this.BD(t,o,M,w,k,L,i);n=s.x,M=i[0],w=i[1],k=s.width,L=s.height,e.tt(i),S<l.width&&n<0&&(this.ou(t,-n,0,Y,j-1),this.dk(M,-n,0),this.dk(w,-n,0),n=0)}o.B.i(n,T),v=Math.max(v,k),b=Math.max(b,x+(0===D?0:g)+l.height),S=k}else{c>0&&P>0&&T+f+l.height>c&&(T<s&&this.rc(t,a,0,s-T,Y,j-1),D++,P=0,Y=j,x=v,T=0,S=i>135?-v-g:v+g),this.fk(o,S,0);let n=0;if(0===P)M=o.Fg,w=o.Rg,k=l.width,L=l.height,(null===M||null===w||i!==this.orthoAngle(o))&&(M=this.ue(2),w=this.ue(2),M[0].i(0,0),M[1].i(k,0),w[0].i(0,L),w[1].i(k,L));else{const i=e.rt(),s=this.BD(t,o,M,w,k,L,i);n=s.x,M=i[0],w=i[1],k=s.width,L=s.height,e.tt(i),T<l.height&&n<0&&(this.ou(t,0,-n,Y,j-1),this.dk(M,0,-n),this.dk(w,0,-n),n=0)}o.B.i(S,n),b=Math.max(b,L),v=Math.max(v,x+(0===D?0:g)+l.width),T=L}P++}D>0&&(n?(b+=Math.max(0,d),S<v&&this.rc(t,a,v-S,0,Y,o-1),p>0&&(h||this.ou(t,p,0,0,o-1),v+=p)):(v+=Math.max(0,d),T<b&&this.rc(t,a,0,b-T,Y,o-1),p>0&&(h||this.ou(t,0,p,0,o-1),b+=p)));let A=0,O=0;switch(a){case 20:n?A+=v/2-t.focus.x-m/2:O+=b/2-t.focus.y-m/2;break;default:case 21:if(D>0)n?A+=v/2-t.focus.x-m/2:O+=b/2-t.focus.y-m/2;else{const e=o;if(n){const i=r[0].B.x+r[0].ft.x,n=r[e-1].B.x+r[e-1].ft.x+2*r[e-1].focus.x;A+=i+(n-i)/2-t.focus.x-m/2}else{const i=r[0].B.y+r[0].ft.y,n=r[e-1].B.y+r[e-1].ft.y+2*r[e-1].focus.y;O+=i+(n-i)/2-t.focus.y-m/2}}break;case 22:n?(A-=m,v+=m):(O-=m,b+=m);break;case 23:n?(A+=v-t.width+m,v+=m):(O+=b-t.height+m,b+=m);break;case 24:n?A+=o>1?C+f/2-t.focus.x:r[0].focus.x-t.focus.x+r[0].ft.x:O+=o>1?C+f/2-t.focus.y:r[0].focus.y-t.focus.y+r[0].ft.y;break;case 26:n?A+=v+f/2-t.focus.x:O+=b+f/2-t.focus.y;break;case 27:break;case 28:const e=this.customAlignment(t,A,O,v,b);A=e[0],O=e[1],v=e[2],b=e[3];break}for(let e=0;e<o;e++){const t=r[e];n?t.B.i(t.B.x+t.ft.x-A,t.B.y+(i>135?(u?-b:-t.yt.height)+t.ft.y-d:_+d+t.ft.y)):t.B.i(t.B.x+(i>135?(u?-v:-t.yt.width)+t.ft.x-d:y+d+t.ft.x),t.B.y+t.ft.y-O)}let F,R,E=0,I=0;if(u)n?(v=this._N(t,v,A),A<0&&(A=0),i>135&&(O+=b+d),b+=_+d,27===a&&(E+=f/2+t.focus.x),I+=_+d):(i>135&&(A+=v+d),v+=y+d,b=this.tC(t,b,O),O<0&&(O=0),27===a&&(I+=f/2+t.focus.y),E+=y+d);else if(n){if(null===t.comments){if(y>v){const t=this.iC(a,y-v,0);E=t.x,I=t.y,v=y,A=0}}else v=this._N(t,v,A);A<0&&(E-=A,A=0),i>135&&(O+=b+d),b=Math.max(Math.max(b,_),b+_+d),I+=_+d}else{if(i>135&&(A+=v+d),v=Math.max(Math.max(v,y),v+y+d),null===t.comments){if(_>b){const t=this.iC(a,0,_-b);E=t.x,I=t.y,b=_,O=0}}else b=this.tC(t,b,O);O<0&&(I-=O,O=0),E+=y+d}if(D>0)F=this.ue(4),R=this.ue(4),n?(F[2].i(0,_+d),F[3].i(F[2].x,b),R[2].i(v,F[2].y),R[3].i(R[2].x,F[3].y)):(F[2].i(y+d,0),F[3].i(v,F[2].y),R[2].i(F[2].x,b),R[3].i(F[3].x,R[2].y));else{F=this.ue(M.length+2),R=this.ue(w.length+2);for(let t=0;t<M.length;t++){const e=M[t];F[t+2].i(e.x+E,e.y+I)}for(let t=0;t<w.length;t++){const e=w[t];R[t+2].i(e.x+E,e.y+I)}}n?(F[0].i(A,0),F[1].i(F[0].x,_),F[2].y<F[1].y&&(F[2].x>F[0].x?F[2].a(F[1]):F[1].a(F[2])),F[3].y<F[2].y&&(F[3].x>F[0].x?F[3].a(F[2]):F[2].a(F[3])),R[0].i(A+y,0),R[1].i(R[0].x,_),R[2].y<R[1].y&&(R[2].x<R[0].x?R[2].a(R[1]):R[1].a(R[2])),R[3].y<R[2].y&&(R[3].x<R[0].x?R[3].a(R[2]):R[2].a(R[3])),F[2].y-=d/2,R[2].y-=d/2):(F[0].i(0,O),F[1].i(y,F[0].y),F[2].x<F[1].x&&(F[2].y>F[0].y?F[2].a(F[1]):F[1].a(F[2])),F[3].x<F[2].x&&(F[3].y>F[0].y?F[3].a(F[2]):F[2].a(F[3])),R[0].i(0,O+_),R[1].i(y,R[0].y),R[2].x<R[1].x&&(R[2].y<R[0].y?R[2].a(R[1]):R[1].a(R[2])),R[3].x<R[2].x&&(R[3].y<R[0].y?R[3].a(R[2]):R[2].a(R[3])),F[2].x-=d/2,R[2].x-=d/2),this.on(M),this.on(w),t.Fg=F,t.Rg=R,t.ft.i(A,O),t.yt.i(v,b)}dk(t,e,i){for(let n=0;n<t.length;n++){const s=t[n];s.x+=e,s.y+=i}}BD(t,e,i,n,s,r,o){const a=this.orthoAngle(t),l=90===a||270===a,h=t.nodeSpacing,u=i,c=n,d=s,f=r;let m=e.Fg,g=e.Rg;const p=e.yt,y=l?Math.max(f,p.height):Math.max(d,p.width);if((null===m||a!==this.orthoAngle(e))&&(m=this.ue(2),g=this.ue(2),l?(m[0].i(0,0),m[1].i(0,p.height),g[0].i(p.width,0),g[1].i(g[0].x,m[1].y)):(m[0].i(0,0),m[1].i(p.width,0),g[0].i(0,p.height),g[1].i(m[1].x,g[0].y))),l){const t=d;let e=t-this.JI(c,m,t);return e+=h,i=this.$I(u,m,e),n=this.ZI(c,g,e),s=Math.max(0,e)+p.width,r=y,this.on(u),this.on(m),this.on(c),this.on(g),o[0]=i,o[1]=n,new v(e,0,s,r)}{const t=f;let e=t-this.QI(c,m,t);return e+=h,i=this._I(u,m,e),n=this.tE(c,g,e),s=y,r=Math.max(0,e)+p.height,this.on(u),this.on(m),this.on(c),this.on(g),o[0]=i,o[1]=n,new v(e,0,s,r)}}_I(t,e,i){if(null===t||t.length<2||null===e||e.length<2)return null;const n=this.ue(t.length+e.length);let s=0,r=0,o=0;for(;r<e.length&&e[r].x<t[0].x;){const t=e[r++];n[o++].i(t.x,t.y+i)}for(;s<t.length;){const e=t[s++];n[o++].i(e.x,e.y)}const a=t[t.length-1].x;for(;r<e.length&&e[r].x<=a;)r++;for(;r<e.length&&e[r].x>a;){const t=e[r++];n[o++].i(t.x,t.y+i)}const l=this.ue(o);for(s=0;s<o;s++)l[s].a(n[s]);return this.on(n),l}$I(t,e,i){if(null===t||t.length<2||null===e||e.length<2)return null;const n=this.ue(t.length+e.length);let s=0,r=0,o=0;for(;r<e.length&&e[r].y<t[0].y;){const t=e[r++];n[o++].i(t.x+i,t.y)}for(;s<t.length;){const e=t[s++];n[o++].i(e.x,e.y)}const a=t[t.length-1].y;for(;r<e.length&&e[r].y<=a;)r++;for(;r<e.length&&e[r].y>a;){const t=e[r++];n[o++].i(t.x+i,t.y)}const l=this.ue(o);for(s=0;s<o;s++)l[s].a(n[s]);return this.on(n),l}tE(t,e,i){if(null===t||t.length<2||null===e||e.length<2)return null;const n=this.ue(t.length+e.length);let s=0,r=0,o=0;for(;s<t.length&&t[s].x<e[0].x;){const e=t[s++];n[o++].i(e.x,e.y)}for(;r<e.length;){const t=e[r++];n[o++].i(t.x,t.y+i)}const a=e[e.length-1].x;for(;s<t.length&&t[s].x<=a;)s++;for(;s<t.length&&t[s].x>a;){const e=t[s++];n[o++].i(e.x,e.y)}const l=this.ue(o);for(s=0;s<o;s++)l[s].a(n[s]);return this.on(n),l}ZI(t,e,i){if(null===t||t.length<2||null===e||e.length<2)return null;const n=this.ue(t.length+e.length);let s=0,r=0,o=0;for(;s<t.length&&t[s].y<e[0].y;){const e=t[s++];n[o++].i(e.x,e.y)}for(;r<e.length;){const t=e[r++];n[o++].i(t.x+i,t.y)}const a=e[e.length-1].y;for(;s<t.length&&t[s].y<=a;)s++;for(;s<t.length&&t[s].y>a;){const e=t[s++];n[o++].i(e.x,e.y)}const l=this.ue(o);for(s=0;s<o;s++)l[s].a(n[s]);return this.on(n),l}QI(t,e,i){let n=9999999;if(null===t||t.length<2||null===e||e.length<2)return n;let s=0,r=0;for(;s<t.length&&r<e.length;){const o=t[s],a=e[r],l=a.x;let h=a.y;h+=i;let u=o;s+1<t.length&&(u=t[s+1]);let c=a,d=c.x,f=c.y;r+1<e.length&&(c=e[r+1],d=c.x,f=c.y,f+=i);let m=n;o.x===l?m=h-o.y:o.x>l&&o.x<d?m=h+(o.x-l)/(d-l)*(f-h)-o.y:l>o.x&&l<u.x&&(m=h-(o.y+(l-o.x)/(u.x-o.x)*(u.y-o.y))),m<n&&(n=m),u.x<=o.x?s++:d<=l?r++:(u.x<=d&&s++,d<=u.x&&r++)}return n}JI(t,e,i){let n=9999999;if(null===t||t.length<2||null===e||e.length<2)return n;let s=0,r=0;for(;s<t.length&&r<e.length;){const o=t[s],a=e[r];let l=a.x;const h=a.y;l+=i;let u=o;s+1<t.length&&(u=t[s+1]);let c=a,d=c.x,f=c.y;r+1<e.length&&(c=e[r+1],d=c.x,f=c.y,d+=i);let m=n;o.y===h?m=l-o.x:o.y>h&&o.y<f?m=l+(o.y-h)/(f-h)*(d-l)-o.x:h>o.y&&h<u.y&&(m=l-(o.x+(h-o.y)/(u.y-o.y)*(u.x-o.x))),m<n&&(n=m),u.y<=o.y?s++:f<=h?r++:(u.y<=f&&s++,f<=u.y&&r++)}return n}ue(t){const e=this.ck[t];if(void 0!==e){const t=e.pop();if(void 0!==t)return t}const i=[];for(let n=0;n<t;n++)i[n]=new y;return i}on(t){if(!t)return;const e=t.length;let i=this.ck[e];void 0===i&&(i=[],this.ck[e]=i),i.push(t)}arrangeTrees(){if(52===this.Gi){const t=this.Oi.iterator;for(;t.next();){const e=t.value;if(!(e instanceof Ri))continue;const i=e.node;if(null===i)continue;const n=i.position;let s=n.x,r=n.y;isFinite(s)||(s=0),isFinite(r)||(r=0),this.eC(e,s,r)}}else{const t=[],e=this.Oi.iterator;for(;e.next();){const i=e.value;i instanceof Ri&&t.push(i)}switch(this.sorting){default:case 10:break;case 11:t.reverse();break;case 12:t.sort(this.comparer);break;case 13:t.sort(this.comparer),t.reverse();break}const i=this.arrangementOrigin;let n=i.x,s=i.y;for(let r=0;r<t.length;r++){const e=t[r];switch(this.eC(e,n+e.ft.x,s+e.ft.y),this.Gi){case 50:s+=e.yt.height+this.Ls.height;break;default:case 51:n+=e.yt.width+this.Ls.width;break}}}}eC(t,e,i){if(null===t)return;t.x=e,t.y=i;const n=t.children,s=n.length;for(let r=0;r<s;r++){const t=n[r];this.eC(t,e+t.B.x,i+t.B.y)}}commitLayout(){this.zy(),this.commitNodes(),this.JN(),this.isRouting&&this.commitLinks()}commitNodes(){const t=this.network.vertexes.iterator;for(;t.next();)t.value.commit();for(t.reset();t.next();){const e=t.value;this.layoutComments(e)}}JN(){if(62!==this.layerStyle)return;const t=this.$N,e=[];let i=null;const n=this.network.vertexes.iterator;for(;n.next();){const t=n.value;null===i?i=t.bounds.copy():i.unionRect(t.bounds);let s=e[t.level];s=void 0===s?this.computeLayerSpacing(t):Math.max(s,this.computeLayerSpacing(t)),e[t.level]=s}for(let l=0;l<e.length;l++)void 0===e[l]&&(e[l]=0);let s;90===this.angle||270===this.angle?(i.inflate(this.nodeSpacing/2,this.layerSpacing),s=new y(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.inflate(this.layerSpacing,this.nodeSpacing/2),s=new y(-this.layerSpacing/2,-this.nodeSpacing/2));const r=[],o=90===this.angle||270===this.angle?i.width:i.height;let a=0;if(180===this.angle||270===this.angle)for(let l=0;l<t.length;l++)a+=t[l]+e[l];for(let l=0;l<t.length;l++){const i=t[l]+e[l];270===this.angle?(a-=i,r.push(new v(0,a,o,i))):90===this.angle?(r.push(new v(0,a,o,i)),a+=i):180===this.angle?(a-=i,r.push(new v(a,0,i,o))):(r.push(new v(a,0,i,o)),a+=i)}this.commitLayers(r,s)}commitLayers(t,e){}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}zy(){const t=this.Oi.iterator;for(;t.next();){const e=t.value;e instanceof Ri&&this.UD(e)}}UD(t){if(null===t)return;this.setPortSpots(t);const e=t.children,i=e.length;for(let n=0;n<i;n++){const t=e[n];this.UD(t)}}setPortSpots(t){const e=t.alignment;if(this.isBusAlignment(e))this.iE(t,e);else{const e=this.orthoAngle(t);if(1===this.cs){const i=t.destinationEdges;for(;i.next();){const n=i.value.link;if(null!==n){if(t.setsPortSpot)if(t.portSpot.isDefault())switch(e){case 0:n.fromSpot=x.MiddleRight;break;case 90:n.fromSpot=x.MiddleBottom;break;case 180:n.fromSpot=x.MiddleLeft;break;default:n.fromSpot=x.MiddleTop;break}else n.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.isDefault())switch(e){case 0:n.toSpot=x.MiddleLeft;break;case 90:n.toSpot=x.MiddleTop;break;case 180:n.toSpot=x.MiddleRight;break;default:n.toSpot=x.MiddleBottom;break}else n.toSpot=t.childPortSpot}}}else{const i=t.sourceEdges;for(;i.next();){const n=i.value.link;if(null!==n){if(t.setsPortSpot)if(t.portSpot.isDefault())switch(e){case 0:n.toSpot=x.MiddleRight;break;case 90:n.toSpot=x.MiddleBottom;break;case 180:n.toSpot=x.MiddleLeft;break;default:n.toSpot=x.MiddleTop;break}else n.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.isDefault())switch(e){case 0:n.fromSpot=x.MiddleLeft;break;case 90:n.fromSpot=x.MiddleTop;break;case 180:n.fromSpot=x.MiddleRight;break;default:n.fromSpot=x.MiddleBottom;break}else n.fromSpot=t.childPortSpot}}}}}iE(t,e){const i=1===this.cs,n=this.orthoAngle(t);let s;switch(n){case 0:s=x.MiddleRight;break;case 90:s=x.MiddleBottom;break;case 180:s=x.MiddleLeft;break;default:s=x.MiddleTop;break}const r=t.children,o=r.length;switch(e){case 24:case 25:for(let e=0;e<o;e++){const a=r[e],l=(i?a.sourceEdges:a.destinationEdges).first();if(null===l)continue;const h=l.link;if(null!==h){let r=90===n||270===n?x.MiddleLeft:x.MiddleTop;if(1===o||e===o-1&&o%2===1)switch(n){case 0:r=x.MiddleLeft;break;case 90:r=x.MiddleTop;break;case 180:r=x.MiddleRight;break;default:r=x.MiddleBottom;break}else e%2===0&&(r=90===n||270===n?x.MiddleRight:x.MiddleBottom);i?(t.setsPortSpot&&(h.fromSpot=s),t.setsChildPortSpot&&(h.toSpot=r)):(t.setsPortSpot&&(h.fromSpot=r),t.setsChildPortSpot&&(h.toSpot=s))}}break;case 26:{const e=90===n||270===n?x.MiddleRight:x.MiddleBottom,r=i?t.destinationEdges:t.sourceEdges;for(;r.next();){const n=r.value.link;null!==n&&(i?(t.setsPortSpot&&(n.fromSpot=s),t.setsChildPortSpot&&(n.toSpot=e)):(t.setsPortSpot&&(n.fromSpot=e),t.setsChildPortSpot&&(n.toSpot=s)))}break}case 27:{const e=90===n||270===n?x.MiddleLeft:x.MiddleTop,r=i?t.destinationEdges:t.sourceEdges;for(;r.next();){const n=r.value.link;null!==n&&(i?(t.setsPortSpot&&(n.fromSpot=s),t.setsChildPortSpot&&(n.toSpot=e)):(t.setsPortSpot&&(n.fromSpot=e),t.setsChildPortSpot&&(n.toSpot=s)))}break}}}orthoAngle(t){const e=t.angle;return e<=45?0:e<=135?90:e<=225?180:e<=315?270:0}computeLayerSpacing(t){const e=this.orthoAngle(t),i=90===e||270===e;let n=t.layerSpacing;if(t.layerSpacingParentOverlap>0){const e=Math.min(1,t.layerSpacingParentOverlap);n-=i?t.height*e:t.width*e}return n<(i?-t.height:-t.width)&&(n=i?-t.height:-t.width),n}computeNodeIndent(t){const e=this.orthoAngle(t),i=90===e||270===e;let n=t.nodeIndent;if(t.nodeIndentPastParent>0){const e=Math.min(1,t.nodeIndentPastParent);n+=i?t.width*e:t.height*e}return n=Math.max(0,n),n}get roots(){return this.Oi}set roots(t){this.Oi!==t&&(this.Oi=t,this.invalidateLayout())}get path(){return this.Di}set path(t){this.Di!==t&&(this.Di=t,this.invalidateLayout())}get treeStyle(){return this.nu}set treeStyle(t){this.nu!==t&&(40===t||42===t||41===t||43===t)&&(this.nu=t,this.invalidateLayout())}get layerStyle(){return this.Dg}set layerStyle(t){this.Dg!==t&&(60===t||61===t||62===t)&&(this.Dg=t,this.invalidateLayout())}get comments(){return this.Oe}set comments(t){this.Oe!==t&&(e.s(t,"boolean",Oi,"comments"),this.Oe=t,this.invalidateLayout())}get arrangement(){return this.Gi}set arrangement(t){this.Gi!==t&&(50===t||51===t||52===t)&&(this.Gi=t,this.invalidateLayout())}get arrangementSpacing(){return this.Ls}set arrangementSpacing(t){this.Ls.equals(t)||(this.Ls.a(t),this.invalidateLayout())}get rootDefaults(){return this.V}set rootDefaults(t){this.V!==t&&(this.V=t,this.invalidateLayout())}get alternateDefaults(){return this.z}set alternateDefaults(t){this.z!==t&&(this.z=t,this.invalidateLayout())}get sorting(){return this.V.sorting}set sorting(t){this.V.sorting!==t&&(this.V.sorting=t,this.invalidateLayout())}get comparer(){return this.V.comparer}set comparer(t){this.V.comparer!==t&&(e.S(t,Oi,"comparer"),this.V.comparer=t,this.invalidateLayout())}get angle(){return this.V.angle}set angle(t){this.V.angle!==t&&(e.s(t,"number",Oi,"angle"),0===t||90===t||180===t||270===t?(this.V.angle=t,this.invalidateLayout()):e.o("TreeLayout.angle must be 0, 90, 180, or 270"))}get alignment(){return this.V.alignment}set alignment(t){this.V.alignment!==t&&(this.V.alignment=t,this.invalidateLayout())}get nodeIndent(){return this.V.nodeIndent}set nodeIndent(t){this.V.nodeIndent!==t&&(e.s(t,"number",Oi,"nodeIndent"),t>=0&&(this.V.nodeIndent=t,this.invalidateLayout()))}get nodeIndentPastParent(){return this.V.nodeIndentPastParent}set nodeIndentPastParent(t){this.V.nodeIndentPastParent!==t&&(e.s(t,"number",Oi,"nodeIndentPastParent"),t>=0&&t<=1&&(this.V.nodeIndentPastParent=t,this.invalidateLayout()))}get nodeSpacing(){return this.V.nodeSpacing}set nodeSpacing(t){this.V.nodeSpacing!==t&&(e.s(t,"number",Oi,"nodeSpacing"),this.V.nodeSpacing=t,this.invalidateLayout())}get layerSpacing(){return this.V.layerSpacing}set layerSpacing(t){this.V.layerSpacing!==t&&(e.s(t,"number",Oi,"layerSpacing"),this.V.layerSpacing=t,this.invalidateLayout())}get layerSpacingParentOverlap(){return this.V.layerSpacingParentOverlap}set layerSpacingParentOverlap(t){this.V.layerSpacingParentOverlap!==t&&(e.s(t,"number",Oi,"layerSpacingParentOverlap"),t>=0&&t<=1&&(this.V.layerSpacingParentOverlap=t,this.invalidateLayout()))}get compaction(){return this.V.compaction}set compaction(t){this.V.compaction!==t&&(30===t||31===t)&&(this.V.compaction=t,this.invalidateLayout())}get breadthLimit(){return this.V.breadthLimit}set breadthLimit(t){this.V.breadthLimit!==t&&(e.s(t,"number",Oi,"breadthLimit"),t>=0&&(this.V.breadthLimit=t,this.invalidateLayout()))}get rowSpacing(){return this.V.rowSpacing}set rowSpacing(t){this.V.rowSpacing!==t&&(e.s(t,"number",Oi,"rowSpacing"),this.V.rowSpacing=t,this.invalidateLayout())}get rowIndent(){return this.V.rowIndent}set rowIndent(t){this.V.rowIndent!==t&&(e.s(t,"number",Oi,"rowIndent"),t>=0&&(this.V.rowIndent=t,this.invalidateLayout()))}get commentSpacing(){return this.V.commentSpacing}set commentSpacing(t){this.V.commentSpacing!==t&&(e.s(t,"number",Oi,"commentSpacing"),this.V.commentSpacing=t,this.invalidateLayout())}get commentMargin(){return this.V.commentMargin}set commentMargin(t){this.V.commentMargin!==t&&(e.s(t,"number",Oi,"commentMargin"),this.V.commentMargin=t,this.invalidateLayout())}get setsPortSpot(){return this.V.setsPortSpot}set setsPortSpot(t){this.V.setsPortSpot!==t&&(e.s(t,"boolean",Oi,"setsPortSpot"),this.V.setsPortSpot=t,this.invalidateLayout())}get portSpot(){return this.V.portSpot}set portSpot(t){this.V.portSpot.equals(t)||(this.V.portSpot=t,this.invalidateLayout())}get setsChildPortSpot(){return this.V.setsChildPortSpot}set setsChildPortSpot(t){this.V.setsChildPortSpot!==t&&(e.s(t,"boolean",Oi,"setsChildPortSpot"),this.V.setsChildPortSpot=t,this.invalidateLayout())}get childPortSpot(){return this.V.childPortSpot}set childPortSpot(t){this.V.childPortSpot.equals(t)||(this.V.childPortSpot=t,this.invalidateLayout())}get alternateSorting(){return this.z.sorting}set alternateSorting(t){this.z.sorting!==t&&(this.z.sorting=t,this.invalidateLayout())}get alternateComparer(){return this.z.comparer}set alternateComparer(t){this.z.comparer!==t&&(e.S(t,Oi,"alternateComparer"),this.z.comparer=t,this.invalidateLayout())}get alternateAngle(){return this.z.angle}set alternateAngle(t){this.z.angle!==t&&(e.s(t,"number",Oi,"alternateAngle"),(0===t||90===t||180===t||270===t)&&(this.z.angle=t,this.invalidateLayout()))}get alternateAlignment(){return this.z.alignment}set alternateAlignment(t){this.z.alignment!==t&&(this.z.alignment=t,this.invalidateLayout())}get alternateNodeIndent(){return this.z.nodeIndent}set alternateNodeIndent(t){this.z.nodeIndent!==t&&(e.s(t,"number",Oi,"alternateNodeIndent"),t>=0&&(this.z.nodeIndent=t,this.invalidateLayout()))}get alternateNodeIndentPastParent(){return this.z.nodeIndentPastParent}set alternateNodeIndentPastParent(t){this.z.nodeIndentPastParent!==t&&(e.s(t,"number",Oi,"alternateNodeIndentPastParent"),t>=0&&t<=1&&(this.z.nodeIndentPastParent=t,this.invalidateLayout()))}get alternateNodeSpacing(){return this.z.nodeSpacing}set alternateNodeSpacing(t){this.z.nodeSpacing!==t&&(e.s(t,"number",Oi,"alternateNodeSpacing"),this.z.nodeSpacing=t,this.invalidateLayout())}get alternateLayerSpacing(){return this.z.layerSpacing}set alternateLayerSpacing(t){this.z.layerSpacing!==t&&(e.s(t,"number",Oi,"alternateLayerSpacing"),this.z.layerSpacing=t,this.invalidateLayout())}get alternateLayerSpacingParentOverlap(){return this.z.layerSpacingParentOverlap}set alternateLayerSpacingParentOverlap(t){this.z.layerSpacingParentOverlap!==t&&(e.s(t,"number",Oi,"alternateLayerSpacingParentOverlap"),t>=0&&t<=1&&(this.z.layerSpacingParentOverlap=t,this.invalidateLayout()))}get alternateCompaction(){return this.z.compaction}set alternateCompaction(t){this.z.compaction!==t&&(30===t||31===t)&&(this.z.compaction=t,this.invalidateLayout())}get alternateBreadthLimit(){return this.z.breadthLimit}set alternateBreadthLimit(t){this.z.breadthLimit!==t&&(e.s(t,"number",Oi,"alternateBreadthLimit"),t>=0&&(this.z.breadthLimit=t,this.invalidateLayout()))}get alternateRowSpacing(){return this.z.rowSpacing}set alternateRowSpacing(t){this.z.rowSpacing!==t&&(e.s(t,"number",Oi,"alternateRowSpacing"),this.z.rowSpacing=t,this.invalidateLayout())}get alternateRowIndent(){return this.z.rowIndent}set alternateRowIndent(t){this.z.rowIndent!==t&&(e.s(t,"number",Oi,"alternateRowIndent"),t>=0&&(this.z.rowIndent=t,this.invalidateLayout()))}get alternateCommentSpacing(){return this.z.commentSpacing}set alternateCommentSpacing(t){this.z.commentSpacing!==t&&(e.s(t,"number",Oi,"alternateCommentSpacing"),this.z.commentSpacing=t,this.invalidateLayout())}get alternateCommentMargin(){return this.z.commentMargin}set alternateCommentMargin(t){this.z.commentMargin!==t&&(e.s(t,"number",Oi,"alternateCommentMargin"),this.z.commentMargin=t,this.invalidateLayout())}get alternateSetsPortSpot(){return this.z.setsPortSpot}set alternateSetsPortSpot(t){this.z.setsPortSpot!==t&&(e.s(t,"boolean",Oi,"alternateSetsPortSpot"),this.z.setsPortSpot=t,this.invalidateLayout())}get alternatePortSpot(){return this.z.portSpot}set alternatePortSpot(t){this.z.portSpot.equals(t)||(this.z.portSpot=t,this.invalidateLayout())}get alternateSetsChildPortSpot(){return this.z.setsChildPortSpot}set alternateSetsChildPortSpot(t){this.z.setsChildPortSpot!==t&&(e.s(t,"boolean",Oi,"alternateSetsChildPortSpot"),this.z.setsChildPortSpot=t,this.invalidateLayout())}get alternateChildPortSpot(){return this.z.childPortSpot}set alternateChildPortSpot(t){this.z.childPortSpot.equals(t)||(this.z.childPortSpot=t,this.invalidateLayout())}static PathDefault=0;static PathDestination=1;static PathSource=2;static SortingForwards=10;static SortingReverse=11;static SortingAscending=12;static SortingDescending=13;static AlignmentCenterSubtrees=20;static AlignmentCenterChildren=21;static AlignmentStart=22;static AlignmentEnd=23;static AlignmentBus=24;static AlignmentBusBranching=25;static AlignmentTopLeftBus=26;static AlignmentBottomRightBus=27;static CompactionNone=30;static CompactionBlock=31;static StyleLayered=40;static StyleLastParents=41;static StyleAlternating=42;static StyleRootOnly=43;static ArrangementVertical=50;static ArrangementHorizontal=51;static ArrangementFixedRoots=52;static LayerIndividual=60;static LayerSiblings=61;static LayerUniform=62}class Fi extends Be{constructor(t){super(t)}createVertex(){return new Ri(this)}createEdge(){return new Ei(this)}}class Ri extends ze{B;yt;ft;gk;mk;pk;yk;wk;xk;bk;Oe;Fg;Rg;xe;be;Ht;fi;$y;Zy;Qy;As;_y;tw;iw;ew;sw;nw;ow;rw;lw;hw;aw;constructor(t){super(t),this.gk=!1,this.mk=null,this.pk=[],this.yk=0,this.wk=0,this.xk=0,this.bk=0,this.Oe=null,this.B=new y(0,0),this.yt=new _(0,0),this.ft=new y(0,0),this.Fg=null,this.Rg=null,this.xe=10,this.be=ze.standardComparer,this.Ht=0,this.fi=21,this.$y=0,this.Zy=0,this.Qy=20,this.As=50,this._y=0,this.tw=31,this.iw=0,this.ew=25,this.sw=10,this.nw=10,this.ow=20,this.rw=!0,this.lw=x.Default,this.hw=!0,this.aw=x.Default}copyInheritedPropertiesFrom(t){null!==t&&(this.xe=t.sorting,this.be=t.comparer,this.Ht=t.angle,this.fi=t.alignment,this.$y=t.nodeIndent,this.Zy=t.nodeIndentPastParent,this.Qy=t.nodeSpacing,this.As=t.layerSpacing,this._y=t.layerSpacingParentOverlap,this.tw=t.compaction,this.iw=t.breadthLimit,this.ew=t.rowSpacing,this.sw=t.rowIndent,this.nw=t.commentSpacing,this.ow=t.commentMargin,this.rw=t.setsPortSpot,this.lw=t.portSpot,this.hw=t.setsChildPortSpot,this.aw=t.childPortSpot)}get initialized(){return this.gk}set initialized(t){this.gk!==t&&(e.s(t,"boolean",Ri,"initialized"),this.gk=t)}get parent(){return this.mk}set parent(t){this.mk!==t&&(this.mk=t)}get children(){return this.pk}set children(t){if(this.pk!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",Ri,"children:value"),null!==t){const e=t.length;for(let i=0;i<e;i++){t[i]}}this.pk=t}}get level(){return this.yk}set level(t){this.yk!==t&&(e.s(t,"number",Ri,"level"),this.yk=t)}get descendantCount(){return this.wk}set descendantCount(t){this.wk!==t&&(e.s(t,"number",Ri,"descendantCount"),this.wk=t)}get maxChildrenCount(){return this.xk}set maxChildrenCount(t){this.xk!==t&&(e.s(t,"number",Ri,"maxChildrenCount"),this.xk=t)}get maxGenerationCount(){return this.bk}set maxGenerationCount(t){this.bk!==t&&(e.s(t,"number",Ri,"maxGenerationCount"),this.bk=t)}get comments(){return this.Oe}set comments(t){if(this.Oe!==t){if(null!==t&&!Array.isArray(t)&&e.te(t,"Array",Ri,"comments:value"),null!==t){const e=t.length;for(let i=0;i<e;i++){t[i]}}this.Oe=t}}get sorting(){return this.xe}set sorting(t){this.xe!==t&&(this.xe=t)}get comparer(){return this.be}set comparer(t){this.be!==t&&(e.S(t,Ri,"comparer"),this.be=t)}get angle(){return this.Ht}set angle(t){this.Ht!==t&&(e.s(t,"number",Ri,"angle"),this.Ht=t)}get alignment(){return this.fi}set alignment(t){this.fi!==t&&(this.fi=t)}get nodeIndent(){return this.$y}set nodeIndent(t){this.$y!==t&&(e.s(t,"number",Ri,"nodeIndent"),this.$y=t)}get nodeIndentPastParent(){return this.Zy}set nodeIndentPastParent(t){this.Zy!==t&&(e.s(t,"number",Ri,"nodeIndentPastParent"),this.Zy=t)}get nodeSpacing(){return this.Qy}set nodeSpacing(t){this.Qy!==t&&(e.s(t,"number",Ri,"nodeSpacing"),this.Qy=t)}get layerSpacing(){return this.As}set layerSpacing(t){this.As!==t&&(e.s(t,"number",Ri,"layerSpacing"),this.As=t)}get layerSpacingParentOverlap(){return this._y}set layerSpacingParentOverlap(t){this._y!==t&&(e.s(t,"number",Ri,"layerSpacingParentOverlap"),this._y=t)}get compaction(){return this.tw}set compaction(t){this.tw!==t&&(this.tw=t)}get breadthLimit(){return this.iw}set breadthLimit(t){this.iw!==t&&(e.s(t,"number",Ri,"breadthLimit"),this.iw=t)}get rowSpacing(){return this.ew}set rowSpacing(t){this.ew!==t&&(e.s(t,"number",Ri,"rowSpacing"),this.ew=t)}get rowIndent(){return this.sw}set rowIndent(t){this.sw!==t&&(e.s(t,"number",Ri,"rowIndent"),this.sw=t)}get commentSpacing(){return this.nw}set commentSpacing(t){this.nw!==t&&(e.s(t,"number",Ri,"commentSpacing"),this.nw=t)}get commentMargin(){return this.ow}set commentMargin(t){this.ow!==t&&(e.s(t,"number",Ri,"commentMargin"),this.ow=t)}get setsPortSpot(){return this.rw}set setsPortSpot(t){this.rw!==t&&(e.s(t,"boolean",Ri,"setsPortSpot"),this.rw=t)}get portSpot(){return this.lw}set portSpot(t){this.lw.equals(t)||(this.lw=t)}get setsChildPortSpot(){return this.hw}set setsChildPortSpot(t){this.hw!==t&&(e.s(t,"boolean",Ri,"setsChildPortSpot"),this.hw=t)}get childPortSpot(){return this.aw}set childPortSpot(t){this.aw.equals(t)||(this.aw=t)}get childrenCount(){return this.children.length}get relativePosition(){return this.B}set relativePosition(t){this.B.set(t)}get subtreeSize(){return this.yt}set subtreeSize(t){this.yt.set(t)}get subtreeOffset(){return this.ft}set subtreeOffset(t){this.ft.set(t)}}class Ei extends Ve{kk;constructor(t){super(t),this.kk=new y(0,0)}commit(){const t=this.link;if(null===t||t.isAvoiding)return;const i=this.network.layout;let n=null,s=null;switch(i.cs){case 1:n=this.fromVertex,s=this.toVertex;break;case 2:n=this.toVertex,s=this.fromVertex;break;default:e.o("Unhandled path value "+i.cs.toString())}if(null===n||null===s)return;const r=this.kk;if(0===r.x&&0===r.y)return void this.eE(n,s);const o=n.bounds,a=i.orthoAngle(n),l=i.computeLayerSpacing(n),h=n.rowSpacing;t.updateRoute();const u=9===t.curve,c=t.isOrthogonal;let d,f,m=0;if(t.startRoute(),c||u){for(m=2;t.pointsCount>4;)t.removePoint(2);d=t.getPoint(1),f=t.getPoint(2)}else{for(m=1;t.pointsCount>3;)t.removePoint(1);d=t.getPoint(0),f=t.getPoint(t.pointsCount-1)}const g=t.getPoint(t.pointsCount-1);let p=0;0===a?(23===n.alignment?(p=o.bottom+r.y,0===r.y&&d.y>g.y+n.rowIndent&&(p=Math.min(p,Math.max(d.y,p-i.computeNodeIndent(n))))):22===n.alignment?(p=o.top+r.y,0===r.y&&d.y<g.y-n.rowIndent&&(p=Math.max(p,Math.min(d.y,p+i.computeNodeIndent(n))))):p=o.y+o.height/2+r.y,u?(t.insertPointAt(m,d.x,p),m++,t.insertPointAt(m,o.right+l,p),m++,t.insertPointAt(m,o.right+l+(r.x-h)/3,p),m++,t.insertPointAt(m,o.right+l+2*(r.x-h)/3,p),m++,t.insertPointAt(m,o.right+l+(r.x-h),p),m++,t.insertPointAt(m,f.x,p),m++):(c&&(t.insertPointAt(m,o.right+l/2,d.y),m++),t.insertPointAt(m,o.right+l/2,p),m++,t.insertPointAt(m,o.right+l+r.x-(c?h/2:h),p),m++,c&&(t.insertPointAt(m,t.getPoint(m-1).x,f.y),m++))):90===a?(23===n.alignment?(p=o.right+r.x,0===r.x&&d.x>g.x+n.rowIndent&&(p=Math.min(p,Math.max(d.x,p-i.computeNodeIndent(n))))):22===n.alignment?(p=o.left+r.x,0===r.x&&d.x<g.x-n.rowIndent&&(p=Math.max(p,Math.min(d.x,p+i.computeNodeIndent(n))))):p=o.x+o.width/2+r.x,u?(t.insertPointAt(m,p,d.y),m++,t.insertPointAt(m,p,o.bottom+l),m++,t.insertPointAt(m,p,o.bottom+l+(r.y-h)/3),m++,t.insertPointAt(m,p,o.bottom+l+2*(r.y-h)/3),m++,t.insertPointAt(m,p,o.bottom+l+(r.y-h)),m++,t.insertPointAt(m,p,f.y),m++):(c&&(t.insertPointAt(m,d.x,o.bottom+l/2),m++),t.insertPointAt(m,p,o.bottom+l/2),m++,t.insertPointAt(m,p,o.bottom+l+r.y-(c?h/2:h)),m++,c&&(t.insertPointAt(m,f.x,t.getPoint(m-1).y),m++))):180===a?(23===n.alignment?(p=o.bottom+r.y,0===r.y&&d.y>g.y+n.rowIndent&&(p=Math.min(p,Math.max(d.y,p-i.computeNodeIndent(n))))):22===n.alignment?(p=o.top+r.y,0===r.y&&d.y<g.y-n.rowIndent&&(p=Math.max(p,Math.min(d.y,p+i.computeNodeIndent(n))))):p=o.y+o.height/2+r.y,u?(t.insertPointAt(m,d.x,p),m++,t.insertPointAt(m,o.left-l,p),m++,t.insertPointAt(m,o.left-l+(r.x+h)/3,p),m++,t.insertPointAt(m,o.left-l+2*(r.x+h)/3,p),m++,t.insertPointAt(m,o.left-l+(r.x+h),p),m++,t.insertPointAt(m,f.x,p),m++):(c&&(t.insertPointAt(m,o.left-l/2,d.y),m++),t.insertPointAt(m,o.left-l/2,p),m++,t.insertPointAt(m,o.left-l+r.x+(c?h/2:h),p),m++,c&&(t.insertPointAt(m,t.getPoint(m-1).x,f.y),m++))):270===a?(23===n.alignment?(p=o.right+r.x,0===r.x&&d.x>g.x+n.rowIndent&&(p=Math.min(p,Math.max(d.x,p-i.computeNodeIndent(n))))):22===n.alignment?(p=o.left+r.x,0===r.x&&d.x<g.x-n.rowIndent&&(p=Math.max(p,Math.min(d.x,p+i.computeNodeIndent(n))))):p=o.x+o.width/2+r.x,u?(t.insertPointAt(m,p,d.y),m++,t.insertPointAt(m,p,o.top-l),m++,t.insertPointAt(m,p,o.top-l+(r.y+h)/3),m++,t.insertPointAt(m,p,o.top-l+2*(r.y+h)/3),m++,t.insertPointAt(m,p,o.top-l+(r.y+h)),m++,t.insertPointAt(m,p,f.y),m++):(c&&(t.insertPointAt(m,d.x,o.top-l/2),m++),t.insertPointAt(m,p,o.top-l/2),m++,t.insertPointAt(m,p,o.top-l+r.y+(c?h/2:h)),m++,c&&(t.insertPointAt(m,f.x,t.getPoint(m-1).y),m++))):e.o("Invalid angle "+a),t.commitRoute()}eE(t,e){const i=this.link;if(null===i)return;const n=this.network.layout,s=n.orthoAngle(t),r=n.orthoAngle(e);if(s===r)return;const o=n.computeLayerSpacing(t),a=t.bounds,l=e.bounds;if(0===s&&l.left-a.right<o+1||90===s&&l.top-a.bottom<o+1||180===s&&a.left-l.right<o+1||270===s&&a.top-l.bottom<o+1)return;i.updateRoute();const h=9===i.curve,u=i.isOrthogonal,c=this.fromVertex,d=n.isBusAlignment(c.alignment);if(i.startRoute(),0===s){const t=a.right+o/2;if(h){if(4===i.pointsCount){const e=i.getPoint(3).y;i.setPointAt(1,t-20,i.getPoint(1).y),i.insertPointAt(2,t-20,e),i.insertPointAt(3,t,e),i.insertPointAt(4,t+20,e),i.setPointAt(5,i.getPoint(5).x,e)}}else u?d?i.setPointAt(3,i.getPoint(2).x,i.getPoint(4).y):6===i.pointsCount&&(i.setPointAt(2,t,i.getPoint(2).y),i.setPointAt(3,t,i.getPoint(3).y)):4===i.pointsCount?i.insertPointAt(2,t,i.getPoint(2).y):3===i.pointsCount?i.setPointAt(1,t,i.getPoint(2).y):2===i.pointsCount&&i.insertPointAt(1,t,i.getPoint(1).y)}else if(90===s){const t=a.bottom+o/2;if(h){if(4===i.pointsCount){const e=i.getPoint(3).x;i.setPointAt(1,i.getPoint(1).x,t-20),i.insertPointAt(2,e,t-20),i.insertPointAt(3,e,t),i.insertPointAt(4,e,t+20),i.setPointAt(5,e,i.getPoint(5).y)}}else u?d?i.setPointAt(3,i.getPoint(2).x,i.getPoint(4).y):6===i.pointsCount&&(i.setPointAt(2,i.getPoint(2).x,t),i.setPointAt(3,i.getPoint(3).x,t)):4===i.pointsCount?i.insertPointAt(2,i.getPoint(2).x,t):3===i.pointsCount?i.setPointAt(1,i.getPoint(2).x,t):2===i.pointsCount&&i.insertPointAt(1,i.getPoint(1).x,t)}else if(180===s){const t=a.left-o/2;if(h){if(4===i.pointsCount){const e=i.getPoint(3).y;i.setPointAt(1,t+20,i.getPoint(1).y),i.insertPointAt(2,t+20,e),i.insertPointAt(3,t,e),i.insertPointAt(4,t-20,e),i.setPointAt(5,i.getPoint(5).x,e)}}else u?d?i.setPointAt(3,i.getPoint(2).x,i.getPoint(4).y):6===i.pointsCount&&(i.setPointAt(2,t,i.getPoint(2).y),i.setPointAt(3,t,i.getPoint(3).y)):4===i.pointsCount?i.insertPointAt(2,t,i.getPoint(2).y):3===i.pointsCount?i.setPointAt(1,t,i.getPoint(2).y):2===i.pointsCount&&i.insertPointAt(1,t,i.getPoint(1).y)}else if(270===s){const t=a.top-o/2;if(h){if(4===i.pointsCount){const e=i.getPoint(3).x;i.setPointAt(1,i.getPoint(1).x,t+20),i.insertPointAt(2,e,t+20),i.insertPointAt(3,e,t),i.insertPointAt(4,e,t-20),i.setPointAt(5,e,i.getPoint(5).y)}}else u?d?i.setPointAt(3,i.getPoint(2).x,i.getPoint(4).y):6===i.pointsCount&&(i.setPointAt(2,i.getPoint(2).x,t),i.setPointAt(3,i.getPoint(3).x,t)):4===i.pointsCount?i.insertPointAt(2,i.getPoint(2).x,t):3===i.pointsCount?i.setPointAt(1,i.getPoint(2).x,t):2===i.pointsCount&&i.insertPointAt(1,i.getPoint(1).x,t)}i.commitRoute()}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}get relativePoint(){return this.kk}set relativePoint(t){this.kk.set(t)}}class Ii{constructor(){}static Light={colors:{text:"#0a0a0a",comment:"#ca8a04",link:"#0a0a0a",group:"#a3a3a344",outline:"#a3a3a3",selection:"#0ea5e9",div:"#fff",gridMinor:"#e5e5e5",gridMajor:"#a3a3a3",overviewBox:"#c026d3",tempLink:"#2563eb",tempPort:"#c026d3",adornmentFill:"#0ea5e9",adornmentStroke:"#1e40af",dragSelect:"#c026d3"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new b(5)},arrowheads:{toArrow:"Standard"}};static Dark={colors:{text:"#f5f5f5",comment:"#facc15",link:"#f5f5f5",group:"#a3a3a388",outline:"#a3a3a3",selection:"#38bdf8",div:"#171717",gridMinor:"#262626",gridMajor:"#404040",overviewBox:"#e879f9",tempLink:"#60a5fa",tempPort:"#e879f9",adornmentFill:"#38bdf8",adornmentStroke:"#2563eb",dragSelect:"#e879f9"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new b(5)},arrowheads:{toArrow:"Standard"}}}class ji{ss=new Set;ru=new p;Pk="light";Sk="light";Mk=!1;vg="light";VD=t=>{const e=t.matches?"dark":"light";e!==this.vg&&(this.vg=e,"system"===this.Sk&&this.cw())};constructor(e){e&&Object.assign(this,e),e?.themeMap||(this.ru.set("light",{colors:{...Ii.Light.colors},fonts:{...Ii.Light.fonts},numbers:{...Ii.Light.numbers},margins:{...Ii.Light.margins},arrowheads:{...Ii.Light.arrowheads}}),this.ru.set("dark",{colors:{...Ii.Dark.colors},fonts:{...Ii.Dark.fonts},numbers:{...Ii.Dark.numbers},margins:{...Ii.Dark.margins},arrowheads:{...Ii.Dark.arrowheads}})),t.matchMedia&&(this.vg=t.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get themeMap(){return this.ru}set themeMap(t){this.ru!==t&&(this.ru=t,this.cw())}get defaultTheme(){return this.Pk}set defaultTheme(t){this.Pk!==t&&(e.s(t,"string",ji,"defaultTheme"),this.Pk=t,this.cw())}get currentTheme(){return this.Sk}set currentTheme(t){this.Sk!==t&&(e.s(t,"string",ji,"currentTheme"),this.Sk=t,this.cw())}get changesDivBackground(){return this.Mk}set changesDivBackground(t){if(this.Mk!==t&&(this.Mk=t,t))for(const e of this.ss)e.setDivBackground(this.findValue("div","","fill")),e.v("ThemeChanged",this)}get preferredColorScheme(){return this.vg}addDiagram(t){return this.ss.add(t),this.sC(t),this}removeDiagram(t){return this.ss.delete(t),this.sC(t),this}iR(){0===this.ss.size&&t.matchMedia&&t.matchMedia("(prefers-color-scheme: dark)")?.addEventListener("change",this.VD)}eR(){0===this.ss.size&&t.matchMedia&&t.matchMedia("(prefers-color-scheme: dark)")?.removeEventListener("change",this.VD)}set(t,e){""===t&&(t=this.Pk),"system"===t&&(t=this.vg);let i=this.ru.get(t);return i=i?this.zD(i,e):e,this.ru.set(t,i),this.cw(),this}findValue(t,e,i){return this.getValue(this.findTheme(this.currentTheme),t,e,i)||this.getValue(this.findTheme(this.defaultTheme),t,e,i)}getValue(t,e,i,n){if(!t)return;null==i&&(i="");let s=t;const r=t=>{if(void 0===s||""===t)return;if("number"==typeof t||!Array.isArray(t)&&!t.includes("."))return s[t];const e=Array.isArray(t)?t:t.split(".");for(let i=0;i<e.length;i++){const t=e[i];if(""!==t&&(s=s[t],void 0===s))return}return s},o=()=>{if(""===i||(s=r(i),void 0!==s))return s=Array.isArray(s)&&"number"==typeof e?s[e%s.length]:r(e),s};if(s=o(),void 0===s&&"string"==typeof n&&n.length>0){let e=t.targetPropertyMap?.get(n);if(e?s=t[e]:(e=ji.sE.get(n),s=e?t[e]:t.colors),s=o(),void 0!==s)return s}return s}findTheme(t){return this.themeMap.get("system"===t?this.vg:t)}sC(t){const e=t.skipsUndoManager;t.skipsUndoManager=!0,t.updateAllThemeBindings(),this.Mk&&t.setDivBackground(this.findValue("div","","fill")),t.skipsUndoManager=e,t.v("ThemeChanged",this)}cw(){for(const t of this.ss)this.sC(t)}zD(t,i){for(const n in i)if(e.fw(i,n))try{i[n].constructor===Object?t[n]=this.zD(t[n]??{},i[n]):t[n]=i[n]}catch{delete t[n]}return t}static sE=new Map([["background","colors"],["defaultColumnSeparatorStroke","colors"],["defaultRowSeparatorStroke","colors"],["shadowColor","colors"],["fill","colors"],["stroke","colors"],["font","fonts"],["angle","numbers"],["fromEndSegmentLength","numbers"],["fromShortLength","numbers"],["height","numbers"],["opacity","numbers"],["scale","numbers"],["toEndSegmentLength","numbers"],["toShortLength","numbers"],["width","numbers"],["defaultColumnSeparatorStrokeWidth","numbers"],["defaultRowSeparatorStrokeWidth","numbers"],["shadowBlur","numbers"],["corner","numbers"],["curviness","numbers"],["smoothness","numbers"],["parameter1","numbers"],["parameter2","numbers"],["strokeWidth","numbers"],["strokeDashOffset","numbers"],["maxLines","numbers"],["spacingAbove","numbers"],["spacingBelow","numbers"],["position","points"],["shadowOffset","points"],["desiredSize","sizes"],["maxSize","sizes"],["minSize","sizes"],["margin","margins"],["defaultSeparatorPadding","margins"],["padding","margins"],["alignment","spots"],["alignmentFocus","spots"],["fromSpot","spots"],["toSpot","spots"],["defaultAlignment","spots"],["spot1","spots"],["spot2","spots"],["verticalAlignment","spots"],["imageAlignment","spots"],["fromArrow","arrowheads"],["toArrow","arrowheads"]])}class Hi{Nt;L;Bi;yl;constructor(){this.L=_t.ym(),this.Nt="",this.Bi=!0,this.yl=!0}get name(){return this.Nt}set name(t){this.Nt=t}get isEnabled(){return this.Bi}set isEnabled(t){this.Bi=t}get isRealtime(){return this.yl}set isRealtime(t){this.yl=t}get diagram(){return this.L}set diagram(t){this.L!==t&&(this.L=t,t.Cl=!0,t.requestUpdate())}invalidateRouter(){null!==this.L&&(this.L.Cl=!0,this.L.requestUpdate())}canRoute(t){if(!this.isEnabled)return!1;const e=this.diagram;return!(e&&(!this.isRealtime&&e.xu||e.animationManager.isTicking))}routeLinks(t,e){}toString(){return""!==this.name?this.name+" Router":e.Vn(this.constructor)}}class Bi extends Hi{constructor(t){super(),this.name="AvoidsNodes",t&&Object.assign(this,t)}canRoute(t){return!!(t instanceof _t?t.Gm:t.diagram.Gm)&&super.canRoute(t)}routeLinks(t,e){const i=e instanceof _t?null:e,n=t.iterator,s=this.diagram.getPositions(!0,i,null);for(;n.next();){const t=n.value;if(!t.isAvoiding||t.containingGroup!==i||null===t.toNode||null===t.fromNode||t.pointsCount<4)continue;t.startRoute();const e=t.pointsCount,r=t.getPoint(1),o=t.getPoint(e-2),a=t.fromNode.actualBounds.copy();a.inflate(Ce.Ya,Ce.Ya),a.unionPoint(t.getPoint(0));const l=t.toNode.actualBounds.copy();l.inflate(Ce.Ya,Ce.Ya),l.unionPoint(t.getPoint(e-1)),this.nE(t,a,l,s)&&this.oE(t,r,t.rN,o,t.lN,a,l,s),t.commitRoute()}}nE(t,e,i,n){const s=t.diagram,r=t.pointsCount;if(null===s||t.fromNode===t.toNode||t.layer.isTemporary||e.containsPoint(t.getPoint(r-1))&&!t.toNode.isMemberOf(t.fromNode)||i.containsPoint(t.getPoint(0))&&!t.fromNode.isMemberOf(t.toNode)||!t.isOrthogonal)return!1;if(17===t.segmentIndex)return!0;const o=t.getPoint(1),a=t.getPoint(r-2),l=t.getPoint(2);if(!n.isUnoccupied(Math.min(o.x,l.x),Math.min(o.y,l.y),Math.abs(o.x-l.x),Math.abs(o.y-l.y)))return!0;for(let u=2;u<r-3;u++){const e=t.getPoint(u),i=t.getPoint(u+1);if(!n.isUnoccupied(Math.min(e.x,i.x),Math.min(e.y,i.y),Math.abs(e.x-i.x),Math.abs(e.y-i.y)))return!0}const h=t.getPoint(r-3);return!n.isUnoccupied(Math.min(h.x,a.x),Math.min(h.y,a.y),Math.abs(h.x-a.x),Math.abs(h.y-a.y))}oE(t,e,i,n,s,r,o,a){const l=t.diagram,h=e,u=n;let c=null,d=null;if(l.isVirtualized){const r=a.bounds.copy(),o=t.getPoint(2),l=t.getPoint(t.pointsCount-3);r.inflate(-a.cellWidth,-a.cellHeight);const h=y.l();a.Ud(e.x,e.y)||(w.kl(r.x,r.y,r.x+r.width,r.y+r.height,e.x,e.y,o.x,o.y,h)?(c=e=h.copy(),i=h.directionPoint(o)):w.kl(r.x,r.y,r.x+r.width,r.y+r.height,o.x,o.y,l.x,l.y,h)?(c=e=h.copy(),i=h.directionPoint(l)):w.kl(r.x,r.y,r.x+r.width,r.y+r.height,l.x,l.y,n.x,n.y,h)&&(c=e=h.copy(),i=h.directionPoint(n))),a.Ud(n.x,n.y)||(w.kl(r.x,r.y,r.x+r.width,r.y+r.height,n.x,n.y,l.x,l.y,h)?(d=n=h.copy(),s=l.directionPoint(h)):w.kl(r.x,r.y,r.x+r.width,r.y+r.height,l.x,l.y,o.x,o.y,h)?(d=n=h.copy(),s=o.directionPoint(h)):w.kl(r.x,r.y,r.x+r.width,r.y+r.height,o.x,o.y,e.x,e.y,h)&&(d=n=h.copy(),s=e.directionPoint(h))),y.e(h)}const f=r.copy().unionRect(o);f.inflate(a.cellWidth*a.Wc,a.cellHeight*a.Wc),a.xT(e,i,n,s,f,!0);let m=a.po(n.x,n.y);if(!a.by&&m>=Ae.Bd&&(a.tA(),f.inflate(a.cellWidth*a.VM,a.cellHeight*a.zM),a.xT(e,i,n,s,f,!1),m=a.po(n.x,n.y)),!a.by&&m<Ae.Bd&&!a.SO(n.x,n.y)){t.points.removeRange(2,t.pointsCount-3),this.nC(t,a,n.x,n.y,s,!0);const r=0,o=90,l=180,f=270,m=t.getPoint(2);if(t.pointsCount<4)i===r||i===l?(m.x=e.x,m.y=n.y):(m.x=n.x,m.y=e.y),t.setPointAt(2,m.x,m.y),t.insertPointAt(3,m.x,m.y);else{const n=t.getPoint(3);if(i===r||i===l)if(w.f(m.x,n.x)){const s=i===r?Math.max(m.x,e.x):Math.min(m.x,e.x);t.setPointAt(2,s,e.y),t.setPointAt(3,s,n.y)}else w.f(m.y,n.y)?(Math.abs(e.y-m.y)<=a.cellHeight/2&&(t.setPointAt(2,m.x,e.y),t.setPointAt(3,n.x,e.y)),t.insertPointAt(2,m.x,e.y)):t.setPointAt(2,e.x,m.y);else if(i===o||i===f)if(w.f(m.y,n.y)){const s=i===o?Math.max(m.y,e.y):Math.min(m.y,e.y);t.setPointAt(2,e.x,s),t.setPointAt(3,n.x,s)}else w.f(m.x,n.x)?(Math.abs(e.x-m.x)<=a.cellWidth/2&&(t.setPointAt(2,e.x,m.y),t.setPointAt(3,e.x,n.y)),t.insertPointAt(2,e.x,m.y)):t.setPointAt(2,m.x,e.y)}if(null!==c){const e=t.getPoint(1),n=t.getPoint(2);e.x!==n.x&&e.y!==n.y?i===r||i===l?t.insertPointAt(2,e.x,n.y):t.insertPointAt(2,n.x,e.y):i===r||i===l?t.insertPointAt(2,h.x,c.y):t.insertPointAt(2,c.x,h.y)}null!==d&&(s===r||s===l?t.insertPointAt(t.pointsCount-2,u.x,d.y):t.insertPointAt(t.pointsCount-2,d.x,u.y))}}nC(t,e,i,n,s,r){const o=e.cellWidth,a=e.cellHeight;let l=e.po(i,n),h=i,u=n,c=h,d=u;for(0===s?c+=o:90===s?d+=a:180===s?c-=o:d-=a,t.cN&&l>Ae.ja&&e.po(c,d)!==l-1&&(e.po(h-o,u)===l-1?(s=180,c=h-o,d=u):e.po(h+o,u)===l-1?(s=0,c=h+o,d=u):e.po(h,u-a)===l-1?(s=270,c=h,d=u-a):e.po(h,u+a)===l-1&&(s=90,c=h,d=u+a));l>Ae.ja&&e.po(c,d)===l-1;)h=c,u=d,0===s?c+=o:90===s?d+=a:180===s?c-=o:d-=a,l-=1;if(r?l>Ae.ja&&(180===s||0===s?h=Math.floor(h/o)*o+o/2:(90===s||270===s)&&(u=Math.floor(u/a)*a+a/2)):(h=Math.floor(h/o)*o+o/2,u=Math.floor(u/a)*a+a/2),l>Ae.ja){let i=s,n=h,r=u;if(0===s?(i=90,r+=a):90===s?(i=180,n-=o):180===s?(i=270,r-=a):270===s&&(i=0,n+=o),e.po(n,r)===l-1)this.nC(t,e,n,r,i,!1);else{let n=h,r=u;0===s?(i=270,r-=a):90===s?(i=0,n+=o):180===s?(i=90,r+=a):270===s&&(i=180,n-=o),e.po(n,r)===l-1&&this.nC(t,e,n,r,i,!1)}}t.insertPointAt(t.pointsCount-2,h,u)}}j.prototype.initializeStandardTools=function(){this.Qt("Action",new J,this.mouseDownTools),this.Qt("Relinking",new W,this.mouseDownTools),this.Qt("LinkReshaping",new U,this.mouseDownTools),this.Qt("Rotating",new X,this.mouseDownTools),this.Qt("Resizing",new K,this.mouseDownTools),this.Qt("Linking",new V,this.mouseMoveTools),this.Qt("Dragging",new H,this.mouseMoveTools),this.Qt("DragSelecting",new Z,this.mouseMoveTools),this.Qt("Panning",new Q,this.mouseMoveTools),this.Qt("ContextMenu",new it,this.mouseUpTools),this.Qt("TextEditing",new ot,this.mouseUpTools),this.Qt("ClickCreating",new $,this.mouseUpTools),this.Qt("ClickSelecting",new q,this.mouseUpTools)},_t.xM("GraphLinksModel",qe),_t.xM("TreeModel",Je);const zi=t.go,Vi={get version(){return _t.version},Group:Ie,List:l,Set:u,Map:p,Point:y,Size:_,Rect:v,Margin:b,Spot:x,Geometry:S,PathFigure:T,PathSegment:P,InputEvent:Y,DiagramEvent:C,ChangedEvent:A,Model:ti,GraphLinksModel:ei,TreeModel:ii,Binding:Ze,ThemeBinding:Qe,Transaction:O,UndoManager:F,CommandHandler:St,Tool:R,DraggingTool:H,DraggingInfo:bt,DraggingOptions:Mt,LinkingBaseTool:B,LinkingTool:V,RelinkingTool:W,LinkReshapingTool:U,ResizingTool:K,RotatingTool:X,ClickSelectingTool:q,ActionTool:J,ClickCreatingTool:$,HTMLInfo:tt,ContextMenuTool:it,DragSelectingTool:Z,PanningTool:Q,TextEditingTool:ot,ToolManager:j,Animation:ht,AnimationManager:lt,AnimationTrigger:dt,Layer:ft,Diagram:_t,Palette:wt,Overview:kt,Brush:Bt,GraphObject:Yt,Panel:ie,RowColumnDefinition:ae,Shape:le,TextBlock:fe,Picture:ye,Part:Me,Adornment:ke,Node:Se,Link:Ce,Placeholder:je,Layout:He,LayoutNetwork:Be,LayoutVertex:ze,LayoutEdge:Ve,GridLayout:Ke,PanelLayout:zt,CircularLayout:ai,CircularNetwork:hi,CircularVertex:ui,CircularEdge:ci,ForceDirectedLayout:di,ForceDirectedNetwork:fi,ForceDirectedVertex:mi,ForceDirectedEdge:gi,LayeredDigraphLayout:wi,LayeredDigraphNetwork:ki,LayeredDigraphVertex:Li,LayeredDigraphEdge:Si,TreeLayout:Oi,TreeNetwork:Fi,TreeVertex:Ri,TreeEdge:Ei,Themes:Ii,ThemeManager:ji,Router:Hi,AnimationStyle:at,AutoScale:mt,CycleMode:gt,Flip:Pt,TextFormat:de,ImageStretch:pe,LayoutConditions:xe,LinkAdjusting:De,Curve:Ye,Routing:Pe,Orientation:Dt,TextOverflow:ce,PortSpreading:Le,ScrollMode:pt,CollapsePolicy:yt,Sizing:oe,TriggerStart:ct,Stretch:Tt,ViewboxStretch:ee,Wrap:ue,BrushType:It,ColorSpace:jt,GeometryStretch:L,GeometryType:k,SegmentType:D,BindingMode:$e,ChangeType:N,CircularArrangement:ni,CircularDirection:si,CircularNodeDiameterFormula:oi,CircularSorting:ri,GridAlignment:We,GridArrangement:Ge,GridSorting:Ue,LayeredDigraphAggressive:bi,LayeredDigraphAlign:Mi,LayeredDigraphCycleRemove:yi,LayeredDigraphInit:vi,LayeredDigraphLayering:_i,LayeredDigraphPack:xi,TreeAlignment:Pi,TreeArrangement:Ni,TreeCompaction:Yi,TreeLayerStyle:Ai,TreePath:Ti,TreeSorting:Di,TreeStyle:Ci,GestureMode:I,LinkingDirection:z,ReshapingBehavior:G,TextEditingAccept:nt,TextEditingStarting:st,TextEditingState:rt,WheelMode:E};for(const Wi in Vi){const t=Vi[Wi];e.ot(t)&&t!==de&&(t.className=Wi)}e.H(zi)&&zi.version&&e.li("WARNING: a `go` object on the root object is already defined.  "+("Debug"in zi?"debug ":"")+"version: "+zi.version+", replaced with version: "+Vi.version),_t.prototype.go=Vi,t.go=Vi}();"undefined"!==typeof global?global.go:self.go;const n="undefined"!==typeof global?global.go:self.go,s=(n.Group,n.List),r=(n.Set,n.Map,n.Point),o=(n.Size,n.Rect,n.Margin,n.Spot),a=n.Geometry,l=(n.PathFigure,n.PathSegment,n.InputEvent,n.DiagramEvent,n.ChangedEvent,n.Model),h=(n.GraphLinksModel,n.TreeModel,n.Binding,n.ThemeBinding,n.Transaction,n.UndoManager,n.CommandHandler,n.Tool,n.DraggingTool,n.DraggingInfo,n.DraggingOptions,n.LinkingBaseTool,n.LinkingTool,n.RelinkingTool,n.LinkReshapingTool,n.ResizingTool,n.RotatingTool,n.ClickSelectingTool,n.ActionTool,n.ClickCreatingTool,n.HTMLInfo,n.ContextMenuTool,n.DragSelectingTool,n.PanningTool,n.TextEditingTool,n.ToolManager,n.Animation,n.AnimationManager,n.AnimationTrigger,n.Layer,n.Diagram),u=(n.Palette,n.Overview,n.Brush),c=n.GraphObject,d=n.Panel,f=(n.RowColumnDefinition,n.Shape),m=n.TextBlock,g=(n.Picture,n.Part),p=(n.Adornment,n.Node),y=n.Link,_=(n.Placeholder,n.Layout,n.LayoutNetwork,n.LayoutVertex,n.LayoutEdge,n.GridLayout,n.PanelLayout,n.CircularLayout,n.CircularNetwork,n.CircularVertex,n.CircularEdge,n.ForceDirectedLayout),v=(n.ForceDirectedNetwork,n.ForceDirectedVertex,n.ForceDirectedEdge,n.LayeredDigraphLayout,n.LayeredDigraphNetwork,n.LayeredDigraphVertex,n.LayeredDigraphEdge,n.TreeLayout),b=(n.TreeNetwork,n.TreeVertex,n.TreeEdge,n.Themes,n.ThemeManager,n.Router,n.version,n.AnimationStyle,n.AutoScale,n.Curve,n.CycleMode,n.Flip,n.ImageStretch,n.LayoutConditions,n.LinkAdjusting,n.Orientation,n.PortSpreading,n.Routing,n.ScrollMode,n.CollapsePolicy,n.Sizing,n.TriggerStart,n.Stretch),x=(n.TextFormat,n.TextOverflow,n.ViewboxStretch,n.Wrap,n.BrushType,n.ColorSpace,n.GeometryStretch,n.GeometryType,n.SegmentType,n.BindingMode,n.ChangeType,n.CircularArrangement,n.CircularDirection,n.CircularNodeDiameterFormula,n.CircularSorting,n.GridAlignment,n.GridArrangement,n.GridSorting,n.LayeredDigraphAggressive,n.LayeredDigraphAlign,n.LayeredDigraphCycleRemove,n.LayeredDigraphInit,n.LayeredDigraphLayering,n.LayeredDigraphPack,n.TreeAlignment,n.TreeArrangement);n.TreeCompaction,n.TreeLayerStyle,n.TreePath,n.TreeSorting,n.TreeStyle,n.GestureMode,n.LinkingDirection,n.ReshapingBehavior,n.TextEditingAccept,n.TextEditingStarting,n.TextEditingState,n.WheelMode},7198:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function s(t){if(Array.isArray(t))return n(t)}i.d(e,{Z:function(){return l}});i(2526),i(1817),i(1539),i(2165),i(8783),i(3948),i(1038);function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}i(7042),i(9714),i(8309),i(4916),i(7601);function o(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||r(t)||o(t)||a()}}}]);
//# sourceMappingURL=chunk-vendors.1c4c3fa0.js.map